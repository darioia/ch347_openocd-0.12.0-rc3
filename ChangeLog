2022-11-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : The openocd-0.12.0-rc3 release candidate Change-Id: Id7ddf232593e1aa7cb36f2b30fe832ebf79c1535 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2022-12-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: fix build with configure --enable-verbose With flag --enable-verbose, configure enables compiling some
	conditional code that with new gcc triggers an error:         error: '%04x' directive output may be truncated writing         between 4 and 8 bytes into a region of size 5         [-Werror=format-truncation=] Extend the buffer to contain the full 8 bytes of %04x on a 'int' and
	change the limit in snprintf.  Skip the intermediate buffer 's[4]'.
	Align the code to the coding style.  Change-Id: Ifc8a6e4686555578a7355a1f6049471fd5e31913 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Karl Hammar
	<karl@aspodata.se> Reported-by: Tommy Murphy
	<tommy_murphy@hotmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/376/ Reviewed-on:
	https://review.openocd.org/c/openocd/+/7403 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-12-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : driver: vdebug: fix mode of cmd 'vdebug mem_path' The command 'vdebug mem_path' is reported in the documentation as
	'{Config Command}', but the code sets mode = COMMAND_ANY.  The code
	of the commands sets some value that is only used during the init
	phase, so the documentation is correct.  Change mode of command 'vdebug mem_path' to COMMAND_CONFIG.  Change-Id: Icb940fe382cbc75015273b35dcc8a88fc2a7d0ac Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7395 Tested-by: jenkins
	Reviewed-by: Jacek Wuwer <jacekmw8@gmail.com>

2022-12-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix unsigned computation in 'monitor profile' The implementation of command 'monitor profile' has few issues: - the address_space is a signed int, so cannot wrap-around on   space over INT_MAX; - max address is incremented without check for overflow; - assert() used on errors instead of returning error codes; - only handles 32 bits PC; - output file created and left empty on error.  This patch fixes the first two issues, as a wider fix would be too
	invasive and should be postponed in a following series.  Change-Id: Id8ead3f6db0fd5730682a0d1638f11836d06a632 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/370/ Reviewed-on:
	https://review.openocd.org/c/openocd/+/7394 Tested-by: jenkins

2022-12-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: fix SIGSEGV due to failing re-examine Commit 35a503b08d14 ("arm_adi_v5: add ap refcount and add get/put
	around ap use") modifies the examine functions of mem_ap, cortex_m,
	cortex_a and aarch64 by calling dap_put_ap() and then looking again
	for the mem-ap and calling dap_get_ap().  This causes an issue if
	the system is irresponsive and the examine fails and left the AP
	pointer to NULL. If the system was already examined the NULL pointer
	will cause a SIGSEGV.  Commit b6dad912b85d ("target/cortex_m: prevent segmentation fault in
	cortex_m_poll()") proposes a fix for one specific case and only on
	cortex_m.  Modify all the examine functions by skipping look-up for the AP if
	it was already set in a previous examine; the target's AP is not
	supposed to change during runtime.  Remove the partial fix for cortex_m as it is not needed anymore.  Change-Id: I806ec3b1b02fcc76e141c8dd3a65044febbf0a8c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 35a503b08d14
	("arm_adi_v5: add ap refcount and add get/put around ap use")
	Reviewed-on: https://review.openocd.org/c/openocd/+/7392 Tested-by:
	jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-11-29  Karl Palsson <karlp@tweak.net.au>

	* : doc: describe tcl port consistently.  One place described the tcl port as 5555, which was changed in
	163bd86071a Reported on IRC.  Change-Id: If740a29443793d6a4d4f8c9db54f0fc8344a6c1c Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7385 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-18  Koudai Iwahori <koudai@google.com>

	* : hwthread: Restore current_threadid in hwthread_update_threads When OpenOCD receives a step-execution command from GDB and the
	target is configured as rtos=hwthread, OpenOCD reconstructs the
	thread-info.  However, OpenOCD does not restore the thread id which
	is currently selected by GDB. Due to this issue, OpenOCD sends the
	information of wrong thread to GDB after the step execution.  This
	commit fixes the above issue by adding a code to save/restore the
	thread id selected by GDB.  Signed-off-by: Koudai Iwahori <koudai@google.com> Change-Id:
	I761a1141c04d48f1290e4f09baa7c7024f86f36a Reviewed-on:
	https://review.openocd.org/c/openocd/+/7358 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: xds110: fix clang error core.StackAddressEscape Clang ignores that xds110_swd_write_reg() is always called with bit
	SWD_CMD_RNW in 'cmd' set to zero.  It then complains that the local
	variable 'value' gets passed by address to xds110_swd_queue_cmd()
	and in case of 'read request' such stack address get stored for
	        later use: src/jtag/drivers/xds110.c:1363:1: warning: Address of          stack memory associated with local variable 'value' is          still referred to by the global variable 'xds110' upon          returning to the caller. This will be a dangling          reference [core.StackAddressEscape] To both xds110_swd_write_reg() and xds110_swd_read_reg(), add an
	assert() to inform Clang about the state of bit SWD_CMD_RNW.  Change-Id: I7687c055ec71424b642e152f478723a930966e3a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7380 Tested-by: jenkins

2022-11-24  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32lx: Add revision '1, X' for Cat.2 devices Change-Id: I0ff1e2102175ee952b066b325c9acbcb598b3af7 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7378 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-21  Nick Kraus <nick@nckraus.com>

	* : jtag/drivers/cmsis_dap.c: Fix Length of SWO Baudrate Command The command should now send the full 5 byte command length, which
	includes the command tag (0x19) and the 4-byte baudrate word,
	instead of only the last 3 bytes of the baudrate.  Signed-off-by: Nick Kraus <nick@nckraus.com> Change-Id:
	Idd6e084efd7492489aa900cdbf08f540944041cb Reviewed-on:
	https://review.openocd.org/c/openocd/+/7370 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-11-03  Giulio Fieramosca <giulio@glgprograms.it>

	* : rtos/ThreadX: added check for NULL-named tasks Thread name loading was not correctly handled if a ThreadX task has
	a NULL name.  Signed-off-by: Giulio Fieramosca <giulio@glgprograms.it> Change-Id:
	I03071930182bc2585b61ce5d8c67491710883dd6 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7328 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : jep106: update to revision JEP106BF.01 Oct 2022 Change-Id: Ia1f19dcce48da997c036ccffa65e76e179de2eb9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7341 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-10-18  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: prevent saving and restoring non existent regs armv7m_start_algorithm() saves register values to
	arch_info->context.  armv7m_wait_algorithm() restores register
	values from arch_info->context.  Exclude registers with flag exist =
	false from both loops.  While on it refactor the register restore: introduce 'struct reg'
	pointer and dereference it instead of numerous accesses by a full
	path from armv7m pointer.  Change-Id: I1600084db84809ee13bcf8e7828b79f8c9ff9077 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7276 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-05  George Voicu <razvanvg@hotmail.com>

	* : tcl/cpld/xilinx-xcu: fix typo Fix typo in comments Signed-off-by: George Voicu <razvanvg@hotmail.com> Change-Id:
	Icc2d770e73f896e20dd347de324328030544bdb9 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7333 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-11-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos: hwthread: fix clang error core.NullDereference Clang spots a potential NULL pointer dereferencing that is instead
	an incorrect use of an array of pointers:         src/rtos/hwthread.c:254:32: warning: Dereference of null
	          pointer [core.NullDereference]                 (*rtos_reg_list)[j].number = (*reg_list)[i].number;                                              ^~~~~~~~~~~~~~~~~~~~~
	The error has not been spotted before because: - this function is not called for the first core of the SMP node, - for the other cores on Cortex-A it still returns valid register   value for the first 12 ARM registers, then it diverges.  Also Valgrind does not spot any issue at runtime.  Address the array correctly.  While there, use DIV_ROUND_UP() macro for the computation.  Change-Id: Ib87e60e0edfd9671091f5dcfa9aedaf1aed800d1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7337 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-10-20  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/cmsis_dap: prevent CDC missdetect as CMSIS-DAP bulk The autodetection of CMSIS-DAP v2 bulk interface is tricky as not
	all adapters conform CMSIS-DAP specs.  If an interface has a string descriptor containing CMSIS-DAP, then
	OpenOCD did not insisted on the correct interface class
	LIBUSB_CLASS_VENDOR_SPEC.  However the relaxed test caused false autodetection of v2 bulk
	interface on some CMSIS-DAP v1 adapters with an additional serial
	interface with the string descriptor stupidly containing CMSIS-DAP
	text.  Make the test less relaxed, refuse autodetection of the interfaces
	with the class number of well known functions including CDC and MSC.  Link: https://sourceforge.net/p/openocd/tickets/368/ Change-Id:
	I917cb257eb42aab93560cc39c61ec35a60ce52e3 Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7279 Tested-by: jenkins
	Reviewed-by: SilverFox <yyjdelete@126.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-11-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : dsp5680xx: fix clang error core.UndefinedBinaryOperatorResult Clang get confused by initializing the array uint16_t lock_word[],
	casting it to (uint8_t *), then accessing the second element of the
	uint8_t pointer.    src/target/dsp5680xx.c:2046:41: warning: The left operand of '<<'     is a garbage value [core.UndefinedBinaryOperatorResult]         uint16_t tmp = (buffer[0] | (buffer[1] << 8));                                      ~~~~~~~~~ ^ Fix it by replacing
	the array with a single uint16_t.  The code is still depending on host endianness; no fix for this is
	proposed.  Change-Id: I16dfd60cab117dd145aeecf10d9593574ff233a2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7302 Tested-by: jenkins

2022-11-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : openrisc: fix clang error core.CallAndMessage Clang assumes that size could assume a value that is not 1 nor 2 nor
	4. In such condition the buffer in t is allocated (size != 1) and
	  not initialized. This triggers an error:
	src/target/openrisc/or1k_du_adv.c:655:14: warning: 2nd function     call argument is an uninitialized value [core.CallAndMessage]                 crc_calc = adbg_compute_crc(crc_calc, data[i], 8);                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Add the default case to cover other values of size.  After this fix, clang still complains on the same line, this time
	misunderstanding the limits of the loop and considering that
	buf_bswap16() only swaps the first 16 bits, thus passing not
	initialized value data[2] to adbg_compute_crc() Replace malloc() with calloc() to silent it.  Change-Id: I358d7fb2ebefd69255670641bd435b770762a301 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7300 Tested-by: jenkins

2022-10-20  Ben McMorran <bemcmorr@microsoft.com>

	* : ThreadX: set current_thread for kernel execution If we just invented thread 1 to represent the current execution, we
	need to make sure the RTOS object also claims it's the current
	thread so that threadx_get_thread_reg_list() doesn't attempt to read
	a thread control block at 0x00000001.  Signed-off-by: Ben McMorran <bemcmorr@microsoft.com> Change-Id:
	I7f71e730d047858898297e4cb31db8e47e0c371c Reviewed-on:
	https://review.openocd.org/c/openocd/+/7280 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-26  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.12.0-rc2 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2022-10-19  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : doc: fix semihosting_redirect command documentation Change-Id: I78c82a21e4160851a5c0b58394ac7897479808ff Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7278 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-18  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/xtensa: remove redundant call for `TARGET_EVENT_HALTED` `xtensa_do_step` is invoked from `xtensa_prepare_resume` to silently
	step over BP/WP before resuming.  For example; in the case of WPs
	(DEBUGCAUSE_DB), in the current implementation `xtensa_do_step` will
	generate one more `TARGET_EVENT_HALTED` after the original one
	caused by WP itself.  This patch moves the halted event cb call after the step is done
	successfully.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I9048e14fb316dc124847a42cfaefb1f76b5ce53e Reviewed-on:
	https://review.openocd.org/c/openocd/+/7274 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-10-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: remove unreferenced anchors Remove the @anchor{} tags that are not referenced in the
	documentation.  Change-Id: Ia8e9f75afb08e08ef99d0c8fd82115d689e4a267 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7270 Tested-by: jenkins

2022-10-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix xtensa commands type Config commands should be reported as {Config Command} Change-Id: Ic778df31bb1dc9aefdbe3d8006b06bb370d25e6f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7266 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Erhan
	Kurubas <erhan.kurubas@espressif.com>

2022-10-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : README: update build dependency list Add info on what is optional, Change-Id: Iedfa969243d95736aaf1b236caa2c2b33f563fe7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7256 Tested-by: jenkins

2022-10-04  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/xtensa: fill register number field in the cache Currently 'number' field is zero in the register cache and this
	causes an issue on `rtos get_thread_reg_list` calls.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Iaef11e01f55d012969bbc1933f82847d5e02fec5 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7246 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-10-04  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl/xtensa: some fixes at xtensa-core-esp32s3.cfg Some config changes required to run ESP32-S3 with full feature set Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I38022bb5ff5830e1cf9d11d6fe795ea99d91e9db Reviewed-on:
	https://review.openocd.org/c/openocd/+/7254 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-10-04  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl/xtensa: some fixes at xtensa-core-esp32.cfg Some config changes required to run ESP32 with full feature set Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I484324f8497ec7934bb73164c638fc5f6460fcc4 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7252 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-09-28  Tomas Vanek <vanekt@fbl.cz>

	* : target: re-examine before arp_waitstate in
	ocd_process_reset_inner arp_waitstate will not work on not-examined state Change-Id: I56c3e1c7e63af108e4ed1dbacebb567f9bf46264 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7230 Tested-by: jenkins
	Reviewed-by: Erwan Gouriou Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-09-28  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: try to re-examine under reset in
	cortex_m_assert_reset() An application often idling in real sleep mode may make a Cortex-M
	target hard to access as CPU clock are gated and debug requests are
	responded by WAIT ack.  Try to examine the target under reset as the last resort.  Change-Id: Ife875a966a838c37dde987bc584ad0a1f4d020d6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7228 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix build with 'configure --without-capstone' When configure option --without-capstone is used, the macro
	HAVE_CAPSTONE is not defined in config.h, and the following lines
	are instead present:         /* 1 if you have Capstone disassembly framework. */         /* #undef HAVE_CAPSTONE */ This cause compile error with message:         arm_disassembler.h:190:5: error: "HAVE_CAPSTONE" is not                 defined, evaluates to 0 [-Werror=undef]           190 | #if HAVE_CAPSTONE               |     ^~~~~~~~~~~~~ This is caused by configure.ac that does not call AC_DEFINE when
	--without-capstone option is present.  Fix configure.ac to always provide the autoconf macro HAVE_CAPSTONE,
	with either value 0 or 1.  Change-Id: Ie5ac98b2c25746dd721812c91baaac61ec877ecd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7224 Tested-by: jenkins

2022-07-14  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Handle swd vs jtag Since all the device definition when accessing device from jtag is
	also valid when accessing from swd, lets make sure the configuration
	can handle the same.  Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I5af071137fd8c3b52cc4ef72401f8eba952f9cad Reviewed-on:
	https://review.openocd.org/c/openocd/+/7090 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-10-02  Daniel Anselmi <danselmi@gmx.ch>

	* : don't return ERROR_OK in error cases Change-Id: I7e046df85838692c9044fe9c9d67e8b2c821eb0f Signed-off-by:
	Daniel Anselmi <danselmi@gmx.ch> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7236 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-09-28  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/xtensa: pass correct buffer on read memory retry Read values must be at albuff so that can be copied to buffer on
	function exit.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I74a533e8f12f1002ca06a98a7c7cd928552b4cc5 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7226 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-09-28  Keith Packard <keithp@keithp.com>

	* : flash/nor/at91samd: Use 32-bit register writes for ST-Link
	compat ST-Link v2 dongles can be used with many cortex-m parts, but they
	have one limitation -- they can only perform 8-bit and 32-bit writes
	to the target. 16-bit writes are done using a pair of 8-bit writes.
	While not usually an issue, in the case of the at91samd flash
	driver, the 16-bit 'command' register must have both halves written
	in the same operation.  Fortunately, this register has two pad bytes above it in the address
	space, making it safe to always access with 32-bit operations.  Change-Id: I44b0db9406982a8db5818c0533d3101618741db2 Signed-off-by:
	Keith Packard <keithp@keithp.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7234 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-09-21  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/bitbang: reduce debug verbosity The bitbang driver floods the log by many messages with very little
	informational value.  Remove some LOG_DEBUGs, convert some others to LOG_DEBUG_IO.  Change-Id: I0c7539467b45543e12932c67dc71e86d58c8c6cd Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7220 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Jonathan Bell
	<jonathan@raspberrypi.com> Tested-by: jenkins

2022-09-30  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: show target name in 'halted' message Change-Id: I13e9a33677632d52122585203252fc4ef0c52a2a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7237 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-27  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: fix setting sp The num_reg_params parameter of target_run_algorithm() was not
	updated when setting "sp" was introduced. Therefore "sp" as the last
	register parameter was not passed to a target algo.  Introduce a new helper variable with correct count of register
	parameters and use it everywhere needed.  Change-Id: I934a71380783d98917167f1569145808ef23540f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7225 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Jonathan Bell <jonathan@raspberrypi.com>

2022-09-11  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: use LOG_TARGET_xxx to show core name Change-Id: Ic76e1c6306ece18b3590beaad4d5b224d4449aa0 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7188 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-09-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: fix flash erase timeout SPI flash erase often takes longer than the fixed timeout 3 seconds.  Introduce a configurable timeout_ms parameter to
	rp2040_call_rom_func().  Compute the erase timeout from the number
	of blocks to be erased.  While on it make the timeouts shorter for connect flash, flush cache
	and enter/exit xip (1 second is enough).  Change-Id: I552bfa317ee17064de3a54ec2f0c63e84ba87222 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7214 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Jonathan Bell <jonathan@raspberrypi.com>

2022-09-11  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/rp2040: fix memory leak of target stack workarea While on it restore memory-mapped mode also after flash erase
	(originally was restored after flash write only).  Change-Id: I5e153b79ac27a8439f57239ce90ce8a79c0bb8a1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7186 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-21  Tomas Vanek <vanekt@fbl.cz>

	* : target/adi_v5_swd: suppress reconnect in swd_multidrop_select() swd_multidrop_select() uses its own retry loop.  If select fails,
	do_reconnect flag remains set on exit and causes useless reconnect.  Clear do_reconnect flag in retry loop.  Change-Id: Ie06d6967d7f4a977774c8530bb8d4b3e5ab4f62c Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7217 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Jonathan Bell
	<jonathan@raspberrypi.com> Tested-by: jenkins

2022-08-15  Tomas Vanek <vanekt@fbl.cz>

	* : target/stm32l5x,stm32u5x: fix trace settings The STM32L5 and U5 devices have DBGMCU_CR trace related bits changed
	wrt other STM32 devices.  Fix the setting in configuration script.  Change-Id: I0bbc48e7b1290b603c6966cf5ddd42df389e6ede Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7117 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2022-09-19  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: fix final clang analyzer warning Reworked xtensa_read_memory() logic to always allocate and
	initialize working buffer with sufficient padding.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	Ia9ab53336537adebf99f8156f481ca8279a7cd5d Reviewed-on:
	https://review.openocd.org/c/openocd/+/7211 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Erhan Kurubas <erhan.kurubas@espressif.com>

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv: fix undefined operation Scan-build reports:         Logic error: Result of operation is garbage or undefined         riscv.c:1614 The result of the left shift is undefined due                 to shifting by '4294967281', which is greater or                 equal to the width of type 'target_addr_t' This is a false warning due to clang that considers the impossible
	case of 32 bits hart (xlen = 32) in SATP_MODE_SV48 mode
	(info->va_bits = 48).  Under such case:         riscv.c:1614 ... ((target_addr_t)1 << (xlen - (info->va_bits
	        - 1))) ...  the shift amount wraps around the unsigned type
	and assumes the value 4294967281 (0xfffffff1).  Use assert() to prevent clang from complaining.  Change-Id: I08fdd2a806c350d061641e28cf15a51b397db099 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7209 Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Jan Matyas <matyas@codasip.com>
	Tested-by: jenkins

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv: fix unused initialization Scan-build reports:         Unused code: Dead assignment         riscv.c:716 Value stored to 'result' is never read Remove the initialization of variable 'result'.  Change-Id: Ied67bb4fcfa5bace186522074247ead43a5d5cd5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7207 Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Jan Matyas <matyas@codasip.com>
	Tested-by: jenkins

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv-013: fix unchecked return code Scan-build complains about variable 'sbcs_orig' that can be used not
	        initialized.  Logic error: Assigned value is garbage or undefined         riscv-013.c:4468 Assigned value is garbage or undefined This
	        is caused by not checking the return value of the call
	riscv-013.c:4466 dmi_read(target, &sbcs_orig, DM_SBCS); In fact when
	dmi_read() returns error, the variable 'sbcs_orig' is not assigned.  Check the returned value.  Change-Id: Ia9032a0229aa243138f95f4e13f765726a4ceae9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7205 Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Jan Matyas <matyas@codasip.com>
	Tested-by: jenkins

2022-09-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/adapter: fix doxygen warning Doxygen complains about:         adapter.h:120: warning: Unsupported xml/html tag
	        <signal_name> found Move the text in double quote to remove the warning.  Change-Id: Ia4ead5caa83c84e10ee2b2359048c282892170b0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 82fd4005427b
	("jtag/adapter: Add command 'adapter gpio'") Reviewed-on:
	https://review.openocd.org/c/openocd/+/7202 Tested-by: jenkins

2022-09-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: fix for flag --no-tree When checkpatch is run with command line flag --no-tree, it cannot
	find local 'companion' files and has to skip loading them.  This has caused issues with change https://review.openocd.org/7211
	on jenkins.  Skip loading 'tools/scripts/camelcase.txt' with flag --no-tree.
	While there, rewrite the associated error message.  Change-Id: I6ede7b16f9ccd77b9118fd9be7ada07a1ac96952 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7212 Tested-by: jenkins

2021-03-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : The openocd-0.12.0-rc1 release candidate Change-Id: I790a6b13962649037c97e32d562dffd58d3daf3c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-05-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : HACKING: add chapter on checkpatch Include hints on how to skip some of the tests in some really
	exceptional case.  Note: the file includes an example of commit message with a signed
	off tag that triggers a checkpatch error.  Let checkpatch to ignore
	BAD_SIGN_OFF error.  Checkpatch-ignore: BAD_SIGN_OFF Change-Id:
	I05bf0ab8008649f3f9b38452e056dc3df83a1a4f Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5609 Tested-by: jenkins

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: extend check for camel[0-9_]*CASE Linux has some automatically generated macros that can trigger
	camelCASE check. This forces checkpatch to only detect the pattern         [A-Z][a-z]|[a-z][A-Z] for adjacent case transition.  In OpenOCD we do not have such case, so extend the check to         [A-Z][0-9_]*[a-z]|[a-z][0-9_]*[A-Z] and remove the detection
	of Linux special cases.  Change-Id: I82cb6dc668edbb093f68991337da1f4b933f1fac Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7152 Tested-by: jenkins

2021-04-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: add commit-message field to ignore some check The script 'checkpatch.pl' is part of the automatic tests used by
	Linux Maintainers and developers to test new patches.  The Linux
	development process is e-mail base. An error reported by checkpatch
	is not a blocking point; the developer can explain in the e-mail why
	he is submitting a patch that fails at checkpatch or that is in
	violation of the coding style. It's up to the maintainer to decide
	to accept or reject the explanation and then the patch.  The OpenOCD development process relies on Gerrit and Jenkins as
	front-end tools. Jenkins tests every new patch with checkpatch and
	then builds the new code. If checkpatch fails, Jenkins adds a
	failure label to the patch; this often causes the patch to get
	ignored by maintainers that considers it as 'not ready'.  Checkpatch can be instrumented to ignore some test, but this has to
	be specified in the command line or in the configuration file.  Let checkpatch extract from the patch's commit message the new field
	'Checkpatch-ignore:' that lists the additional tests that has to be
	ignored for that patch only.  The developer that detects as error or
	a limitation in checkpatch can add the field and the problematic
	test in the commit message and re-push the patch.  The maintainer
	should check the list of tests and decide how to proceed.  Change-Id: Iafc1b2893a07c7b3fc7e3ad15bd694aba9bd8519 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6169 Tested-by: jenkins

2021-01-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: adapt shell script to the tool's new version With the new checkpatch it's not possible to send in one shot a set
	of patches through stdin because the Signed-off-by tag present in
	each patch will trigger the error of duplicated Signed-off-by.  Use the new command-line flag '--git' to let checkpatch to extract
	the patches from git and analyse them one-by-one.  While there, add the SPDX tag to the script.  Change-Id: I74791b627b8cd68f2d49146d15ae35bbc610e64e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6166 Tested-by: jenkins

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: add list of typedef used in OpenOCD The new checkpatch from Linux kernel does not recognizes the
	specific types used in OpenOCD, e.g. "fd_set" and "Jim_Obj".  As
	consequence, it consider "fd_set" as the name of a variable, then
	misinterpret the asterisk for the pointer "fd_set *" as a
	multiplication, thus suggest to add a space after the asterisk and
	replace "fd_set *x" with "fd_set * x".  Let checkpatch recognize the typedef used in OpenOCD.  Change-Id: Ibc295e6a8b47ffa88b50a6d510b7970760e5199d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5607 Tested-by: jenkins

2019-04-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: don't spell-check the spelling file Prevent checkpatch to complain for commits that add new entries in
	the dictionary of misspelled words.  Remove the ignore flag TYPO_SPELLING from .checkpatch.conf, now
	spelling is functional.  Change-Id: I911dedafc243e34f753d2be687977066719ff2eb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5123 Tested-by: jenkins

2013-10-26  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: correct false positives reporting instructions This is the old commit 75b4cbe35646 ("checkpatch: correct false
	positives reporting instructions") re-applied.  Change-Id: I348ae549e9d2587093b0fb6652aadf34724f0aab Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5121 Tested-by: jenkins

2013-10-14  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: add logging functions It's commonly considered that user-visible strings should not be
	split to different lines in the sources to ease grepping for them.
	Hence, checkpatch traditionally makes an exception for logging
	functions, lines having them can be of arbitrary length.  OpenOCD uses different (from Linux, the kernel) names, so they need
	to be added to avoid false positives.  This is the old commit bb3cd6ec438d ("checkpatch: add logging
	functions") re-applied and updated.  Change-Id: Ib18e4532cf7e1f79821b74c9bb6134a8a4e8be1b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5119 Tested-by: jenkins

2019-04-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : checkpatch: add OpenOCD specific config flags This initial setup covers the old commits: commit 09571d62bc1e
	("checkpatch: disable extern and switch indent checks") commit
	2f6f7c442d24 ("checkpatch: remove typedef check") commit
	9ad57e96b3c1 ("checkpatch: remove volatile check") commit
	3da783f62854 ("checkpatch: increase line length to 120") commit
	2af5b97ba31f ("checkpatch: remove __packed and __aligned checks")
	commit 164450a01576 ("Change checkpatch.pl tab expanding to 4
	characters.") It also skips the check for SPDX_LICENSE_TAG, not implemented in
	OpenOCD yet.  Extend to the check in 'strict' mode and skip all the
	check that cannot apply on OpenOCD project.  Change-Id: I6c3bdf27465dc563464fbc8fafbaec696e287624 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5117 Tested-by: jenkins

2022-09-15  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: invalidate register cache on reset Resolves issues where registers are accessed when poll() logic is
	inactive or has not yet been triggered.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	If7a4d00938fb188b008325249627f7773c3484c5 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7197 Tested-by: jenkins
	Reviewed-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-15  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32lx: Add revision 'X' for Cat.4/3 devices Change-Id: I18c62ddb3963c357c7ce5dfc067c8d63fbc82b99 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7196 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-09-07  Tim Nordell <tnordell@airgain.com>

	* : rtos: Fold is_symbol_mandatory into rtos_qsymbol(..) This is in preparation for a future commit that looks for an
	optional suffix of .lto_priv.0 on the symbol name.  Signed-off-by: Tim Nordell <tnordell@airgain.com> Change-Id:
	If803332373825b73bc986bd4ea7dfaee9c625c0a Reviewed-on:
	https://review.openocd.org/c/openocd/+/7178 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-14  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: populate PS correctly during fetch Read PS from EPS[debuglevel] during fetch such that it reflects the
	correct value when read via telnet (not just via gdb_server).  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I8504f68989bc6d5fe451a8cb69d01c86f4ec0100 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7195 Tested-by: jenkins
	Reviewed-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-20  Frank Dischner <frank.dischner@gmail.com>

	* : FreeRTOS: Fix thread reg list for Cortex-M7 This updates the FreeRTOS module to use the M4F FPU stacking also
	for the FPV5_SP and FPV5_DP FPUs, which are found on the Cortex-M7.
	The FPUs are in fact different than the FPV4_SP found on the M4, but
	the register stacking is the same.  Signed-off-by: Frank Dischner <frank.dischner@gmail.com> Change-Id:
	I74c45d2cfb55f55e6c557f2450068ad3c2fe9497 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6939 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-09-09  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: fully initialize buffers for PWRSTAT read Read buffer is sized for 32-bit APB version of PWRSTAT/PWRCTL
	registers. Initialize to zero so 8-bit JTAG register mirrors are
	accurate.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I81310649fa7180893d0188aab3c8a14315aaea0a Reviewed-on:
	https://review.openocd.org/c/openocd/+/7183 Tested-by: jenkins
	Reviewed-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-15  Steve Marple <stevemarple@googlemail.com>

	* : drivers/bcm2835gpio: Fully restore GPIOs after use Restore outputs to their initial output level.  Signed-off-by: Steve Marple <stevemarple@googlemail.com> Change-Id:
	I82402fd7b59d944f81c0ea7859ac499943901f82 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7125 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-25  Steve Marple <stevemarple@googlemail.com>

	* : drivers/bcm2835gpio: Migrate to adapter gpio commands Use the new "adapter gpio" commands to configure the GPIOs used by
	the bcm2835gpio driver. The driver supports only 1 chip (gpiochip0).  The reset function now honours the srst_open_drain and
	trst_open_drain options.  Signed-off-by: Steve Marple <stevemarple@googlemail.com> Change-Id:
	I5b6c68b16362000cf5141a83394549d2bf3af108 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7123 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/interface: replace last deprecated commands Still some config file uses deprecated commands.  Replace them with
	the new commands.  Change-Id: I6ccbfb832e0ad2012e9af160bd2d92ad104af2bb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7181 Tested-by: jenkins

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure.ac: drop unneeded dependency check The script configure.ac checks for the presence of system include
	files required to build OpenOCD.  It incorrectly check for:         dirent.h         pthread.h         ifaddrs.h         net/if.h that are never included by OpenOCD source code,
	plus the generated macros:         HAVE_DIRENT_H         HAVE_PTHREAD_H         HAVE_IFADDRS_H         HAVE_NET_IF_H are never used in OpenOCD source code.  It also checks for the system function:         vasprintf() that is never called by OpenOCD source code,
	plus the generated macro:         HAVE_VASPRINTF is never used in OpenOCD source code.  Drop the checks for the unused system include files and the unused
	system function.  Change-Id: I68c1b1a1be268a830247fc489f210877c32d7d23 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7175 Tested-by: jenkins

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: don't export local symbols Symbols that are not used outside the file should not be exported
	and should be declared as static.  Change-Id: Icbe7f7bce287b903edec9dc9db3370722c51fbd5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7173 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : usbprog: remove unused variable Change-Id: I96b2c0ad36073f7e5bed37b96e0244f1760472bc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7171 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-09-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/npcx: make local symbols static Symbols that are not exported should be declared as static.  Change-Id: I6a059080bbba9b3559d26c641b217be8be3b199e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7169 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-09-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : xtensa: make local symbols static Symbols that are not exported should be declared as static.  Change-Id: Ieb627f7f896e4663b0d5b18c4ab1853b39d23d03 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7167 Reviewed-by: Erhan
	Kurubas <erhan.kurubas@espressif.com> Reviewed-by: Ian Thompson
	<ianst@cadence.com> Tested-by: jenkins

2022-09-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: make local symbols static Symbols that are not exported should be declared as static.  Change-Id: I6224ae89ebda3230dfee2413e3823be9b8716bba Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7165 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-07-03  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl/board: add ESP32-S3 config for ESP USB Bridge board Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I97d0f01f342dddb31b2d454858fe854f002cf567 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7077 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-29  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: fix step state transition For some configurations, notably on DAP systems, resolve issue where
	single-stepping does not always transition into the HALTED state.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I053f4eaffad8c3228878ba87580ada640e4bd2fe Reviewed-on:
	https://review.openocd.org/c/openocd/+/7150 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-25  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: enable DAP/SWD for generic xtensa - Enable ADIv5 DAP systems via JTAG or SWD transport - Select correct PWRCTL/PWRSTAT bits for XDM/APB Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I5894210c804f85075da868d0cfc6fb20b589d99f Reviewed-on:
	https://review.openocd.org/c/openocd/+/7144 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-09-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : .gitignore: remove cross-compile *-libtool This reverts commit dac90163a287 (".gitignore: add cross-compile
	*-libtool") [1] merged in May 2022.  The old build system of OpenEmbedded used to rebuild and rename
	plenty of tools to discriminate between host's and target's tools.
	This creates, among others, the odd file "$CROSS_COMPILE-libtool"
	that was addressed by the patch [1].  OpenEmbedded has dropped this
	odd behavior with patch [2], present in OpenEmbedded 4.0 "kirkstone"
	tagged on April 2022.  In current situation: - old OpenEmbedded use OpenOCD v0.11.0 or older, so will not use   the patch [1]; - new OpenEmbedded has [2] applied, so will never take benefit   from the patch [1].  As consequence, patch [1] is completely useless and keeping it in
	OpenOCD can even be misleading.  Revert patch [1].  Change-Id: I75793fce82a5297d74af72e620c4e63cd5b15f90 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://review.openocd.org/6960 [1] Fixes: dac90163a287
	(".gitignore: add cross-compile *-libtool") Link:

	https://git.openembedded.org/openembedded-core/commit/?id=4b308773eca7 [2]Reviewed-on: https://review.openocd.org/c/openocd/+/7161 Tested-by:
	jenkins

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib: replace the GPLv2-or-later license tag Replace the GPLv2-or-later boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I380d552940f1c405309a3346454251c0e80b5a45 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7159 Tested-by: jenkins

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib: replace the GPLv3-or-later license tag These files are not built in OpenOCD and are not in conflict with
	OpenOCD license.  Replace the GPL boilerplate with the SPDX tag.  Add the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I934e4add24098f0e8574120b3bc32e9bcf166abd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7157 Tested-by: jenkins

2022-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: remove CamelCase symbols *xPSR* We have left the camelcase symbols *xPSR* for some time, to avoid
	any conflict with possibly pending patches in gerrit.  With the
	approaching v0.12.0-rc1, it's time to revisit it.  The patches in
	gerrit that conflict with this rename are all not merge-able due to
	conflicts or due to negative review.  Drop these CamelCase symbols.  Change-Id: Ifbac4c1df9cc55994e024971a2aaebeed2ea4ed3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7155 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-08-24  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: virtualize XDM registers Use indirect enum IDs to access XDM registers in preparation for
	supporting both NAR (JTAG) and APB (DAP).  No new clang static
	analysis warnings.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I0b742fe4661ff3cf609454b8650493d141a1e1ff Reviewed-on:
	https://review.openocd.org/c/openocd/+/7143 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-27  Antonio Borneo <antonio.borneo@st.com>

	* : jep106: add SPDX tag and JEDEC copyright As a follow-up of talks between JEDEC and STMicroelectronics, JEDEC
	agrees to let OpenOCD project including the manufacturer's
	identification code list extracted from JEDEC JEP106 document and to
	let OpenOCD being updated regularly using the future JEDEC JEP106
	document versions. JEDEC requires OpenOCD to report the origin of
	the JEDEC JEP106 manufacturer's identification code list together
	with the JEDEC copyright.  As agreed with JEDEC, add in the file jep106.inc: - the SPDX tag with the GPL license of the OpenOCD project; - the JEDEC copyright; - the text provided by JEDEC reporting the origin of the JEDEC   JEP106 manufacturer's identification code list.  While there: - add a line reporting the version of the JEP106 document that was   used for the current code list extraction; - remove the obsolete comment, as the script for extraction is not   working anymore; keep the script as example.  Change-Id: Iaa76716db14e15ffca04fcf7d8c27bb85a27ba10 Signed-off-by:
	Antonio Borneo <antonio.borneo@st.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7147 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-08-16  Marc Schink <dev@zapb.de>

	* : libjaylink: Update to 0.3.1 release Change-Id: If4c13767de033a221e80fc26ee38f67c6c3d746c Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7119 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-30  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/espressif: add semihosting support ARM semihosting + some custom syscalls implemented for Espressif
	chips (ESP32, ESP32-S2, ESP32-S3) Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Ic8174cf1cd344fa16d619b7b8405c9650e869443 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7074 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-21  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : flash/nor/kinetis: fix clang scan-build error format-truncation kinetis.c:994:61: error: '%u' directive output may be truncated
	writing between 1 and 10 bytes into a region of size 4
	[-Werror=format-truncation=] tested with scan-build-14 Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I72d141a3f8e19ca3596beee2be8434fc8492946f Reviewed-on:
	https://review.openocd.org/c/openocd/+/7140 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2022-08-21  Ian Thompson <ianst@cadence.com>

	* : target/xtensa: fix clang analyzer warnings Scan-build of target/xtensa/ has no clang analyzer warnings from
	xtensa source files.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I11a125c923ece9a6fd0d9ee1698f742f88ee5cab Reviewed-on:
	https://review.openocd.org/c/openocd/+/7141 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-17  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: don't misuse uint32_t for refcount Change-Id: I016fc9ae037fae75528850d35da059d1db5a4d45 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7131 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor: remove empty command definitions The value of struct flash_driver::command can be NULL when the flash
	driver does not need to add any new command.  Remove empty command definitions.  Change-Id: I5413967d4069030234469822d24e9825425ae012 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7120 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-08-15  Tomas Vanek <vanekt@fbl.cz>

	* : server/server: fix target timer timing The change 6363: Call poll at a fixed interval switched from
	target_call_timer_callbacks() to target_call_timer_callbacks_now().
	It breaks the timing as all timers callbacks are called every time
	one timer expires.  Revert this part of change and use target_call_timer_callbacks().  Fixes: db16b3dc5b06 (Call poll at a fixed interval.) Change-Id:
	Ib5b7774de9694d40c55d2a4109d0d1582fc5008b Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7118 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2021-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/target: replace event trace-config With commit dc7b32ea4a00 ("armv7m_trace: get rid of the old tpiu
	code") the target's event "trace-config" has been deprecated.  Create the TPIU device.  Replace the target's event "trace-config"
	with tpiu's event "pre-enable" in the STM32 devices that require
	enabling the trace clock _before_ programming the TPIU.  Make the
	script multi-instance-able in case it's used for JTAG chained
	devices.  Uniform the code in STM32F4x with the other scripts.
	Remove the empty event from STM32WLx.  Change-Id: Ifda219c3c5f37e03072a88168611cf505eb630b7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6681 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-08-01  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/kitprog: use HID read timeout Use hid_read_timeout() instead of hid_read().  Improve error
	messages.  Change-Id: Ia75b4fcd610442ab926bc454341f928d59843fcf Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7106 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-20  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/xtensa: fix clang analyzer warnings and gcc12 build
	errors Fix Unused code Dead assignment at line 657 Fix Memory error Double
	free at line 2851 Fix Memory error Memory leak at line 2530 Fix
	error: 'a3' may be used uninitialized at line 758 Fix error: '%04x'
	directive writing between 4 and 8 bytes into a region of size 5 at
	line 2471 Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I0382a622bc7c4108a335fd741816577e79240397 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7137 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-06-24  Ian Thompson <ianst@cadence.com>

	* : target: add generic Xtensa LX support Generic Xtensa LX support extends the original Espressif/Xtensa
	patch-set to support arbitrary Xtensa configurations, as defined in
	a core-specific .cfg file.  Not yet fully-featured.  Additional
	functionality to be added: - Xtensa NX support - DAP/SWD support - File-IO support - Generic Xtensa multi-core support Valgrind-clean, no new Clang analyzer warnings Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I08e7bf8fa57c25b5d0cb75a1aa7a2ac13a380c52 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7055 Tested-by: jenkins
	Reviewed-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-20  Jae Hyun Yoo <quic_jaehyoo@quicinc.com>

	* : tcl/fpga: add Lattice MachXO3 family support Add support for Lattice MachXO3 FPGA family.  Signed-off-by: Jae Hyun Yoo <quic_jaehyoo@quicinc.com> Change-Id:
	I01fcec0ee458e809246e4505019d15047655dd47 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7113 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-11  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target/semihosting: drop type casting from semihosting->result Also used type helper (PRId64) to specify format of int64_t Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I594863eab594aff621c26fefcc69a1872e9730ee Reviewed-on:
	https://review.openocd.org/c/openocd/+/7111 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-21  Steve Marple <stevemarple@googlemail.com>

	* : drivers/linuxgpiod: Migrate to adapter gpio commands Use the new "adapter gpio" commands to configure the GPIOs used by
	the linuxgpiod driver.  Adds support for drive mode and resistor pull options on all
	signals.  Change-Id: Ic90cb4f06db82435294228b6793330107a9f3606 Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7048 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-17  Steve Marple <stevemarple@googlemail.com>

	* : drivers/am335xgpio: Migrate to adapter gpio commands Use the new "adapter gpio" commands to configure the GPIOs used by
	the am335xgpio driver. The AM335x has 4 GPIO 'chips' (chip number
	0-3 inclusive), with each one providing 32 GPIOs (gpio_num 0-31
	inclusive).  Change-Id: I7c63c0e4763657ea51790c43fc40d32b7c3580bb Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6984 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-08-02  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: supress historical reset detection The S_RESET_ST sticky bit is reset after DHCSR read.  It is set at
	power-on reset and keeps active until the debuger reads DHCSR.  Ignore S_RESET_ST at the very first read after OpenOCD start and
	suppress possibly misleading message "external reset detected" if we
	cannot guarantee the reset happened recently.  While on it add a TODO comment.  Change-Id: I15217c2ca6f69ac97aff8be86bce67cba94a42cd Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7109 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-07-10  Ian Thompson <ianst@cadence.com>

	* : gdb_server: custom target-specific GDB queries Provide a customizable hook for handling target-specific GDB queries Valgrind-clean, no new Clang analyzer warnings Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	I684a259ed29f3651cbce668101cff421e522f79e Reviewed-on:
	https://review.openocd.org/c/openocd/+/7082 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: prevent target polling during 'init' The command 'init' causes the execution of few lower level commands,
	e.g. 'target init', and switches from command mode COMMAND_CONFIG to
	COMMAND_EXEC, with an intermediate switch back to mode
	COMMAND_CONFIG.  A timed target polling can occur during the execution of 'init' and
	the target's status can trigger the execution of some events.  E.g.
	if a target has been left halted by a previous execution of OpenOCD,
	the first poll will find the target halted, calling the
	corresponding 'halted' event.  The event handler can use commands
	that can only be executed in mode COMMAND_EXEC. If the poll happens
	while OpenOCD is in mode COMMAND_CONFIG, the triggered handler will
	fail.  Prevent the target polling to operate during the execution of the
	'init' command.  Change-Id: Ia435a5d2039be9b247e2336616dab53ed5d983ac Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7007 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-08-01  Ian Thompson <ianst@cadence.com>

	* : gdb_server: add "not supported" Z-packet reply GDB remote serial protocol specifies breakpoint/watchpoint packet
	responses can be an empty string to indicate the specified
	breakpoint type is not supported.  Add support for this response
	alongside existing "OK", "E NN" replies.  Signed-off-by: Ian Thompson <ianst@cadence.com> Change-Id:
	Iaf6280e4c936eb95a92bc80cc74d451ebb328dc3 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7102 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-07-21  Asier Llano <allano@hubbell.com>

	* : rtos: Support for "none" rtos After a certain RTOS has been configured there is no mechanism to go
	back to no RTOS support. It may be useful for debugging purposes.
	With the provided modification, the "none" option of RTOS is
	provided as a valid option.  It has been tested in two different board (Cortex M4 and Cortex
	M33).  Documentation has also been updated.  Signed-off-by: Asier Llano <allano@hubbell.com> Change-Id:
	I602210bff31ccadd41c41e9454c52b5fffa1671e Reviewed-on:
	https://review.openocd.org/c/openocd/+/7092 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-08-01  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm: do not expose 'arm reg', 'arm mcr/mrc' commands on
	Cortex-M Tcl commands 'arm reg', 'arm mcr/mrc' do not work on M-profile based
	devices.  Isolate them from 'arm core_state' and 'arm disassemble'
	and do not chain them from armv7m_command_handlers.  Change-Id: I2c6befdf82575e95cf05ed158ab5e6faa1a182c3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7101 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-08-02  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: prevent segmentation fault in cortex_m_poll() If a Cortex-M MCU become unresponsive during a debug session and
	re-examination fails to find MEM-AP, debug_ap pointer is set to
	NULL.  Eventual call of cortex_m_poll() dereferences debug_ap.  Check debug_ap validity at the begin of cortex_m_poll().  Change-Id: I9519f48760c91a48a9e5e8c34634d247098cb14a Fixes:
	35a503b08d14 (arm_adi_v5: add ap refcount and add get/put around ap
	use) Signed-off-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7108 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-26  Tomas Vanek <vanekt@fbl.cz>

	* : target/aarch64: fix duplicate common magic AARCH64_COMMON_MAGIC was same as CORTEX_A_COMMON_MAGIC, probably
	copy pasta.  Define unique AARCH64_COMMON_MAGIC Change-Id: Ie30e0028453a1fce5624ecad9bf73d5ac3791281 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6997 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-07-31  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: remove useless setting of bus_width and chip_width The flash/nor subsystem uses bus_width and chip_width for CFI
	external flash only. Drop setting these values for internal flash.  Change-Id: I64e79ab38b6e39e845ff96fbf4f60145e3b9690a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7098 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-27  Martin Hierholzer <martin.hierholzer@desy.de>

	* : fix Kinetis 100 MHz rev 1.x programming Kinetis 100 MHz rev 1.x devices have no SMC and hence need different
	checking of the run mode. Details about the differences between rev
	1.x and 2.x of the Kinetis 100 MHz series can be found here:
	https://www.nxp.com.cn/docs/en/application-note/AN4445.pdf Signed-off-by: Martin Hierholzer <martin.hierholzer@desy.de>
	Change-Id: Ib705385a931275159bdae9b31caecc6ec9c0da1e Reviewed-on:
	https://review.openocd.org/c/openocd/+/7015 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-04-17  Frank Dischner <frank.dischner@gmail.com>

	* : FreeRTOS: Fix current thread ID when no threads are active When there are no rtos threads or none are active, a fake thread
	with ID 1 is created for the current execution, but the current
	thread ID was never set to this new fake ID. This would lead to an
	incorrect attempt to read stacked registers for this fake thread.
	Explicitly setting the current thread ID to the fake ID ensures that
	the registers are read from the core instead of calling
	freertos_get_thread_reg_list.  Signed-off-by: Frank Dischner <frank.dischner@gmail.com> Change-Id:
	I694509a0e01df089429b20ff1b879fc0592b532d Reviewed-on:
	https://review.openocd.org/c/openocd/+/6934 Tested-by: jenkins
	Reviewed-by: Asier Llano <asierllano@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2022-05-26  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/fespi: check target type Change-Id: I09d3ed20966b37ec63c09c2ffb0e0403986cb1e5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7001 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tim Newsome <tim@sifive.com>

2022-05-26  Tomas Vanek <vanekt@fbl.cz>

	* : target/riscv: use struct riscv_info instead of typedef
	riscv_info_t Make the main RISC-V structure more compliant with OpenOCD coding
	style.  Other typedefs remains as is.  Change-Id: I5657ad28fea8108fd66ab27b2dfe1c868dc5805b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6998 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tim Newsome <tim@sifive.com>

2022-05-04  Jacek Wuwer <jacekmw8@gmail.com>

	* : drivers/vdebug: add support for DAP level interface This patch adds support for DAP interface to Cadence vdebug driver.
	It implements a new transport layer for dapdirect_swd.  Change-Id: I64b02a9e1ce91e552e07fca692879655496f88b6 Signed-off-by:
	Jacek Wuwer <jacekmw8@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6965 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-22  Adrien Grassein <agrassein@nanoxplore.com>

	* : tcl: ngultra: add target config file ngultra is a Quad-R52 SoC + an FPGA.  Signed-off-by: Adrien Grassein <agrassein@nanoxplore.com> Change-Id:
	I6a04eab3d9a7610e9dfa3d9f647868e579b6bd8a Reviewed-on:
	https://review.openocd.org/c/openocd/+/7046 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace SPDX to remaining files With most of the files already processed through scripts, replace
	manually the license to the few remaining files.  Change-Id: I3c7131e66b89ddad482f1074b5be5a9a69fdf6fd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7073 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src/target: replace the GPL-2.0-or-later license tag Replace the FSF boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I255ad17235ff1e01bf0aa4deed4d944e1d693ddb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7071 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src/jtag: replace the GPL-2.0-or-later license tag Replace the FSF boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: Ie873d12bb0fb838d0d6252e6b9ca3c2118853e9a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7069 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src/flash: replace the GPL-2.0-or-later license tag Replace the FSF boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: Ic7db91fe37d1139d42c99e303b3243b6c8fe3ea2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7067 Tested-by: jenkins

2022-06-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: fix incorrect GPL license tag Use the standard SPDX tag, where it was incorrectly applied.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: Iaec63abc6e0a38e5b0ae0ea7f5ecee7ca007bbbd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7065 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace the incomplete GPL-2.0-or-later license
	tag Few files have the FSF boilerplate without the latest statement on
	where to get the GPL license.  Manually replace the FSF boilerplate with the SPDX tag.  While
	there, reorganize the copyright statement.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I0c908d01c010e24f9c7e94885e7fbed4ecf26a86 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7063 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace the GPL with eCos exception 2.0 license
	tag Add the license exception text in the license pool.  Add the
	exception chapter in license-rules.txt Replace the boilerplate with
	the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: Ied513b7c9c0722ed2a9c11dbdff3fbf59f1b41ce Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7061 Tested-by: jenkins

2022-06-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: replace the BSD-3-Clause license tag Replace the BSD boilerplate with the SPDX tag.  The SPDX tag on files *.c is incorrect, as it should use the C99
	single line comment using '//'. But current checkpatch doesn't allow
	C99 comments, so keep using standard C comments, by now.  Change-Id: I5a8cab2051eee7eb99adf67f9631b0827c1359de Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7059 Tested-by: jenkins

2022-06-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: src: remove duplicated GPL license tag SPDX tag is replacing the FSF boilerplate.  For files that have
	both, remove the FSF boilerplate and keep only the SPDX tag.  Change-Id: I04c4764d13d4ca92453f30ed16aeae53cd4c3fc8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7057 Tested-by: jenkins

2022-01-09  Pavel Kirienko <pavel.kirienko@gmail.com>

	* : semihosting: fix return value of SYS_READ and SYS_WRITE ARM/RISC-V semihosting calls SYS_READ/SYS_WRITE require inversion of
	the result value as described in "Semihosting for AArch32 and
	AArch64". Prior to this patch, this was done correctly only if
	(semihosting->is_fileio==false).  This patch has been tested with STM32F446.  Change-Id: I1b34c8d8393f7dfa66ee6539904a2eaf8f9154b0 Signed-off-by:
	Pavel Kirienko <pavel.kirienko@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/232/ Reviewed-on:
	https://review.openocd.org/c/openocd/+/6803 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-06-20  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : semihosting: move semihosting_result_t from riscv.h to the
	semihosting_common.h These enum values are useful for the arch level semihosting call
	handlers.  Currently riscv uses them, we also need similar return
	codes for the xtensa.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I8f63749cc203c59b07862f33edf3c393cd7e33a9 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7039 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-18  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : tcl/esp32s2: check memory protection on gdb attach Memory protection must be disabled to allow stub flasher operate
	correctly.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I2f239d98fca6882c4361691af306a5652b58ee78 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7036 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-18  R. Diez <rdiezmail-openocd@yahoo.de>

	* : configure: provide advice if PKG_PROG_PKG_CONFIG unavailable These are the misleading error messages that this change prevents:
	configure.ac:13: error: possibly undefined macro: AC_MSG_WARN   If this token and others are legitimate, please use
	  m4_pattern_allow.  See the Autoconf documentation.
	configure.ac:48: error: possibly undefined macro: AC_DEFINE
	configure.ac:342: error: possibly undefined macro: AC_MSG_ERROR
	configure.ac:608: error: possibly undefined macro: AC_MSG_NOTICE Change-Id: I21bcc7715eeac0f3d0bcc60bba6801e6a895cdd0 Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7035 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: add SPDX tag For historical reasons, no license information was added to the tcl
	        files. This makes trivial adding the SPDX tag through script: fgrep
	        -rL SPDX tcl | while read a;do \ sed -i '1{i#
	        SPDX-License-Identifier: GPL-2.0-or-later\n }' $a;done With no specific license information from the author, let's extend
	the OpenOCD project license GPL-2.0-or-later to the files.  Change-Id: Ief3da306a6e1978de7dfb8f552f9ff23151f9944 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7030 Tested-by: jenkins

2022-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/board: add SPDX tag For historical reasons, no license information was added to the tcl
	        files. This makes trivial adding the SPDX tag through script: fgrep
	        -rL SPDX tcl/board | while read a;do \ sed -i '1{i#
	        SPDX-License-Identifier: GPL-2.0-or-later\n }' $a;done With no specific license information from the author, let's extend
	the OpenOCD project license GPL-2.0-or-later to the files.  Change-Id: Ibcf7da62e842aafd036a78db9ea2b9f11f79af16 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7028 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2022-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: move SPDX tag as first line The SPDX tag is aimed at machine handling and it's thus expected to
	be placed in the first line.  Change-Id: I3992856eeb28b333c38d010ef286e22471ede263 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7026 Tested-by: jenkins

2022-06-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/board/steval-idb012v1: fix SPDX tag Remove trailing '.' While there, add newline to file's last line.  Change-Id: I3a727e406b572d051b28e17688c24627e55520c4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7024 Tested-by: jenkins

2022-06-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : semihosting: remove comparison with NULL Commit b9526f140127 ("semihosting: permit redirection of semihosting
	I/O to TCP") introduces a new comparison with NULL.  Remove it.  Change-Id: Ice4333c50d16f7592f0ff86b1640217fa42e34f6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: b9526f140127
	("semihosting: permit redirection of semihosting I/O to TCP")
	Reviewed-on: https://review.openocd.org/c/openocd/+/7031 Tested-by:
	jenkins

2022-06-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/linuxgpiod: release gpio at exit Commit 20adf85f3484 ("linuxgpiod: add SWDIO buffer") introduces an
	additional gpio for SWDIO direction, but does not release it at
	driver's exit.  Release the gpio at exit.  Change-Id: If7ea31f79ffed04af585864e49bcf1f35e118bdd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7032 Tested-by: jenkins
	Reviewed-by: Steve Marple <stevemarple@googlemail.com>

2022-06-11  Alvin ipraga <alsi@bang-olufsen.dk>

	* : tcl/target/imx8m: use hwthread rtos In order to facilitate debugging multiple cores, specify the coreid
	and the hwthread rtos in the imx8m target configuration.  Change-Id: Ibd871517a160ceca15002fb10e27cb793f14d086 Signed-off-by:
	Alvin ipraga <alsi@bang-olufsen.dk> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7019 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-12  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : esp32s2: convert counted timeout to timeval_ms Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Id685408281478cec0e7e886dbedb3b8972c7b652 Reviewed-on:
	https://review.openocd.org/c/openocd/+/7020 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Ian Thompson <ianst@cadence.com>

2022-05-21  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : target: add Espressif ESP32 basic support ESP32 is a dual core Xtensa SoC Not full featured yet. Some of the
	missing functionality: -Semihosting -Flash breakpoints -Flash loader
	-Apptrace -FreeRTOS Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I76fb184aa38ab9f4e30290c038b5ff8850060750 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6989 Tested-by: jenkins
	Reviewed-by: Ian Thompson <ianst@cadence.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-01-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: parse ROM tables behind SoC-600 APv1 adapter Arm "CoreSight System-on-Chip SoC-600" specification describes a
	bridge "Access Port v1 adapter" aimed to "connect a legacy Access
	Port (AP) ... into an CoreSight Architecture v3 system".  A ROM table can be located in the "legacy" part of the system, on
	the legacy AP behind the APv1 adapter.  For the purpose of scanning the ROM tables, consider an ADIv6
	SoC-600 APv1 adapter as an ADIv5 AP.  Change-Id: I97d42fb77013c1251fb68d0caa4274086bf38a70 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6827 Tested-by: jenkins

2021-08-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : adiv6: add support for ROM tables in AP ADIv6 adds AP that only contain a ROM table in the AP itself, that
	can point to other AP containing either another AP level ROM table
	or a MEM-AP to be parsed as usual.  Add support for parsing AP level ROM tables.  Change-Id: Ic25863b16463b8a6adc3b15e26db7fdca858d6df Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6467 Tested-by: jenkins

2021-08-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add option 'root' to 'dap info' command On ADIv6 the system root ROM table is found by reading the DAP DP
	registers BASEPTR0 and BASEPTR1.  Add option 'root' to the commands 'dap info' to let it retrieve the
	system root ROM table's AP from DAP DP, then use such AP for
	following dump.  Change-Id: I1789457a005faa3870c5d14f763378d2f6a5f095 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6462 Tested-by: jenkins

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : adiv6: add low level swd transport During enter in SWD read DP_DPIDR without selecting the register
	bank through DP_SELECT_DPBANK.  Handle the different format of
	DP_SELECT register.  Change-Id: Iea1b8eb6ec94177e16a430d5885595a38e833eeb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6697 Tested-by: jenkins

2021-08-06  Kevin Burke <kevinb@os.amperecomputing.com>

	* : adiv6: add low level jtag transport swd and dap-direct are not implemented yet Split from change https://review.openocd.org/6077/ Change-Id: I6d73d8adf6a6090001c5d4771325fb1d63c45e3c Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6459 Tested-by: jenkins

2021-08-21  Kevin Burke <kevinb@os.amperecomputing.com>

	* : adiv6: read ROM Table address size Required for parsing ADIv6 ROM tables.  Split from change https://review.openocd.org/6077/ Change-Id: I849543b7b4a4455b10bd9fc7da38a37849d71700 Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6458 Tested-by: jenkins

2021-08-06  Kevin Burke <kevinb@os.amperecomputing.com>

	* : adiv6: add dap flags -adiv5 and -adiv6 Add flags to 'dap create' command and set the field adi_version in
	struct adiv5_dap.  Actually only ADIv5 is functional. Other patches are needed to get
	ADIv6 working.  Split from change https://review.openocd.org/6077/ Change-Id: I63d3902f99a7f139c15ee4e07c19eae9ed4534b9 Signed-off-by:
	Kevin Burke <kevinb@os.amperecomputing.com> Signed-off-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6456 Tested-by: jenkins

2022-05-28  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : semihosting: fix accessing memory outside the bounds of the fn
	array There is an accsess to wrong index, when arm semihosting_basedir
	command not used or basedir set to empty string.  Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I3afa049d74b30496f5c03ba4ef67431784f81bdc Fixes:
	ce5027ab019a ("semihosting: add semihosting_basedir command")
	Reviewed-on: https://review.openocd.org/c/openocd/+/7005 Tested-by:
	jenkins Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-28  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : telnet_server: fix scan-build warning fix "Declared variable-length array (VLA) has zero size" warning
	raised in .../src/server/telnet_server.c:633:2: Change-Id: Icff5228b02790c472b212a86a3849b1a3df98fdb Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6565 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-06-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/bitbang: silence scan-build warning The array is partially initialized with buf_set_u32(,5,32,), then
	the rest of the array is read from SWD.  But scan-build report the
	array to have garbage content after the initialization, due to the
	offset of 5 bit that only inits part of the first byte.  Silence the false positive from scan-build by initializing the
	array.  Change-Id: Ic38d50280f67939e3ec5fa05741f66d5f993f8c2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/7013 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-06-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: fix scan-build warning [2/3] Commit d01b3d69ec17 ("arm_adi_v5: separate ROM table parsing from
	command output [3/3]") introduces a new scan-build warning because
	removing one return in case of error causes using uninitialized
	values.  Add back the return on error.  Change-Id: I10ddc548b756d34aaccc0511f091b4caa5ec271a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: d01b3d69ec17
	("arm_adi_v5: separate ROM table parsing from command output [3/3]")
	Reviewed-on: https://review.openocd.org/c/openocd/+/7011 Tested-by:
	jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-24  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/numicro: remove useless architecture check target_to_armv7m() just returns a type-cast of target->arch_info, so
	the test has no value.  Following target_run_algorithm() checks magic number so we need not
	worry about execution on mismatched architecture.  Change-Id: Ic9892a488a42af1d8e8731eddb39240deeb26020 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6755 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-26  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: fix scan-build warnings fix "Declared variable-length array (VLA) has zero size" warnings while at there instrument the probe function to ensure the flash
	bank contains at least 1 sector Change-Id: I3ba0e6345881557ad1aab2d1b41eee438b49fe04 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6470 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-26  Tomas Vanek <vanekt@fbl.cz>

	* : target/riscv: drop unused variable registers_initialized Change-Id: If7bfe38ac273ce9e54003e003807e128cced1568 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6995 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-04-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_a: get rid of not needed log messages when using semi-hosting with cortex_a this LOG_INFO pollutes openocd
	console, so just reduce the log level of this message.  Change-Id: I91aa70492f4e361b25a0e5517d0cf73f2f8ed599 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://gerrit.st.com/c/stm32ide/official/openocd/+/248225
	Tested-by: Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6993 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-23  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : github workflow: use libusb 1.0.26 and hidapi 0.11.2 Change-Id: Id5348f86026330581d4bae081c9ab2bef435e6a6 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6992 Tested-by: jenkins
	Reviewed-by: Xiaofan Chen <xiaofanc@gmail.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-05-16  Tim Newsome <tim@sifive.com>

	* : Give each SMP group a unique number.  This helps e.g. if there are 8 cores, and cores 0--3 are in one SMP
	group while 4--7 are in another group. (And there are 2 gdb
	instances connected, one debugging the first group, and one the
	second.) Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I7b6c9382eadf964529105eaf0411a42d48768668 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6979 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-13  Sean Anderson <sean.anderson@seco.com>

	* : target: Add LS1028A The LS1028A is similar to the LS1088A, except that it has 2 CPUs
	(and different ethernet capabilities). From a JTAG perspective, all
	that's different is the number of CPUs and the TAPID.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	Iba3a0ecfbf82cfcfeb7eea42d52121c3b9dc93a2 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6976 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-05  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : configure: build jimtcl with json extension Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: I5845c240e50ee832c082df3f26fabbd4b14d6edd Reviewed-on:
	https://review.openocd.org/c/openocd/+/6890 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-12  micbis <michele.bisogno.ct@renesas.com>

	* : tcl/target/renesas_rz_five: Added RZ/Five Added support for the new Renesas RISC-V device: RZ/Five Signed-off-by: micbis <michele.bisogno.ct@renesas.com> Change-Id:
	Id8ba29b83528c0bfe4f9b4ed21b0151a6e853bd7 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6974 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2022-05-09  Erhan Kurubas <erhan.kurubas@espressif.com>

	* : flash: fix clang static analyzer build errors Fixes "variable set but not used" errors.  Tested with Homebrew
	clang version 13.0.1 Signed-off-by: Erhan Kurubas <erhan.kurubas@espressif.com>
	Change-Id: Ia90baf5b4857db2b5569ebe6adbbb832de772aad Reviewed-on:
	https://review.openocd.org/c/openocd/+/6971 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-05-01  Tomas Vanek <vanekt@fbl.cz>

	* : target/riscv: fix 'reset run' after 'reset halt' 'reset halt' does not clear DM_DMCONTROL_HALTREQ at
	deassert_reset().  If hw reset line is configured e.g. 'reset_config
	srst_only' the folowing 'reset run' halts:  > gd32v.cpu curstate  running  > reset halt  JTAG tap: gd32v.cpu tap/device found: 0x1000563d (mfg: 0x31e ...   > gd32v.cpu curstate  halted  > reset  JTAG tap: gd32v.cpu tap/device found: 0x1000563d (mfg: 0x31e ...   > gd32v.cpu curstate  halted <<<<---- wrong!!!  > reset  JTAG tap: gd32v.cpu tap/device found: 0x1000563d (mfg: 0x31e ...   > gd32v.cpu curstate  running Clear DM_DMCONTROL_HALTREQ when acking reset.  Change-Id: Iae0454b425e81e64774b9785bb5ba1d4564d940b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6961 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com>

2022-04-28  Thomas Hebb <tommyhebb@gmail.com>

	* : tcl/interface/ftdi: Add config for Tigard board Tigard[1] is an FT2232H-based development tool designed for ease of
	use with many different protocols and targets. It includes a JTAG
	header wired to channel B, with labeled pins for the four required
	signals as well as nTRST and nSRST, which are connected through an
	output buffer to BDBUS4 and BDBUS5 respectively.  Add an interface config for Tigard. I wrote it by referencing the
	Tigard schematic and tested it by debugging a couple of RISC-V
	development boards.  [1] https://github.com/tigard-tools/tigard Signed-off-by: Thomas Hebb <tommyhebb@gmail.com> Change-Id:
	I34df9f72538ba1e40ad53b568c9cdca96ae4b082 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6952 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-12-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : .gitignore: add cross-compile *-libtool While cross-compiling OpenOCD the generated script is not named
	"libtool" anymore, but e.g. "arm-linux-gnueabi-libtool".  Ignore all the possible variants "*-libtool".  Change-Id: I7a0dade992dbc13f977610bd4a78f8a4783b0146 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6960 Tested-by: jenkins

2022-04-19  Steve Marple <stevemarple@googlemail.com>

	* : bcm2835gpio: Fix incorrect GPIO validation Incorrect validation prevented GPIO0 from controlling the direction
	of the SWDIO buffer or operating TRST/SRST.  Have all GPIO number validation checks performed by is_gpio_valid().  Change-Id: Ib8fb704ab588a618ac41c111f6168d658891d92c Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6938 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2022-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : aarch64: don't wait for smp targets halted in deassert reset The function target_type::deassert_reset() is called for every
	target after reset is deasserted. If the target fails to get halted,
	we log a warning and issue a halt request for the target itself.  Current code calls the generic target_halt() that: - extends the halt to all the targets in the SMP node; - waits for targets to halt.  This breaks the logic of running
	target_type::deassert_reset() per target. Plus, waiting for targets
	to halt delays the call of target_type::deassert_reset() for the
	next targets.  Replace the call to target_halt() with the aarch64 specific function
	to halt the single target. Pass the parameter HALT_LAZY to prevent
	the wait for target halted.  Similar solution is already implemented
	for cortex_a.  Change-Id: I446dc03cb91524c6d388db485bc2388177af77b6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6947 Tested-by: jenkins

2022-01-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: replace dap_lookup_cs_component() With the generic function for ROM table walk-through, reimplement
	dap_lookup_cs_component().  Catch the code CORESIGHT_COMPONENT_FOUND and halt the search.  While
	there, drop two macros in arm_coresight.h, now unused.  Change-Id: I589ef7ae8a651d0c422ce7d0b4ed913713a8217e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6824 Tested-by: jenkins

2022-01-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: abstract actions during ROM table parsing Now all the actions (build command output) of command "dap info" are
	decoupled from the ROM walk-through.  Pass the actions as a generic
	parameter to ROM walk-through code.  Put as private data every
	information that is only required by the actions and not by the ROM
	walk-through.  Change-Id: I3b6ad112ea21296458c94aebbf91bf65bf6657a7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6822 Tested-by: jenkins

2022-01-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: separate ROM table parsing from command output [2/3] This change only targets the output of rtp_cs_component().  To
	easily propagate the coordinates of the CoreSight component, add
	them in the struct that holds the register values.  While there,
	define a macro for the max depth of ROM tables.  Change-Id: I75e5ef4f9419da3192123aebcd61471c2af9374f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6820 Tested-by: jenkins

2022-01-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: handle faulting entry in ROM table ARM IHI0031F "Arm Debug Interface Architecture Specification"
	chapter C2.6.1 "BASE, Debug Base Address register" reports:         A debugger must handle the following situations as         non-fatal errors:         - ...          - An entry in the ROM Table points to a faulting location.          - ...          Typically, a debugger issues a warning if it encounters         one of these situations. However, Arm recommends that it         continues operating. An example of an implementation that         might cause errors of this type is a system with static         base address or ROM Table entries that enable entire         subsystems to be disabled, for example by a tie-off input,         packaging choice, fuse, or similar.  Don't halt ROM table parsing if one entry causes an error; log the
	error condition and continue to next entry.  Not sure if we have to
	send an ABORT before continuing.  Change-Id: I94fdb5b175bfb07dde378149421582b7e7cd5b09 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6818 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>

2022-01-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: split ROM table loop from generic coresight During ROM table parsing, each ROM table entry points to a CoreSight
	component that can, in turn, be another ROM table.  Split the specific code for ROM table handling from the generic
	CoreSight code.  Log an error if a ROM table entry cannot be read.  Change-Id: I5ad106a99b9c21ddb48b5b162ae87101e4f49878 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6816 Tested-by: jenkins

2021-07-06  Florian Fainelli <f.fainelli@gmail.com>

	* : arm_adi_v5: add support for display Class 0x9 ROM tables ADI v5.1 and v6.0 permit the definition of CoreSight components
	(class 9 ROM entries).  dap_rom_display() is refactored a bit such that we always end up
	with attempting to parse the ROM contents using the appropriate
	upper limit for class 1 and 9 ROM types.  Change-Id: I4ba497b3807f1f11f06186eb6e61959ea3540c59 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6359 Tested-by: jenkins

2022-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5_jtag: reduce verbosity on persistent WAIT In case of AP not responding, e.g. not clocked, the first WAIT reply
	        is logged as: DAP transaction stalled (WAIT) - slowing down then
	OpenOCD retries the transaction few times, until it timeouts.  At
	        each retry it prints the message: DAP transaction stalled during
	replay (WAIT) - resending Depending on JTAG speed and transport
	latency, the amount of log messages can be quite annoying and not
	relevant.  The last printed line is at timeout:         Timeout during WAIT recovery Reduce the verbosity.  Change-Id: I5a7a337527c98b2450de59066b13713511c2894f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6814 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com>

2022-05-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cross-build.sh: fix build with capstone since commit 12d1ad0c7529 : update capstone include path ...  the
	generated capstone.pc is not working so fix the includedir in capstone.pc to get github action working Change-Id: I7767e181a74c73a7514eeb6293cd556a794dbfe9 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6969 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2022-04-29  Tomas Vanek <vanekt@fbl.cz>

	* : target: document possibly unreachable target in deinit_target() Change-Id: I95ff3d200bb2c8f5bc43a34c92726d9c47f8c172 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6953 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-12  Salvatore Giorgio PECORINO <salvatore-giorgio.pecorino@st.com>

	* : bluenrg: add support for bluenrg-lps device and board Added bluenrg-lps support Added file for the board steval-idb012v1
	Fixed size_info information using a mask Changed the if condition in
	bluenrg-x.cfg to be valid only for bluenrg-1 and bluenrg-2 Signed-off-by: Salvatore Giorgio PECORINO
	<salvatore-giorgio.pecorino@st.com> Change-Id:
	Ic0777ec0811ee6fac7d5e1d065c4629e47d84a1f Reviewed-on:
	https://review.openocd.org/c/openocd/+/6928 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : smp: deprecate legacy SMP core switching support The deprecation was already in the documentation since v0.11.0
	through commit 85ba2dc4c6ab ("rtos/hwthread: add hardware-thread
	pseudo rtos") but OpenOCD was not informing the user printing a
	runtime message.  Remove the deprecated method from the documentation and print a
	deprecated message at runtime.  There is no reliable way to print
	the same message in GDB console, so we have to rely on user noticing
	it in the OpenOCD log.  Target is to remove the functionality after
	v0.12.0.  Change-Id: Idd2d9e3b6eccc92dcf0432c3c7de2f8a0fcabe9f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6862 Tested-by: jenkins

2022-04-25  fatalc <cnfatal@gmail.com>

	* : target/disassembler:  update capstone include path to
	<capstone.h> on macos (homebrew base) `pkg-config --cflags capstone` output with
	`-I/opt/homebrew/Cellar/capstone/4.0.2/include/capstone` gcc not
	find headers on parent "include" path, causes build error `fatal
	error: 'capstone/capstone.h' file not found` it's ok to change to
	<capstone.h> for all platforms.  Signed-off-by: fatalc <cnfatal@gmail.com> Change-Id:
	Ia2e2058024d4fc1a57a8b4ea847c664d74f67efb Reviewed-on:
	https://review.openocd.org/c/openocd/+/6946 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-19  Steve Marple <stevemarple@googlemail.com>

	* : bcm2835gpio: Make buffer an output before the GPIO connected to
	it The correct ordering is required to prevent two outputs connected
	together.  Change-Id: I634a9ca7e0ccf337d1723011b8aee1f2d81efbcf Signed-off-by:
	Steve Marple <stevemarple@googlemail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6937 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-30  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: add can_load_options flag for GD32F1x0, F3x0
	and E23x According to GigaDevice user manuals the devices have OBRLD bit in
	FMC_CTL register which is functionally compatible with OBL_LAUNCH @
	FLASH_CR of STM32 counterparts.  Change-Id: I84d231b38815fcb6452fd73b9153b269cce3b737 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6759 Tested-by: jenkins
	Reviewed-by: Andrzej Sierga <asier70@gmail.com>

2021-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/stm32f1x: add support for RISC-V GigaDevice GD32VF103 The device has compatible flash macro with STM32F1 family, reuse
	stm32f1x driver code.  Detect non-ARM target - for simplicy test target type name 'riscv'
	and the address has 32 bits.  In case of RISC-V CPU use simple chunked write algo - async algo
	cannot be used as the core implemented in this device doesn't allow
	memory access while running.  Change-Id: Ie3886fbd8573652691f91a02335812a7300689f7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6704 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com>

2022-04-12  Jan Matyas <matyas@codasip.com>

	* : target/image: fix - p_flags field in ELF64 segment headers is 64
	bits wide Fixed the reading of p_flags in ELF64 segment headers - that field
	is 64 bits wide.  Change-Id: I053ca57d36efb54b7c638484acd6c7a2fbcbd05a Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6927 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-17  Markus Reiter <me@reitermark.us>

	* : tcl/target/stm32l4x: align format/order/comments with stm32f4x Change-Id: Ie97bb2f56b582bc735c238af5f160fcb28a61eb0 Signed-off-by:
	Markus Reiter <me@reitermark.us> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6933 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-04-16  Markus Reiter <me@reitermark.us>

	* : tcl/target/stm32l4x: set default WORKAREASIZE to smallest device Change-Id: Ia8bfb664ff28bd0579492032ce513b010e71c593 Signed-off-by:
	Markus Reiter <me@reitermark.us> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6931 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2022-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : nds32: deprecate it, together with aice adapter driver The target nds32 and its companion adapter aice have not received
	any real improvement since 2013.  It has been hard to keep them
	aligned during the evolution of OpenOCD code, with no way for
	maintainers to really check if they are still working.  No real
	documentation is present for them in OpenOCD.  The arch nds32 has been dropped from Linux kernel v5.18-rc1.  Deprecate both nds32 target and aice adapter with the target of
	dropping them for v0.13.0.  Remove automatic build of aice, forcing
	user to select it.  Change-Id: Ib465d676246fa3b4e95c3d399ba9a5cf1f8b3baf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6887 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: unify flash error reporting stm32x_wait_status_busy() has two side effects in case of flash
	programming error: - reports error - clears error bit in status register Use stm32x_wait_status_busy() to report also flash error during
	target algo flash write.  While on it use more descriptive error codes in
	stm32x_wait_status_busy().  Change-Id: I6e1cffc2aa5411b918a23ed62d5194910888a9d1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6709 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: remove write alignment code Use flash infrastructure to ensure writes are halfword aligned.  Change-Id: Iddca3a256ace3486a23e1a9cb6a31c7a91ee58bf Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6707 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2022-03-25  Marc Schink <dev@zapb.de>

	* : tcl/board: Add NXP FRDM-K64F Change-Id: I4b8fbfb2948c4295c2a34d641dd59a73c512d9fa Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6884 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2022-03-18  Gabor Csapo <gaborcsapo@google.com>

	* : libusb_helper.h: Increase USB timeout When we debug a target that works as a USB device, halting the
	target causes the USB communication with the USB host to become
	unresponsive. The host will try to reconnect/reset/setup the
	unresponsive device during which communication with other devices on
	the same USB bus can get stalled for several seconds.  If the JTAG
	adapter is on the same bus, we need to make sure openOCD will wait
	for packets at least as long as the host USB stack. Otherwise the
	USB stack might deliver a valid packet, but openOCD would ignore it
	due to the timeout. The xHCI spec uses 5 sec timeouts, so let's use
	that in openOCD with some margin.  Use this value in all libusb calls. HID API might have a libusb
	backend and would probably be victim to the same bug, so it should
	use this timeout, too.  Ticket: https://sourceforge.net/p/openocd/tickets/343/
	Signed-off-by: Gabor Csapo <gaborcsapo@google.com> Change-Id:
	Ia3dc1356e676fe550f57a4c72f7a24ba296b6af2 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6882 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/bits: add BIT_ULL and GENMASK macros To support 64 bits bit and masks Replace local definition of BIT in
	rtos/chromium-ec Change-Id: I1f268d6e8790f1b07bf798680b797878ce81064b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6857 Tested-by: jenkins

2021-06-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_tpiu_swo: fix autodetection of SWO pin frequency While the documentation reports that SWO pin frequency can be
	omitted to let the adapter autodetect the value, the code wrongly
	drops an error when pin frequency is not specified.  Don't require the pin frequency to be set at "enable", but verify
	that the adapter has properly changes it to a valid value.  Change-Id: I3dfbe3256e8887ef4f03512769b06381cdc9db0d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Karl Palsson
	<karlp@tweak.net.au> Fixes: 184724d14e12 ("arm_tpiu_swo: add support
	for independent TPIU and SWO") Reviewed-on:
	https://review.openocd.org/c/openocd/+/6310 Tested-by: jenkins
	Reviewed-by: zapb <dev@zapb.de>

2022-03-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : semihosting: fix mode flags for local host open() Commit dbbac5f11d66 ("semihosting: use open mode flags from GDB, not
	from sys/stat.h") fixes the conversion of the mode flags from ARM
	semihosting encoding for SEMIHOSTING_SYS_OPEN to GDB mapping for
	open().  Doing this, it breaks the conversion to local host's OS
	mapping for open().  Split the conversion array to one for GDB and one for local host.
	The local host conversion array is taken directly from the old code.  Change-Id: I385321ddd32c3ac5cf6da3f1ce9eff76b05dd527 Fixes:
	dbbac5f11d66 ("semihosting: use open mode flags from GDB, not from
	sys/stat.h") Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reported-by: Erhan Kurubas
	<erhan.kurubas@espressif.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6870 Tested-by: jenkins

2021-06-13  Marc Schink <dev@zapb.de>

	* : target: Rework 'set' variable of break-/watchpoints The 'set' variable name suggests a boolean data type which
	determines whether a breakpoint (or watchpoint) is active. However,
	it is also used to store the number of the breakpoint.  This encoding leads to inconsistent value assignments: boolean and
	integer values are mixed. Also, associated hardware comparator
	numbers, which are usually numbered from 0, cannot be used directly.
	An additional offset is required to store the comparator numbers.  In order to make the code more readable and the value assignment
	more consistent, change the variable name to 'is_set', its data type
	to 'bool' and introduce a dedicated variable for the
	break-/watchpoint number.  In order to make the review easier, the data types of various
	related variables (e.g. number of breakpoints) are not changed.  While at it, fix a few coding style issues.  Change-Id: I2193f5639247cce6b80580d4c1c6afee916aeb82 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6319 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-16  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/stm32u5x: fix clock config used at 'reset init' Change-Id: If004a04b93be47439809ea3fa336b14de7a12277 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6597 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2020-04-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : semihosting: permit redirection of semihosting I/O to TCP This command permits the usage of a TCP port to perform debug and
	stdio operations:  - debug : READC, WRITEC and WRITE0  - stdio : READ, WRITE This will permit the separation of semihosting message from OpenOCD
	log, and separate semihosting messages per core.  syntax: arm semihosting_redirect (disable | tcp <port>
	[debug|stdio|all]) this allows to select which operations to be performed via TCP
	(debug, stdio or all (default)).  Note: for stdio operations, only I/O from/to ':tt' file descriptors
	are redirected.  tested using netcat on ubuntu Change-Id: I37053463667ba109d52429d4f98bc98d0ede298d Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5562 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: simplify logic to enable/disable gdb_log_callback() GDB client cannot always display generic messages from OpenOCD.  The
	callback gdb_log_callback() is continuously added and removed to
	follow the GDB status and thus enabling/disabling sending the
	OpenOCD output to GDB.  While this is a nice stress test for
	log_{add,remove}_callback(), it is also a waste of computational
	resources that could impact the speed of OpenOCD during GDB user
	interactions.  Add a connection-level flag to enable/disable the log callback and
	simply change the flag instead of adding/removing the callback.  Use an enum for the flag instead of a bool. This improves code
	readability and allows setting other states, e.g. keep-alive through
	asynchronous notification https://review.openocd.org/4828/ Change-Id: I072d3c6928dedfd0cef0abe7acf9bdd4b89dbf5b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6839 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-01-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : log: drop global current_time The value of this variable is not shared across functions, so the
	variable can be local.  Change-Id: I00b0444209e81c07bb57fb732f47052ad0596728 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6837 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-02-25  Marc Schink <dev@zapb.de>

	* : Remove all occurrences of 'mem2array' and 'array2mem' Replace deprecated commands 'mem2array' and 'array2mem' with new Tcl
	commands 'read_memory' and 'write_memory'.  Change-Id: I116d995995396133ca782b14cce02bd1ab917a4e Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6859 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-06-07  Marc Schink <dev@zapb.de>

	* : target/tcl: Add 'read_memory' and 'write_memory' These functions are meant as replacement for 'mem2array' and
	'array2mem'.  The main benefits of these new functions are:  * They do not use Tcl arrays but lists which makes it easier    to parse (generate) the data. See the Python Tcl RPC code    in contrib as a negative example.   * They do not operate on Tcl variables but instead return (accept)    the Tcl list directly. This makes the C and Tcl code base    smaller and cleaner.   * The code is slightly more performant when reading / writing    large amount of data. Tested with a simple Python Tcl RPC    benchmark.  Change-Id: Ibd6ece3360c0d002abaadc37f078b10a8bb606f8 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6307 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-21  Sean Anderson <sean.anderson@seco.com>

	* : board: Add LS1046ARDB This adds support for the LS1046A Reference Design Board. There are
	several JTAG headers accessable once the case is opened, but this
	config is for the externally-accessable CMSIS DAP.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	I0f83470da3758f0c4512ce47348c4db7de17b27e Reviewed-on:
	https://review.openocd.org/c/openocd/+/6855 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-03-03  Marc Schink <dev@zapb.de>

	* : flash/nor/efm32: Use Cortex-M 'core_info' field Change-Id: I5e477036e5cb7518c35df88878d53261311deb40 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6868 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-24  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32h7x: fix FLASH_WPSN_PRG mask used for protection STM32H7Ax/7Bx devices have a different WPSN mask (0xFFFFFFFF), (0xFF
	for STM32H74x/75x and STM32H72x/73x devices).  And when supporting STM32H7Ax/7Bx devices, stm32x_protect() was not
	updated accordingly.  Change-Id: I081217af3e5ed815b67bfdfec7f4ebaa3152a865 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Fixes: 0b7eca17691a
	(flash/stm32h7x: add support of STM32H7Ax/H7Bx devices) Reviewed-on:
	https://review.openocd.org/c/openocd/+/6858 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2022-03-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: don't use 'set' to retrieve the value of a variable Original TLC syntax uses 'set varname' to retrieve the value of
	variable 'varname'. Such archaic syntax is still valid, but the
	shorter '$varname' makes the code easier to read.  Replace 'set varname' with '$varname'.  While there, remove some
	useless curly brackets.  Change-Id: I27310e8c05afe56ea8bd0e41d4ae2c34447b725c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6863 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2022-01-03  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Add AM625 SoC Add support for the latest in TI k3 family AM625 SoC.  For further details, see https://www.ti.com/lit/pdf/spruiv7 Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	Ia54d0eab1c30a973afb1c2c61f4c5a72d29d9b78 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6798 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-14  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Add J721S2 SoC Add support for the latest in TI k3 family J721S2 SoC.  For further details, see http://www.ti.com/lit/pdf/spruj28 Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I608ab4513ffb6b5c4166ba423e7d0dddbbb3bbfd Reviewed-on:
	https://review.openocd.org/c/openocd/+/6796 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-04  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Add a gdb-attach event hook for r5 and
	simplify startup function Since we can detect the type of target as well, make the attach
	function name generic for the follow on cleanup patch on armv8 to
	use as well.  Lets introduce gdb-attach event in a much cleaner fashion. We can
	introduce a simpler r5_up function since we now have more
	descriptive core names making the individual descriptive procs
	redundant.  NOTE: we add a halt 1000 to retain the default gdb-attach hook
	behavior Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I31506bb2b86e63638082640eb72aa7c4c9575e93 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6617 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-01  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Rename m4 target as general purpose mcu The MCU is present on few of the SoCs and is meant as General
	Purpose (GP) MCU of the system. Lets rename it to make clear what we are
	debugging - esp when multiple MCUs are present in the system.  Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I16132d321daf6e9b1d893fe6f92026d5aa9eb152 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6619 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-01  Nishanth Menon <nm@ti.com>

	* : tcl/target/ti_k3: Add a gdb-attach event hook for m3 and m4 Add gdb-attach event to call the "up" function of m3 and m4 allowing
	for more seamless integration with gdb for end users. We still
	retain _up functions for non-gdb functionality.  NOTE: we add a halt 1000 to retain the default gdb-attach hook
	behavior Suggested-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Nishanth Menon <nm@ti.com> Change-Id:
	I2e51fdbd8756f156551e589c748c3a338afa655c Reviewed-on:
	https://review.openocd.org/c/openocd/+/6615 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-25  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: use LOG_TARGET_XXX Change-Id: I8be0f67442644031e6e8df3090d81af195caf82b Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6672 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/stm32f1x,f2x: fix endianess in slow fallback flash write Use target_write_memory() instead of target_write_u16() Change-Id: I2389fe7a5fa18c9bc9c1aad8b8ddd64608bf2566 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6705 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-22  Marc Schink <dev@zapb.de>

	* : target/arm_tpiu: Fix 'tpiu create' parameter check The current implementation crashes when executing 'tpiu create'
	without an object name due to an invalid memory access. Pass 'argv'
	instead 'goi.argv' to fix the problem.  While at it, match the style of the error message to the style used
	for other Tcl commands. Especially, make the 'name' parameter
	mandatory.  Change-Id: Ib2b233f8556934af61608ae93d6405585c2c40b7 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6329 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-06-04  Marc Schink <dev@zapb.de>

	* : target/tcl: Add get_reg function Change-Id: Id1be9554d1df2c07cec3161a0fd3a586fdf18246 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5312 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-28  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: fix maybe-uninitialized compiler error using gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0 we get: error:
	retval may be used uninitialized in this function fixes: 13cd75b6ecfd (flash/nor/stm32xx: fix segfault accessing
	Cortex-M part number) Change-Id:
	I897c40c5d2233f50a5385d251ebfa536023e5cf7 Signed-off-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6861 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2022-02-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: fix double free Commit 6541233aa78d ("Combine register lists of smp targets.")
	unconditionally assigns the output pointers of the function
	smp_reg_list_noread(), even if the function fails and returns error.
	This causes a double free from the caller, that has assigned NULL to
	the pointers to simplify the error handling.  Use local variables in smp_reg_list_noread() and assign the output
	pointers only on success.  Change-Id: Ic0fd2f26520566cf322f0190780e15637c01cfae Fixes:
	6541233aa78d ("Combine register lists of smp targets.") Reported-by:
	Michele Bisogno <michele.bisogno.ct@renesas.com> Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6852 Tested-by: jenkins
	Reviewed-by: Michele Bisogno <michele.bisogno.ct@renesas.com>
	Reviewed-by: Tim Newsome <tim@sifive.com>

2022-02-14  Sean Anderson <sean.anderson@seco.com>

	* : target: ls1088a: Add service processor Normally the service processor is not necessary for debugging.
	However, if you are using the hard-coded RCW or your boot source is
	otherwise corrupt, then the general purpose processors will never be
	released from hold-off. This will cause GDB to become confused if it
	tries to attach, since they will appear to be running arm32
	processors. To deal with this, we can release the CPUs manually with
	the BRRL register. This register cannot be written to from the axi
	target, so we need to do it from the service processor target. This
	involves halting the service processor, modifying the register, and
	then resuming it again. We try and determine what state the service
	processor was in to avoid resuming it if it was already halted.  The reset vector for the general purpose processors is determined by
	the boot logation pointer registers in the device configuration
	unit.  Normally these are set using pre-boot initialization
	commands, but if they are not set then they default to 0. This will
	cause the CPU to almost immediately hit an illegal instruction. This
	is fine because we will almost certainly want to attach to the
	processor and load a program anyway.  I considered adding this as an event handler for either gdb-attach
	or reset-init. However, this command shouldn't be necessary most of
	the time, and so I don't think we should run it automatically.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	I1b725292d8a11274d03af5313dc83678e10e944c Reviewed-on:
	https://review.openocd.org/c/openocd/+/6850 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-02-11  Sean Anderson <sean.anderson@seco.com>

	* : cpld: altera-epm240: Increase adapter speed According to the datasheet, the minimum clock period with Vccio1 =
	1.5V (the lowest voltage supported) is 143ns, or around 6MHz. Set
	the default adapter speed to 5 MHz.  Signed-off-by: Sean Anderson <sean.anderson@seco.com> Change-Id:
	I21cad33fa7f1e25e81f43b5d2214d1fa4ec924de Reviewed-on:
	https://review.openocd.org/c/openocd/+/6847 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-25  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32xx: fix segfault accessing Cortex-M part number Some of STM32 flash drivers read Cortex-M part number from
	cortex_m->core_info.  In corner cases the core_info pointer was
	observed uninitialised even if target_was_examined() returned true.
	See also [1] Use the new and safe helper to get Cortex-M part number.  While on it switch also target_to_cm()/target_to_armv7m() to the
	safe versions. This prevents a crash when the flash bank is
	misconfigured with non-Cortex-M target.  Add missing checks for target_was_examined() to flash probes.  [1] 6545: fix crash in case cortex_m->core_info is not set     https://review.openocd.org/c/openocd/+/6545 Change-Id: If2471af74ebfe22f14442f48ae109b2e1bb5fa3b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Fixes: f5898bd93ff8 (flash/stm32fxx.c:
	do not read CPUID as this info is stored in cortex_m_common)
	Reviewed-on: https://review.openocd.org/c/openocd/+/6752 Tested-by:
	jenkins Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-11-24  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m,cortex_m: introduce checked arch_info cast
	routines target_to_armv7m() and target_to_cm() do not match the magic number
	so they are not suitable for use outside of target driver code.  Add checked versions of pointer getters. Match the magic number to
	ensure the returned value points to struct of the correct type.  Change-Id: If90ef7e969ef04f0f2103e0da29dcbe8e1ac1c0d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6750 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-17  Simon Johansson <ampleyfly@gmail.com>

	* : flash/nor/stm32f2x: Fix erase of bank 2 sectors This commit corrects the erase function for stm32f2x when dealing
	with sectors in bank 2, for STM32F42x/43x devices with 1MB flash.  On STM32F42x/43x with 1MB flash in dual bank configuration, the
	sector numbering is not consecutive. The last sector in bank 1 is
	number 7, and the first sector in bank 2 is number 12.  The sector
	indices used by openocd, however, _are_ consecutive (0 to 15 in this
	case). The arguments "first" and "last" to stm32x_erase() are of
	this type, and so the logic surrounding sector numbers needed to be
	corrected.  Since the two banks in dual bank mode have the same
	number of sectors, a sector index in bank 2 is larger than or equal
	to half the total number of sectors.  Change-Id: I15260f8a86d9002769a1ae1c40ebdf62142dae18 Signed-off-by:
	Simon Johansson <ampleyfly@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6810 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2022-01-27  Ben McMorran <bemcmorr@microsoft.com>

	* : rtos: threadx: Add hla_target support for ThreadX Tested with an AZ3166 dev board (which uses the STM32F412ZGT6)
	running the Azure RTOS ThreadX demonstration system.  Signed-off-by: Ben McMorran <bemcmorr@microsoft.com> Change-Id:
	I44c8f7701d9f1aaa872274166321cd7d34fb1855 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6829 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-27  Tim Newsome <tim@sifive.com>

	* : Fix small memory leak.  See https://github.com/riscv/riscv-openocd/pull/672 Change-Id: Ia11ab9bcf860f770ea64ad867102c74b898f6b66 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6831 Tested-by: jenkins
	Reviewed-by: zapb <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-04-06  Jacek Wuwer <jacekmw8@gmail.com>

	* : Cadence virtual debug interface (vdebug) integration Change-Id: I1bc105b3addc3f34161c2356c482ff3011e3f2cc Signed-off-by:
	Jacek Wuwer <jacekmw8@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6097 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de> Reviewed-by:
	zapb <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-12-16  Tim Newsome <tim@sifive.com>

	* : target/riscv: revive 'riscv resume_order' This functionality was lost in [1], which was merged as commit
	615709d14049 ("Upstream a whole host of RISC-V changes.").  Now it
	works as expected again.  Add convenience macro foreach_smp_target_direction().  Link: [1] https://github.com/riscv/riscv-openocd/pull/567 Change-Id:
	I1545fa6b45b8a07e27c8ff9dcdcfa2fc4f950cd1 Signed-off-by: Tim Newsome
	<tim@sifive.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6785 Tested-by: jenkins

2021-12-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/smp: use a struct list_head to hold the smp targets Instead of reinventing a simply linked list, reuse the list helper
	for the list of targets in a smp cluster.  Using the existing
	helper, that implements a double linked list, makes trivial going
	through the list in reverse order.  Change-Id: Ib36ad2955f15cd2a601b0b9e36ca6d948b12d00f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6783 Tested-by: jenkins

2022-01-09  Pavel Kirienko <pavel.kirienko@gmail.com>

	* : semihosting: use open mode flags from GDB, not from sys/stat.h Values defined in sys/stat.h are not guaranteed to match the
	constants defined by the GDB remote protocol, which are defined in

	https://sourceware.org/gdb/onlinedocs/gdb/Open-Flags.html#Open-Flags.On my local system (Manjaro 21.2.1 x86_64), for example, O_TRUNC is
	defined as 0x40, whereas GDB requires it to be 0x400, causing all
	"w" file open modes to misbehave.  This patch has been tested with STM32F446.  Change-Id: Ifb2c740fd689e71d6f1a4bde1edaecd76fdca910 Signed-off-by:
	Pavel Kirienko <pavel.kirienko@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6804 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-12  Julien Massot <julien.massot@iot.bzh>

	* : aarch64: support for aarch32 ARM_MODE_UND Fix: unrecognized psr mode: 0x1b cannot read system control register
	in this mode: (UNRECOGNIZED : 0x1b) Change-Id: I4dc3e72f90d57e52c0fe63cb59a7529a398757b3 Signed-off-by: Julien Massot <julien.massot@iot.bzh> Change-Id:
	Ifa5d21ae97492fde9e8c79ee7d99d8a2a871b1b5 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6808 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2022-01-21  Hans-Erik Floryd <hans-erik.floryd@rt-labs.com>

	* : flash/nor/atsame5: add LAN9255 devices Support Microchip LAN9255 devices with embedded SAME53J MCU.  Signed-off-by: Hans-Erik Floryd <hans-erik.floryd@rt-labs.com>
	Change-Id: Ia811c593bf7cf73e588d32873c68eb67c6fafad7 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6811 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2021-12-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: use target_event_name() We have the API target_event_name().  Use it to improve code
	readability.  Change-Id: Ic48d2227bdefe9af05aff99a871a45e0612e5254 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6790 Tested-by: jenkins

2021-11-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : aarch64: dump a message when CTI is missing If the CTI is not specified OpenOCD fails target's examination
	without indicating the reason.  Drop an error message about the missing CTI.  Change-Id: I344537fb21cf38785796ba938e71890e04135509 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6788 Tested-by: jenkins

2021-10-25  Doug Brunner <doug.a.brunner@gmail.com>

	* : flash/nor/efr32: fixed lockbits and user data Changed flash driver to support writing to the user data page, as
	well as to any portion of the lockbits page above 512 bytes (the
	amount used for the actual page lock words). The top part of the
	lockbits page is used on at least the EFR32xG1 chips for the SiLabs
	bootloader encryption keys.  As presented to the user, the lockbits page is the same size as the
	other pages, but any attempt to write to its low 512 bytes is an
	error. To enforce this, efr32x_write is renamed to efm32x_priv_write
	and a wrapper function is provided in its place. If the user erases
	the lockbits page, the driver rewrites the cached lock words after
	the erase. When the driver erases the lockbits page in order to
	update the lock words, it first takes a copy of anything stored in
	the top part of the page, and re-programs it after the erase
	operation.  There are now multiple instances of flash_bank for each target, and
	the flash_bank instances must share their cached lock words to
	operate as intended. Therefore, when a bank is created, the global
	flash bank list is used to find any other banks that share the same
	target. Since some banks in the global list are invalid at the time
	free_driver_priv is called, reference counting is used to decide
	when to free driver_priv.  To avoid the need to find the lockbits flash_bank from another
	flash_bank, efm32x_priv_write and efm32x_erase_page now take an
	absolute address.  There didn't seem to be any reason to prohibit unprotecting
	individual flash pages, so that limitation is removed from
	efm32x_protect().  This addresses ticket #185.  Valgrind-clean, except for 2x 4kiB not freed/still reachable blocks
	that were allocated by libudev.  No new Clang analyzer warnings, no
	new sanitizer warnings.  Signed-off-by: Doug Brunner <doug.a.brunner@gmail.com> Change-Id:
	Ifb22e6149939d893f386706e99b928691ec1d41b Reviewed-on:
	https://review.openocd.org/c/openocd/+/6665 Tested-by: jenkins
	Reviewed-by: Fredrik Hederstierna <fredrik.hederstierna@gmail.com>
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-12-16  Marc Schink <dev@zapb.de>

	* : contrib/udev: Add missing J-Link USB PID See libjaylink/contrib/99-libjaylink.rules Change-Id: I36733e18eb4bc11828c5fa563c687d28be9e34bd Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6778 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-12-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : semihosting: use macro COMMAND_HANDLER We have the macro         #define COMMAND_HANDLER(name) \                 static __COMMAND_HANDLER(name) Use it! Change-Id: I0e5385cb54197c743348f0d2ce215c93b8e396a4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6786 Tested-by: jenkins

2021-12-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: add keep_alive during command sleep The command sleep holds the host CPU until it completes.  Send
	keep_alive to GDB, so it will not timeout.  Change-Id: I92e9c5fc871b4e6a7695cdc449ca9fb3c1f1d9ec Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6770 Tested-by: jenkins
	Reviewed-by: Jan Matyas <matyas@codasip.com>

2021-12-08  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/vsllink: fix memory leak Close libusb context in vsllink_quit() Change-Id: I85da8d7228b1b2b033a32b2f9ae9ed0726546b55 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6766 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-12-02  Bohdan Tymkiv <bohdan200@gmail.com>

	* : target/arm_jtag.h: fix wrong comparison in arm_jtag_set_instr Change [1] introduced a regression that results in comparison in
	arm_jtag_set_instr() to be always true if the length of the IR
	register is not 8 bit. The value on the left side of the != operator
	contains only tap->ir_length number of bits while value on the right
	is full 8-bit instruction code.  This forces OpenOCD to update the JTAG IR register on each
	transaction even if the instruction in the JTAG IR register is
	correct. This causes noticeable performance degradation, especially
	with slow JTAG adapters.  [1] https://review.openocd.org/c/openocd/+/6285 time ./src/openocd -s tcl/ -f interface/cmsis-dap.cfg \   -c "transport select jtag" -f target/psoc6.cfg \   -c "init; load_image data.bin 0x08000000; exit" Without this change: real    0m4,863s user    0m0,074s sys
	0m0,128s With this change: real    0m3,083s user    0m0,038s sys     0m0,098s Signed-off-by: Bohdan Tymkiv <bohdan200@gmail.com> Change-Id:
	Iaded83a04ecc7e65f18256afae582267ccc1fc59 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6762 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-11-23  Joerg Wunsch <openocd@uriah.heep.sax.de>

	* : Add Microchip SAME51 Curiosity Nano board This board is (software wise) similar to the existing SAME54
	Xplained Pro board, with just a slightly different MCU. (Hardware
	wise, it features a vastly different form factor.) Signed-off-by: Jrg Wunsch <openocd@uriah.heep.sax.de> Change-Id:
	I5e5435d49d333fb74471994ee84de59ed983153c Reviewed-on:
	https://review.openocd.org/c/openocd/+/6747 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Axel W.  Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-22  Jan Matyas <matyas@codasip.com>

	* : doc: Update doc for commands "riscv expose_csrs" and "riscv
	expose_custom" These commands were extended/improved in the last drop of RISC-V
	target updates. Update also the documentation to properly describe
	how the commands should be used now.  Change-Id: I9e2ba6adbe1a4c032b96f5f8ff2d4791fa4c2527 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6738 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tim Newsome <tim@sifive.com>

2021-11-22  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc/openocd.texi: Document command mode command Document "command mode" command Server Configuration ->
	Configuration Stage.  The text is taken from command's help string.  In addition to the help string, this commit explain the words
	mismatch, the doc uses "stage" but the command and source code uses
	"mode" to describe the same thing.  Change-Id: I1d5fc8c64a3a0b07ea8430bf016bcbd54e52da1c Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6736 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-12-01  Tomas Vanek <vanekt@fbl.cz>

	* : doc: document noinit command Change-Id: I915c7d3231935fd44407b5fa65d86d4cb93e8db5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6761 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5_swd: add jtag-to-swd through dormant ARM IHI 0031A does not support SWJ-DP, so no switch between JTAG and
	SWD is considered.  ARM IHI 0031B is not publicly available and it's
	reported as "Confidential Beta" in the history list in following doc
	versions.  From ARM IHI 0031C the direct switch between JTAG and SWD
	is already deprecated in favor of passing through dormant mode. With
	no access to IHI 0031B we haven't info if any device strictly
	requires the direct switch.  OpenOCD implements only the deprecated direct switch, so changing it
	could cause regression on devices that do not implement dormant
	mode.  Plus, not all the adapters support dormant mode.  Nevertheless there are already target devices that only allow
	entering in SWD by passing through dormant.  Let the code try both method, alternating one tentative with the
	deprecated legacy direct switch, then another tentative passing
	through dormant, and repeat till timeout.  This would work on any
	device that don't support dormant, on new devices that require
	switch through dormant and will work with adapters that don't
	support dormant.  Change-Id: Ib8619635277d497872079a33fa4e38be9beb84a0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6695 Tested-by: jenkins

2021-06-03  Jan Matyas <matyas@codasip.com>

	* : gdb_server: added and improved several debug prints Added and improved several prints related to the GDB connection and
	various error states that may occur in relation to this connection.  Change-Id: I233246190b613cc925b783561cfa3aa5267360fd Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6288 Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-11-08  Tim Newsome <tim@sifive.com>

	* : flash/nor/fespi: algorithm, large address, errors * Move more smarts into the target algorithm code, and rewrite that
	  in C so it's easier to understand/maintain.  * Support >24-bit addresses.  * Check for errors.  Change-Id: I3b1a143589fe6defafb8f95820aa682acc9646e7 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6679 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-22  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc/openocd.texi: Document add_help_text and add_usage_text Document add_help_text and add_usage_text under Genral Commands ->
	Misc Commands.  The text are taken from command's help strings.  Change-Id: I2bbbee8e5faa8d9654227c304e0528f5144275e8 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6734 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-20  Tomas Vanek <vanekt@fbl.cz>

	* : doc: fix list of supported nRF52 devices Change-Id: I64d6d851dd9333689556b7062b1ff38d41b5ad32 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6731 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-20  Tomas Vanek <vanekt@fbl.cz>

	* : doc: document 'atsamv gpnvm' command Change-Id: I922c75e2d074447558f85bfda5421aa24a850be1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6729 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-20  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/kinetis_ke: add .help fields for tcl commands Add help texts from similar driver kinetis.c While on it fix one existing help: the flash is obviously not NAND Change-Id: Ibd295105586b008aaabf2fb4e4a75bf551266e38 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6727 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: stm32mp13x: add target and board config files The stm32mp13x has one core Cortex-A7.  The board Discovery Kit includes an on-board STLink-V3 with SWD
	connection.  The webpage of the board is not active yet.  Change-Id: I8836b26612a160ead79766955ebefaf3d21a329c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6675 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-25  Doug Brunner <doug.a.brunner@gmail.com>

	* : flash/nor/efm32: fixed BG1x identification The EFM32 flash driver misidentifies the EFR32BG1B on my board as
	EFR32MG1B.  Looks like this was caused by a copy-paste error, fixed.  Signed-off-by: Doug Brunner <doug.a.brunner@gmail.com> Change-Id:
	I3067f7ba132c2562487da8c2371f63a4843230c1 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6666 Tested-by: jenkins
	Reviewed-by: Fredrik Hederstierna <fredrik.hederstierna@gmail.com>
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-10-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/hla, jtag/stlink: switch to command 'adapter serial' The driver hla defines the command 'hla_serial' to specify the
	serial string of the adapter.  The driver st-link defines the
	command 'st-link serial' to specify the serial string of the
	adapter.  Remove and deprecate the driver commands and use 'adapter serial'.  Change-Id: I9505c398a77125b1ebf4ba71da7baf4d663b75be Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6657 Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/xds110: switch to command 'adapter serial' The driver xds110 defines the command 'xds110 serial' to specify the
	serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Note: the original command 'xds110 serial' used a complex and
	undocumented conversion of the serial number through multibyte
	string, wide-character string and C cast. The XDS110 I can access
	and the lsusb dumps available through Google don't show any exotic
	USB serial that require such conversion. The original developer
	doesn't remember any constraint that mandates such conversion (see
	comments in https://review.openocd.org/4322/).  The conversion is
	removed by this patch.  Change-Id: I38909918079b2c1797ad85ebec2fea1b33743606 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6655 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/presto: switch to command 'adapter serial' The driver presto defines the command 'presto serial' to specify the
	serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Change-Id: I1a69acce7d4910082d2029d5941ae84f9424314c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6653 Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/ftdi: switch to command 'adapter serial' The driver ftdi defines the command 'ftdi serial' to specify the
	serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Change-Id: Ia5b1f325b9fab8f58b5ea70f8b807e50b148b939 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6651 Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/cmsis_dap: switch to command 'adapter serial' The driver cmsis_dap defines the command 'cmsis_dap_serial' to
	specify the serial string of the adapter.  Remove and deprecate the driver command, and use 'adapter serial'.  Change-Id: I88e2d4de360a6c6f23529bb18494962a267250df Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6649 Tested-by: jenkins

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/adapter: add command 'adapter serial' Several adapter define their own command to specify the USB serial
	number or serial string to be used during USB search.  Define a general command 'adapter serial' to be proposed as
	replacement of the driver specific ones.  No driver is changed so
	far to use it.  Change-Id: I7631687a4163ccc63a9bdf3ad1fcb300fc483d3a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6647 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix typos in commands definition Change-Id: Ie07260f229c6bd227bae0bf3dd97d29bf84c72ec Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6725 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: remove non-existing command swd wcr The commands has been dropped in commit 150b7d26f213 ("arm_adi_v5:
	Update DP (Debug Port) registers defined in ADIv5.2.") but the
	documentation still keeps it.  Remove it! Change-Id: I4e88f481d943f064d919f8065562052244122bf0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 150b7d26f213
	("arm_adi_v5: Update DP (Debug Port) registers defined in ADIv5.2.")
	Reviewed-on: https://review.openocd.org/c/openocd/+/6722 Tested-by:
	jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/psoc6: initialize usage field The missing initialization triggers a run-time error message:         Error: BUG: command 'psoc6 reset_halt' does not have the
	                '.usage' field filled out Change-Id: I975e4ba99bd939aa924a9d62b1ab76b2ab5bf193 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6720 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: declare struct command_registration in a single line To simplify scripts to compare documentation and registered
	commands.  Change-Id: I3bed5ba80ea8be1fd615697e80d66b42d7b45fd1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6718 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: use single line for register_commands*() Do not split in multiple lines the calls to register_commands*().
	No change in code behaviour, just make it easy to grep in the code
	and identify the commands that can be registered.  This would help
	detecting undocumented commands.  Change-Id: Id654e107cdabf7ee31fc3d227c1d2a59acc5669e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6716 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-04-06  Tomas Vanek <vanekt@fbl.cz>

	* : target/adi_v5_swd: add support for SWD multidrop Based on Graham Sanderson's http://review.openocd.org/4935 Unlike Graham Sanderson's version this patch does not add any
	multidrop specific queuing.  Multidrop SWD is handled mostly by the same code as single SWD, just
	a selection sequence is prepended to a SWD operation as needed.  This is a minimal working implementation without checking for
	configuration errors (mixing multidrop and non multidrop DPs,
	multiple use of the same selection id etc...).  Multidrop switching likely demands changes in the adapter code.  Change-Id: I99a5742c209b49c0483e800f6105cb5e59a897d9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6141 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-15  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_dap: clean up dap_configure code dap_configure() contained first time init related tasks, as the call
	to dap_init_instance() and the check for configured tap.  Move all first time init related stuff to dap_create() to make
	dap_configure() usable in eventual stand-alone 'dap configure'
	command.  Change-Id: Ia86eadb4e960ce54e8581630d01af75720d2318d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6702 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2021-11-12  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/bitbang: add support for SWD multidrop Ignore ack received after DP_TARGETSEL write to prevent false error.  This change also fixes a bug: Received ACK FAULT or JUNK value were
	incorrectly stored to queued_retval and later used as
	bitbang_swd_run_queue() error return.  Use LOG_ERROR for parity mismatch.  Change-Id: I5ff1f658f221af78d8bbec8416a7a0fc64ba2550 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6700 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-12  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/swd: add support for SWD multidrop According to ARM IHI0031C+ chapter 2.3.11 "TARGETSEL, Target
	Selection register" multidrop capable DPv2 must not drive SWDIO line
	during the response phase of a write to TARGETSEL register.  Introduce helper functions swd_cmd_returns_ack() and
	swd_ack_to_error_code() to centralize these tests from all drivers
	to one place.  Introduce distinct error codes for SWD protocol.  Partly inspired by Graham Sanderson's http://review.openocd.org/4935 Change-Id: Ie5f9edb22e066a933a534bf2b29e7e1d3087dad1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6699 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-11-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : jtag/hla_layout: add #include <target/arm_tpiu_swo.h> hla_layout.h uses explicitly tpiu_pin_protocol enum defined in
	arm_tpiu_swo.h.  To make this header file consistent, add the
	missing include.  Change-Id: Ibecc279da8d6859ced2b8377e812554c747d81bb Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6687 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-10-12  Tim Newsome <tim@sifive.com>

	* : target: Use target_addr_t for algorithm addresses.  Otherwise 64-bit addresses can't work.  Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	Id9f92ff8a1602153cc06810bcf515a9d0a89c81b Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6662 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-11-04  Jan Matyas <50193733+JanMatCodasip@users.noreply.github.com>

	* : riscv: Regenerated debug_defines.h and encoding.h The main intention is to get access to some of the CSRs that were so
	far unknown to OpenOCD (tinfo, mcountinhibit, ...).  https://github.com/riscv/riscv-openocd/pull/659 Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I824fdb558d5c1f73432b0f56f3b0b4d865eceeba Reviewed-on:
	https://review.openocd.org/c/openocd/+/6682 Tested-by: jenkins
	Reviewed-by: Jan Matyas <matyas@codasip.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5_swd: add comment to describe debug flag 'do_sync' Change-Id: I1f7f0eed7a6e3626f5fde841ec7fa1d29906db29 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6696 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : jlink: add support to switch to/from dormant state Change-Id: Ifeda21ab7a40926166045f211b9e772aedff715d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6692 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : cmsis_dap: add support for dormant-to-jtag Change-Id: I4a51f3772cd94d7dda5a66a1d13acd24d0d0c63c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6690 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-11-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: Restore fast register reads if no polling is needed If the target is in a state where S_REGRDY polling is necessary
	(slow clock, low power state...?), OpenOCD will continue to use the
	slow path even if the condition is temporary and the target at a
	later point would be capable of fast reads again.  Revert to fast reads if a full register dump can be made without
	need for polling any of the registers; presumably it will succeed
	the next time too.  Change-Id: I557f0d90b7ce6f9d81aa409b6400fc9c83d16008 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6678 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2019-10-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: poll S_REGRDY on register r/w Accordingly to arm documentation [1], chapter C1.6.4, the operation
	to read/write from/to core registers can require time, and the
	specific flag DHCSR.S_REGRDY has to be polled to verify that the
	operation has been completed.  The lack of check on S_REGRDY causes
	OpenOCD to fail handling correctly the core registers on a Cortex-M4
	emulated in a slow FPGA, and it could also fail on devices clocked
	at very low speed while using a fast adapter.  Poll S_REGRDY as specified in [1] while either reading or writing
	the core registers.  A timeout of 0.5s is added. This could still be
	too small in some extremely slow cases, but at least now we log the
	timeout event, which can help tracking down such odd issue.  During
	register read include in the polling loop the read of DCRSR and to
	flush the JTAG queue only once.  During register write, relax the
	write in DCRSR by removing the atomicity that is now useless since
	followed by the atomic read to S_REGRDY.  During register read
	include the read of DCRSR inside the polling loop to relax the read
	of S_REGRDY since followed by the atomic read to DCRSR.  This change has the drawback of adding other transfers to the
	adapter while reading/writing the registers, so it is expected to
	introduce some speed degradation during step-by-step.  [1] DDI0403E - "ARMv7-M Architecture Reference Manual" Change-Id: I61f454248f11a3bec6dcf4c58a50c5c996d7ef81 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5319 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-11-08  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: use cortex_m->dcb_dhcsr in
	cortex_m_soft_reset_halt() cortex_m->dcb_dhcsr caches status of DHCSR register.  Use it instead
	of local variable in cortex_m_soft_reset_halt() like in other code.  Extracted from [1].  [1] Antonio Borneo: 6207: cortex_m: rework handling of dcb_dhcsr Link: https://review.openocd.org/c/openocd/+/6207 Change-Id:
	I9a0aeba0b6b0b4969f05f4a32fc2fc8d244f56ca Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6677 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-22  Janco Kock <janco@factorylab.nl>

	* : flash/nor/at91samd: Add SAMR35J18B support Add support for the mcu SAMR35J18B Signed-off-by: Janco <janco@factorylab.nl> Change-Id:
	I45d801485ad1c16d1b3086516a2b6d71d13f3fc7 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6664 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2021-11-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtagspi: fix build on MacOS Commit be57b0ab847e ("Update jtagspi driver for 1-, 2- and 4-byte
	addresses") introduces two incorrect format string for uint32_t data
	types.  This cause build failure on MacOS: src/flash/nor/jtagspi.c:474:35: error: format specifies type
	'unsigned char' but the argument has type 'uint32_t' (aka 'unsigned
	        int') [-Werror,-Wformat] LOG_DEBUG("status=0x%02" PRIx8, *status);         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~ src/flash/nor/jtagspi.c:513:65: error: format specifies type
	'unsigned char' but the argument has type 'uint32_t' (aka 'unsigned
	        int') [-Werror,-Wformat] LOG_ERROR("Cannot enable write to flash.
	        Status=0x%02" PRIx8, status);
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~ Fix the format string.  Change-Id: I209053317c8b26c35c6f11be0553ccccc698c551 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: be57b0ab847e
	("Update jtagspi driver for 1-, 2- and 4-byte addresses")
	Reviewed-on: https://review.openocd.org/c/openocd/+/6701
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Tested-by: jenkins

2021-10-20  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32h7x: avoid using magic numbers for device ids Change-Id: I4d682ee828404974abd9a42f98b840d77835cfe0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6669 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-11-01  Jan Matyas <matyas@codasip.com>

	* : helper/log: Add macros for target-related errors/warnings/...  This commit introduces macros for target related log entries (error, warning, ...) which is a very common operation in OpenOCD: * LOG_TARGET_ERROR * LOG_TARGET_WARNING * LOG_TARGET_INFO * LOG_TARGET_DEBUG * LOG_TARGET_DEBUG_IO The goal is to have one macro for this common operation and to make
	such log entries look the same way - to make it more readable for
	humans as well easier for parsing via scripts.  Change-Id: I6166565fc9040b03d3fca5c3aa44a1ccbcf96ad2 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6667 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: remove file driver.h The only purpose of include file driver.h was to expose the API to
	register the adapter's commands.  Move the prototype in adapter.h, already used by openocd.c.  Change-Id: Ie1090c60ef9e5bac5ea187c87bed6e7b08d9671c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6645 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: move prototype of adapter init/quit and speed to adapter.h After moved the code, align the include files.  Change-Id: I514a3020648816810d69f76c2ec4f6e52a1c57ab Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6643 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: move adapter init/quit and speed to adapter.c The configuration code for adapter parameters is spread around.  Move in adapter.c the code that handles the configuration of adapter
	speed.  For convenience, move also the functions adapter_init() and
	adapter_quit(), that anyway have no reason to be in file core.c To simplify the review, the code moved is not modified. It will be
	cleaned and adapted in the following changes.  Change-Id: I2b38975a0cd2e74d3d2de6c56ea17818ff225fd8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6641 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/core: get rid of variable 'jtag' The variable 'jtag' is set to 'adapter_driver' during adapter
	initialization and is used: - to check if adapter has been initialized; - as local copy of adapter_driver.  Introduce a static flag to check if the adapter has been already
	initialized and a convenience test function.  Use the test function
	and the original value of adapter_driver in the code and drop the
	variable 'jtag'.  Change-Id: I1b1c54d3b36d7b60390985d787c8449432788141 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6639 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-04-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: revert temporary workaround for memory leak in jimtcl
	0.80 By using jimtcl from latest master branch, the workaround added in
	commit 36ae487ed04b ("jimtcl: add temporary workaround for memory
	leak in jimtcl 0.80") is not needed anymore.  Revert the workaround.  Change-Id: Ia1b5804be15362d0400740c375455ee19ac09f04 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6228 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-10-11  Tim Newsome <tim@sifive.com>

	* : rtos: use struct member names instead of comments This is more readable, and as a bonus the compiler will help out if
	the definition of the struct changes.  Change-Id: Ibf660134d9900173f6592407d5cc2203654a4a1b Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6659 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-10-12  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Remove remaining references to FTD2XX driver This includes a USB blaster configuration that only worked with that
	low-level access and some obsolete build-tests.  Change-Id: I53d27cbf782ebbd131b1af25e358adf35f2b4500 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6660 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2021-08-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: skip rw-misc commands with TCP server The main purpose of TCP server is to allow multiple clients to
	connect and share the same physical stlink.  The commands RW MISC
	don't lock the communication between command and answer, thus cannot
	prevent another client to break this sequence. The commands are not
	supposed to be used in shared mode.  Prevent the use of RW MISC commands on a (possibly) shared TCP
	backend.  This degrades the overall performance, but the shared mode
	already adds its own overhead, so this is not really an issue.  Change-Id: I713d912a269664859c8142932a9905d24b6d3caa Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6608 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-07-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: dequeue CSW write only if it doesn't change csw_default The stlink commands for buffer read/write carry the associated CSW
	value that has to be used. We can dequeue any CSW write request and
	add the CSW in the following buffer read/write.  In preparation to next patch that uses stlink commands misc-rw
	(commands that don't handle CSW value), let's dequeue only those CSW
	write that don't change csw_default.  Keep a local cache of last csw_default.  Tag the queued CSW writes
	that change csw_default.  Dequeue only the un-tagged CSW writes.  On buffer read/write commands, limiting the dequeued CSW write
	surely adds a performance penalty. But csw_default is not changed
	often so the penalty is not significant.  Change-Id: I538d257fe3c434fc97587846d759951384327f02 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6606 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-07-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: collapse consecutive mem AP r/w in a single command Detect a sequence of memory AP operations that can be issued as a
	single stlink command.  This improves the data throughput during
	memory transfer.  Change-Id: Ifa4488513346fc7cd0c9317b7d24ef510ccfd959 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6604 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2020-02-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: expose ap number and csw in memory r/w Recent versions of stlink firmware allow accessing access port other
	than zero and setting the CSW.  Modify the internal API to provide ap_num and csw.  There is no
	interest to modify HLA to use ap_num and csw, so set and use some
	backward compatible defaults.  Change-Id: I3f6dfc6c670d19467d9f5e717c6c956db6faf7f3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6602 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-07-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: check buffer size on 16 and 32 bit memory transfer Both HLA and ADIv5 layers limit the memory transfer within blocks
	whose boundaries are aligned at 1024 or 4096 bytes.  New stlink
	firmware handle the ADIv5 TAR autoincrement, making possible to send
	memory transfers across the boundary of 1024 or 4096 byte. OpenOCD
	doesn't use this feature yet.  Use the correct buffer size in the code, even if it is not used.
	While there, split SWIM buffer size from JTAG/SWD case; stlink has a
	dedicated command to retrieve SWIM buffer size, but currently not
	implemented in OpenOCD.  Change-Id: Id46c0356ef21cead08726c044a1cd9725fd4f923 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6600 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-10-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/core: remove unused variable Commit e3f3f60a02ab ("adapter speed: require init script setting and
	centralize activation from drivers to core.c") has already dropped
	the only use of variable 'jtag_speed'.  Remove the variable.  Change-Id: Iff096df0022982cf90795aa62d6b3406203f7b14 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6638 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-09-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : hla: improve readability of struct hl_interface_s initialization The initialization is barely readable, while actually only few
	fields are set with value nor zero nor NULL.  Rewrite the initialization using C99 struct designations.  Change-Id: I4d288e6536ebe7110a184db6540223fc67361ec3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6636 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-10-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: remove 'src' prefix from #include path There is no reason to add the 'src' prefix.  Remove it.  Change-Id: Id7d7ee8b3807fb90381cc1d6d545321020bc06c1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6634 Tested-by: jenkins
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-04-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/stm32mp15x: freeze watchdog, recover SWD after power cycle Freeze the IWDG watchdog when cores are halted to prevent a reset
	while debugging.  The PMIC present on some board senses the nsrst and forces a power
	cycle to the target. The power cycle causes the SWJ-DP to restart in
	JTAG mode. If the debugger is using SWD, the mismatch triggers an
	error after the reset command.  Ignore the error detected by 'dap
	init' and proceed executing the handler. The error in 'dap init'
	will force a reconnect during the following 'dap apid', restoring
	the SWD functionality.  Change-Id: I04fcda6a5b8a1b080ab4e8890ecd0754d5ed12d9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6599 Tested-by: jenkins

2021-09-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : command: document enum command_mode Add the description to doxygen documentation.  Change-Id: Iec04b4a37088e1b3b52ca84102820f450528b5b9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6593 Tested-by: jenkins

2021-09-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/lakemont: fix dead assignment Clang scan-build complains for a dead assignment:         Value stored to 'tapstatus' is never read Remove the assignment and add a comment to point for a potential
	removal of the line.  Change-Id: Iad2fdc7e6faf650e24cc086ee74c745acb0d1c73 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6591 Tested-by: jenkins

2021-09-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_semihosting: fix two dead assignments Clang scan-build complains for two dead assignments:         Value stored to 'r' is never read Use the variable in the following line, instead of re-computing the
	pointer.  Change-Id: I5d4069872be9da85fb28bbe0a82020b90f1efe46 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6589 Tested-by: jenkins

2021-09-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/core: fix unused assignment Clang scan-build complains about a variable assigned but never used.          Although the value stored to 'val' is used in the         enclosing expression, the value is never actually read         from 'val' Remove the dead assignment. While there, reduce the scope of the
	variable by declaring the variable at the point of first use.  Change-Id: Ibe2b55a7d70597833cfa7f3d843e7c3d2407f2df Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6587 Tested-by: jenkins

2021-08-29  Yasushi SHOJI <yashi@spacecubics.com>

	* : helper: Remove src/helper from include dirs The header files under src/helper/ can currently be included with
	either     #include <bits.h>     or     #include <helper/bits.h> This is because we specify both "src/" and "src/helper/" directories
	as include directories.  Some files name under "src/helper/", such
	as types.h, log.h, and util.h are too generic and could be ambiguous
	depending on the search path.  This commit remove "src/helper/" from our include dir and make C
	files include explicitly.  Change-Id: I38fc9b96ba01a513d4a72757d40007e21b502f25 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6507 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-03-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink-dap: add 'cmd' to send arbitrary commands Either for testing new commands and to retrieve information that
	don't fit in any specific place of OpenOCD, for example monitoring
	the target's VDD power supply from a TCL script.  Change-Id: Id43ced92c799b115bb1da1c236090b0752329051 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6564 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-09-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target: reset target examined flag if target::examine() fails For example: before this change in cortex_m_examine, if we fail
	reading CPUID we return a failure code but target was set to
	examined which is not consistent.  Change-Id: I9f0ebe8f811849e54d1b350b0db506cb3fdd58f4 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6548 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/stm32wlx.cfg: comply with new jimtcl expr syntax Change-Id: I2e9fd528817b14396c7643801aeea5c8dde668e0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6557 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-09-02  Tim Newsome <tim@sifive.com>

	* : Speed up remote bitbang.  1. Use TCP_NODELAY, which makes things twice as fast.  2. Get rid of a bunch of unnecessary socket block/non-block calls,
	which improves speed another 10% or so.  Change-Id: I415db5746d55374a14564b1973b81e3517f5cb67 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6534 Tested-by: jenkins
	Reviewed-by: Jan Matyas <matyas@codasip.com> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2021-09-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_tpiu_swo: fix support for deprecated 'tpiu' command before
	'init' Commit dc7b32ea4a00 ("armv7m_trace: get rid of the old tpiu code")
	is not handling correctly the old 'tpiu' command if it is run during
	the config phase (before command 'init').  Move the call to the old event handler 'trace-config' in function
	jim_arm_tpiu_swo_enable(), so it is correctly executed after 'init'.  Add the call to the old event handler 'trace-config' also during
	jim_arm_tpiu_swo_disable(), to match the old behaviour.  Add more information while alerting that the event 'trace-config' is
	deprecated.  Change-Id: If831d9159b4634c74e19c04099d041a6e2be3f2a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: dc7b32ea4a00
	("armv7m_trace: get rid of the old tpiu code") Reviewed-on:
	https://review.openocd.org/c/openocd/+/6561 Tested-by: jenkins
	Reviewed-by: Karl Palsson <karlp@tweak.net.au>

2021-08-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add arm Neoverse N2 part numbers Change-Id: Ib7a8c9d460f12762f6d106e9331e84b6d2dec213 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6453 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add arm Cortex-R52 part numbers Extract new part numbers from Arm Cortex-R52 Processor Technical
	Reference Manual Revision r1p3 and add them to the array
	dap_partnums.  Change-Id: I8020f36de587951af60422ef33d7e438dc7d9d53 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6451 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: add helper to search for part number Improve code readability and prepare to re-use the helper.  Change-Id: Iee5e01047c82be3dd86707f5c283f0b20cc4070d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6449 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: simplify handling of AP type The complete AP type should include 'class' and 'manufacturer'.  Cleanup the definition of AP type from AP_REG_IDR register.  Include
	the check of 'class', together with manufacturer and type.  Add the
	new MEM-AP from ARM IHI0074C.  Change-Id: Ic8db7c040108ba237b54f73b1abe24b8b853699b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6447 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Daniel Goehring <dgoehrin@os.amperecomputing.com>

2021-08-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv7m.h: relax dependency from 'arm_adi_v5.h' The include file 'armv7m.h' includes 'arm_adi_v5.h' only to get the
	definition of 'struct adiv5_ap', but doesn't need the struct
	content.  Reducing the cross dependencies speeds-up the compile time during
	code development by avoiding re-compiling file.  Relax the dependency by locally declaring 'struct adiv5_ap' in
	'armv7m.h' and remove the include of 'arm_adi_v5.h'.  Fix the other
	files that have now lost the includes file that 'arm_adi_v5.h'
	depends from.  Change-Id: Ic0d40b17db6045fa43f348bda83eaf211a6b347d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6468 Tested-by: jenkins
	Reviewed-by: Daniel Goehring <dgoehrin@os.amperecomputing.com>
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-09-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: fix dual bank support for STM32L552xC devices For STM32L552xC devices with 256K flash:   dual bank mode is activated if DB256 is set   page size is 2KB if DBANK is set For parts with 512K (aka STM32L5x2xE):   DBANK controls both of dual/single bank mode and page size as
	  well.  Change-Id: I8be668d5552fefe81acffaf2e3e35ef5e938162e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reported-by: Patrik
	Bachan <diggit@users.sourceforge.net> Fixes:
	https://sourceforge.net/p/openocd/tickets/317/ Reviewed-on:
	https://review.openocd.org/c/openocd/+/6538 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-09-07  Florian Zaruba <florian@openhwgroup.org>

	* : jep106.inc: Update to revision JEP106BC Signed-off-by: Florian Zaruba <florian@openhwgroup.org> Change-Id:
	I566eb331b2884de3df5ad3f02c2ec7961539257b Reviewed-on:
	https://review.openocd.org/c/openocd/+/6551 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-09-08  Andreas Sandberg <andreas@sandberg.uk>

	* : hla: Increase HLA_MAX_USB_IDS We are already at the limit for the number of VID/PID pairs declared
	in stlink.cfg and stlink-dap.cfg. Increase the maximum number of
	pairs from 8 to 16 to make room for a few more devices.  Signed-off-by: Andreas Sandberg <andreas@sandberg.uk> Change-Id:
	Ifad8e7ef67b930edbb5421730f00eb3390812f06 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6554 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-09-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: remove last NULL comparisons The NULL pointers preceded by cast where not detected by the
	scripting tools looking for NULL pointer comparison.  Remove them and, while there, further simplify the code and apply
	the other coding style rules.  Change-Id: Ia7406122e07ef56ef311579ab0ee7ddb22c8e4b5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6539 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-09-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : doc: add a note to use 'stm32l4x option_load' after changing
	option bytes Change-Id: I502be27da892e393731d11e02203c736e77033d0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6533 Tested-by: jenkins
	Reviewed-by: Karl Palsson <karlp@tweak.net.au> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-09-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: fix flash programming in 64-bit hosts stm32l4_work_area struct is shared between the loader and stm32l4x
	flash driver '*wp' and '*rp' pointers' size is 4 bytes each since stm32l4x
	devices have 32-bit processors.  however when used in openocd code, their size depends on the host   if the host is 32-bit, then the size is 4 bytes each.    if the host is 64-bit, then the size is 8 bytes each.  to avoid this size difference, change their types depending on the
	usage (pointers for the loader, and 32-bit integers in openocd
	code).  Change-Id: I0a3df4bb4bf872b01cdb9357eb28307868d7d469 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6556 Tested-by: jenkins
	Reviewed-by: Yestin Sun <sunyi0804@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-08-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: do not use magic number for dual bank option
	bits Change-Id: I27211e7d44b48f65546e31710ec6ae129acb416f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6537 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-08-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: fix segmentation fault with HLA adapters and
	STM32WLx devices CPU2 (Cortex-M0+) is supported only with non-hla adapters because it
	is on AP1.  Using HLA adapters armv7m.debug_ap is null, and checking
	ap_num triggers a segfault.  Change-Id: I501f5b69e629aa8d2836b5194063d74d5bfddb12 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Fixes:
	https://github.com/STMicroelectronics/OpenOCD/issues/6 Reviewed-on:
	https://review.openocd.org/c/openocd/+/6535 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/tcl: fix the flash name returned by 'flash list'
	command The 'flash list' command returns the driver name as flash name which
	seems to be incorrect, the proposal is:  - to fix this by returning the flash name  - and add a new item 'driver' in the returned list example: before the change > flash list   {name stm32l4x base 134217728 size 0 bus_width 0 chip_width 0}   {name stm32l4x base 201326592 size 0 bus_width 0 chip_width 0}   {name stm32l4x base 200933376 size 0 bus_width 0 chip_width 0} after the change > flash list   {name stm32l5x.flash_ns driver stm32l4x ...}   {name stm32l5x.flash_alias_s driver stm32l4x ...}   {name stm32l5x.otp driver stm32l4x ...} Change-Id: I6d307b73c457549981a93c260be344378719af82 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6425 Reviewed-by: zapb
	<dev@zapb.de> Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>
	Tested-by: jenkins

2020-03-01  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/board: add st_nucleo_g0.cfg to cover known STM32G0 NUCLEO
	boards known boards are NUCLEO-G031K8, NUCLEO-G070RB, NUCLEO-G071RB note: this work safely with STM32G0316-DISCO, STM32G071B-DISCO       and STM32G081B-EVAL Change-Id: I483b6f44409228cd8c2c97b3c560927d1645c517 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5483 Reviewed-by: Andreas
	Bolsch <hyphen0break@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-08-30  Marc Schink <dev@zapb.de>

	* : tcl/board/arty_s7: Fix proc and chip name Tested with Digilent Arty S7 board.  Change-Id: I064f3b6537ae8d765d7f380ad53b922d584fdbe7 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6509 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-08-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: prepare for jimtcl 0.81 'expr' syntax change Jimtcl commit 1843b79a03dd ("expr: TIP 526, only support a single
	arg") drops the support for multi-argument syntax for the TCL
	command 'expr'.  All the scripts distributed with OpenOCD are
	already compliant with the new syntax.  To avoid breaking user script, introduce a replacement for 'expr'
	command that handles the old syntax while issuing a deprecated
	warning.  This change should be part of OpenOCD v0.12.0, then
	reverted.  Change-Id: Ib08aa8ebcb634c81a3ce9d24fb4938b0418c947c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6510 Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins

2021-03-26  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add support of STM32WB1x STM32WB1x devices has a single flash bank up to 320 KB (page 2KB) note: STM32WB5x/WB3x are single banks as well but do have 4KB as
	page size.  note: remove the assert that checks if max_mages is
	      power of two, because STM32WB1x flash size is not a power of 2 Change-Id: Ib514cf989ecb819d25d1c4a65d641d0a1a3d9f18 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6129 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-03-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: switch to to c loader instead of assembly loader switching to C loader instead of the assembly version will enhance
	readability will reduce the maintenance effort.  besides the switch to C loader, we added a new parameters to the
	loader like flash_word_size and flash_sr_bsy_mask in order to
	support properly STM32U5x and STM32G0Bx/G0Cx in dual-bank mode.  Change-Id: I24cafc2ba637a065593a0506eae787b21080a0ba Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6109 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-08-19  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server/telnet: add variables auto-completion Change-Id: Ie690afad18065cde8d754c8af50dacd9f467c8e5 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6442 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-08-18  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server/telnet: enhance telnet_move_cursor instrument the telnet_move_cursor to detect when there is no change
	of cursor position and if the requested new position is out of
	bounds.  Change-Id: I24da877e538a458da6d2f8ddc2a681eee404d2cb Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6441 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-08-17  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server/telnet: cleanup the if statement mixed style Change-Id: Ie5f67288511d46fa196bc9f41e6af5504244adaa Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6438 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-05-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: remove fix for libusb pre-v1.0.9 Libusb v1.0.9 has been released on April 2012. We can reasonably
	expect that every user has already updated his system to a libusb
	newer of equel to v1.0.9.  Remove the fix for older libusb.  Change-Id: I0c40e53d7af85a11b0bb265bbf8035857a2dfce1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6253 Tested-by: jenkins
	Reviewed-by: Xiaofan Chen <xiaofanc@gmail.com>

2021-03-16  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add support of STM32U57x/U58x this device flash registers are quite similar to STM32L5 with this
	 changes : - flash size is up to 2MB  - 2MB variants are always dual bank  - 1MB and 512KB variants could be dual bank (contiguous addressing)    depending on DUALBANK bit(21)  - flash data width is 16 bytes (quad-word) Change-Id: Id13c552270ce1071479ad418526e8a39ebe83cb1 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6108 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-08-15  Sebastiaan de Schaetzen <sebastiaan.de.schaetzen@gmail.com>

	* : flash/stm32l4x: prevent undefined behavior warnings caused by
	signed integer operations When running OpenOCD with -fsanitize=undefined, a warning is emitted
	for an bit-shifting operation whose result cannot be stored in a
	signed integer.  This is because (1 << 31) overflows a signed integer, which is
	undefined behavior. By making each of the bit masks act on an
	unsigned number, the warning is avoided.  Whether this warning emitted by UBSan would ever manifest into a
	real error is debatable, but fixing this does make UBSan happy.  Change-Id: I0455a26b234cb4f5e239a6ba90023d28380e9464 Signed-off-by:
	Sebastiaan de Schaetzen <sebastiaan.de.schaetzen@gmail.com>
	Signed-off-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>
	Reviewed-on: https://review.openocd.org/c/openocd/+/6429
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Tested-by: jenkins

2021-08-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: remove stm32l4_part_info.default_flash_regs This struct element is replaced by the usage of F_HAS_L5_FLASH_REGS
	flag: since over this driver stm32l4_flash_regs is the default
	register layout, and the only exception is STM32L5 family, so it's
	simpler to manage it using a flag.  Note: the same flag will be used with STM32U5 devices, as they have
	the same registers layout, which explains the move of
	stm32l5_s_flash_regs before the switch(device_id) in order to not
	re-write this for STM32U5.  Change-Id: I3b67a6f558d9350f609a22524012b6fceb7de7c2 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6435 Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de> Tested-by: jenkins

2021-01-22  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: STM32L5 support programming when TZEN=1 and
	RDP=0x55 when RDP level is 0.5 the provided work-area should reside in
	non-secure RAM to ensure that:  - add a hint in the driver level  - reduce the usage of secure RAM only when TZEN=1 and RDP is not
	   0.5 (check the target configuration file) Change-Id: Idbf2325e609b84ef8480eefdb49a176fdf7e07c7 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6035 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins

2020-11-10  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: introduce auto-probe when OPTR is changed auto re-probing is ensured by having optr cache set in the last
	probe operation.  this will help to detect if flash options have been modified by the
	running application or by the user using direct register access.  Change-Id: I05cd7ab9e83a7fc26ac6cff175b3c11b0efa2eb5 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/5935 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: do not report bank mode before probing [FIX] in line 1391, get_stm32l4_bank_type_str(bank) will always output the
	same value "Flash single" since the variable
	stm32l4_info->dual_bank_mode is false by default,
	stm32l4_info->dual_bank_mode will be set correctly afterward in the
	switch case at line 1467 thus the need to remove the usage of get_stm32l4_bank_type_str(bank)
	before stm32l4_info->dual_bank_mode initialization.  Fixes: 64c2e03b23d9 ("flash/nor: improved API of flash_driver.info &
	fixed buffer overruns") Change-Id:
	Ia8dc7e144e0ded6143682eb514c247f27859ff81 Signed-off-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6411 Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-06-03  root <acalando@free.fr>

	* : target/adi_v5_jtag: Add support for 8-bit IR JTAG-DP As per Arm Debug Interface Architecture Specification (ADIv5.0 to
	ADIv5.2), B3.3.1, the JTAG-DP as an IR length of 4 or 8 bits
	depending on the ARM implementation. The current code only support
	4-bit and this patch extends the support to 8-bit IR.  Not tested
	back yet on a 4-bit target.  Change-Id: Ie4f875dc336caf014c6cfced57574b54d0970623 Signed-off-by:
	Antoine C. <acalando@free.fr> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6285 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-08-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : jep106: use packed jedec manufacturer code JEP106 encodes JEDEC-assigned manufacture code as: a) a sequence of zero or more escape codes 0x7f; b) an odd-parity bit of the next 7 bits; c) 7 bits.  The same code is often represented as a single value composed by the
	logical OR between: - the number of escape codes in a), shifted left by 7 positions; - the 7 bits in c).  This is the preferred packed representation
	used by this change.  Currently there are only two uses of JEP106 in openocd to get the
	manufacturer name: - to decode the JTAG IDCODE of each TAP, where the JEP106 code is   already packed as in the preferred representation above in bits   IDCODE[11:1]; - to decode the ARM CoreSight PIDR register, where the JEP106 code   is split in 3 parts:   = PIDR3[3:0], corresponding to bits [10:7] of the packed code;   = PIDR2[2:0], corresponding to bits [6:4] of the packed code;   = PIDR1[7:4], corresponding to bits [3:0] of the packed code.  Wrap the existing JEP106 decode function in a simpler API using the
	packed code.  Simplify the callers by skipping the bit unpacking.
	Change the manufacturer code in CoreSight table dap_partnums[] to
	match the packed representation, by removing the always-one bit 7
	erroneously taken from PIDR bit JEDEC and included in the former
	table.  Change-Id: I63eb4da9e6801fab25e330f1f6b792d2fd619493 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6418 Tested-by: jenkins

2021-08-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : command: log the command only when it is executed In case of multi-word commands, the command dispatcher is nested
	called at each word during command name parsing.  The improper
	position of the call to script_debug() causes the command line to be
	logged once at each parsed word.  In the example of command "cpu arm
	disassemble 0" the full command is logged three times for "cpu",
	"arm" and "disassemble":         Debug: 656617 61843 command.c:201 script_debug(): command -
	        cpu arm disassemble 0 Debug: 656618 61843 command.c:201
	        script_debug(): command - cpu arm disassemble 0 Debug: 656619 61843
	command.c:201 script_debug(): command - cpu arm disassemble 0 Call script_debug() only when the parsing is terminated and the
	command handler is going to be executed.  Change-Id: Ide4cb01b3b38912e2e24b073c94a9560f92d30bb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6436 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de> Reviewed-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix SWIM mode on stlink-v3 Commit 89f07325f2e7 ("stlink: Set speed before entering JTAG/SWD
	mode") anticipates setting the adapter speed just before entering in
	the JTAG/SWD mode. This to initiate the communication with the speed
	selected by the user.  But SWIM doesn't allow setting the speed
	before entering in SWIM mode. The resulting error causes OpenOCD to
	quit.  The problem only happens with stlink-v3, due to the different
	way to set the adapter speed on different stlink versions.  Set the speed before entering in the mode only for JTAG and SWD
	modes.  Change-Id: Iab42cd9d72ecfac14c7e17bae74e0dee2218b235 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 89f07325f2e7
	("stlink: Set speed before entering JTAG/SWD mode") Reviewed-on:
	https://review.openocd.org/c/openocd/+/6443 Tested-by: jenkins
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>

2021-08-11  Sebastiaan de Schaetzen <sebastiaan.de.schaetzen@gmail.com>

	* : rtos/riot: fix out-of-bounds read of optional symbols array This fixes an out-of-bounds read of the riot_optional_symbols array.  Change-Id: I172ae182dd0c7dd68edaa66ac030030d9bc65401 Signed-off-by:
	Sebastiaan de Schaetzen <sebastiaan.de.schaetzen@gmail.com>
	Reviewed-on: https://review.openocd.org/c/openocd/+/6428 Tested-by:
	jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/kinetis: use COMMAND_PARSE_NUMBER in command handlers the usage of COMMAND_PARSE_NUMBER is safer in COMMAND_HANDLERs since
	it provides better error checking than strto** functions.  Change-Id: I972da1a75ba7c41c1b714c2429289c3d24594235 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6422 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/at91samd: use COMMAND_PARSE_NUMBER in command handlers the usage of COMMAND_PARSE_NUMBER is safer in COMMAND_HANDLERs since
	it provides better error checking than strto** functions.  Change-Id: I14061cb48da6bac13f9d2896190136f5784b8c07 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6424 Tested-by: jenkins
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-07-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: use COMMAND_PARSE_NUMBER in command handlers the usage of COMMAND_PARSE_NUMBER is safer in COMMAND_HANDLERs since
	it provides better error checking than strto** functions.  Change-Id: I7e113b06b74f2d8d9cc4c0ce1957994a1c49c964 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	https://review.openocd.org/c/openocd/+/6419 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2021-07-23  Ranjith Chandran <ranjith.tc@ashling.com>

	* : tcl/interface: add Ashling Opella-LD FTDI config files Adding Ashling's FTDI based Debug adapter Opella-LD's JTAG and SWD
	config files Change-Id: Ie0e82e3b8326de37641901f5c825372cab31de58 Signed-off-by:
	ranjith.tc@ashling.com Reviewed-on: http://openocd.zylin.com/6379
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-08-01  Marc Schink <dev@zapb.de>

	* : tcl: Adapt config files to new usb_blaster command syntax Change-Id: I4eb645f74ef31fc0b5882299b3487020aa142dd8 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6408
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-08-01  Marc Schink <dev@zapb.de>

	* : doc/openocd: Fix buspirate example Change-Id: Idcbe73220d7630953cb49e643a58a7ab05c395fa Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6406
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-08-01  Marc Schink <dev@zapb.de>

	* : drivers/buspirate: Group adapter commands Use a command group 'buspirate' with subcommands instead of
	individual commands with 'buspirate_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: Id999d4ba276af576fb22b76052f3c0a1f3e1b876 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6404
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-31  Marc Schink <dev@zapb.de>

	* : drivers/sysfsgpio: Group adapter commands Use a command group 'sysfsgpio' with subcommands instead of
	individual commands with 'sysfsgpio_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I103d8d9b0e3169a916d944a999579746f6f6a59c Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6402
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-31  Marc Schink <dev@zapb.de>

	* : drivers/linuxgpiod: Group adapter commands Use a command group 'linuxgpiod' with subcommands instead of
	individual commands with 'linuxgpiod_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: Iad9b330363f81128ab1ec1cbc498df28ba2ca152 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6400
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/jtag_vpi: Group adapter commands Use a command group 'jtag_vpi' with subcommands instead of
	individual commands with 'jtag_vpi_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: Ie1fcc2cc138796d27f1e862692bb9ef8b11bc10d Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6398
	Tested-by: jenkins Reviewed-by: Jan Matyas <matyas@codasip.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/bcm2835gpio: Group adapter commands Use a command group 'bcm2835gpio' with subcommands instead of
	individual commands with 'bcm2835gpio_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I8f7b14273b1b2813ac3c9704605d175fa2053008 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6396
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/jtag_dpi: Group adapter commands Use a command group 'jtag_dpi' with subcommands instead of
	individual commands with 'jtag_dpi_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I19271546235a3c6737f975976a0bf0a2f66cbbe7 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6394
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/ulink: Group adapter commands Use a command group 'ulink' with subcommands instead of individual
	commands with 'ulink_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I600d65de2bbd5fb8107445f7fe93b6b24c572e3e Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6392
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : drivers/presto: Group adapter commands Use a command group 'presto' with subcommands instead of individual
	commands with 'presto_' prefix.  The old commands are still available for backward compatibility but
	marked as deprecated.  Change-Id: I883d8d87fd457d29cee8d12cd80f2e6c405e8f42 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6390
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : tcl/interface/openjtag: Adapt to new openjtag command syntax Change-Id: I3a9d649dd38a913b1ce6d4a2d506bbf44743d529 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6388
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-30  Marc Schink <dev@zapb.de>

	* : tcl/interface: Adapt config files to new parport command syntax Change-Id: Iffe7a04c36c6ec680497081a99d55b8c69f8f079 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6386
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-07  Marc Schink <dev@zapb.de>

	* : flash/nor: Do not update 'is_erased' Remove useless setting of the 'is_erased' flag after a flash
	modification. Also, remove code that erroneously depends on this
	flag.  Keep the flag for now since it is still used by the erase_check()
	functionality.  See commit 07da3b3913dcb6b65564f4fe67c2f26032f180c0 Change-Id: Ia046905bc9e0cb2572145f19251c3e10c4e2d553 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6279
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-08-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: use macro DP_APSEL_MAX in place of magic number Commit 11019a824d02 ("adi_v5: enforce check on AP number value")
	introduces the macro DP_APSEL_MAX and use it in place of hardcoded
	magic numbers for the upper limit of AP selection value.  Fix one more place where the macro should be used.  Change-Id: I6c57f72405c69bbb40924221309d95dfeb5f7540 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 11019a824d02
	("adi_v5: enforce check on AP number value") Reviewed-on:
	http://openocd.zylin.com/6415 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2021-08-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: fix access to 64-bit MEM-AP Commit ac22cdc57322 ("target/adiv5: Large Physical Address
	Extension") reads the register MEM_AP_REG_CFG and keeps it in a new
	field of struct adiv5_ap. The test on LE bit (Large Extension) is
	used to identify if mem_ap addresses are 32 or 64 bits.  But the
	register MEM_AP_REG_CFG is only read during mem_ap_init(), that is
	called only when the AP is used as a target debug AP or if a target
	mem_ap is attached to that AP.  The openocd commands '<dapname> baseaddr', '<dapname> info' and 'dap
	info' can be executed on AP that has not been associated yet to a
	target, thus executed without any knowledge of MEM_AP_REG_CFG value.
	The initialization to ADI_BAD_CFG causes openocd to always use 32
	bit mode on un-associated APs.  Verify if MEM_AP_REG_CFG has not been read and eventually read it.
	In case of 32 bits mode AP, MEM_AP_REG_BASE64 is defined as 'RES0' (reserved, but readable); the code can queue both the read of
	MEM_AP_REG_CFG and MEM_AP_REG_BASE64, before knowing if the former
	is required. This speeds-up the operation.  Rename ADI_BAD_CFG as
	MEM_AP_REG_CFG_INVALID.  Change-Id: If3bbd792b56a483022c37ccc2ce82b5ba5c36caa Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: ac22cdc57322
	("target/adiv5: Large Physical Address Extension") Reviewed-on:
	http://openocd.zylin.com/6412 Tested-by: jenkins Reviewed-by: Daniel
	Goehring <dgoehrin@os.amperecomputing.com>

2021-05-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/align.h: use it Use the new helper to make the code more readable.  Change-Id: I11b2a79dbc6f93f6cfde382bcc00dd7ff710d908 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6375 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2021-06-03  Jan Matyas <matyas@codasip.com>

	* : rtos: add debug prints for qSymbol lookup - Added two debug prints that allow to inspect the symbol   lookup process (carried out via the qSymbol packets).  - Added a check for an edge situation when the debugger   would send us different symbol than what we asked for   (avoids NULL dereference).  Change-Id: I84ae1b2b66473eab76a7966c678d2777b6ef48d6 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6287 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-08-12  Oleksij Rempel <o.rempel@pengutronix.de>

	* : add config for Microchip SAMA5D27 SOM1 Kit1 ... and related SAMA5D27 SoC.  Change-Id: Ic2584e3005ac691642dc2e5a8ee3fb8a4eacaa00 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/5275 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2021-07-23  Jan Matyas <matyas@codasip.com>

	* : .github/workflows: Add missing 'apt-get update' to the snapshot
	workflow During the build of the OpenOCD snapshot via GitHub Actions, ensure
	that the local package database is first updated, prior to
	installing any packages via apt-get install. Otherwise the apt-get
	install could fail.  Change-Id: If3c29faeb1496d5e2be75350f6352575b1f3a42e Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6378 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-11  Jian-Hong Pan <chienhung.pan@gmail.com>

	* : tcl/board: Add Raspberry Pi 4 model B board OpenOCD cannot connect to BCM2711's JTAG interface on RPi 4B board
	until the reset configuration mode is set as trst_only.  According to Table 94. GPIO Pins Alternative Function Assignment of
	Broadcom's BCM2711 ARM Peripherals datasheet [1] and Raspberry Pi's
	GPIO control in config.txt document [2], only Test Reset (TRST) pin
	(no System Reset, SRST) is exposed.  [1]
	https://datasheets.raspberrypi.org/bcm2711/bcm2711-peripherals.pdf
	[2]

	https://www.raspberrypi.org/documentation/configuration/config-txt/gpio.mdChange-Id: I806f0be9700fa0f0944b42c8a651a5731adc762b Link:
	http://openocd.zylin.com/#/c/6364/1 Signed-off-by: Jian-Hong Pan
	<chienhung.pan@gmail.com> Reviewed-on: http://openocd.zylin.com/6367
	Tested-by: jenkins Reviewed-by: Florian Fainelli
	<f.fainelli@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-07-09  Tim Newsome <tim@sifive.com>

	* : Call poll at a fixed interval.  The existing implementation blocks in select() for a fixed amount of
	time. This change tracks when the next event (likely poll()) wants
	to be run, and uses a shorter timeout in select() if necessary.  Also track all these timeouts using milliseconds as returned by
	timeval_ms() instead of `struct timeval` to simplify the code.  This feature is helpful if poll() wants to do something like sample
	PCs or memory values for basically the entire time that otherwise
	OpenOCD would be hung in select(). See
	https://github.com/riscv/riscv-openocd/pull/541 for an example of
	that.  The RISC-V code using this change will be upstreamed some
	day, too.  Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I67104a7cf69ed07c8399c14aa55963fc5116a67d Reviewed-on:
	http://openocd.zylin.com/6363 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-07-22  Matthew Mets <matt@blinkinlabs.com>

	* : doc/openocd.texi: Add documentation for bcm2835 interface This adds documentation for the bcm2835 interface configuration
	parameters to the user manual. Documentation format is based on the
	FTDI interface section, and was taken from the descriptions in the
	driver source code.  Change-Id: I77b09b8bd44d8e8fe9cc5fb9de3c3a30550d943c Signed-off-by:
	Matthew Mets <matt@blinkinlabs.com> Reviewed-on:
	http://openocd.zylin.com/6376 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-07-20  Matthew Mets <matt@blinkinlabs.com>

	* : drivers/bcm2835: Add support for SWDIO direction control pin Adds a new, optional configuration "bcm2835gpio_swdio_dir_num" to
	the BCM2835 driver, to control the direction of an external buffer
	driver IC in SWD mode. For example, this is needed to use a level-
	shifting buffer, such as the SN74LVC2T45 used on the JTAG Hat Change-Id: If5c146f310ecf8ceae85443b3670936467d2786d Signed-off-by:
	Matthew Mets <matt@blinkinlabs.com> Reviewed-on:
	http://openocd.zylin.com/6371 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-06-06  Paul Fertser <fercerpav@gmail.com>

	* : doc: move the official channel to Libera.Chat Due to Freenode takeover it's likely that most of our users are
	going to seek support on Libera in the nearest future.  Change-Id: I98db95bab51f4ef2ac854bf521468d22b2794e56 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6297 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Marc Schink <dev@zapb.de>

2021-07-09  Florian Fainelli <f.fainelli@gmail.com>

	* : arm_adi_v5: Provide Brahma-B53 identifiers The Broadcom Brahma-B53 CPUs contains a number of custom ROM table
	entries for its PMU, Debug unit, and a couple of ROM tables.  Change-Id: I1f21f07ed296579c374f24e781325789bf4ebf51 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6368 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-07-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: manually remove NULL comparisons For the remaining NULL comparisons, remove then manually.  While there, make more readable a loop, by moving the assigment out
	of the loop condition.  Change-Id: I44193aaa95813156a3a79c16b80e1ad333dc1eaf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6353 Tested-by: jenkins

2021-07-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: remove NULL comparisons with checkpatch [1/2] Patch generated automatically through the new checkpatch with flags
	"--types COMPARISON_TO_NULL --fix-inplace".  This only fixes the
	        comparisons if (symbol == NULL)         if (symbol != NULL) The case of NULL on the left side of the
	comparison is not tested.  Some automatic fix is incorrect and has been massaged by hands:         -       if (*psig == NULL)         +       if (*!psig) changed as         +       if (!*psig) Change-Id: If4a1e2b4e547e223532e8e3d9da89bf9cb382ce6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6351 Tested-by: jenkins

2021-04-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: rename CamelCase symbols No major cross dependencies, mostly changes internal to each
	file/function.  Change-Id: I7cc87458a341bae29a4f772b0af5d97b4bfc2da3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6343 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2021-07-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix simple cases of Yoda condition There are ~900 Yoda conditions to be aligned to the coding style.
	For recurrent Yoda conditions it's preferable using a trivial script
	in order to minimize the review effort.  E.g. comparison of
	        uppercase macro/enum with lowercase variable: - ...(ERROR_OK == retval)...          + ...(retval == ERROR_OK)...  Patch generated automatically with the command:         sed -i \         's/(\([A-Z][A-Z0-9_]*\) \([=!]=\) \([a-z][a-z0-9_]*\))/(\3
	        \2 \1)/g' \ $(find src/ -type f) While there, remove the braces {} around a single statement block to
	prevent warning from checkpatch.  Change-Id: If585b0a4b4578879c87b2dd74d9e0025e275ec6b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6354 Tested-by: jenkins Reviewed-by: Xiang
	W <wxjstz@126.com>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/nds32: use lowercase for C variables Convert to lowercase the name of arrays.  Convert to macro two
	uppercase const variables.  Change-Id: Ic6f5cad38722dfdf78d662ff4893e94482ab423d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6348 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Xiang W <wxjstz@126.com>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/buspirate: use macros in place of const variables Uppercase symbols are normally used for macro or enum's values.
	Convert the uppercase const variables to macros.  Change-Id: I749544c2e5deba65583824a7c2a6023e697714df Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6346 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : svf: rename CamelCase label Change-Id: I41871bbbead9810f9a66b2e440a7b26094d6cd0c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6344 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Xiang W <wxjstz@126.com>

2021-04-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/mips: rename CamelCase symbols No major cross dependencies, mostly changes internal to each
	file/function.  Change-Id: Iec58f7fe1d65f621ae0c841b5e25ef222885792b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6341 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Xiang W <wxjstz@126.com>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_m: rename CamelCase symbol Change-Id: I67d803e15ba9fd08f2b31361fb3604275e483605 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6339 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Xiang W <wxjstz@126.com>

2021-06-23  Marc Schink <dev@zapb.de>

	* : tcl: Adapt config files to new ftdi command syntax The patch was created automatically using the following script: %<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<--- (cat <<
	EOF ftdi_device_desc ftdi device_desc ftdi_serial ftdi serial
	ftdi_channel ftdi channel ftdi_layout_init ftdi layout_init
	ftdi_layout_signal ftdi layout_signal ftdi_set_signal ftdi
	set_signal ftdi_get_signal ftdi get_signal ftdi_vid_pid ftdi vid_pid
	ftdi_tdo_sample_edge ftdi tdo_sample_edge EOF ) | while read a b; do
	sed -i "s/$a/$b/g" $(find tcl -type f -name "*.cfg" ) done
	%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<--- Change-Id: Iff781f37bb5511b7e15cbe6dcdf6d28e89fb174f Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6333
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-03  Jan Matyas <matyas@codasip.com>

	* : target: add support for 64bit data in mem2array and array2mem - Added support for reading and writing 64-bit data items   using TCL commands "mem2array" and "array2mem". Until now,   data items only up to 32 bits were supportd.  - Cleaned up functions target_array2mem() and   target_mem2array(), especially data types of variables   and variable declarations (scope).  Change-Id: Ia0ba427804f8fd8d7568f12714ab36984d6d5e24 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6286 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-04  Jan Matyas <matyas@codasip.com>

	* : target/semihosting: Fix of close(): Never close standard streams This change fixes behavior of the SEMIHOSTING_SYS_CLOSE operation.
	It ensures that OpenOCD's own stdin/stdout/stderr streams are never
	closed, not even if the target requests it via semihosting.  Change-Id: Ia85af5963d1a3516284fd834f7197369a8fb268c Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6291 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2017-07-06  Patrick Stewart <patrick@rfcreations.com>

	* : tcl/interface/ftdi: Fix Digilent JTAG-SMT2 config Drive the output enable for TMS and TDI Change-Id: Ib23afd2f5149d4ce402d88781e68dcf0f074f395 Signed-off-by:
	Patrick Stewart <patstew@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4179 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2021-06-28  Florian Fainelli <f.fainelli@gmail.com>

	* : tcl: Update Flyswatter product links The Flyswatter URL is dead and requires us to use web.archive.org
	since the product is discontinued. The Flyswatter 2 is still active
	and accessible at a different URL.  Change-Id: Ib2d9de70a9728b0f0ef73f5e479bca81f958442c Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6337 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-28  Marc Schink <dev@zapb.de>

	* : target/aarch64: Replace printf() with LOG_DEBUG() Change-Id: If32bc320c48259dec4b81d457b848e972bcda784 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6335
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-21  Tim Newsome <tim@sifive.com>

	* : Add RTOS memory read/write functions.  If not implemented, these specify to regular target read/write.
	However, if individual threads in an RTOS can have different address
	translation configured then the RTOS support can use this to do the
	right thing.  Use this in hwthread, where of course address translation can be set
	up differently for different real cores.  Change-Id: I62c501cff1f863d855ee197dee7b73204ea8885a Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/6327 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Jan Matyas <matyas@codasip.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-06-20  Marc Schink <dev@zapb.de>

	* : target/stm8: Remove unused member 'stm8_common' Change-Id: Ie8b59a82142bfdf2ee9395d38b1bedc27de728b8 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6325
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos/eCos: rename CamelCase symbols Convert CamelCase enum in uppercase and the other symbols in
	lowercase.  Change-Id: I141c55bdfe6ef2a2da28d1da15a283a644ae7cb2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6306 Tested-by: jenkins

2021-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos: convert CamelCase enum in uppercase The eCos code is not part of this patch to prevent conflicts with
	patches currently under review.  Change-Id: I71369165f2eef419b83a79ffcff50287f77949c6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6304 Tested-by: jenkins

2021-06-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/swd: rename CamelCase macros Change-Id: I4bce678b67d3d2347e88da9507820837697b5aa7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6302 Tested-by: jenkins

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper: rename camelcase symbols No cross dependency, just changes internal to each file/function.  Change-Id: I16568ddcd8304f5e6748c2e19f32421b047b0357 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6300 Tested-by: jenkins

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/cfi: fix CamelCase symbols in cfi_spansion_pri_ext The struct cfi_spansion_pri_ext has few symbols in CamelCase.
	Change all them accordingly to OpenOCD coding style.  Patch created
	automatically with the script below: %<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---
	(cat << EOF VppMin          vpp_min VppMax          vpp_max
	TopBottom       top_bottom TmpBlkUnprotect tmp_blk_unprotected
	SimultaneousOps simultaneous_ops SiliconRevision silicon_revision
	PageMode        page_mode EraseSuspend    erase_suspend BurstMode
	burst_mode BlkProtUnprot   blk_prot_unprot BlkProt         blk_prot
	EOF ) | while read a b; do     sed -i "s/$a/$b/g" src/flash/nor/*cfi* done
	%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<--- Change-Id: I135331539ca9aa84765fdffc51c87a07a46ee77a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6298 Tested-by: jenkins

2021-06-21  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32l4: Fix stm32l4_probe() The current implementation fails due to the assert() statements in
	get_stm32l4_rev_str() and get_stm32l4_bank_type_str(). Rearrange the
	code in order to fix the problem.  Change-Id: If19c648dec8ddd3ef2fb801150114104b34c3bf2 Signed-off-by:
	Marc Schink <dev@zapb.de> Fixes: 64c2e03b23 ("flash/nor: improved
	API of flash_driver.info & fixed buffer overruns") Reviewed-on:
	http://openocd.zylin.com/6326 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-11-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv7m: replace flag 'stlink' with 'is_hla_target' The HLA target is not anymore used by ST-Link only, but required by
	Nu-Link and TI-ICDI too.  Rename the flag 'stlink' as 'is_hla_target'.  Change-Id: Id2ee2c0a1e8bf1f1e899f7a560140c34eefeeee5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6206 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2021-06-17  Marc Schink <dev@zapb.de>

	* : target/dsp563xx: Handle return values This fixes 'dead assignment' bugs identified by the clang static
	analyzer.  Change-Id: I140ed55f0043e06a533f45f50a36887614585b04 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6323
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-30  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Add support for Renesas R8A779A0 V3U SoC The V3U SoC is unique in that it now has 8x CA76 and CR52, while the
	previous SoCs had CA57/CA53/CR7 . This can still be handled without
	too complex modifications to the gen3 configuration file, so add the
	logic to handle it there.  Change-Id: I7ab33eacc1fd379d369988d3d6690d2e82346c7e Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6314 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-16  Jesse Sheridan <jesse.sheridan@gmail.com>

	* : target/riscv: Implement get_gdb_arch() Change-Id: I5f4ab5243104df41031950682f688f2448a09b17 Signed-off-by:
	Jesse Sheridan <jesse.sheridan@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6322 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-23  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Doc fix: echo writes to the log, and not to stdout Fixes bug #202 Change-Id: I855a1b8570af71379891634f405b4cc726917cb2 Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/6272 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-04  Marc Schink <dev@zapb.de>

	* : Use boolean argument for register_get_by_name() Change-Id: Ie913630c6ab3b600532d8e375e2fc11ca202cf5e Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6295
	Tested-by: jenkins Reviewed-by: Jan Matyas <matyas@codasip.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-05-13  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32fxx.c: do not read CPUID as this info is stored in
	cortex_m_common In these drivers we read CPUID to check the Cortex-M PARTNO, but now
	the PARTNO is stored in struct cortex_m_common.core_info.  Change-Id: I5bb3b95210ab6e23b8e1252686dd81015740bf68 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6240 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/arm: optimize architecture flags In target/arm.h the struct arm do contain 3 flags to retain
	architecture version for some tweaks.  The proposal is to have only
	one enumerated flag 'arch' for the same purpose.  Change-Id: Ia5d5accfed8158ca21eb54af2fdea8e36f0266ae Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6229 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-06-13  Marc Schink <dev@zapb.de>

	* : target: Rename 'linked_BRP' to 'linked_brp' Change-Id: I9dd67ac3e8cd5dd9cdeffce56020b387a8f298fa Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6316
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-02-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : arm_dpm: do not read/write non-existent registers Change-Id: I6a991899bb178ee0c6b41870a45d0a9439d9dc1e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6063 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-04-23  Jan Matyas <matyas@codasip.com>

	* : flash/nor: improved API of flash_driver.info & fixed buffer
	overruns 1) The API of "info" callback in "struct flash_driver" has been
	improved. Fixed buffers for strings 2) Removed the calls to snprintf() from the flash_driver.info
	implementations. Many of them were used in an unsafe manner (buffer
	overruns were possible).  Change-Id: I42ab8a8018d01f9af43c5ba49f650c3cb5d31dcb Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6182 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-06-03  Marc Schink <dev@zapb.de>

	* : target/cortex_a: Use bool data type Change-Id: Ieea3dc05809263aa0eba5125d52fef3fe77e9c5a Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6289
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-23  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Avoid non-standard conditionals with omitted operands.  Fixes bug #257.  Change-Id: I05fc6468306d46399e769098e031e7e588798afc Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/6271 Tested-by: jenkins Reviewed-by: Xiang
	W <wxjstz@126.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-19  Adrian Negreanu <adrian.negreanu@nxp.com>

	* : cmsis_dap: add support for swo commands Replaced mixed snake_case_CamelCase with snake_case.  Define
	variables at first-use location.  CMSIS-DAP SWO specification:
	https://arm-software.github.io/CMSIS_5/DAP/html/group__DAP__swo__gr.htmlChange-Id: Ieba79b16efd445143f964b614673d041aae74f92 Signed-off-by:
	Adrian Negreanu <adrian.negreanu@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5820 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-03  Marc Schink <dev@zapb.de>

	* : drivers/jlink: Remove trailing dots This makes the messages consistent with most of the rest of the
	OpenOCD output.  Change-Id: I915a01187e7fc317e02483ac0bbd39ec077d6321 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6274
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-05-21  Jan Matyas <matyas@codasip.com>

	* : gdb_server: Log both incoming and outgoing GDB packets - Made sure that also outgoing GDB packets are logged,   not only the incoming ones.  - Improved the treatment of non-printable characters   in the packets to make it more robust.  Prior to this change: - Outgoing packets were not printed unless OpenOCD was   re-compiled with _DEBUG_GDB_IO_.  - Non-prinable characters were only treated in incoming   'X' packets.  After this change: - Both incoming and outgoing GDB packets are logged   on debug_level >= 3, so that both directions of the   GDB channel are visible.  - Non-printable characters are checked for in every packet   so that hey do not interfere with the terminal.  Change-Id: I0613e57ae5059b3279b0abcb71276cf5719a8699 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/6269 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-26  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/target/stm32f4x: fix hardcoded chip name Fixes: c945d6e61605 ("tcl/target: start using the new TPIU/SWO
	support") Change-Id: I4543c9a204f7b4b3b14e6eabc5042653106aff0e
	Signed-off-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com>
	Reviewed-on: http://openocd.zylin.com/6277 Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com> Tested-by: jenkins

2021-05-27  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : contrib: add an example of using list.h Change-Id: Ic3d399d7ad2e4d10677cf78d64968040941b74e5 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6280 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com>

2021-05-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : server/telnet: fix autocomplete for jimtcl commands Current autocomplete filters-out some command reported by "info
	commands". One of the filter rule concerns the command's private
	data.  Every command registered by OpenOCD has its 'struct command'
	as private data.  By ignoring commands without private data, we loose several TCL
	commands registered by jimtcl, e.g. 'foreach', 'llength'.  By assuming that every command with non-NULL private data has
	'struct command' as private data, we risk at best to access
	inconsistent data, at worst to trigger a segmentation fault.  Export the already available functions: - to check if a command has been registered by OpenOCD and - to get the private data.  While there, rename
	jimcmd_is_ocd_command() as jimcmd_is_oocd_command().  Don't
	filter-out jimtcl commands with no private data.  Check the private
	data only on OpenOCD commands.  Change-Id: Ib5bf8d2bc5c12440c0cfae438f637c38724a79b7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6282 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-nvp: comply with coding style [1/2] The helper jim-nvp does not comply with OpenOCD coding style due to
	typedef of struct and CamelCase symbol names.  While it's trivial
	fixing the helper and all its current use in the code, changing
	these APIs will potentially break a number of patches pending in
	gerrit. Gerrit will not trigger any alert, but the code will
	generate compile error after the merge.  Add the compile flag "-Wno-error=deprecated-declarations" to keep as
	warning (not as error) the use of "deprecated" functions and types.
	Rename all the CamelCase symbols is lowercase and provide struct
	prototypes in place of the typedef.  Add a DEPRECATED section to
	'jim-nvp.h' where the old CamelCase symbols and the old typedef are
	re-declared with compile attribute 'deprecated'.  With this change OpenOCD compiles, but generates warnings.  The
	remaining changes allover OpenOCD code will be fixed in a separate
	patch for easier review.  The patches merged later that still use the old deprecated API will
	compile with warnings. This will permit to identify and fix these
	cases.  Change-Id: I786385d0f662dbb1be5be313ae42623156d68ce5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6183 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2021-04-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: add support for watchpoint length of 1, 2 and 4
	bytes Use byte address select for 1 and 2 bytes length.  Use normal mode
	for 4 bytes length.  Change-Id: I28d182f25145d0635de64d0361d456f1ad96640e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6197 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2016-12-14  Chengyu Zheng <chengyu.zheng@polimi.it>

	* : target/cortex_a: add support for watchpoints The current implementation of OpenOCD does not support watchpoints
	for cortex_a architecture. So, I replaced the add_watchpoint and
	remove_watchpoint with the specific implementation for the cortex a
	and using the breakpoint implementation and the arm documentation
	[1] as reference. In particular, I have made the following changes: * added the following functions - cortex_a_add_watchpoint   This wrapper function check whether there are any watchpoint   available on the target device by calling cortex_a_set_watchpoint.  - cortex_a_set_watchpoint   This function is responsible for settings the watchpoint register   pair. In particular, it sets the WVR and the WCR registers with   the cortex_a_dap command.  - cortex_a_remove_watchpoint   This wrapper function the selected watchpoint on the target device   by calling cortex_a_unset_watchpoint.  - cortex_a_unset_watchpoint   This function sets both the WVR and the WCR registers to zero,
	  thus unsetting the watchpoint.  [1]

	http://infocenter.arm.com/help/topic/com.arm.doc.ddi0464f/BCGDHIEJ.htmlChange-Id: I86611dab474cb84836662af572b17636dc68e282 Signed-off-by:
	Chengyu Zheng <chengyu.zheng@polimi.it> Reviewed-on:
	http://openocd.zylin.com/3913 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Marc Schink <dev@zapb.de>
	Tested-by: jenkins

2021-05-20  Marc Schink <dev@zapb.de>

	* : tcl/board: Add ST NUCLEO-8S208RB Change-Id: I384c6ad9b4cbabbc004160677f600d8c4bd3eb71 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6268
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-11-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add comment of firmware version for each flag bit Change-Id: I7f7c7b9c9cfd88125f82662ed864a2c0715140b1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6211 Tested-by: jenkins

2021-03-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : help: fix line size in 'usage' output The implementation of command 'usage' is broken while checking the
	line limit of 76 chars per line (e.g. 'usage load_image') and the
	line wrapping is not correct. The same broken code is used for the
	first output line of command 'help' too.  When call command_help_show_wrap(), include the command's name in
	the string so the whole text would be wrapped.  Change-Id: Idece01ce54994db7e851d8522435ff764b11f3ac Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6223 Tested-by: jenkins

2021-05-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: remove remaining deprecated commands There are still few adapter_khz, ftdi_location, jtag_nsrst_delay and
	xds110_serial strolling around ...  Change-Id: I3e8503dcc3875e3c92e6536f3d455a5e448d51ff Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6270 Tested-by: jenkins

2020-08-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: use macro ARRAY_SIZE() There are still few cases where the macro ARRAY_SIZE() should be
	used in place of custom code.  Use ARRAY_SIZE() whenever possible.  Change-Id: Iba0127a02357bc704fe639e08562a4f9aa7011df Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6260 Reviewed-by: Xiang W <wxjstz@126.com>
	Tested-by: jenkins

2021-05-17  Olivier DANET <odanet@caramail.com>

	* : target/zynqmp : Add AXI AP access port The Xilinx Zynq UltraScale+ SoC have an "AXI-AP" access port for
	direct memory accesses without halting CPUs.  Change-Id: I6303331c217795657575de4759444938e775dee1 Signed-off-by:
	Olivier DANET <odanet@caramail.com> Reviewed-on:
	http://openocd.zylin.com/6263 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2021-05-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : riscv: drop unused variable The array newly_halted[] is assigned but its value is never used.
	Drop it! Change-Id: I678812a31c45a3ec03716e3eee6a30b8e8947926 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6257 Tested-by: jenkins Reviewed-by: Xiang
	W <wxjstz@126.com> Reviewed-by: Tim Newsome <tim@sifive.com>

2021-05-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: silent debug msg on command register/unregister Commit e216186fab59 ("helper/command: register full-name commands in
	jim") and commit a7d68878e4ba ("helper/command: unregister commands
	through their full-name") introduce a LOG_DEBUG() message each for
	command registration and unregistration.  The messages above are
	quite noisy and pollute the log when debug_level is 3 or higher.
	They can be useful to debug the command registration logic, but for
	the other debug activities on OpenOCD are just noisy.  Already
	commit a03ac1ba3087 ("helper/command: disable logging of registered
	commands [RFC]") was merged to silent the first case that is now
	back with additional logs.  Silent both log messages.  Use 'if (false)' to silent them, making
	easy to re-enable it when or if someone needs it.  Change-Id: Id8a067e60e822d4ecbddcb036d081298f7e6181f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6220 Tested-by: jenkins

2021-05-13  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Remove compatibility macros m4_ifblank and m4_ifnblank They are at least since Autoconf 2.67 present, and we are requiring
	version 2.69.  Change-Id: I41b33d4ebe02198f03cdddcc4a3c1beedd993d78 Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/6239 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-05-10  R. Diez <rdiezmail-openocd@yahoo.de>

	* : Document the buspirate interface driver.  Change-Id: Iaff13fc5187041a840f4f00eb6b4ee52880cf47e Signed-off-by:
	R. Diez <rdiezmail-openocd@yahoo.de> Reviewed-on:
	http://openocd.zylin.com/6231 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix some minor typo Minor typos found by the new checkpatch boosted by the dictionary
	provided by 'codespell'.  Change-Id: I548581247db72e683249749d1b8725035530b06e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6217 Tested-by: jenkins

2021-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: fix some minor typo Minor typos found by the new checkpatch boosted by the dictionary
	provided by 'codespell'.  Change-Id: Ia5f134c91beb483fd865df9e4877e0ec3e789478 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6215 Tested-by: jenkins

2021-05-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/rp2040: remove empty line at end of file Change-Id: I212a96b77282b151a8ecbd46a6436e2bbbda4161 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6221 Tested-by: jenkins

2021-05-13  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add missing break statement this is not a bug fix, this for loop will issue only one match
	adding the break will save unnecessary more loops.  Change-Id: Ic1484ea8cdea1b284eb570f9e3e7818e07daf5cd Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6248 Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins

2021-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_dpm: rename 'wp_pc' as 'wp_addr' The field 'wp_pc' was originally introduced in commit 55eeea7fceb6
	("ARMv7a/Cortex-A8: report watchpoint trigger insn") in end 2009 to
	contain the address of the instruction which triggered a watchpoint.
	Later on with commit 651b861d5d5f ("target/aarch64: Add watchpoint
	support") it has been reused in to hold directly the memory address
	that triggered a watchpoint.  Rename 'wp_pc' as 'wp_addr' and change its doxygen description.
	While there, fix the format string to print the field.  Change-Id: I2e5ced1497e4a6fb6b38f91e881807512e8d8c47 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6204 Tested-by: jenkins Reviewed-by: Liming
	Sun <limings@nvidia.com>

2021-05-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: do not perform soft_reset_halt on targets without
	VECTRESET Change-Id: Ib3df457e0afe4e342c82ad1af25e03aad6979d87 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6209 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-05-16  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: fix static analyzer warning Despite of assert(is_packed) clang static analyser complains on use
	of the uninitialized offset variable.  Cross compiling with latest x86_64-w64-mingw32-gcc hits warnings         src/target/armv7m.c: In function armv7m_read_core_reg:         src/target/armv7m.c:337:54: error: reg32_id may be
	            used uninitialized in this function
	[-Werror=maybe-uninitialized] It happens because mingw32 defines assert() without the attribute
	"noreturn", whatever NDEBUG is defined or not.  Replace assert(is_packed) by if (is_packed) conditional and call
	assert(false) in the else branch.  Change-Id: Id3c7dcccb65106e28be200b9a4d2b642f4d31019 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6256 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Andrzej Sierga
	<asier70@gmail.com>

2021-05-13  Yasushi SHOJI <yashi@spacecubics.com>

	* : server: gdb_server: Add colon for target extended-remote Both GDB commands "target remote" and "target extended-remote"
	require to have ":" right before port number.  e.g.      (gdb) target extended-remote :3333 Add ":" to the warning message so that users can copy & past it.  Change-Id: Id6d8ec1e4dfd3c12cb7f3b314064f2c35fa7ab55 Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	http://openocd.zylin.com/6237 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-02-16  Evgeniy Didin <didin@synopsys.com>

	* : rtos: Add support for Zephyr RTOS With this patch, the Zephyr[1] RTOS is supported by OpenOCD.  As usual with support for other RTOSes, Zephyr must be compiled with
	the DEBUG_THREAD_INFO option. This will generate some symbols with
	information needed in order to build the list of threads.  The current implementation is limited to Zephyr running on ARM
	Cortex-M processors. This is the only ARM variant supported by
	Zephyr at the moment and is used on most of the officially supported
	boards.  [1] https://www.zephyrproject.org/ Change-Id: I22afdbec91562f3a22cf5b88cd4ea3a7a59ba0b4 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Signed-off-by: Leandro Pereira
	<leandro.pereira@intel.com> Signed-off-by: Daniel Glckner
	<dg@emlix.com> Reviewed-on: http://openocd.zylin.com/4988 Tested-by:
	jenkins Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-05-01  Marc Schink <dev@zapb.de>

	* : flash/nor/xcf: Do not use 'Yoda conditions' Change-Id: I17308f5237338ce468e5b86289a0634429deaaa9 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6201
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2021-05-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding-style: additional style for C code To improve readability and to push more uniform code style.  Prefer 'if (false) {...}' for unused code so it get checked by the
	compiler.  Define preferred indentation for 'switch' statement.
	Require balanced brackets in 'if/else'.  Report the max line length.
	Report the formatting strings for stdint/inttypes types.  Report the
	type 'target_addr_t'.  Prefer 'unsigned int' to 'unsigned'.  Change-Id: I0192a4ed298f6c6c432764fdd156cffd4b13fc89 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6203 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Marc Schink <dev@zapb.de>

2021-04-30  Marc Schink <dev@zapb.de>

	* : target/riscv: Change 'authdata_read' output Use a constant output length and remove the line break to make the
	authentication data easier to parse.  Change-Id: Iebbf1f171947ef89b0f360a2cb286a4ea15c6ba5 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6199
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Tim Newsome <tim@sifive.com>

2021-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: [3/3] prepare for jimtcl 0.81 'expr' syntax change Jimtcl commit 1843b79a03dd ("expr: TIP 526, only support a single
	arg") drops the support for multi-argument syntax for the TCL
	command 'expr'.  Fix manually the remaining lines that don't match simple patterns
	and would require dedicated boring scripting.  Remove the 'expr'
	command where appropriate.  Change-Id: Ia75210c8447f88d38515addab4a836af9103096d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6161 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: [1/3] prepare for jimtcl 0.81 'expr' syntax change Jimtcl commit 1843b79a03dd ("expr: TIP 526, only support a single
	arg") drops the support for multi-argument syntax for the TCL
	command 'expr'.  In the TCL scripts distributed with OpenOCD there are 1700+ lines
	that should be modified before switching to jimtcl 0.81.  Apply the script below on every script in tcl folder. It fixes more
	than 92% of the lines %<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---  #!/usr/bin/perl -Wpi  my $re_sym = qr{[a-z_][a-z0-9_]*}i;  my $re_var = qr{(?:\$|\$::)$re_sym};  my $re_const = qr{0x[0-9a-f]+|[0-9]+|[0-9]*\.[0-9]*}i;  my $re_item = qr{(?:~\s*)?(?:$re_var|$re_const)};  my $re_op = qr{<<|>>|[+\-*/&|]};  my $re_expr = qr{(      (?:\(\s*(?:$re_item|(?-1))\s*\)|$re_item)      \s*$re_op\s*      (?:$re_item|(?-1)|\(\s*(?:$re_item|(?-1))\s*\))  )}x;  # [expr [dict get $regsC100 SYM] + HEXNUM]  s/\[expr (\[dict get $re_var $re_sym\s*\] \+ *$re_const)\]/\[expr
	 \{$1\}\]/;  # [ expr (EXPR) ]  # [ expr EXPR ]  # note: $re_expr captures '$3'  s/\[(\s*expr\s*)\((\s*$re_expr\s*)\)(\s*)\]/\[$1\{$2\}$4\]/;  s/\[(\s*expr\s*)($re_expr)(\s*)\]/\[$1\{$2\}$4\]/;
	%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<---%<--- Change-Id: I0d6bddc6abf6dd29062f2b4e72b5a2b5080293b9 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6159 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : telnet/auto-complete: hide deprecated and internal commands For both: - TCL proc that redirect deprecated commands to the new commands, - TCL proc used internally and not supposed to be exposed to user,
	add their name to the list of commands that should be hide by the
	telnet auto-complete.  Change-Id: I05237c6a79334b7d2b151dfb129fb57b2f40bba6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6195 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2021-04-25  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: use unsigned int for FPB and DWT quantifiers related quantifiers are:  - fp_num_lit  - fp_num_code  - dwt_num_comp  - dwt_comp_available Change-Id: I07dec2d4aa21bc0e580be0d9fd0a6809f876c2a8 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6185 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-03-02  Peter Lawrence <majbthrd@gmail.com>

	* : tcl/board: add pico-debug support pico-debug is not a board; it is a virtual CMSIS-DAP adapter that
	runs on the same RP2040 also being debugged.  This is possible due
	to pico-debug running on the normally-dormant second Cortex-M0+ core
	(Core1), providing debugging of the first core (Core0).  As such, it
	could be used on a variety of RP2040-based boards.  Since a flash driver is useful (if not essential), a flash driver is
	included.  This driver code originated on RPi's bespoke OpenOCD
	fork; lipstick was added to this particular pig to make it more
	presentable on OpenOCD proper.  no new Clang analyzer warnings Change-Id: I31f98b5ea1664f0adfbc184b57efba963acfb958 Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6075 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-19  Tim Newsome <tim@sifive.com>

	* : Cleanup of config/includes.  Remove a use of AH_BOTTOM from configure.ac. This macro is used by
	autoheader to add '#include' of some include file to the end of
	config.h.in and then to config.h. OpenOCD can be built with a custom
	config.h, so it's preferable to move these '#include' statement
	directly in the C files that need them dropping this unneeded
	dependency.  It also causes problems when I want to use the gnulib library (which
	comes with its own Makefile, and does not have the same include path
	as the top-level Makefile).  So this change touches a lot of files, but is actually really
	simple. It does not affect functionality at all.  Change-Id: I52c70bf15eb2edc1dd10e0fde23b2bcd4caec000 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/6171 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-03-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : telnet: auto-completion of "registered" commands auto-completion behavior: - if there is only one matched command complete the user-command - else if multiple matches add the common part then in second step   list all matched commands - sub-commands are handled in the same way - auto-completion restarts after these characters ';', '[', '{' Change-Id: I1b81dd19191a5785e68d0bb5cd244e01a4dd0587 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6095 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: simplify the calls to Jim_SetResultFormatted() The documentation of Jim_SetResultFormatted() reports that the jim
	objects passed as arguments would be freed if have zero refcount.  Remove the useless Jim_IncrRefCount()/Jim_DecrRefCount().  Remove
	the dangerous Jim_FreeNewObj() that should trigger a double free().
	Not tested due to lack of aice adapter.  While there, rename some CamelCase symbol.  Change-Id: Ic56704c83d6391c38f6b0efa6566784d453bc0fb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6190 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: fix memory leak on malloc() fail If malloc() fails, the just allocated Jim_Obj will leaks.  Move Jim_IncrRefCount() before the malloc() and deallocate the Jim
	object with Jim_DecrRefCount() on malloc() fail.  While there, add the 'out of memory' log and fix the CamelCase name
	of the symbol tclOutput.  Change-Id: Ic733db229d5aa5d477d758ea9cb88cd81d7542cd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6188 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/types: remove type '_Bool' Accordingly to OpenOCD coding style, both typedef and Camelcase
	symbols are forbidden.  The type '_Bool' is not used in the code,
	having 'bool' as preferred choice.  Remove the definition of '_Bool' from 'types.h'.  Change-Id: I8863f9836ccd9166e0c69fa5d75d6fef79ae7bfb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6186 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-20  Christian Hoff <christian.hoff@advantest.com>

	* : target/image: report error if ELF file contains no loadable
	sections The existing code asserted in that case, which is not correct. This
	would allow the user to crash OpenOCD with a bad ELF file, which is
	not what we want. A proper error should be reported in that case and
	OpenOCD should not crash.  Change-Id: Ied5a6a6fd4ee0fd163f3fe850d304a121ecbe33a Signed-off-by:
	Christian Hoff <christian.hoff@advantest.com> Reviewed-on:
	http://openocd.zylin.com/6172 Reviewed-by: Jonathan McDowell
	<noodles-openocd@earth.li> Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-04-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : libusb: don't use typedef's Libusb defines both the struct and a typedef to the struct using the
	same struct name. It's then possible to use either 'struct x' and
	        'x'. E.g.: typedef struct libusb_device libusb_device; OpenOCD is not consistent and uses a mix of 'struct x' and 'x'.  To make OpenOCD code uniform, stick at project's coding style and
	use 'struct x' in place of the typedef'd name.  Change-Id: I901458b680e42830d3f371e47997157f91b7f675 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6165 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li> Reviewed-by: Marc
	Schink <dev@zapb.de> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2021-01-12  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: mark FPU register as non-existent instead of playing
	with num_regs Change-Id: Iac7c5bfbb95c8d9a8c6d65104d138692a44eca78 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6015 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-21  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : doc/openocd.texi: fix warning fix the warning below by adding a '.' after xref in line 4517:
	../code/doc/openocd.texi:4517: warning: `.' or `,' must follow
	@xref, not ) Change-Id: I6e529c7e83c9f912e1dd899abf5f630c90b583d9 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6174 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-04-06  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_adi_v5: move DP register definitions to one block DP and MEM-AP definitions were mixed.  Change-Id: I2f691b2274c01e9090c1e5160c6903d3207e35c2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6138 Tested-by: jenkins

2021-03-19  Peter Lawrence <majbthrd@gmail.com>

	* : drivers/cmsis-dap: add multidrop capability Uses CMSIS-DAP v 1.2 or higher protocol command DAP_SWD_Sequence to
	write to DP TARGETSEL register. This write is not acknowledged by
	device so we cannot use standard DAP_Transfer Change-Id: Ib252d09570bcc2282be5f854e0ab9a0dfda06189 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6117 Tested-by: jenkins Reviewed-by: Peter
	Lawrence <majbthrd@gmail.com>

2021-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/at91/sam9_smc: fix syntax errors This file has been added to OpenOCD 0.5.0 in 2011, before gerrit
	gets in use, with commit ba71e8c521a7 ("at91: add chip register
	definition and generic init support").  The only procedure in the
	file has never been referenced in any other part of OpenOCD. This
	procedure has syntax errors while uses its argument 'cs' and several
	unmatched parenthesis, which clearly highlights that it has never
	been used so far.  Gerrit does not report any patch aimed at fixing
	it.  Even if the file seems unused and could be removed, let's fix it in
	the hope it could get used.  While there, remove some useless
	parenthesis and format it using the new simplified syntax required
	by jimtcl 0.81.  Change-Id: Ied26456262e7b99de37667a8ce418f4f12e237bd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: ba71e8c521a7
	("at91: add chip register definition and generic init support")
	Reviewed-on: http://openocd.zylin.com/6157 Tested-by: jenkins
	Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2021-04-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: command 'ftdi_layout_signal' can run after config The mode of command 'ftdi_layout_signal' is set to COMMAND_ANY in
	[1] and the command has no constraints that limits its use to the
	config phase only.  But [2] documents it as '{Config Command}'.  Update the documentation to report the correct mode '{Command}'.  [1] commit f5e97b5e1b62 ("Add FTDI JTAG driver using MPSSE layer")
	[2] commit 76afadeb7b4e ("doc: Add documentation for the ftdi
	driver") Change-Id: I6b14aebb98e48f7080c585f3df881714bb188af0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6155 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2021-04-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: annotate configuration commands Some command that is only valid during configuration is documented
	as generic command.  Annotate them as {Config Command} in the
	documentation.  Change-Id: Ifdbb6ec89b945e3d7adce94af379d94f511a64b6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6153 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li>

2021-03-12  Yun Liu <liuyun.97@gmail.com>

	* : remote_bitbang: Add Windows support Windows socket descriptor is not file descriptor, so when using
	remote_bitbang on Windows, it fails with "fdopen: failed to open
	write stream".  This patch removes the file write stream, replaces it with socket
	write calls.  Change-Id: Ifd7c8a4139a5ac51ecd2846835a7a947a90fe16c Signed-off-by:
	Yun Liu <liuyun.97@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6096 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-04-12  Marc Schink <dev@zapb.de>

	* : flash/nor/nrf5: Fix data types and const correctness Change-Id: I8c5bac7098d92e9b3bd1b045735879cf32ac218d Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6163
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Tested-by: jenkins

2021-04-06  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/cmsis-dap: flush read Some CMSIS-DAP adapters keep buffered packets over USB close/open so
	we need to flush up to 64 old packets to be sure all buffers are
	empty.  Flush just after cmsis_dap_open() and in the case of command
	mismatch.  Change-Id: If21a118639e64d90635b4ecf81013d29a7b9f78d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6135 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com>

2020-08-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: rename s/command_unknown/jim_command_dispatch/ The function's name was consistent with its purpose to handle
	commands that were not at root level, thus not directly 'known' by
	jimtcl.  Rename it as jim_command_dispatch() to highlight that now it is a
	jim_handler and its purpose is to dispatch the call to the proper
	command handler.  Change-Id: I9491a6d6459b8eb37a6c402abcae08388c693764 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5791 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: get rid of the tree of struct command There is no need anymore to keep alive the tree of struct command.  Remove it and let jim to free() the command's struct command that is
	referenced through command's private data.  Change-Id: I2cd84e0274a969ce200320e3a177ac20c7823da0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5675 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: simplify jim_command_mode() Now that every command has struct command as private data, use jim
	to get access to the struct command to read the command mode,
	instead of running through the tree of struct command.  Change-Id: Iddacdbac604714f6abe38a050daad245bdcfd20c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5673 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: register full-name commands in jim While still keeping the tree of struct command, stop registering
	commands in jim by the root "word" only.  Register the full-name of the command and pass as private data the
	struct command of the command itself.  Still use the tree of struct command to un-register the commands.  Some "native" commands (.jim_handler) share the same handler, then
	the handler checks the command name to run the right code.  Now
	argv[0] returns the full-name of the command, so check the name by
	looking in the struct command passed as private data.  Change-Id: I5623c61cceee8a75f5d5a551ef3fbf5a303af6be Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5671 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : command mode: return "any" for tcl proc A tcl proc can be executed anytime, in any command mode.  Let the command "command mode" to detect a tcl proc and return the
	string "any".  Change-Id: I0559076c3063632ee0ea9a57a25f91060209b77f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5669 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: override target only on target prefixed cmds In current code the current target is overridden whenever
	jim_handler_data is not NULL. This happens not only with target
	prefixed commands, but also with cti, dap and swo/tpiu prefixed
	commands.  While this is not causing any run-time issue, by now, the
	behaviour is tricky and makes the code cryptic.  Add a specific field to struct command for the target override so
	the content of jim_handler_data can be restricted to command
	specific data only (today only cti, dap and swo/tpiu).  Extend the API register_commands() to specify the presence of either
	the command data or the override target.  The new API makes obsolete calling command_set_handler_data() to set
	jim_handler_data, so remove it.  Change-Id: Icc323faf754b0546a72208f90abd9e68ff2ef52f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5667 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: use one single handler for all the commands Today openocd registers the commands to jim with three methods: 1) "native" commands (.jim_handler) at root level are registered    directly as jim commands; 2) "simple" commands (.handler) at root level are registered    through the handler script_command(); 3) all other commands not at root level are registered through the    handler command_unknown().  Apart from using different handler, other inconsistencies are
	present: a) command in 1) are not checked for their "mode", so are run with    no check about current mode (COMMAND_CONFIG or COMMAND_EXEC); b) target_call_timer_callbacks_now() is called only for "simple"    commands and not for "native" commands; c) target override is performed only for "simple" commands and not    for "native" commands.  Drop script_command() and extend command_unknown() to uniformly
	handle all the cases above, fixing all the inconsistencies already
	mentioned.  The handler's name command_unknown() is probably not
	anymore appropriate, but will be renamed in a separate change.  Note: today all the commands in a) have mode CONFIG_ANY, apart for
	"mem2array" and "array2mem" that have mode COMMAND_EXEC. But the
	latter commands are registered during target init, so do not exist
	during COMMAND_CONFIG and no issue is present.  Change-Id: I67bd6e47eb2c575107251b9192c676c27d4aabae Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5665 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2021-02-06  Cheng-Shiun Tsai <cheng.shiun.tsai@gmail.com>

	* : Aarch64:Switch to EL1 from EL0 before manipulate MMU If current core is in EL0, it cannot use 'msr sctlr_el1, x0' Change-Id: I04e60e39e4c84f9d9de7cc87a8e438f5d2737dc3 Signed-off-by:
	Cheng-Shiun Tsai <cheng.shiun.tsai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6051 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2021-04-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: [2/3] uniform the texinfo syntax for commands definition To avoid errors in the documentation, like the one fixed by change
	http://openocd.zylin.com/6134/ , use a uniform notation across the
	file so simple copy-paste will work.  Enclose every Command within curly-brackets '{...}', even single
	word commands.  Patch generated through:         sed -i 's/^\(@deffn {Command} \)\([^{][^ ]*\)/\1{\2}/'
	        doc/openocd.texi sed -i 's/^\(@deffnx {Command} \)\([^{][^
	]*\)/\1{\2}/' doc/openocd.texi Change-Id: I797e8d9f5ab0aa1936f350b340d3bdd52373f5aa Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6151 Tested-by: jenkins

2021-04-06  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc: Group adapter sub-commands The commit 5280eb618a8cab46 fixed all `adapter_khz` and
	`adapter_nsrst_*` commands in the doc but missed grouping them.
	This let the commands `adapter speed`, `adapter srst pulse_width`,
	and `adapter srst delay` not indexed.  Tell texinfo about adapter sub-commands by grouping them in one.  Change-Id: Ida53c4f5cfe28827320c145c8d501d53e831623c Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	http://openocd.zylin.com/6134 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-11-09  Liming Sun <lsun@mellanox.com>

	* : target/aarch64: Add watchpoint support There are some breakpoint/watchpoint related code in armv8_dpm.c,
	but seems not working for aarch64. Target aarch64 has its own
	breakpoint implementation in aarch64.c. This commit follows the same
	logic to add watchpoint support for target aarch64.  This commit also increases the size of stop_reason[] in function
	gdb_signal_reply() since the old size is too small to fit in a
	64-bit address, such as ffff8000115e6980.  Change-Id: I907dc0e648130e36b434220f570c37d0e8eb5ce1 Signed-off-by:
	Liming Sun <lsun@mellanox.com> Signed-off-by: Daniel Goehring
	<dgoehrin@os.amperecomputing.com> Reviewed-on:
	http://openocd.zylin.com/4761 Tested-by: jenkins Reviewed-by: Liming
	Sun <limings@nvidia.com> Reviewed-by: Kevin Burke
	<kevinb@os.amperecomputing.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-04-02  Marc Schink <dev@zapb.de>

	* : doc/manual/style: Do not use 'Yoda conditions' For more details, see: https://en.wikipedia.org/wiki/Yoda_conditions

	https://sektorvanskijlen.wordpress.com/2019/05/16/conditional-inversion-very-harmful-myth/Change-Id: If1a8a5f1d0fd345b7cc0c7b5dee6d0d47f9d7fc2 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6132
	Reviewed-by: Tarek BOCHKATI <tarek.bouchkati@gmail.com> Tested-by:
	jenkins Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2020-12-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : LICENSES: add the BSD 1-clause license Add the full text of the BSD 1-clause license.  It was copied
	directly from:         https://spdx.org/licenses/BSD-1-Clause.html#licenseText Add the required tags for reference and tooling.  Change-Id: I71444e6a45d0e77fc57220cf1d579c010a27fdf3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5972 Tested-by: jenkins

2017-12-28  Thomas Gleixner <tglx@linutronix.de>

	* : LICENSES: add the BSD 2-clause "Simplified" license Add the full text of the BSD 2-clause "Simplified" license to
	OpenOCD tree. It was copied directly from:    https://spdx.org/licenses/BSD-2-Clause.html#licenseText Add the required tags for reference and tooling.  Change-Id: I1c2fb8ad7510ddd0d745308c0a9acc2764c31f4e Signed-off-by:
	Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5970 Tested-by: jenkins

2020-12-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : LICENSES: add the GPL-3.0 license for stand-alone code The stand-alone application "contrib/itmdump.c" is released as
	GPL-3.0-or-later.  Add GPL-3.0 license in the licenses list.  Copy in subfolder
	        stand-alone the GPL-3.0 from
	https://www.gnu.org/licenses/gpl-3.0.txt adding the header required
	by spdxcheck.py.  Change-Id: I238efc411e07ed6bc1eba23edbc91b3825c3d2c7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5968 Tested-by: jenkins

2021-03-23  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/cmsis-dap: tidy up buffer access Each one of CMSIS-DAP command handlers was responsible for setting
	HID report number, which in case of USB bulk transport was not used
	at all. The command had to be filled with 1 byte offset whereas the
	response was read without an offset.  Introduce 'command' and 'response' pointers into struct cmsis_dap.
	Use them for filling the command and read the response respectively.
	CMSIS-DAP command parameter are now at positions as documented in

	https://arm-software.github.io/CMSIS_5/DAP/html/group__DAP__Commands__gr.htmlAdjust buffer allocation for HID and USB bulk transports.  While on it, use h_u32_to_le() and h_u16_to_le() instead of per-byte
	writes.  Change-Id: Ib0808d6826ba0e254c1007ace8b743405536332a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/6120 Reviewed-by: Adrian M Negreanu
	<adrian.negreanu@nxp.com> Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-12-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: drop dependency from libusb0 Now that the old drivers have been converted to libusb1, there is no
	need to keep the build dependency from libusb0.  Drop libusb0 from configure and makefiles, remove the libusb0 helper
	and remove libusb0 and libusb-compat from the README files.  Change-Id: Icc05be74ae5971ba6cbb67d39107c709a4d826e6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5993 Tested-by: jenkins

2020-12-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/usbprog: switch to libusb1 Convert the driver from libusb0 to libusb1.  Change-Id: I3f334f2d02515d612097955e714910a587169990 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5992 Tested-by: jenkins

2021-03-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : udev rules: add missing ftdi USB VID/PID All ftdi devices require a dedicated line in the udev rules, but
	some USB VID/PID present in interface and board config file is
	missing in udev rules.  Add the missing ftdi devices in udev rules.  Change-Id: I850a4a95a2d4bb63b3fd09be803be8c23c4d6b49 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6101 Tested-by: jenkins

2021-03-15  Ral Snchez Siles <rasasi78@gmail.com>

	* : build: Fix out-of-tree with --disable-dependency-tracking
	configure flag After bootstrapping build, if we want to do an out-of-tree build
	(ie: in the OOT-build dir) we have a build failure because build
	system relies on the OOT-build/src directory exists ```sh ./bootstrap mkdir OOT-build cd OOT-build ../configure
	--disable-dependency-tracking --<flag1> --<flag2> ...  make $ LANG=C
	make cat ../src/helper/startup.tcl ../src/jtag/startup.tcl
	../src/target/startup.tcl ../src/server/startup.tcl
	../src/flash/startup.tcl | ../src/helper/bin2char.sh >
	src/startup_tcl.inc || { rm -f src/startup_tcl.inc; false; }
	/bin/bash: line 1: src/startup_tcl.inc: No such file or directory
	make: *** [Makefile:6603: src/startup_tcl.inc] Error 1 ``` These kind of errors are fixed indicating relevant directory
	creation in Makefile.am before actually relying on it.  Change-Id: I8185fd41ef942184597dc4c0092796034572cbe1 Signed-off-by:
	Ral Snchez Siles <rasasi78@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6106 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-03  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: introduce stm32l4_part_info.flags for devices
	features instead of adding a new member into stm32l4_part_info for every
	relevant feature, .flags serves as container for the devices'
	features.  identified features: F_HAS_DUAL_BANK, F_USE_ALL_WRPXX, F_HAS_TZ Change-Id: I3093e54c6509dec33043ebe6f87675198bf1967a Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5540 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-03-22  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stm32l4x: add OTP support for STM32 G0/G4/L4/L4+/L5/WB/WL
	devices this is a rework of #5320 started by Andreas then abandoned.  same syntax as in stm32f2x driver:   enable OTP for writing   > stm32l4x otp 1 enable   write to OTP   > flash write_bank 1 foo.bin 0   > flash filld 0x1FFF7000 0xDeadBeafBaadF00d 1   read OTP   > mdw 0x1FFF7000 4   disable OTP   > stm32l4x otp 1 disable Change-Id: Id7d7c163b35d7a3f406dc200d7e2fc293b0675c2 Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Signed-off-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5537 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-02-24  Mischa Studer <mischa.studer@csa.ch>

	* : flash/nor/cfi: fix uninitialized write-mem pointer In flash/nor/cfi.c:835 struct cfi_info is allocated by malloc(). As
	write-mem was uninitialized the pointer pointed to an out of range
	address, which led to a segmentation fault and crashed openocd.
	This happened during flash-command of an external flash-bank, using
	cfi.  Use calloc() instead.  While on it check for NULL return and
	remove unnecessary initialzation.  Change-Id: I0e2ffb90559afe7f090837023428dcc06b2e29f6 Signed-off-by:
	Mischa Studer <mischa.studer@csa.ch> Reviewed-on:
	http://openocd.zylin.com/6070 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2021-03-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : README: update requested autoconf version 2.69 Commit 4c00f96fc2e3 ("configure.ac: switch to autoconf 2.69")
	changes the required minor version of autoconf.  Update the README file accordingly.  Change-Id: I98b32b888ff531300f03c4ef9ebcbf8110509e52 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6114 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2019-02-12  Oleksij Rempel <o.rempel@pengutronix.de>

	* : drivers: USB Blaster II: claim interface before using it If not, multiple instances of OOCD can concurrently use it.  Change-Id: I48cc9d90521d1dcc7720c6e8bec74f45972d16f7 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4589 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-03-12  Rene Kita <git@rkta.de>

	* : build: remove warnings with gcc 11 This removes some warnings which prevent a successful build with
	-Werror which is enabled by default. I'm using gcc 11, so maybe
	others are not getting this warnings yet.  In src/flash/nor/numicro.c the debug messages were misleadingly
	indented.  In src/target/arm920t.c the array size where smaller than
	expected from the receiving function.  Change-Id: I66f5c6a63beb9f9416e73b726299297476c884d8 Signed-off-by:
	Rene Kita <git@rkta.de> Reviewed-on: http://openocd.zylin.com/6104
	Reviewed-by: Jonathan McDowell <noodles-openocd@earth.li> Tested-by:
	jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-03-17  Andrew Wesie <awesie@gmail.com>

	* : tcl/interface/ftdi: Add miniWiggler debugger config Change-Id: I91f73a377cd9525008d09fda7a7c58d498014b74 Signed-off-by:
	Andrew Wesie <awesie@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6111 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-03-03  Tim Newsome <tim@sifive.com>

	* : Implement CRC32 algorithm for RISC-V.  Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	Id437f78e74e3d837ff203f84c4eeb996bfad9a01 Reviewed-on:
	http://openocd.zylin.com/6076 Reviewed-by: Jan Matyas
	<matyas@codasip.com> Reviewed-by: Marc Schink <dev@zapb.de>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com> Tested-by:
	jenkins

2020-11-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: remove minidriver code and minidriver-dummy With zy1000 removed, there is no other implementation that uses the
	minidriver, apart from the test/example minidriver-dummy.  While the
	idea of the minidriver is probably still valid (that is to intercept
	jtag primitives before serialization), there is no current use case,
	no guarantee it is really working, and the way it was implemented
	(by macros and #if conditionals) is really hard to maintain and
	test.  Let's let it rip in git history, from where it could eventually be
	taken back in a more modern implementation.  The entry points of
	minidriver API are still in the code with the original names.  Change-Id: I882e32cb26cf5842f9cba14e3badaf8948e3760d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6091 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : ioutil: drop the code, deprecated in v0.10.0 The code for ioutil has been marked as deprecated in release
	v0.10.0, 4 years ago.  Time to drop it! Change-Id: I36dce1669ebe9acada5f9e752835c53e5214e3be Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6089 Tested-by: jenkins

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: remove handling of target's deprecated_name We do not have anymore any deprecated target name.  Drop the code to
	handle deprecated target names and the placehold in struct
	target_type.  This patch is separated from the patch that drops the remaining
	deprecated target names to be ready to revert this if there is any
	need in the future.  Change-Id: I96fca7ffa39d8292f81e79f115ea45c4a30035d7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6087 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : startup.tcl: remove commands already deprecated in v0.7.0 Some command were already marked as deprecated in release v0.7.0,
	more then 7 years ago, and for some of them the depredation date is
	even earlier.  We can reasonably expect that in these 7 years any
	user of OpenOCD has already migrated to v0.7.0 or to some following
	intermediate build, thus has already updated any local/personal
	script to get rid of the deprecated message.  Drop the commands already deprecated in v0.7.0.  Change-Id: I81cdc415ab855ebf30980ef5199f9780c5d7f932 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6085 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm920t: remove command 'arm920t cp15i' deprecated in
	v0.4.0 The command 'arm920t cp15i' was marked as deprecated in release
	v0.4.0, almost 11 years ago.  We can reasonably expect that in these
	years any user of OpenOCD has already migrated to v0.4.0 or to some
	newer release, thus has already updated any local/personal script.
	There is no run-time warning about the deprecation, but it is
	reported in the help and in the documentation.  Drop the command already deprecated in v0.4.0.  Change-Id: I755c4283e13e125558fcd73b15fe20498eae95ca Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6083 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2021-03-13  Ral Sanchez Siles <rasasi78@gmail.com>

	* : flash/stm32l4x: zero init stm32l4_flash_bank struct on flash
	bank initialization This is specially needed when, in the probe routine, device is not
	found among the stm32l4_parts. In this case, the
	stm32l4_flash_bank->part_info is undefined and inadvertentanly used
	afterwards: part_info = stm32l4_info->part_info; If the stm32l4_flash_bank is zero init, the probe routine checks for
	the validity of the part_info field in the previous struct and
	correctly detects the unsupported (or not found) condition, raising
	an error rather than a SIGSEGV Change-Id: I7d9d669fb3fa7f8f0903acd60046966b4acb0031 Signed-off-by:
	Ral Snchez Siles <rasasi78@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6103 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2020-11-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: update to version 0.80 (2020-10-29) Update jimtcl to version 0.80.  Add a workaround in Makefile.am to
	allow 'make distcheck' with the new jimtcl. A fix is already merged
	upstream but will be part of the future release 0.81 of jimtcl.  Change-Id: I1cebfb9c17179114960dc771e0b31836b4b9b058 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5949 Tested-by: jenkins

2021-02-20  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/target: add BCM2837 configuration file This is the Broadcom chip used in the Raspberry Pi 3, and in later
	models of the Raspberry Pi 2.  Partial information is available in raspberry pi website:

	https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2837
	https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2837b0Change-Id: I1188a7866304c59f670a543809aca3927174786e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6069 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-02-19  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : tcl/target: add BCM2835 configuration file This is the Broadcom chip used in the Raspberry Pi Model A, B, B+,
	the Compute Module, and the Raspberry Pi Zero.  Partial information is available in raspberry pi website:

	https://www.raspberrypi.org/documentation/hardware/raspberrypi/bcm2835Change-Id: Ifeb012952473d624327e8c010ac5c886d9473aa0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6067 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-02-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: swo: use completely the available buffer The buffer passed to stlink_usb_trace_read() is allocated of size
	*size and does not need to be zero-terminated. There is no reason to
	not fill its last byte.  When checking the bytes available on swo, limit the retrieved byte
	length to *size.  Change-Id: Iade0f8963118695931f13a8a3f1ab204911236b6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Adrian
	Negreanu <adrian.negreanu@nxp.com> Reviewed-on:
	http://openocd.zylin.com/6061 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2021-02-12  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: avoid reading and writing non-existent registers Change-Id: Iedc24352c8d3444372da06d00fcec9603540f950 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6059 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: revert commit 7e6556b3cad8 With the removal of old tpiu code, commit 7e6556b3cad8 ("server:
	permit the add_service function to return the created service")
	http://openocd.zylin.com/5717/ can be reverted.  Fix also the new calls to add_service().  Change-Id: Ib7f2dfc6a9e829239e20313e0f121911085fdc00 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6031 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com>

2020-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/target: start using the new TPIU/SWO support Create the TPIU and SWO device in target config file.  Replace the
	target event 'trace-config' with the TPIU/SWO event 'post-enable'.
	Extend the existing code in the event handler to properly set the
	gpio mode and speed to permit synchronous trace.  This patch is not exhaustive of all the targets that have SWO, but
	has to be considered as an initial example.  Change-Id: If4bbf364c0d2aef3ae49951e76507a3b1cfd58e7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5859 Tested-by: jenkins Reviewed-by: Adrian
	M Negreanu <adrian.negreanu@nxp.com>

2020-11-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : itm: rework itm commands before 'init' If the command 'itm port[s]' is issued before 'init', the ITM can
	not be programmed because OpenOCD cannot access the target yet.  The
	configuration is recorded and applied after target examine.  The
	current test to trigger the ITM delayed-programming is based on the
	TPIU configuration. This is allowed because the only use of ITM it
	so send data through TPIU.  In case of system TPIU, not belonging
	anymore to the target, there is no more association between target
	ITM and system TPIU.  Add a flag to record the pending ITM configuration requested before
	'init' and test the flag to trigger the delayed-programming of the
	ITM.  Change-Id: I101eb97a116d7925cd2ff068f3e8813fc008b08e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6029 Tested-by: jenkins

2020-12-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/rlink: switch to libusb1 Convert the driver from libusb0 to libusb1.  Change-Id: I17d14522db18b4050d462d23151ec97d3a315a7f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5991 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-12-07  Adrian Negreanu <adrian.negreanu@nxp.com>

	* : cmsis_dap: remove DAP_MAX_CLOCK Discussed here:     https://sourceforge.net/p/openocd/mailman/message/35466010/ Change-Id: Ic4d38a872f4b13b794ad0a8a2abdbe5bb21eced3 Signed-off-by:
	Adrian Negreanu <adrian.negreanu@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5964 Tested-by: jenkins Reviewed-by: Bohdan
	Tymkiv <bhdt@cypress.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-26  Marc Schink <dev@zapb.de>

	* : target/mips: Remove typedef'd struct The C style guide forbids typedef'd structs, see 'Naming Rules'.  Change-Id: I449590251056c478c05105cdc18014ab4eb77ed8 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6033
	Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-25  Marc Schink <dev@zapb.de>

	* : rtos: Remove typedef'd struct The C style guide forbids typedef'd structs, see 'Naming Rules'.  Change-Id: Ia7c8218fb61ff0c74b6dd0d10fb51a77cf059c14 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/6028
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-12  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink: support of ST-LINK TCP server using stlink-dap and hla Quote: The ST-LINK TCP server is an application to share the debug
	interface of a single ST-LINK board among several host applications,
	typically a debugging tool and a monitoring tool.  Note: ST-Link TCP server does not support the SWIM transport.  ST-LINK TCP server allows several applications to connect to the
	same ST-Link through sockets (TCP).  To use ST-LINK TCP server:  - using stlink-dap : use 'st-link backend tcp [port]'  - using hla : use 'hla_stlink_backend tcp [port]' the default port value is 7184 Change-Id: I9b79f65267f04b1e978709934892160e65bd2d6d Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5633 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-04-01  Anthony Ferranti <ferranti@os.amperecomputing.com>

	* : eMAG: Add Ampere eMAG config files Add board and target configuration files for Ampere eMAG8180 board
	and Ampere eMAG processor.  Tested on an Ampere eMAG8180 development platform.  Change-Id: I222653f0fc12d25202a7e469db3594076cbc38ed Signed-off-by:
	Anthony Ferranti <ferranti@os.amperecomputing.com> Signed-off-by:
	Daniel Goehring <dgoehrin@os.amperecomputing.com> Reviewed-on:
	http://openocd.zylin.com/5569 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-29  Nishanth Menon <nm@ti.com>

	* : tcl/board: Add J7200 EVM basic support Add basic connection details with J7200 EVM Change-Id: Ia8fa5033a693ac09849d33693c81b8cb206f17c1 Signed-off-by:
	Nishanth Menon <nm@ti.com> Reviewed-on:
	http://openocd.zylin.com/5951 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2018-06-08  Nishanth Menon <nm@ti.com>

	* : tcl/board: Add AM654 EVM basic support Add basic connection details with AM654 evm Change-Id: Iea2240860e50ae42cf6f1617a10e24f63c6dd988 Signed-off-by:
	Nishanth Menon <nm@ti.com> Reviewed-on:
	http://openocd.zylin.com/5183 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2021-03-07  Paul Fertser <fercerpav@gmail.com>

	* : Restore normal development cycle Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2021-03-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/target/eos_s3: fix variable's expansion typo TCL expands the variables only if preceded by a dollar sign.  Add the missing dollar before the variable's name '_CPUTAPID'.  Change-Id: Icc5d0dddf24f75d12ee63fee69e1b265e842ca43 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Wes
	Cilldhaire <wes@sol1.com.au> Fixes: c3166b43e415 ("tcl/target: Add
	QuickLogic EOS S3 MCU configuration") Reviewed-on:
	http://openocd.zylin.com/6079 Tested-by: jenkins Reviewed-by: TM
	<tommy_murphy@hotmail.com>

2021-02-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : autotools: generate list of NEWS-xx file during configure Commit 4fc0f3530c51 ("Makefile.am: fix non-POSIX warning from
	automake") uses the BSD make extension '!=' to generate the list of
	files NEWS-xx, but it's not POSIX (yet), it's not backward
	compatible with GNU make 3.82 (used in CentOS 7, EOL scheduled for
	2024) and depending on automake evolution it could trigger again the
	warning 'apparently' just fixed.  Move in configure the generation of the file list.  The only
	drawback is that when a developer adds a new NEWS-xx file, he/she
	has to run configure again before 'make distcheck', otherwise will
	get failure.  Change-Id: Ia97e7f4e612655a97702f95e8451040539659b85 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Jan Maty
	<jmatyas@codasip.com> Reviewed-on: http://openocd.zylin.com/6054
	Tested-by: jenkins Reviewed-by: Jan Matyas <matyas@codasip.com>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2021-02-03  Krzysztof Hockuba <krzysztof.hockuba@itpartners.com.pl>

	* : Fix jtag_usb_location_equal for path members > 9 In case an USB location path contains path members larger than 9.
	The string_length variable is regardless decremented by 2 with
	assumption that the member is one digit length. For exmaple 1-12.2
	will fail.  This patch uses strlen to calculate digits in a path
	member.  Change-Id: I9c26a04d0c6af13fec65157f222599497294e2b2 Signed-off-by:
	Krzysztof Hockuba <krzysztof@hockuba.eu> Reviewed-on:
	http://openocd.zylin.com/6048 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-28  Yasushi SHOJI <yashi@spacecubics.com>

	* : doc/manual: Fix @subpage handling The subpage "thelist" used to have a title "Pending and Open Tasks"
	but the commit c41db358a0100ab changed it to "The List". With
	@subpage, it now renders:     "The List of The List enumerates opportunities for" instead of     "The List of Pending and Open Tasks enumerates opportunities
	    for" This commit fix it to     "The List enumerates opportunities for" Change-Id: Ifee0dcd9b3c9f7e651a8748a7afda99eedea3c5c Signed-off-by:
	Yasushi SHOJI <yashi@spacecubics.com> Reviewed-on:
	http://openocd.zylin.com/6041 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-02-01  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : github: fix github wokflow while pushing a tag this fix permits to add correctly the generated artifact (windows
	binaries) into the release section.  Change-Id: Ia982370d3a1e08c623ebcabb5ac97e9fb49d00e0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6047 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-25  Paul Fertser <fercerpav@gmail.com>

	* : Restore +dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2021-01-23  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : README: add missing items for 0.11 JTAG adapters   Cadence DPI, Cypress Kitpro, FTDI FT232R, Linux GPIOD, Mellanox
	  rshim, Nuvoton Nu-Link, Nu-Link2, NXP IMX GPIO, Remote Bitbang, TI
	  XDS110, Xilinx XVC/PCIe Debug targets   AArch64, Cortex-M (ARMv8-M), ARCv2, MIPS64, RISC-V, ST-STM8 Flash Drivers   ATmega128RFA1, Atmel SAM, eSi-RISC, EZR32HG, MAX32, MXC, nRF52,
	  PSoC6, Renesas RPC HF and SH QSPI, SiFive Freedom E, ST BlueNRG,   STM32 QUAD/OCTO-SPI for Flash/FRAM/EEPROM, SWM050, TI CC13xx, TI
	  CC26xx, TI CC32xx, TI MSP432, Winner Micro w600, Xilinx XCF Change-Id: I341618ac5d7189e4f98268cecd66c99447b72af8 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	http://openocd.zylin.com/6027 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2021-01-23  Paul Fertser <fercerpav@gmail.com>

	* : README.macOS: explain how to install suitable Texinfo Change-Id: Ic5906111f412eebd906a9be3fd0e133484def3eb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6026 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2021-01-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure.ac: drop macro 'AC_PROG_CC_C99' from autoconf 2.70 The macro AC_PROG_CC_C99 has been obsoleted by autoconf 2.70 and
	triggers a set of warnings from both 'aclocal' and 'autoconf'.  The
	test of AC_PROG_CC_C99 is now included in AC_PROG_CC.  For autoconf 2.69 and earlier the macro is still required, so cannot
	be simply dropped.  Use a conditional test to avoid the warning on autoconf 2.70 but
	still use AC_PROG_CC_C99 on older autoconf.  Change-Id: I5e8437f5a826fb63be6d07bcb5bb824f94683020 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6009 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2021-01-12  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : cortex_m: [FIX] ARMv8-M does not support VECTRESET ref: Armv8-M Architecture Reference Manual (DDI0553B.m)      D1.2.3: AIRCR, Application Interrupt and Reset Control Register              Bit [0] is RES0 Change-Id: I6ef451b2c114487e2732852a60e86c292ffa6a50 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	http://openocd.zylin.com/6014 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-11  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : flash/stmqspi: fix build error with -Werror=maybe-uninitialized using gcc 9.3 on ubuntu focal fossa with -Werror=maybe-uninitialized
	we get this error:   /src/flash/nor/stmqspi.c: In function read_flash_id:   /src/flash/nor/stmqspi.c:1948:6: error: retval may be used
	  uninitialized Change-Id: Ifd8ae60df847fc61e22ca100c008e3914c9af79b Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	http://openocd.zylin.com/6012 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix doxygen parameters of functions Add to doxygen comment the missing parameters.  Remove from doxygen
	comment any non-existing parameter.  Fix the parameter names in
	doxygen comment to match the one in the function prototype.  Where
	the parameter name in the doxygen description seems better than the
	one in the code, change the code.  Escape the character '<' to
	prevent doxygen to interpret it as an xml tag.  Change-Id: I22da723339ac7d7a7a64ac4c1cc4336e2416c2cc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6002 Tested-by: jenkins

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : Doxyfile.in: exclude libjaylink from doxygen When build using libjaylink as git submodule, doxygen includes the
	libjaylink files and complains for multiple 'mainpage' comment
	block, one in OpenOCD and the other in libjaylink:         src/jtag/drivers/libjaylink/libjaylink/core.c:37: warning:         found more than one \mainpage comment block! (first         occurrence: doc/manual/main.txt, line 1), Skipping current         block! Exclude libjaylink submodule from doxygen.  Change-Id: I5e856817344c9f21f8c26f077a23c00b83cfbcb5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6000 Tested-by: jenkins

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : Doxyfile.in: fix build out-of-tree When doxygen is built out-of-tree, it fails to find the generated
	file startup_tcl.inc:         src/openocd.c:59: warning: include file startup_tcl.inc         not found, perhaps you forgot to add its directory to         INCLUDE_PATH? Add '@builddir@/src' to INCLUDE_PATH.  Change-Id: I51f2f6fe7224bba0f8b3db7219f9831de4e67139 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5998 Tested-by: jenkins

2021-01-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc/style: fix doxygen error Doxygen complains about non-closed nested comments:         doc/manual/style.txt:423: warning: Reached end of file         while still inside a (nested) comment. Nesting level 1         (probable line reference: 149) This is caused by the string '/**' that is interpreted as the
	beginning of a comment.  Escape the string to not let doxygen consider it as a comment While there, replace @code/@endcode with @verbatim/@endverbatim to
	properly render the line.  Change-Id: If2a27c4cf659326e317cc4ac8c0b313e97e40432 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5996 Tested-by: jenkins

2021-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix memory leak on multiple '-gdb-port' flag In the odd case of multiple flags '-gdb-port' during 'target create'
	or following 'configure', the new strdup()'ed value will replace the
	old one without freeing it.  Free the old value (if it exists) before replacing it.  Change-Id: I1673346613ce7023880046e3a9ba473e75f18b8a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/6005 Tested-by: jenkins

2020-12-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : Makefile.am: fix override of target 'check-recursive' To prevent executing the Jim Tcl tests, the makefile's target
	'check-recursive' has been overridden in commit 56d163ce7951
	("jimtcl: update to 0.77, the current version, enable only specific
	modules").  This causes a runtime warning during build:         Makefile:6332: warning: overriding recipe for target
	        'check-recursive' Makefile:5098: warning: ignoring old
	recipe for target 'check-recursive' Instead of override the makefile's target 'check-recursive', prevent
	the recursion by re-assigning as empty the variable SUBDIRS for this
	specific target only.  Change-Id: I03d1c467eba42316a59aeed4612d6bdbe6211282 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 56d163ce7951
	("jimtcl: update to 0.77, the current version, enable only specific
	modules") Reviewed-on: http://openocd.zylin.com/5986 Tested-by:
	jenkins

2021-01-01  Paul Fertser <fercerpav@gmail.com>

	* : doc: fix over/underfull hboxes in PDF This adds some cosmetic changes to make the PDF User Manual look
	proper.  Building it now requires Texinfo 5.0 which shouldn't be problematic
	according to [0]. Commit 79fdeb37f486f74658f1eaf658abac8efb3eba6a is
	effectively reverted.  [0] https://repology.org/project/texinfo/versions Change-Id: I990bc23bdb53d24c302b26d74fd770ea738e4096 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5995 Reviewed-by: Jonathan McDowell
	<noodles-openocd@earth.li> Tested-by: jenkins Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2020-12-23  Paul Fertser <fercerpav@gmail.com>

	* : configure: do not make Capstone dependency automagic This adds regular ./configure options to control dependency on the
	Capstone disassembly engine. See [0] for the rationale.  [0]

	https://wiki.gentoo.org/wiki/Project:Quality_Assurance/Automagic_dependenciesChange-Id: I3e16dc5255d650aa1949ccf896b26dc96e522a75 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5985 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-12-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: minor fix for indentation Use a TAB in place of 4 spaces Change-Id: Ic34b7c3ef24078d2c36a193d4dd079bca5a7ef2e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: a4cdce0129a6
	("gdb_server: prevent false positive valgrind report") Reviewed-on:
	http://openocd.zylin.com/5982 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li>

2020-12-16  Jiri Kastner <cz172638@gmail.com>

	* : tcl/target/rk3308.cfg: add defer-examine only core0 is brought up by bootloader Change-Id: I1d6b5e6ba7498beadbf3805f4271f0197e411bd5 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5980 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Jonathan
	McDowell <noodles-openocd@earth.li>

2020-12-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv7m_trace: stop getting traces from adapter at exit If OpenOCD is reading trace data from the target, at exit it should
	stop the adapter to gather data, but should left the target still
	producing them.  Add a helper in armv7m_trace to disable the adapter's trace and call
	it during OpenOCD teardown.  This also provides a workaround for an issue in the firmware of
	ST-Link V3 till version V3J7. If the SWD connection is closed when
	trace is active, at following connection the trace does not work
	anymore.  Change-Id: I47ccab61405384938555096c5aca789eaa090d27 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5978 Reviewed-by: Jonathan McDowell
	<noodles-openocd@earth.li> Tested-by: jenkins

2020-12-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : Makefile.am: fix non-POSIX warning from automake Automake issues a warning         Makefile.am:46: warning: wildcard $(srcdir: non-POSIX
	        variable name Makefile.am:46: (probably a GNU make
	extension) because the GNU make function 'wildcard' is not POSIX.
	Also the GNU make function 'shell' triggers a similar warning.  Use the POSIX extension '!=', that executes an arbitrary shell
	command, to replace the GNU make 'wildcard'.  Don't include the file
	'NEWS' because automake already includes it by default.  Change-Id: Ice560c3789cec4f3f2197a255d6f5af7b1fde634 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5965 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li>

2020-12-10  Paul Fertser <fercerpav@gmail.com>

	* : Restore +dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2020-12-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: document adapter drivers linuxgpiod and sysfsgpio Change-Id: If894092a7ae04bb95fa1913d2e3c8465c2d0f75c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5961 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2015-01-06  ukasz Misek <lukasz-misek@users.sf.net>

	* : jtag/drivers/ulink: auto-detect OpenULINK USB endpoints numbers This should provide greater compatibility with different OpenULINK
	targets which might be using various endpoints numbers. Since
	they're advertised in the USB descriptor anyway it makes sense to
	autodetect them.  Interface is no longer claimed before attempting to load firmware to
	a freshly booted device, so I have no idea if this will break on
	windows or other uncommon systems (Paul).  Change-Id: Iee10dcb6911dcf46239c430e174d9f98b5bde3c2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2445 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : jimtcl: switch to github The 'historically' main repository of jimtcl in repo.or.cz has lost
	sync with the github current main repository since July 2020.  The
	new tag 0.80 is not present in repo.or.cz.  The developer of jimtcl
	has been in contact with the admins of repo.or.cz to fix the not
	better described sync issues and has now decided to stop any further
	tentative. A new README has been added on 2020-11-19 in the old
	repository to inform that it is abandoned in favour of github. The
	old content in repo.or.cz will remain due to forks that still exists
	in the same server.  Switch OpenOCD git submodules to fetch jimtcl code from the main
	development repository in github.  Change-Id: Ia2d59f1347ccfe374538b38131badfd46054eb91 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5948 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2020-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : mips_mips64: fix minor host endianness bug Commit 80f1a92bd798 ("mips64: Add generic mips64 target support")
	adds a log of the target's program counter in function
	mips_mips64_debug_entry() by directly casting the little-endian
	buffer in pc->value.  This is going to print an incorrect value on
	big-endian hosts.  Use the function buf_get_u64() to return the register value.  Not tested on real HW. Issue identified with GCC compiler flag
	'-Wcast-align=strict' after change http://openocd.zylin.com/5937/
	("target/register: use an array of uint8_t for register's value").  Change-Id: Icbda2b54a03fdec287c804e623f5db4252f9cd2a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 80f1a92bd798
	("mips64: Add generic mips64 target support") Reviewed-on:
	http://openocd.zylin.com/5944 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2020-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv4_5: fix output of command 'arm reg' Commit fc2abe63fd3c ("armv7m: use generic arm::core_mode") adds two
	special modes for ARMv6M and ARMv7M in struct arm_mode_data[].
	While these modes do not have any additional register to be dumped
	by command 'arm reg', the command still prints an header for these
	modes but not followed by any register.  Detect the special modes for ARMv6M and ARMv7M and skip them to
	avoid printing the useless header.  Change-Id: I04145769e5742624f143c910eebf9a6f6d8e3cdc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: fc2abe63fd3c
	("armv7m: use generic arm::core_mode") Reviewed-on:
	http://openocd.zylin.com/5942 Tested-by: jenkins

2019-06-21  Boran Car <boran.car@hex-five.com>

	* : jep106: Add new IDs from JEDEC From JEP106AZ, released on May 24, 2019.  Change-Id: I768b7077ec6abcd19ae1530b5715c7ea993add67 Signed-off-by:
	Boran Car <boran.car@hex-five.com> Reviewed-on:
	http://openocd.zylin.com/5244 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li> Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Jiri Kastner <cz172638@gmail.com>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2019-03-01  Tomas Vanek <vanekt@fbl.cz>

	* : adi_v5_swd: wait for readable DPIDR, ABORT if stalled Reading of DPIDR is the very first operation after JTAG to SWD
	sequence.  Without this change if DPIDR read fails then swd connect
	fails.  Keep trying JTAG to SWD sequence and DPIDR read until success or
	timeout 0.5 sec. It makes setting of adapter srst delay on SWD
	transport mostly unnecessary.  Also test for ERROR_WAIT (which should not occur according to IHI
	0031E B4.3.2 but a quirk is known) and if bus is kept stalled then
	issue abort to make the next connect possible.  Change-Id: Id8fe6618605bbeb4fed5061e987ed55de90a35f2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5730 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2020-11-08  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : tcl/target: remove deprecated ${target}_${adapter}.cfg files Change-Id: Ic4837ad3bd06eb353020e44638306f341a923c05 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	http://openocd.zylin.com/5929 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-11-08  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: fix error message Backported from gd32vf103.c Change-Id: I9c5bb7b36e6efcee0473c97047058ef26cc46eb7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5927 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-03-25  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: STM32L55/L56xx basic support (non-secure mode) STM32L5 have 512 Kbytes of Flash memory with dual bank architecture.
	STM32L5 flash is quite similar to L4 flash, mainly register names
	and offsets and some bits are changed.  NON-SECURE flash is located
	at 0x8000000 like L4 devices, so no big change is needed (secure
	flash will be subject of another change).  Note: flash driver name is set stm32l5x, in order to extend the
	commands with specific L5 commands (to manage TZEN for example ...) Note: this works only when TZEN=0 Change-Id: Ie758abb4aa19a3f29eeb0702d7dcb43992e4c639 Signed-off-by:
	Michael Jung <mijung@gmx.net> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5510 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-11-06  Tarek BOCHKATI <tarek.bouchkati@st.com>

	* : 60-openocd.rules: add ULINKplus CMSIS-DAP based adapter Change-Id: I5935e0a184b8995122d197046ef8fb4e7eefb884 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@st.com> Reviewed-on:
	http://openocd.zylin.com/5926 Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Tested-by: jenkins

2020-07-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/drivers/cmsis_dap: fix build with gcc 10.1.0 Avoid multiple definition of cmsis_dap_usb_backend and
	cmsis_dap_hid_backend using 'extern'.  Move the prototypes in
	cmsis_dap.h.  Remove the useless #if/#endif around the prototypes.  Change-Id: I8d73fe148e2155620244bc887d4235e9af530e30 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5790 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-01-29  Mickal Thomas <mickael9@gmail.com>

	* : Add CMSIS-DAP v2 support This change implements CMSIS-DAP v2 which works with raw USB bulk
	transfers.  The old driver is now split into a generic CMSIS part and a HID
	backend, with a new raw USB backend for CMSIS-DAP v2.  New commands: - cmsis_dap_backend (usb_bulk | hid | auto) - cmsis_dap_usb interface <interface number> Change-Id: I4218477b12ccbfe19c9b332321cd21394bf44e30 Signed-off-by:
	Mickal Thomas <mickael9@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4831
	Tested-by: jenkins

2020-10-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/psoc6: remove setting of xPSR.T bit from
	sromalgo_prepare() PSoC6 erases flash to 0x00 not more common 0xff, so a device with
	erased flash loads xPSR.T=0 from the zeroed reset vector.  Wrong
	thumb bit value caused a target algorithm failed with HardFault.
	The low level write to xPSR solved the problem only if xPSR cached
	copy was not marked dirty.  Later commit 49bd64347a21f5e12b33c256171b3035126d1260 fixed T
	setting for all Cortex-M target algorithms.  Since 49bd64 this part of code is useless as xPSR
	target_start_algorithm() sets always xPSR dirty so the effect of the
	low level write is eliminated (and proper setting of thumb bit is
	ensured in target_start_algorithm()) Change-Id: I68aea5e921fbc6203f2fe91a45f10d22869327de Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5875 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-10-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: use arch_info[i].value instead of allocated
	memory Change-Id: I9422cab484d0769404516947e16da1baa001a4e0 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5328 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-10-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: handle read/write FPU registers in HLA API Old stlink firmware in stlink V1 and stlink V2 pre-J15 do not handle
	FPU registers in the read_reg() and write_reg() API.  Add code to be compatible with the new API of OpenOCD.  Change-Id: Ib0439c5294b6911ea75efe8c7fa085b014317a4b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5883 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-14  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m,hla_target: rework Cortex-M register handling
	part 4 Consolidate low level register read/write.  Floating point registers were handled by target_read/write_u32
	unlike other registers handled by
	cortexm_dap_read/write_coreregister_u32 There is no reason to do so
	in cortex_m.  Remove cortexm_dap_read/write_coreregister_u32 and use
	cortex_m_load/store_core_reg_u32 directly.  Similarly HLA adapters register read/write interface supports all
	registers so use it for any floating point and other registers.  Change-Id: Ida679e5f4fec02d94ffb0bd3f265ed7ed2221cdc Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5864 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-10-14  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: rework Cortex-M register handling part 2 Make arm register id coherent with reg_list index.  Without this
	reg_list[ARMV7M_R12] was possible but reg_list[ARMV7M_FPSCR] was out
	of bounds.  Remove unused items from reg_list index.  Change-Id: I84d3b5c496fc1839d07a5b74cb1fd1c3d4ff8989 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5862 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2019-10-20  Tomas Vanek <vanekt@fbl.cz>

	* : target, register: allow a register hidden from gdb and 'reg' cmd Introduce a 'hidden' flag in struct reg to support a register cache
	containing different views of same data: e.g. Cortex-M has primask,
	basepri, faultmask and control registers accessed as one word. With
	the hidden flag we can add an reg_list item corresponding to hw
	access without exposing the register to user level.  All the struct reg are allocated with calloc() but one in xscale.c
	allocated by malloc(). Change this one to use calloc() as well to
	guarantee initial value hidden=false Change-Id: I8da9f5a5a60777ae7ef943a841307487bd80fc6f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5325 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-11-09  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/board: rename board file ST b-l475e-iot01a Use the board file name as <company>_<name>.cfg Add the SPDX tag to workaround an error in checkpatch that fails to
	recognize as valid a patch that only changes a file name.  Change-Id: I929cd9e5f9fe2e7386950643487534c9a5a05bc6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: e44539d66c89
	("Flash, FRAM and EEPROM driver for STM32 QUAD-/OCTOSPI interface")
	Reviewed-on: http://openocd.zylin.com/5931 Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Tested-by: jenkins

2016-12-21  Andreas Bolsch <hyphen0break@gmail.com>

	* : Flash, FRAM and EEPROM driver for STM32 QUAD-/OCTOSPI interface - write speed up to 150 kByte/s on STM32F469I-disco (due to   SWD clock and USB connection), up to 1 MByte/s on Nucleo-F767ZI   with external STLink-V3 or Nucleo-G474RE with two W25Q256FV in   dual 4-line mode or STM32H73BI-Disco in octal mode - tested with STM32L476G-disco (64MBit flash, 3-byte addr),   STM32F412G-Disco, STM32F469I-Disco, STM32F746G-Disco, and   STM32L476G-Disco (all 128Mbit flash, 3-byte addr),   STM32F723E-Disco, STM32F769I-Disco (512Mbit flash, 4-byte addr)   STM32L4R9I-Disco, STM32L4P5G-Disco (512MBit octo-flash, DTR,
	  4-byte addr) STM32H745I-Disco, STM32H747I-Disco (two 512MBit
	  flash, 4-byte addr) STM32H73BI-Disco, STM32H735G-Disco (512MBit
	octo-flash, DTR, 4-byte addr) - suitable cfg for Discovery boards included - limited parsing of SFDP data if flash device not hardcoded   (tested only in single/quad mode as most devices either don't   support SFDP at all or have empty(!) SFDP memory) - 'set' command for auto detection override (e. g. for EEPROMs) - 'cmd' command for arbitrary SPI commands (reconfiguration, testing
	etc.) - makefile for creation of binary loader files - tcl/board/stm32f469discovery.cfg superseded by
	stm32f469i-disco.cfg - tcl/board/stm32f7discovery.cfg removed as name is ambiguous   (superseded by stm32f746g-disco.cfg vs. stm32f769i-disco.cfg) - dual 4-line mode tested on Nucleo-F767ZI, Nucleo-H743ZI and
	  Nucleo-H7A3ZI-Q with two W25Q256FV, and on Nucleo-L496ZP-P and
	  Nucleo-L4R5ZI with two W25Q128FV, sample cfg files included and on
	  STM32H745I-Disco, STM32H747I-Disco, STM32H750B-Disco - read/verify/erase_check uses indirect read mode to work around
	  silicon bug in H7, L4+ and MP1 memory mapped mode (last bytes not
	  readable, accessing last bytes causes debug interface to hang) - octospi supported only in single/dual 1-line, 2-line, 4-line   and single 8-line modes, (not in hyper flash mode) Requirements: GPIOs must be initialized appropriately, and SPI flash
	chip be configured appropriately (1-line ..., QPI, 4-byte addresses
	...). This is board/chip specific, cf. included cfg files. The
	driver infers most parameters from current setting in CR, CCR, ...
	registers.  Change-Id: I54858fbbe8758c3a5fe58812e93f5f39514704f8 Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4321 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-by: Christopher Head <chead@zaber.com>

2020-10-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix max SWV baudrate on stlink v3 While stlink v2 anly accept till to 2 MHz for SWV baudrate, stlink
	v3 accepts up to 24 MHz.  Check the stlink version and use the respective max value.  Change-Id: I911207a35983b6acf0b901059076dd31f70e6290 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Pawel
	<phryniszak@users.sourceforge.net> Fixes:
	https://sourceforge.net/p/openocd/tickets/283/ Reviewed-on:
	http://openocd.zylin.com/5908 Tested-by: jenkins

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : build: fix build with --enable-minidriver-dummy Commit 462c01206692 ("Add complete JTAG debug logging.") breaks the
	build for minidriver, that is enabled either on zy1000 build and on
	minidriver-dummy build. The check on BUILD_ZY1000 was added to pass
	the auto-build in jenkins. While the build issue with
	minidriver-dummy was known, as reported in the comment, it was not
	addressed and got ignored for slightly more than one year.  Use the macro HAVE_JTAG_MINIDRIVER_H in place of BUILD_ZY1000 to
	take in account both builds that require the minidriver.  Fix also
	the build in case configure enables the HLA drivers due to
	autodetection of libusb. The HLA drivers would not be in the build
	and the function transport_is_hla() would be missing.  Change-Id: I1d85c5fa247bf4a85aba29b233c0b573b46665bc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5911 Tested-by: jenkins

2020-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: remove reference to already dropped tftp support The only code dealing with tftp in OpenOCD was in eCos build, code
	already dropped in commit 39650e2273bc ("ecosboard: delete
	bit-rotted eCos code") almost 8 years ago.  Drop tftp related documentation too.  Change-Id: I0defc8f844e74c90894dca04a652dcc497a520e1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5913 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li>

2020-10-20  Alberto Garcia Hierro <alberto@garciahierro.com>

	* : stm32h7x: Fix reset with non-HLA interfaces on macOS regsub doesn't work correctly on macOS Catalina, which results in an
	incorrect CHIPNAME derived from the current target. Since regsub is
	only used by this target, replace it with a simple string search for
	'.' followed by a substring. This is funcionally equivalent to what
	the regular expression was doing, but instead relies in simpler
	string operations that should have little to no differences between
	systems.  Also, refactor CHIPNAME detection into proc stm32h7x_chipname, so
	it's always retrieved in the same way without duplicating the code.  Change-Id: Ia9f63f56b508688e74278b022eaec47e503916e7 Signed-off-by:
	Alberto Garcia Hierro <alberto@garciahierro.com> Reviewed-on:
	http://openocd.zylin.com/5872 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Christopher Head
	<chead@zaber.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-11-03  Marc Schink <dev@zapb.de>

	* : target/image: Use proper data types While at it, fix some coding style issues.  Change-Id: Id521394d89e0bf787a6f812701c2cc0fe7e4e63f Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5919
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-11-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : Github: add capstone in windows snapshots Change-Id: I402c18ff72de715ce4012bce3df72aaed7159d50 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5915 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-01  Jonathan McDowell <noodles@earth.li>

	* : tcl/interface/ftdi: Add HIE JTAG Debugger config Change-Id: Ibb7a2bb8807c442394982e89258874557a2baaad Signed-off-by:
	Jonathan McDowell <noodles@earth.li> Reviewed-on:
	http://openocd.zylin.com/5910 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-11-05  Adrian Negreanu <adrian.negreanu@nxp.com>

	* : semihosting: print the semihosting operation id Change-Id: If5c3568bd1c99a48ac492137f48da0d9764efe14 Signed-off-by:
	Adrian Negreanu <adrian.negreanu@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5923 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Jonathan
	McDowell <noodles-openocd@earth.li> Reviewed-by: Tim Newsome
	<tim@sifive.com>

2020-06-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server: permit the add_service function to return the created
	service returning the created service seems useful: as the only method to get the freshly created service is by getting
	the last item in the services linked list, and this seems to be like
	an intrusion to service internal mechanism.  possibly, we could get the service from a connection but this is
	possible only from
	[new_connection|input|connection_closed]_handler_t, but this is not
	  always practical: example: armv7m: add a TCP channel to stream
	           captured trace http://openocd.zylin.com/#/c/5345/            here we poll for trace and broadcast to all connections            outside of these xxx_handler_t functions also, storing one of the connections in new_connection_handler_t and
	get the service from it is possible, but this will make the code
	less readable.  Change-Id: I5fef1baecec1e054953c6faf5b99d864ecc97f02 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5717 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-10-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/adi_v5_jtag: remove unused global variable Change-Id: Ia4e8b90359c23f4be1d3677b44b0ebd063bb8dcc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5901 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : rtos: make private the API rtos_try_next() The function rtos_try_next() is only used internally.  Make it
	private.  Change-Id: I68c6b8d8e6bbf3d674b0e0199e63bc02d358c04e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5899 Tested-by: jenkins

2020-10-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: declare local functions as static Functions that are not used outside the file should be declared as
	static.  Change-Id: I57b2fa6e49e87e14604bd34c4f1d2f037f401507 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5897 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: declare local symbols as static Functions and variables that are not used outside the file should be
	declared as static.  Change-Id: I9f97571a528f0cb3c3c26f873577ab16fdec3cdc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5895 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: declare local symbols as static Functions and variables that are not used outside the file should be
	declared as static.  Change-Id: I52d46ed6d4c9b98a7152eb23274c836416f409a3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5893 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-10-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure.ac: stop automake to search for scripts in parent dirs Automake will search for the helper scripts in the folder that
	contains the current Makefile.am (typically '.'), then some of the
	scripts will be also searched in '..' and '../..'.  If the parent folders '..' or '../..' of OpenOCD source code contain
	a file named 'install.sh', then automake will use it and will assume
	that the same folder should contains also 'ltmain.sh'.  This
	situation can either cause the build to fail or automake to use
	incorrect helper scripts.  Force automake to only search for helper scripts in the current
	directory.  Change-Id: I00bbd6bf9057c94cf5007e5ecda3fefd683481f5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/285/ Reviewed-on:
	http://openocd.zylin.com/5890 Tested-by: jenkins

2020-10-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: allow multiple GDB connections to selected targets The default way of working is to have a single GDB attached to one
	target, so OpenOCD accepts only one connection to the GDB port of
	each targets and rejects any further connection.  There are some barely safe use cases in which it could get useful
	having a second GDB connection to the same target.  One such use
	case is while using GDB as a 'non-intrusive memory inspector', as
	explained in the OpenOCD documentation.  One GDB can be left running
	an infinite loop to dump some memory area, or even analysing the
	content, while keeping a second GDB ready for user interaction or
	spot memory check.  Add a target configure option to specify the maximum number of GDB
	connections allowed for that target, keeping the default to 1.  Change-Id: I4985a602e61588df0b527d2f2aa5b955c93e125e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5865 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-10-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_cti: use adiv5_jim_mem_ap_spot_configure() To avoid code duplication, reorganize the code to replace
	cti_configure() with adiv5_jim_mem_ap_spot_configure().  Reorganize 'struct arm_cti_object' and its sub-'struct arm_cti'
	moving DAP and mem-AP info in a 'struct adiv5_mem_ap_spot'.  Replace
	cti_configure() with adiv5_jim_mem_ap_spot_configure().  Deprecate
	the use of '-ctibase' in favor of '-baseaddr'.  Change-Id: I43740a37c80de67c0f5e4dc79c3400b91a12e9e8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5869 Tested-by: jenkins

2020-10-14  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stm32h7x.cfg: alignment with RM0399 rev3 in RM0399 rev2, there was these bits in DBGMCU_CR registers:  - DBGSTBY_D3 : bit 7  - DBGSTOP_D3 : bit 8 these bits have been changed to reserved in rev3 Change-Id: I9d10d90e383795dc8e25a117d59fa065dc594610 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5861 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-10-29  Tomas Vanek <vanekt@fbl.cz>

	* : gdb_server: fix clang static analyzer warning Warning:        line 373, column 15 Assigned value is garbage or
	undefined Most probably a false warning, building the hex string byte per byte
	seems too complicated for static analyze.  Change malloc to calloc to silence the warning.  Change-Id: I746d43fa51abf05582ccf2680ed72dc557798a7a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5905 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Jonathan
	McDowell <noodles-openocd@earth.li>

2020-10-29  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/atsamv: fix clang static analyzer warning Warning:        line 679, column 4 4th function call argument is an
	uninitialized value Change-Id: If62d96e1595be945c8e17885bb402e820fb1ec7b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5903 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Jonathan
	McDowell <noodles-openocd@earth.li>

2020-10-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/board: drop 'tcl' prefix in 'find' command When OpenOCD is installed to the host the 'tcl' folder gets usually
	installed in /usr/share/openocd/, thus having 'tcl' as prefix of the
	target's file causes 'find' to fail.  Remove the 'tcl' folder prefix.  Change-Id: I3dc484c8de6af8f5aae4dd1b230522ee47ae2ba6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5887 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2020-10-27  Moritz Fischer <moritzf@google.com>

	* : jtag: xlnx-pcie-xvc: Declare function static The xlnx_pcie_xvc_execute_stableclocks() function can and should be
	static.  Change-Id: I45fb1363caee1f1762b0b1ac2c6bc1bb0153b15b Signed-off-by:
	Moritz Fischer <moritzf@google.com> Reviewed-on:
	http://openocd.zylin.com/5889 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-05-12  Cliff L. Biffle <cliff@oxide.computer>

	* : jtag/drivers/stlink_usb: fix SWO prescaler The config_trace function has an out-parameter for generating the
	prescaler for the TPIU. The STLink implementation wasn't always
	writing it, causing the tpiu command to load uninitialized stack
	memory (minus one) into the TPIU's prescaler register when
	'external' was requested.  This change ensures that the out-parameter (and the other one,
	trace_freq, which hadn't caused any buggy behavior for me) are
	written every time.  Signed-off-by: Cliff L. Biffle <cliff@oxide.computer> Change-Id:
	I222975869b1aa49cc6b1963c79d5ea0f46522b8c Reviewed-on:
	http://openocd.zylin.com/5656 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-06-14  Christopher Head <chead@zaber.com>

	* : target/cortex_m: reduce duplication in profiling The Cortex-M implementation of profiling contains a bunch of
	conditionals and checks to handle both chips which have PCSR and
	chips which do not. However, the net effect of the non-PCSR branches
	is actually exactly the same as what target_profiling_default does.
	Rather than duplicating this code, just detect the situation where
	PCSR isnt available and delegate to target_profiling_default.  Change-Id: I1be57ac77f983816ab6bf644a3cfca77b67d6f70 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5236 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-04-13  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: unify size of HWID HWID is a part of 32 bit CONFIGID register. hwid member of struct
	nrf5_info was typed uint32_t to enable direct CONFIGID read and
	masked afterwards.  Change to uint16_t to unify with hwid in struct nrf5_device_spec and
	RM description.  Change-Id: Ib720d3ce23c301aee41d074ea78a6f00a23aed68 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5589 Tested-by: jenkins

2020-03-16  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: check protection before flash erase/write on
	nRF51 nRF51 devices have a clumsy flash protection based on UICR CLENR0.
	A code running in RAM can write to a protected flash region without
	any hint the protection gets violated.  NVMC flash page erase obeys
	protection setting but fails absolutely silently.  Before this change the first problem was not addressed in the code.
	To justify the second one, protection was loaded during probe, after
	protection setting and after a mass erase.  Move protection updates to the beginning of erase/write operation
	and limit them to nRF51 series only. Check for protected sectors
	before write.  The change also fixes the problem of 'nrf5 mass_erase' on
	nRF52833/840 devices. They use ACL flash protection, which is not
	supported in nrf5 driver. mass_erase then looked like it failed.  Change-Id: Ie58cda68eb104d410b02777c3df5b343408e2666 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5522 Tested-by: jenkins

2020-05-10  Diego Herranz <diegoherranz@diegoherranz.com>

	* : tcl/interface/ftdi: Add Steppenprobe open hardware interface https://github.com/diegoherranz/steppenprobe Change-Id: Ief2c3f4a8707fa628650697d93893b2355015898 Signed-off-by:
	Diego Herranz <diegoherranz@diegoherranz.com> Reviewed-on:
	http://openocd.zylin.com/5653 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-07-31  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: introduce watchpoints support With help of actionpoint mechanism now it is possible to introduce
	watchpoints support for ARC.  Change-Id: I5887335d0ba38c15c377bc1d24a1ef36e138cf65 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5867 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2015-02-02  John Pham <jhnphm@gmail.com>

	* : Enable  hla_serial for TI ICDI devices Used jtag_libusb_open from libusb_helper.h instead of
	libusb_open_device_with_vid_pid to get device handle, as well as
	managing context, i.e. similar to stlink_usb.  Direct calls to
	libusb1 are left in for the moment.  (When this Gerrit revision was originally created, the jtag_libusb_
	wrappers did not return error conditions.) Tested w/ a TM4C123GXL board Change-Id: I71e9a366356c125444d4813e58ddd9b6c6498bf0 Signed-off-by:
	John Pham <jhnphm@gmail.com> Signed-off-by: Matthew Trescott
	<matthewtrescott@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2527 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-10-01  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target/nrf52: fix nrf52_recover nrf52_recover was merged in pre "Handle Tcl return values
	consistently" state - remove ocd_ prefixes.  Erase and unlock sequence was changed to comply Nordic semiconductor
	recommendation:

	https://infocenter.nordicsemi.com/index.jsp?topic=%2Fnwp_027%2FWP%2Fnwp_027%2FnWP_027_erasing.htmlChange-Id: Ic54236c27cf25ad8091e9e572ba1ef846f0d47c2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reported-by: Pieter De Gendt
	<pieter.degendt@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5845 Tested-by: jenkins Reviewed-by: Pieter
	De Gendt <pieter.degendt@gmail.com>

2020-10-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : riscv: fix compile error The commit b68674a1da72 ("Upstream tons of RISC-V changes.") was
	proposed well before commit 3ac010bb9f10 ("Fix debug prints when
	loading to flash"), but the merge got in different order.  After
	latest merge, the master branch fails to compile.  Fix the compile error.  Change-Id: Ia3bd21d970d589343a3b9b2d58c89e0c49f30015 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5856 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Jan Matyas
	<matyas@codasip.com>

2020-08-24  Benedikt-Alexander Mokro <mokross@gessler.de>

	* : flash/nor/at91sam4: ATSAMG55x19 Rev.B Add support for ATSAMG55x19 Rev.B.  Both chips have nearly the same
	cidr, however, Rev.B has an incremented version.  Change-Id: I5939c41fa5d54c4d3bfb850964974b878f709d13 Signed-off-by:
	Benedikt-Alexander Mokro <mokross@gessler.de> Reviewed-on:
	http://openocd.zylin.com/5825 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2020-09-02  Kevin Yang <kangyang@google.com>

	* : target/aarch64: Use apnum setting Change aarch64 to use ap-num setting if provided. Fall back to
	original behavior of using first AP when ap-num is invalid.  Change-Id: I0d3624f75c86ba5fd5a322ac60856dbbb6e71eaf Signed-off-by:
	Kevin Yang <kangyang@google.com> Reviewed-on:
	http://openocd.zylin.com/5831 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2016-12-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Update user dir config file search path Search in XDG_CONFIG_HOME as per XDG Base Directory Specification in
	addition to $HOME/.openocd.  On Darwin, search in ~/Library/Preferences/org.openocd/ which
	appears to be one of the conventional locations.  Make $OPENOCD_SCRIPTS highest priority on all platforms, previously
	it was only higher on WIN32.  Update the documentation to reflect the search order.  Change-Id: Ibaf4b59b51fdf452712d91b47ea2b5312bb5ada9 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3890 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-09-24  Karl Palsson <karlp@etactica.com>

	* : FreeRTOS: properly read on big endian systems.  Remember, don't cast your pointers between types of different sizes! While the FreeRTOS handlers attempt to account for different pointer
	and list widths, the types used are always fixed, so this will
	_remain_ broken if/when someone targets FreeRTOS on 8/16/64 bit
	targets. (Note that this patch does not _change_ that, it was fixed
	to 32bit before as well) In the meantime, this properly handles 32bit reads on a mips BE
	system (ath79) as well as remaining fully functional on x86_64.  Change-Id: I677bb7130e25dccb7c1bee8fabaee27371494d00 Signed-off-by:
	Karl Palsson <karlp@etactica.com> Reviewed-on:
	http://openocd.zylin.com/5842 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-08-17  Daniel Trnka <daniel.trnka@gmail.com>

	* : target/cortex_m.c: vector_catch command checks if a target is
	examined If a target is not examined, command vector_catch crashes while
	accessing the debug_ap NULL pointer.  maskisr and reset_config commands don't require this check.  Change-Id: I949b6f6e8b983327dd98fbe403735141f8f0b5d6 Signed-off-by:
	Daniel Trnka <daniel.trnka@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5813 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-03-31  Ulrich-Lorenz Schlter <audiomobster@gmail.com>

	* : tcl: board/dp_busblaster_v4 Busblaster v4.1a by Seed Studio
	added Change-Id: I53141d7f6f022f9dee641858f5fb0e0b70c049f8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Ulrich-Lorenz
	Schlter <audiomobster@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5549 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-07-03  Jan Kowalewski <jkowalewski@antmicro.com>

	* : tcl/target: Add QuickLogic EOS S3 MCU configuration Add configuration for QuickLogic EOS S3 MCU target.  Change-Id: I375057ff387a826e632f194843dbd92148b0c5dd Signed-off-by:
	Jan Kowalewski <jkowalewski@antmicro.com> Reviewed-on:
	http://openocd.zylin.com/5802 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-08-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : Add support of STM32H72x/73x 1M (0x483) STM32H72x/73x flash is similar to STM32H74x/75x, except
	STM32H72x/73x devices have only one single flash bank.  Change-Id: I3d3422dc60234f8273172924f426200210f388cc Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5792 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-08-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: add detection of Cortex M35P and M55 Change-Id: I52599b2b09c2dc50c95d64059213c832d380ea31 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5799 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-08-11  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : armv8-m: add SecureFault exception Change-Id: I4e1963631e834b6334bc917e956c2db4464b7b08 Signed-off-by:
	Laurent LEMELE <laurent.lemele@st.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5797 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-08-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: avoid checking for non NULL pointer to free it The function free() can be called with a NULL pointer as argument,
	no need to check the argument before. If the pointer is NULL, no
	operation is performed by free().  Remove the occurrences of pattern:         if (ptr)                 free(ptr); In target/openrisc/jsp_server.c, an error is logged if the ptr was
	already NULL. This cannot happen since the pointer was already
	referenced few lines before and openocd would have been already
	SIGSEGV in that case, so remove the log.  Change-Id: I290a32e6d4deab167676af4ddc83523c830ae49e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5809 Tested-by: jenkins

2020-08-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: avoid checking for non NULL pointer to free it The function free() can be called with a NULL pointer as argument,
	no need to check the argument before. If the pointer is NULL, no
	operation is performed by free().  Remove the occurrences of pattern:         if (ptr)                 free(ptr); Change-Id: I2938e333bd1eac5218bd67aefb9d8f373da017a8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5810 Tested-by: jenkins

2020-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: fix command's usage string The usage string should contain only the command parameters.
	OpenOCD will automatically prepend the command name to the usage
	string while dumping the usage or help message.  Remove the repeated command name from the usage string.  Change-Id: If10a0f1c254aee302b9ca08958390b7f21cdb21b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5824 Tested-by: jenkins

2020-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arc: fix command's usage string The usage string should contain only the command parameters.
	OpenOCD will automatically prepend the command name to the usage
	string while dumping the usage or help message.  Remove the repeated command name from the usage string.  Change-Id: I691094a6395acb0e4ea3bea2347ff38379002464 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5822 Tested-by: jenkins

2020-08-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: use proper format with uint32_t Modify the format strings to properly handle uint32_t data types.  While there, fix prototype mismatch between header and C file of the
	function armv7a_l1_d_cache_inval_virt().  Change-Id: I434bd241fa5c38e0c15d22cda2295097050067f5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5818 Tested-by: jenkins

2020-08-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: use proper format with uint32_t Modify the format strings to properly handle uint32_t data types.  Change the prototype of detect_swo_freq_and_prescaler() in 'jlink.c'
	to avoid an implicit cast in the caller function.  Change the type of the variable retlen in some functions in
	'usb_blaster.c' to properly pass their pointer to the local read and
	write functions.  Use the proper parser COMMAND_PARSE_NUMBER(u32, ...).  Change-Id: I5227dbce04ee59881f173724db90790b7b9cc7af Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5815 Tested-by: jenkins

2020-08-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd: avoid checking for non NULL pointer to free it The function free() can be called with a NULL pointer as argument,
	no need to check the argument before. If the pointer is NULL, no
	operation is performed by free().  Remove the occurrences of pattern:         if (ptr)                 free(ptr); While there replace a sequence malloc(size)+memset(,0,size) with a
	calloc(1,size).  Replace a pointer assignment to '0' with an
	assignment to NULL.  In server/*, an error is logged if the ptr was
	already NULL. This cannot happen since the pointer was already
	referenced few lines before and openocd would have been already
	SIGSEGV in that case, so remove the log.  Change-Id: I10822029fe8390b59edff4070575bf7f754e44ac Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5808 Reviewed-by: Adrian M Negreanu
	<adrian.negreanu@nxp.com> Tested-by: jenkins

2020-08-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5: use macro DP_APSEL_MAX to allocate struct adiv5_ap Commit 11019a824d02 ("adi_v5: enforce check on AP number value")
	introduces the macro DP_APSEL_MAX and use it in place of hardcoded
	magic numbers for the upper limit of AP selection value.  Use the macro also while defining the array of struct adiv5_ap in
	struct adiv5_dap.  Change-Id: I88f53ceb710f92a48a8026a365709fbf2d9e6912 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5806 Tested-by: jenkins

2019-01-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : hla_transport: split command registration per transport All the HLA transports (hla_swd and hla_jtag) register the same set
	of commands. Such commands are mainly aimed at handling JTAG
	compatibility that is required for the transport hla_jtag only.  Split per transport the command registration and limit the commands
	to only those required by the transport itself.  Replace the command
	"hla newtap" with the transport specific "swd newdap" or "jtag
	newtap".  Deprecate the command "hla".  Change-Id: I79c78fa97b707482608516d3824151a4d07644c0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4877 Tested-by: jenkins

2020-09-01  Alexandre Bourdiol <alexandre.bourdiol@st.com>

	* : tcl/board/st_nucleo_l1.cfg use dualbank configuration st_nucleo_l1.cfg is based on STM32L152RET6 which support dualbank
	flash.  Change-Id: I7ecdb7b7557229465e23eed667f20cd84197dfc7 Signed-off-by:
	Alexandre Bourdiol <alexandre.bourdiol@st.com> Reviewed-on:
	http://openocd.zylin.com/5829 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-08-14  Jan Kowalewski <jkowalewski@antmicro.com>

	* : tcl/interface/ftdi: fix comment in minimodule-swd.cfg Change-Id: I160faca11f231e3e839046ae2045e37e350ca613 Signed-off-by:
	Jan Kowalewski <jkowalewski@antmicro.com> Reviewed-on:
	http://openocd.zylin.com/5804 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-04-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : log: handle LOG_*() before calling to log_init() There are cases where LOG_*() functions are called before the logs
	are initialized with log_init().  E.g. in transport_register() that
	is executed in gcc constructors, thus called even before main().
	With debug_level set to LOG_LVL_USER=-1 all the LOG_ERROR() get
	dropped.  Properly initializing debug_level cause segmentation fault
	due to log_output still not initialized.  Initialize debug_level to LOG_LVL_INFO so errors get printed.
	Handle separately the case of log_output still NULL, meaning that
	log_init() is not called yet.  Change-Id: I2ea32c87a4955fb44e79b38131c456e25dfbc327 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5602 Tested-by: jenkins

2019-10-29  Hellosun Wu <wujiheng.tw@gmail.com>

	* : tcl: Add support for NDS V5 target and xc7/Corvette-F1 The "Corvette-F1" is an Arduino-compatible evaluation platform,
	which fully supports AndesCore. The board has FTDI FT2232 to
	connected to FPGA's JTAG interface.  The "ADP-XC7KFF676" is a development and prototyping board that
	provides capacity for evaluation of AndesCore processors.  It works
	with AICE in-circuit debugging tools.  This patch also include target/nds32v5.cfg to support AndesCore
	N22/N25F and AndeShape Platform AE250.  Change-Id: I144d5063d5086d00ec44634a5028b5ea5d2eba33 Signed-off-by:
	Hellosun Wu <wujiheng.tw@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5338 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-07-17  Christopher Head <chead@zaber.com>

	* : flash/nor/stm32f2x: clean up data types Change-Id: I677bc4487fc2eff2c32e14ca2db5470fddaa63b5 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5778 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-07-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix memory leaks on target_create() fail There are failure cases of target_create() that are not checked.
	Plus, in case of failure the memory allocated in not properly
	released before returning error.  Check all the possible failure in target_create().  Change
	current_target only when target is successfully created.  Add the
	new target to all_targets list only when target is successfully
	created.  Release all the allocated memory before quit on failure.
	Use malloc() instead of calloc() for target->type, because the
	struct will be fully populated with memcpy().  Change-Id: Ib6f91cbb50c28878e7c73dc070b17b8d7d4e902f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5776 Tested-by: jenkins

2020-06-27  Mikhail Rasputin <mikhail.godlike.rasputin@yandex.ru>

	* : target: fix registers reading from non examined target If a target is not examined when the debugger tries to connect to it
	then it can lead to undesired/undefined behavior.  In particular it leads to a zero pointer dereference on the aarch64.  Change-Id: I67f2b714ab8b2727fd36f3de16d7f9017b4c55fe Signed-off-by:
	Mikhail Rasputin <mikhail.godlike.rasputin@yandex.ru> Reviewed-on:
	http://openocd.zylin.com/5727 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/interface: snps_sdp: fix minor typo s/similiar/similar/ Change-Id: I4fd6af560278b3e114cc5d8ee1b49b5c4521d8be Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: b2821b607460
	("Introduce tcl config files for Synopsys HSDK board") Reviewed-on:
	http://openocd.zylin.com/5788 Tested-by: jenkins Reviewed-by:
	Evgeniy Didin <didin@synopsys.com>

2020-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm11: fix memory leaks, including register cache There is no deinit_target method, so few memory allocations leak at
	openocd exit.  Issue identified by tracking all calls to
	arm_dpm_setup().  Implement the method arm11_dpm_deinit() to free all the memory
	allocated in arm11_dpm_init() and call it in the new
	arm11_deinit_target().  NOT TESTED on real HW.  Change-Id: Icab86e290fc2db14f70eb84c8286357aadb02a35 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5694 Tested-by: jenkins

2020-06-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : nulink: add minimal support for Nu-Link2 Implementation largely taken from Nuvoton github         https://github.com/OpenNuvoton/OpenOCD-Nuvoton Reset is still not fully compatible with OpenOCD framework.  Adapted
	to hidapi.  Change-Id: Ieb1791b1b7f0b444c15c9668f8f2bcf34975d48f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: Zale Yu
	<cyyu@nuvoton.com> Reviewed-on: http://openocd.zylin.com/5720
	Tested-by: jenkins Reviewed-by: Saravanan Sekar
	<saravanan@linumiz.com> Reviewed-by: Marc Schink <dev@zapb.de>

2020-04-29  Zale Yu <cyyu@nuvoton.com>

	* : jtag/drivers: add support for Nu-Link (Nuvoton ICE) over usb Add support for Nu-Link1 over usb hidapi and config file.  The original work is fetched from Nuvoton github.  Code cleanup, fix
	merge conflicts, compile and runtime issues.  Switch the code from
	libusb to hidapi, being the device HID based.  Add documentation.
	Merge fixes for multi-word memory read.  Reset is not fully compatible with openocd framework; currently the
	target is reset and then halt at openocd start.  Change-Id: I9738de4e26783ba462ea3e39ec32069fd5bb7d94 Signed-off-by:
	Zale Yu <cyyu@nuvoton.com> Signed-off-by: Saravanan Sekar
	<saravanan@linumiz.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5635 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-07-10  Michal Potrzebicz <michal@elevendroids.com>

	* : cmsis_dap_usb: Support for Microchip's nEDBG CMSIS-DAP interface This commit fixes support for the nEDBG CMSIS-DAP interface which is
	used ie. on the Curiosity Nano SAMD21 board.  nEDBG, similarily to
	mEDBG, does not support 512 byte HID packets.  This patch adds its
	USB PID to the exclusion list to make sure that we stick with the
	default 64 bytes.  Change-Id: I9010b0cf77c0b1347269a759b5d16ee5155abb16 Signed-off-by:
	Michal Potrzebicz <michal@elevendroids.com> Reviewed-on:
	http://openocd.zylin.com/5756 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-04-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/bitbang: blink LED on SWD The blinking was implemented for JTAG only.  Extend it to SWD.  There is no error check on SWD exchange. Add a
	FIXME for further fix.  Change-Id: I42a6708c54b1eefaf691e0fe09ca58c42b2764fd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5771 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : svf: fix minor typos Change-Id: I40ac2d01c1feb2771ce96a26c4a4d05a1e816a61 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5761 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-07-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : contrib: fix minor typos While there, replace s/return(0)/return 0/ that causes checkpatch to
	fail.  Change-Id: I5ad54cffca629475563c471114a9f77301a9e4f8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5768 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : xsvf: fix minor typos Change-Id: Ib36b2178eacf79dd26ebd2e15ba385853825c198 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5765 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: fix minor typos Change-Id: Ibf835dc174a1a160ec0d57000a113c35f2713045 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5760 Tested-by: jenkins

2020-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash: fix typos and duplicated words Fix typos and duplicated words in comments and strings.  Change-Id: I64282c7018462deefeeb8e5f4d0d81942425b3fc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5758 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Christopher Head
	<chead@zaber.com>

2020-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm7tdmi: fix memory leak of register cache There is no method to free the register cache, allocated in
	arm7tdmi_init_target(), so we get a memory leak.  Issue identified
	by tracking all calls to arm_build_reg_cache().  Implement the method arm7tdmi_deinit_target() that in turn calls
	arm7tdmi_free_reg_cache().  NOT TESTED on a real arm7tdmi target.  Tested on a arm926ejs
	(SPEAr320) by hacking the target type and pretending it is a
	        arm7tdmi: sed -i s/arm926ejs/arm7tdmi/ tcl/target/spear3xx.cfg Change-Id: Iad465b708eb4ebb298725d7155fea76357e9045c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5696 Tested-by: jenkins

2020-05-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix memory leaks on targets based on arm9tdmi Similarly to the fix for arm926ejs (also base on arm9tdmi), fix the
	other targets based on arm9tdmi.  The fix for arm926ejs is tested on
	SPEAr320 target.  This fix is proposed separately because is not tested on a correct
	target device, but tested on SPEAr320 by hacking the target type and
	        pretending it is the correct one, e.g.: sed -i s/arm926ejs/arm920t/
	tcl/target/spear3xx.cfg The memory leaks detected and fixed are: - arm register cache; - EmbeddedICE register cache; - arm_jtag_reset_callback internal data; - struct <target_type>_common.  Change-Id: I565f9a5bf144a9df78474434d86a64127ef0fbe5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5699 Tested-by: jenkins

2020-07-08  Marc Schink <dev@zapb.de>

	* : tcl/target: Add initial GigaDevice GD32VF103 support There is no flash bank support at the moment.  Change-Id: I52a2bde39425d94d9333cda002e5df0a1ef63c08 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5755
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-15  Jiri Kastner <cz172638@gmail.com>

	* : tcl/target: add Rockchip RK3308 target Change-Id: Ia8c2cec0761c37623fa8a416bcfc405f2af6a6b3 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5774 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-07-15  Jiri Kastner <cz172638@gmail.com>

	* : src/target/arm_adi_v5.c: resorted ids Change-Id: Ieeccf48254032244a86d6cd35793f8f6076527e9 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5772 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-07-17  Christopher Head <chead@zaber.com>

	* : doc/target/mips: fix grammar Change-Id: Ib9012a1cfccbe4f69682d106688536c4d92392dd Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5777 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-07-10  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: Introduce Actionpoints support Actionpoint mechanism allows to setup HW breakpoints and watchpoints
	on Synopsys ARC CPUs.  This mechanism is controlled by DEBUG
	register and by a set of auxilary registers.  Each actionpoint is
	controlled by 3 aux registers: Actionpoint(AP) match mask(AP_AMM),
	AP match value(AP_AMV) and AP control(AC).  Note: some fields of actionpoint_t structure will be used in further
	support of watchpoints.  Change-Id: I4efb24675f247cc19d9122501c9e63c3126fcab4 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5763 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-06-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : cmsis-dap: fix USB interface for NXP LPC-Link2 The adapter NXP LPC-Link2 is a USB composite device that provides
	five interfaces; among three of them that are of HID class, only one
	is cmsis-dap.  Accordingly to ticket 255, OpenOCD code is not opening the right HID
	interface; then it fails to communicate with the cmsis-dap while
	checking the adapter's info.  Unfortunately, hidapi does not provide any support for reading the
	string descriptor of the interface, otherwise it would have been
	trivial to look for the right cmsis-dap interface.  In fact the
	        cmsis-dap specification reports: The CMSIS-DAP Firmware can be also
	        part of a USB composite device. If this case, the HID Interface
	        String must contain the sub-string CMSIS-DAP.  This requirement is
	satisfied by the USB device descriptor of the LPC-Link2 reported
	below, but cannot be used.  Add a quirk to let OpenOCD only accept interface number zero on a
	LPC-Link2 device.  Bus 001 Device 050: ID 1fc9:0090 NXP Semiconductors Device
	  Descriptor: bLength                18   bDescriptorType         1   bcdUSB               2.00   bDeviceClass          239 Miscellaneous Device   bDeviceSubClass         2   bDeviceProtocol         1 Interface Association   bMaxPacketSize0        64   idVendor           0x1fc9 NXP Semiconductors   idProduct          0x0090   bcdDevice            1.00   iManufacturer           1 NXP Semiconductors   iProduct                2 LPC-LINK2 CMSIS-DAP V5.224   iSerial                 3 I3F4AABA   bNumConfigurations      1   Configuration Descriptor:     bLength                 9     bDescriptorType         2     wTotalLength       0x00ab     bNumInterfaces          5     bConfigurationValue     1     iConfiguration          0     bmAttributes         0x80       (Bus Powered)     MaxPower              500mA     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        0       bAlternateSetting       0       bNumEndpoints           2       bInterfaceClass         3 Human Interface Device       bInterfaceSubClass      0       bInterfaceProtocol      0       iInterface              4 LPC-LINK2 CMSIS-DAP V5.224         HID Device Descriptor:           bLength                 9           bDescriptorType        33           bcdHID               1.00           bCountryCode            0 Not supported           bNumDescriptors         1           bDescriptorType        34 Report           wDescriptorLength      35          Report Descriptors:            ** UNAVAILABLE **       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x81  EP 1 IN         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0400  1x 1024 bytes         bInterval               4       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x01  EP 1 OUT         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0400  1x 1024 bytes         bInterval               4     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        4       bAlternateSetting       0       bNumEndpoints           2       bInterfaceClass         3 Human Interface Device       bInterfaceSubClass      0       bInterfaceProtocol      0       iInterface              7 LPC-LINK2 DATA PORT         HID Device Descriptor:           bLength                 9           bDescriptorType        33           bcdHID               1.00           bCountryCode            0 Not supported           bNumDescriptors         1           bDescriptorType        34 Report           wDescriptorLength      35          Report Descriptors:            ** UNAVAILABLE **       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x84  EP 4 IN         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0400  1x 1024 bytes         bInterval               1       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x04  EP 4 OUT         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0400  1x 1024 bytes         bInterval               1     Interface Association:       bLength                 8       bDescriptorType        11       bFirstInterface         1       bInterfaceCount         2       bFunctionClass          2 Communications       bFunctionSubClass       2 Abstract (modem)       bFunctionProtocol       0       iFunction               5 VCOM     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        1       bAlternateSetting       0       bNumEndpoints           1       bInterfaceClass         2 Communications       bInterfaceSubClass      2 Abstract (modem)       bInterfaceProtocol      0       iInterface              5 VCOM       CDC Header:         bcdCDC               1.10       CDC Call Management:         bmCapabilities       0x01           call management         bDataInterface          2       CDC ACM:         bmCapabilities       0x02           line coding and serial state       CDC Union:         bMasterInterface        1         bSlaveInterface         2       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x83  EP 3 IN         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0010  1x 16 bytes         bInterval               4     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        2       bAlternateSetting       0       bNumEndpoints           2       bInterfaceClass        10 CDC Data       bInterfaceSubClass      0       bInterfaceProtocol      0       iInterface              5 VCOM       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x02  EP 2 OUT         bmAttributes            2           Transfer Type            Bulk           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0200  1x 512 bytes         bInterval               0       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x82  EP 2 IN         bmAttributes            2           Transfer Type            Bulk           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0200  1x 512 bytes         bInterval               0     Interface Descriptor:       bLength                 9       bDescriptorType         4       bInterfaceNumber        3       bAlternateSetting       0       bNumEndpoints           2       bInterfaceClass         3 Human Interface Device       bInterfaceSubClass      0       bInterfaceProtocol      0       iInterface              6 LPCSIO         HID Device Descriptor:           bLength                 9           bDescriptorType        33           bcdHID               1.11           bCountryCode            0 Not supported           bNumDescriptors         1           bDescriptorType        34 Report           wDescriptorLength      33          Report Descriptors:            ** UNAVAILABLE **       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x85  EP 5 IN         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval               2       Endpoint Descriptor:         bLength                 7         bDescriptorType         5         bEndpointAddress     0x05  EP 5 OUT         bmAttributes            3           Transfer Type            Interrupt           Synch Type               None           Usage Type               Data         wMaxPacketSize     0x0040  1x 64 bytes         bInterval               2 Device Qualifier (for other device
	  speed): bLength                10   bDescriptorType         6   bcdUSB               2.00   bDeviceClass            0   bDeviceSubClass         0   bDeviceProtocol         0   bMaxPacketSize0        64   bNumConfigurations      1 Device Status:     0x0000   (Bus Powered) Change-Id: Ib3d46f87743a2d35a266842cb356035d898d466e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Suggested-by: Masatoshi
	Tateishi <tateishim3@gmail.com> Reported-by: Donald Bailey
	<donaldb@users.sourceforge.net> Fixes:
	https://sourceforge.net/p/openocd/tickets/255/ Reviewed-on:
	http://openocd.zylin.com/5732 Tested-by: jenkins

2020-06-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/drivers: replace perror() with LOG_ERROR() The function perror() sends the output to stderr, but OpenOCD cannot
	intercept such output to send it to the log.  Replace all occurrences of perror() with LOG_ERROR(), but keeping
	the same output format of perror().  The replacement is done automatically through:         sed -i 's/perror("\([^":]*\)[: ]*")/LOG_ERROR("\1: %s",
	        strerror(errno))/' src/jtag/drivers/*.c Change-Id: I4c140bdb09235d56cfd8bef75da9b56fbe7c2aec Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5728 Tested-by: jenkins

2020-04-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/interface: add example of linuxgpiod through dln-2 The USB adapter DLN-2 provides 32 GPIO (beside I2C, SPI, ...).  Use
	the first 6 GPIO for a SWD/JTAG bitbanging example through
	linuxgpiod driver.  Change-Id: I229c2078142ec648fc6430b5d123539045dcfbda Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5561 Tested-by: jenkins

2020-03-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/drivers: add linuxgpiod driver New adapter driver for GPIO bitbanging over Linux GPIO descriptors
	through the library libgpiod.  On Debian based distribution, the
	package libgpiod-dev is required for build.  Change-Id: I1ce1a4f1ca79096d6d476b01b523c8c10f2cac07 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5559 Tested-by: jenkins

2020-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : imx_gpio: enable only the transport specific gpio Change-Id: Idb1fabbc1e9385f8c23b643584bf7863ea91ffbf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5557 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : bitbang: split jtag and swd operations The split in OpenOCD between SWD and JTAG has been already fully
	implemented. The bitbang driver still keeps a single API write() to
	drive the output lines.  Introduce a new SWD specific API swd_write().  Move the existing SWD
	bitbang drivers to the new API by extracting the available
	conditional implementation.  Cleanup some function prototype.
	Remove the now unused global swd_mode, handled implicitly.  Rename
	bitbang_exchange() as bitbang_swd_exchange() to track its scope for
	SWD only.  Change-Id: Ie53080b941cb1ac7a34a1f80bad8bee4e304454d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5555 Tested-by: jenkins

2020-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : bitbang: document bitbang callbacks Change-Id: I732c2eeb452f3ba8a2385d0e02fccbe86381812c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5553 Tested-by: jenkins

2020-07-02  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/kinetis: use target_get_working_area_avail() Since e22c6484eaedd56d71 the trial/error allocation shows "not
	enough working area available(requested 2048)" message on klx.cfg.
	The message is not clear if it means a problem or not.  Replace with new style allocation using
	target_get_working_area_avail() Change-Id: I87fe1e38248fcac29982b72aaba12217a0552f38 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5752 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: add arguments to function prototypes Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types FUNCTION_ARGUMENTS -f {} \; This patch also fixes an incorrect function prototype in zy1000.c.
	ZY1000 minidriver implementation overrides the function
	arm11_run_instr_data_to_core_noack_inner(), but the prototype is not
	the same as in src/target/arm11_dbgtap.c and to avoid compile error
	it was changed also the prototype of the called function
	arm11_run_instr_data_to_core_noack_inner_default().  Change-Id: I476cda8cdb0e1e280795b3b43ca95c40d09e4a3d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5630 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: fix print of hex values as decimal It is an error to prefix with "0x" the print of values in decimal.
	Replace the incorrect decimal format specifier with PRIx32.  Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types PRINTF_0XDECIMAL -f {} \; Change-Id: I2eb867ef654527b2737ba573a405ec8f97c6a739 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5624 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-06-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure: split build of hla layouts Current hla driver supports two "layout": stlink and ti-icdi.  The
	configure script allows to independently enable/disable the the two
	layout. But in reality by selecting only one of them the whole hla
	driver is built, including both "layouts".  This is currently not a
	big issue because the dependencies of the two layout are the same
	(libusb), so we are sure that selecting one of them would permit to
	build both.  This is going to change with the merge of a third
	"layout" for Nuvoton Nu-Link, because it would be based on hidapi.
	We need, at least, to decouple the build of libusb and hidapi
	"layouts". A full decouple of each "layout" is also welcome to match
	the selection done during configure.  Introduce a new automake macro for each of the two "layout" and use
	them to conditionally build the "layout" files.  Use the existing
	autoconf macros to conditionally compile the code that depends by
	the "layout".  Change-Id: Ia20da7a260002a8d2af883425aa401b8920d3f36 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5719 Tested-by: jenkins

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/stmsmi: Use 'bool' data type Change-Id: I0b9d3eb6fa40cc9fed6491c8f583580fb471bcac Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5750
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/sh_qspi: Use 'bool' data type Change-Id: Id5567102013648b1565078310abc27bee4446992 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5748
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/mrvlqspi: Use 'bool' data type Change-Id: Icc64d9ba56841ff6eb96efcbdc9545938ebb7347 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5746
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/max32xxx: Use 'bool' data type Change-Id: I828cdd6d97a59fd0692eb22ba8fc0a5759029432 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5744
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/jtagspi: Use 'bool' data type Change-Id: I0e81dd476c6b3ec7fee6c84ab1bfcf9bca90c532 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5742
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/fespi: Use 'bool' data type Change-Id: I4583b4475b2fa2733db0861bfe8f52f0a514c472 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5740
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/cfi: Use 'bool' data type Change-Id: I25198223175c26aded9ad667b802da09883e94ee Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5738
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/ath79: Use 'bool' data type Change-Id: Iecd29dcfcc1ae983e4e0828025d2d174944c1e9d Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5736
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-07-01  Marc Schink <dev@zapb.de>

	* : flash/nor/at91sam3: Use 'bool' data type Change-Id: Ibaf599a4ab88ea36a84b3389e2f704554d465434 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5734
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-06-24  Mikhail Rasputin <mikhail.godlike.rasputin@yandex.ru>

	* : jtag/tcl: fix a double free of jim object The Jim_SetResultFormatted() frees jim object earlier and the
	Jim_FreeNewObj() does it second time. It breaks the memory heap.  To avoid it the Jim_IncrRefCount() + Jim_DecrRefCount() should be
	used instead of the Jim_FreeNewObj() call.  Change-Id: Ifa5f38009b2d617624b5f27e916720888a3dbad9 Signed-off-by:
	Mikhail Rasputin <mikhail.godlike.rasputin@yandex.ru> Reviewed-on:
	http://openocd.zylin.com/5724 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-05-29  Michael Hope <mlhx@google.com>

	* : flash/nor/atsame5: Fix a timeout when erasing According to the datasheet, erasing a block can take up to 200 ms.
	When using a Segger J-Link with a 2 MHz clock the current loop
	finishes after < 50 ms, ignores the timeout, and then fails when
	erasing the next block.  Switch to a time based check, add an explicit yield, and report an
	error on timeout.  Change-Id: I8255401d1e59f427a08d2cccb8a66143dcdbb324 Signed-off-by:
	Michael Hope <mlhx@google.com> Reviewed-on:
	http://openocd.zylin.com/5706 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-02-08  Moritz Fischer <moritzf@google.com>

	* : jtag: drivers: xlnx-pcie-xvc: Add support for SWD mode.  Add support for SWD debug to the Xilinx XVC/PCIe driver.  This is possible since the device is essentially a shift-register.
	So doing SWD vs JTAG is a matter of wiring things correctly on the
	RTL side (use TMS for SWDI, TDO for SWDO).  The clang static checker doesn't find any new problems with this
	change.  Change-Id: I3959e21440cd1036769e8e56a55e601d3e4aee9a Signed-off-by:
	Moritz Fischer <moritzf@google.com> Reviewed-on:
	http://openocd.zylin.com/5447 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-05-17  Lucas <public@x3ro.de>

	* : aarch64: Add support for debugging in HYP mode on ARMv8-A cores When debugging an ARMv8-A/AArch32 target running HYP mode, OpenOCD
	would throw the following error to GDB on most operations (step, set
	breakpoint):         cannot read system control register in this mode The mode in question is 0x1A, a privilege level 2 mode available on
	cores that have the virtualization extensions (such as the Raspi 3).  Note: this mode is only used when running in AArch32 compatibility
	mode.  Signed-off-by: Lucas Jenss <public@x3ro.de> Signed-off-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Change-Id:
	Ia8673ff34c5b3eed60e24d8da57c3ca8197a60c2 Reviewed-on:
	http://openocd.zylin.com/5255 Tested-by: jenkins Reviewed-by: Lucas
	Jen <lucas.jenss@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-04-26  Marc Schink <dev@zapb.de>

	* : target/armv7m_trace: Calculate prescaler for external capture
	devices This fixes a regression introduced in
	"2dc88e1479f29ef0141b05bfcd907ad9a3e2d54c" Change-Id: I04dc19ed30118a4c499b83732700b2ee0fdb67b6 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5610
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2020-05-15  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32l4x: Fix check for number of arguments The current version erroneously allows any number of arguments >= 1.  Change-Id: I64156c11b48d411c72bebbf866954818cd036ff2 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5716
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-04-23  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : openocd: fix issue in WIN32 with TCP adapters Issue: server_quit is called before adapter_quit:   In WIN32 only in server_quit we do an WSACleanup,   which terminates/closes all active sockets.    So if the adapter is TCP based, the adapter.quit handler   will fail if it will need to send some commands through TCP.  Example: close_socket in jtag_vpi_quit will fail in WIN32   because the socket is already closed   and the errno is set as "Bad File Descriptor" To fix that we introduced new functions called
	server_host_os_entry/quit to manage specific OS setup (hence WSA for
	sockets in WINDOWS) in order to delay WSACleanup after
	adapter_quit().  Change-Id: Ie4afacafe123857f6ae300e376bdfcf0d8c027ac Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5456 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-05-13  Alistair Francis <alistair.francis@wdc.com>

	* : flash: Add the Freedom E310-G002 SPI Flash Change-Id: Id9f4a209a6eacf186931b142e70a5b0458517be0 Signed-off-by:
	Alistair Francis <alistair.francis@wdc.com> Reviewed-on:
	http://openocd.zylin.com/5679 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tim Newsome
	<tim@sifive.com>

2020-05-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag/tcl: fix memory leak in command 'irscan' If the function parse_u64() fails, we jump to return, thus leaking
	the memory just allocated in 'v'.  Issue identified by clang.  Move earlier the call to parse_u64() and the associated test, before
	memory allocation.  While there, fix a possible NULL pointer dereferencing in case the
	calloc() fails, by testing for allocation failure.  Change-Id: I6a77ee17aceb282bbdfefe7cdafeba2e0e7012f1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5692 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-05-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/mem_ap: fix two memory leaks The target mem_ap misses the method 'deinit_target' and does not
	free the memory allocated during 'target create' and 'configure'.  Add the missing method and free the allocated memory.  Issue
	identified with valgrind.  Change-Id: If0d0114a75dd76a8b65c2d46d96c6085fd31a09d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5700 Tested-by: jenkins

2020-05-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex-m: enable C_DEBUGEN during examine Current code for Cortex M does not set C_DEBUGEN as soon as
	possible, (which means during target examine), but later-on either: 1) at command 'halt' (e.g. for 'gdb-attach' event); 2) at command 'soft_reset_halt'; 3) at commands 'reset', 'reset halt' or 'reset init'; 4) during polling, but only if the target:     = enter in 'double fault', or     = exit from a reset, or     = halts (not possible if C_DEBUGEN is not set) Plus, if commands in 1) or 2) are executed before the very first
	poll of the target, the value of 'cortex_m->dcb_dhcsr' is used not
	initialized while writing it back in DCB_DHCSR.  Another side effect of this situation is that it's possible to set a
	HW breakpoint with the target running, while C_DEBUGEN is not set.
	    Accordingly to [1], C1.3.1 "Debug authentication": When DGBEN is LOW
	    and DHCSR.S_HALT == 0: ...      FPB breakpoints do not generate an entry to Debug state and,     if no DebugMonitor exception is generated, will escalate to     HardFault, Lockup, or be ignored.  On STM32MP15x I get HW
	breakpoint ignored, while on STM32F411 I get HardFault.  E.g.
	following these steps: - power-on a pre-flashed board that starts running the firmware; - connect openocd, without halting or resetting the board; - set a HW breakpoint to some address often executed; - wait, but the board doesn't halt ...; - type the command 'halt'; - if the Cortex-M has HardFault it would be visible and the fault   is at the breakpoint address; - if no HardFault then type the command 'resume'; - wait and the board will finally halt at the HW breakpoint.  A similar issue has been detected on Cortex-A code and fixed by
	commit bff87a7f28fb ("target/cortex_a: enable DSCR_HALT_DBG_MODE
	during examine").  Follow the same approach and set C_DEBUGEN during
	examine.  Also, initialize 'cortex_m->dcb_dhcsr' during examine.  [1] ARM DDI 0403E "ARM v7-M Architecture Reference Manual" Change-Id: I5b0b23403634f7dfce38f104bba9f59c33eb3e99 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5702 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Moritz Fischer
	<moritzf@google.com>

2020-05-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : nor/kinetis: add keep-alive during flash write Flashing Kinetis MCU MK22FX512VLH12 takes longer than one second,
	thus gdb connection can timeout. Before commit 7f260f5009a7
	("helper/command: Handle Tcl return values consistently") the
	openocd timeout warning was masked by a bug in gdb_put_packet() that
	resets the timeout counter if any message is logged out.  The commit
	above removes one log message and the timeout warning is now
	triggered.  While the bug in gdb_put_packet() is still to be fixed, the reason
	of the timeout is the lack of keep_alive() calls in kinetis flash
	driver.  Add keep_alive() call at every iteration in function
	kinetis_write_sections(), that is reported as core write function in
	chunks of 1024 bytes in the log from the reporter.  Add also a
	keep_alive() call at every iteration in function
	kinetis_write_inner(). This part is not present in the log but, by
	code analysis, it represents another critical loop.  Change-Id: I38e631b36c7eb2f1e21cef68710ce47c03d3edda Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Jonatan
	Hatakeyama Zeidler <jonatan.zeidler@medineering.de> Reviewed-on:
	http://openocd.zylin.com/5703 Tested-by: jenkins Reviewed-by:
	<jonatan_zeidler@gmx.de>

2020-05-31  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : arm_adi_v5: enhance command error reporting avoid the usage of ERROR_COMMAND_SYNTAX_ERROR when
	ERROR_COMMAND_ARGUMENT_INVALID is more adequate.  Change-Id: Ic9aaedb93fedd45efee1b39f8ea20185f01af2da Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5654 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-02-26  Marc Schink <dev@zapb.de>

	* : tcl/boards: Rename 'ek-tm4c1294xl.cfg' to 'ti_ek-tm4c1294xl.cfg' The new filename has a proper vendor prefix. Keep the old
	configuration file for now but show a "deprecated" warning at
	runtime.  Change-Id: If7465a752f47f3292e430c8b311148badfd384cd Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5478
	Tested-by: jenkins Reviewed-by: Karl Palsson <karlp@tweak.net.au>
	Reviewed-by: Antonio Borneo <borneo.antonio@gmail.com>

2020-02-26  Marc Schink <dev@zapb.de>

	* : tcl/boards: Rename 'dk-tm4c129.cfg' to 'ti_dk-tm4c129.cfg' The new filename has a proper vendor prefix. Keep the old
	configuration file for now but show a "deprecated" warning at
	runtime.  Change-Id: I30fcb8f291d401acaa1fe665db0eeabc250d24b6 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5476
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-05-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: remove unused functions and make static local
	ones The function command_find_in_parent() is never used in OpenOCD, so
	remove it.  The functions command_name() and [un]register_command() are only
	used internally in command.c, so make them static.  Change-Id: Ide9842659796f4884fb6c1fcf5979b3b71b67abb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5663 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-05-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: fix check on value returned by jim API Either Jim_CreateCommand() and register_command_handler() return the
	jim error code JIM_OK/JIM_ERR.  Fix the check and the initialization of retval.  Change-Id: I3073c66764670128706ad979a43bb3edbbeb0ab0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5661 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-05-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: fix open AP for v2j37 and v3j7 The new stlink firmware requires opening the AP before issuing any
	operation.  In the current code we have a 'questionable' check about
	the core model to set the TAR autoincrement, that is issued without
	opening the AP, thus causing a STLINK_BAD_AP_ERROR.  Modify the AP open API to handle this case and open AP#0 before the
	memory access to check the core model.  Change-Id: I576955b5094bd41d63ff1fbad7b4fd9433253321 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Andreas
	Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5691 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com>

2020-03-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: default dapdirect to SWD instead of JTAG When the transport is not specified, OpenOCD uses the first listed
	by the selected adapter driver.  The old HLA driver for stlink lists
	SWD as first. The new driver dapdirect instead lists JTAG, making
	more difficult a fallback to HLA when dapdirect is not available due
	to old stlink FW.  Plus, in case of JTAG wiring, SWD is still
	possible, while the opposite is not.  Reorder the list of transports to grant the default to SWD.  Change-Id: Id9c529e921b148d5b352d4603a9028c2a5f15d83 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Suggested-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5538 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl/board: add board ST nucleo-8l152r8 The transport SWIM is selected twice, in board and in target, thus a
	warning is generated at run-time. It should be fixed by remove a
	line in the target file, but does not harm so let's keep it there
	for the time being.  Change-Id: I479004dc16005a330d552c8dbd5def61690f9b9f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5543 Tested-by: jenkins

2020-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: simplify handling of SWIM Now that SWIM is not accessed through HLA anymore, decouple the SWIM
	code and remove the conditional execution.  Fix the inconsistency of the return type for stlink_usb_state() in
	case of SWIM (returns ERROR_OK while type is enum target_state)
	introduced by commit 3de6b5f6e52f ("jtag/drivers/stlink_usb :
	implemented and repaired SWIM support").  The code added by commit
	above in stlink_usb_state() is an hack to reuse existing HLA API to
	perform a reconnect.  Move the SWIM specific code from
	stlink_usb_state() to a dedicated stlink_swim_op_reconnect() that
	provides consistent data type.  Change-Id: I3fe175fef00b0735bea6139b057f217a080c9d38 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 3de6b5f6e52f
	("jtag/drivers/stlink_usb : implemented and repaired SWIM support")
	Reviewed-on: http://openocd.zylin.com/5532 Tested-by: jenkins

2020-01-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : swim: add new transport Add SWIM and STM8 to documentation and update TODO file.  Introduce
	transport "swim" and command "swim newtap".  Switch in swim.c from
	HLA API to the new SWIM API.  Implement in stlink driver the SWIM
	APIs as wrappers of existing HLA functions.  Remove any SWIM related
	reference from HLA files.  Update stm8 config files and stlink-dap
	interface config file.  Change-Id: I2bb9f58d52900f6eb4df05f979f7ef11fd439c24 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5530 Tested-by: jenkins

2020-01-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : swim: abstract the transport in stm8 target SWIM is implemented by (ab)using the HLA API. This was acceptable
	when OpenOCD code did not provided a clear separation between
	transports and related APIs. Still today SWIM in OpenOCD is only
	supported by STLink, so the decision to re-use the HLA API was the
	simpler way to implement it.  After commit efd1d642220a ("adapter:
	switch from struct jtag_interface to adapter_driver") the transports
	API are better split and SWIM can be implemented as a separate set
	of API. This would open the possibility to extend OpenOCD for other
	adapters that provide SWIM, e.g. versaloon, or through SPI emulation
	[1].  Introduce a new set of files swim.[ch] to handle the SWIM API.
	Beside the API that almost match the transport low-level data
	communication (system_reset, read_mem, write_mem), add a further API
	reconnect. Today, inside HLA STLink code, the reconnect is
	implemented by hacking the HLA API state(). Please notice that due
	to this hack the return type is incorrect; stlink_usb_state()
	returns ERROR_OK in SWIM mode, while its return type is enum
	target_state. Ignore the type mismatch and still call the HLA API
	state in the new SWIM API reconnect. Further commit will fix it.  [1] http://kuku.eu.org/?projects/stm8spi/stm8spi Change-Id: I52018e1e2200cbd41af8e5031f7b35dc761b61d6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5528 Tested-by: jenkins

2020-03-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: reduce use of hla specific enum hl_transports In the driver's code it's widely used the enum hl_transports for any
	check concerning the current transport, even for the non-hla
	transport dapdirect.  The driver already provides a stlink specific
	enum stlink_mode that can be used in place of the hla one.  Replace the hla enum with the stlink one allover the code.
	Introduce a hla specific wrapper stlink_usb_hl_open() to cope with
	the only API that requires the hla specific enum.  The overall behaviour is not changed, with exception for a debug
	message in stlink_usb_open() than now prints the numeric value of
	stlink enum in place of the numeric value of the corresponding hla
	one.  This change prepares the road for moving SWIM transport out of hla
	by removing any reference to the macro HL_TRANSPORT_SWIM from the
	stlink driver.  Change-Id: Ieeea34f312245a94bfc1333087afdb8eb9f77139 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5526 Tested-by: jenkins

2020-05-12  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : arm_disassembler: fix typo 'ARM_UNKNOWN_INSTUCTION' to
	'.._INSTRUCTION' Change-Id: I3a3d566fe96fb1497cf8337389e993e0f728a64b Signed-off-by:
	Laurent LEMELE <laurent.lemele@st.com> Signed-off-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5657 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-05-17  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/jtagspi: propagate error from jtag_execute_queue() Change-Id: Ib985bdf3d60345a1e701f9cc98f89a47ff74d3e2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5684 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-05-13  Alistair Francis <alistair.francis@wdc.com>

	* : contrib: Add HiFive1 to udev rules Change-Id: I4ba9219e1c673d650931f8f9426d554de8322abf Signed-off-by:
	Alistair Francis <alistair.francis@wdc.com> Reviewed-on:
	http://openocd.zylin.com/5678 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arc: fix build with clang Commit da41bce3aee9 ("target/arc: introduce breakpoint
	functionality") introduces a mismatch between the format string and
	one int constant.  Change the format string to match the int constant.  Change-Id: I0d59552205551b90e165c0a2e3fef247ad0c7701 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: da41bce3aee9
	("target/arc: introduce breakpoint functionality") Reviewed-on:
	http://openocd.zylin.com/5655 Tested-by: jenkins Reviewed-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2020-02-20  Marc Schink <dev@zapb.de>

	* : flash/nor/bluenrg-x: Minor code cleanups Change-Id: I7844eb30d58b0a23ca5bcc94181066cca6fa0861 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5462
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: wrap lines longer than 120 chars The coding style is quite permissive allowing 120 chars per line,
	but abuses are still present.  Fix them, wrapping the lines.  Change-Id: I94d66b651d759a60ec35f7ba115c43933e70ed69 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5626 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: let "else" follow the close brace The statement "else" should not be on a new line when follows a
	close brace '}'. Fix it! Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types ELSE_AFTER_BRACE -f {} \; Change-Id: I8af247ec3f75a69713d7cb1e73881254d16c189e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5623 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: prototype of functions with no parameters Functions that have no parameters should use "void" as parameter in
	the function declaration.  Issue identified and fixed by script checkpatch from Linux kernel
	v5.1 using the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types FUNCTION_WITHOUT_ARGS --fix-inplace -f {} \; Change-Id: If104ac75b44e939ec86155ff7b5720f2e33c6b39 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5621 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: avoid unnecessary line continuations Line continuation, adding a backslash as last char of the line, is
	requested in multi-line macro definition, but is not necessary in
	the rest of C code.  Remove it where present.  Identified by checkpatch script from Linux kernel v5.1 using the
	command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types LINE_CONTINUATIONS -f {} \; Change-Id: Id0c69e93456731717a7b290b16580e9f8ae741bc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5619 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: remove useless break after a goto or return In a switch/case statement, a break placed after a goto or return is
	never executed.  The script checkpatch available in Linux kernel
	v5.1 issues a warning for such unused break statements.  In the
	process of reviewing the new checkpatch for its inclusion in
	OpenOCD, let's get rid of these warnings.  The script checkpatch is unable to fixup automatically this case.
	Thanks to having "break" command using a single code line, this
	patch has been generated using the script below:         find src/ -type f -exec ./tools/scripts/checkpatch.pl -q \          --types UNNECESSARY_BREAK -f {} \; \         | sed -n '/^#/{s/^.*FILE: //;s/:$//;s/:/ /;p}' \         | awk 'function P() {print "sed -i '\''"b"'\'' "a};                {                  if ($1!=a) {                    if (a) {P()};                    a=$1;                    b=$2"{d}";                  } else {                    b=b";"$2"{d}"                  }                };                END {P()}' Change-Id: I56ca098faa5fe8d1e3f712dc0a029a3f10559d99 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5617 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-04-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: fix typo and spelling Identified by checkpatch script from Linux kernel v5.7-rc1 using the
	        command find tcl/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types TYPO_SPELLING --strict -f {} \; Change-Id: I7b523f0ab5ec047ff167742a44c29984ac672cf4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5615 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2020-04-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix texinfo warning on @deffn not at the line beginning Commit 87a4158acf56 ("drivers: xds110: Clean up command syntax and
	documentation") does not follow the documentation structure that
	lists the adapters in cpt 2 "Debug Adapter Hardware" then lists the
	adapter commands in cpt 8.2 "Interface Drivers"; it puts all in cpt
	2.  While doing that, uses an incorrect texinfo syntax that causes
	the following warnings at compile time:         doc/openocd.texi:543: warning: @deffn should only appear at
	        the beginning of a line doc/openocd.texi:547: warning:
	        @deffn should only appear at the beginning of a line
	doc/openocd.texi:552: warning: @deffn should only appear at the
	beginning of a line Move the documentation of xds110 commands in the proper chapter and
	fix the texinfo syntax.  Change-Id: I0b3f0fe0c687f194bb02e2d81aca86fcd4fdd718 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Fixes: 87a4158acf56
	("drivers: xds110: Clean up command syntax and documentation")
	Reviewed-on: http://openocd.zylin.com/5613 Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Reviewed-by: Edward Fewell <efewell@ti.com>

2020-05-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: register all commands through
	register_commands() The commands "ocd_find" and "capture" are registered directly
	through the jim API, instead of the common way to describe them in a
	struct command_registration that is then passed to the helper
	register_commands().  This cause the two commands above to not have
	either "help" nor "usage" string nor a properly identified "mode".  Since the following line registers the commands listed in struct
	command_builtin_handlers, simply add the two commands above in the
	same struct.  Change-Id: Id6ee11dac3b18364deeed65ee8e18ad80152750a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5644 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-28  Marc Schink <dev@zapb.de>

	* : flash/nor/efm32: Some small code cleanups Change-Id: I547970ce31435f75bae01d6d2cc96ebc9c15588c Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5420
	Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-04-26  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : hla: remove unused hl_interface_param_s.api Change-Id: I90a23293c7e3a6067d56e56d186f9f452af7c15e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5611 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2020-02-20  Marc Schink <dev@zapb.de>

	* : flash/nor/kinetis: Minor code cleanups Change-Id: Id74cb6c238b803d1a1566fc615e22ea478f2e15e Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5459
	Tested-by: jenkins Reviewed-by: Lars Poeschel
	<poeschell+openocd@mailbox.org> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-03-16  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: introduce arc_read/write_instruction functions This commit introduces helper instruction read/write functions for
	further bp functionality.  Change-Id: I619fbe2870ef6365c29ed1618bb83b6f7eb84690 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5640 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-10-17  Tim Newsome <tim@sifive.com>

	* : Add get_thread_reg() and set_reg() for hwthread get_thread_reg() allows gdb to request the register value of a
	specific "thread." set_reg() allows register writes without getting
	a giant list of registers first.  Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I87faa1c8793916b9ee476dd696f0695a07ca2b41 Reviewed-on:
	http://openocd.zylin.com/5324 Tested-by: jenkins

2020-03-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: always use stm32l4_get_flash_reg this change is a preparation for STM32L5 support on top of L4 driver
	STM32L5 flash is quite similar to L4 flash, mainly register names
	and offsets and some bits are changed.  a table with register offset
	will be introduced, thus correct register addresses will be obtained
	using this table and the driver internal function
	'stm32l4_get_flash_reg' will be responsible of this.  Change-Id: I74bf61a83fe53575623640af0328b3253ecc796f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5508 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Michael Jung
	<mijung@gmx.net> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-10-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: cosmetic refactorization Introduce a variable 'size' and reduce the number of dereferencing
	*reg_list_size by using the variable.  Change-Id: I3bdf1485a4ed8e34435e8acb3efd0df8d802508c Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5326 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-04-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: set tcp port and bind address before init All the servers open the listening socket during openocd "init";
	it's not possible to change the tcp port or the bind address after
	"init".  In current code, the call order during "init" permits to change the
	port and bind address of tcl and telnet server if the related
	command is issued after "init" in the same script or on openocd
	command line. This is not guaranteed to work if the call order
	during "init" changes, so it's incorrect.  Change the commands "bindto" and "*_port" to COMMAND_CONFIG.  Change-Id: Id88f225a67a872b4bcaf3b799466bddedc248015 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Christopher
	Head <chead@zaber.com> Fixes:
	https://sourceforge.net/p/openocd/tickets/264/ Reviewed-on:
	http://openocd.zylin.com/5595 Reviewed-by: Christopher Head
	<chead@zaber.com> Tested-by: jenkins

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: src: remove empty lines at end of text files Empty lines at end of text files are useless.  Remove them.  Change-Id: Ibac9b36682d58f81e34ca2b51e6260e7d472fb0e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5172 Tested-by: jenkins

2020-04-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : bitbang: Fix FTBFS with GCC 10 GCC 10 defaults to -fno-common which breaks the sharing of
	bitbang_swd struct between bitbang drivers due to a missing extern.  Change-Id: I2b4122f7939cec91a72284006748f99a23548324 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5592 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Jonathan
	McDowell <noodles-openocd@earth.li>

2020-02-06  Leonard Crestez <leonard.crestez@nxp.com>

	* : ftdi: Report an error if no ftdi_vid_pid is specified By default the list of VID/PID is empty so if ftdi_vid_pid is not
	called then no matches are attempted. The only message is at -d3:         Command 'init' failed with error code -100" Check for this condition explicitly to make life easier for people
	configuring adapters.  Change-Id: If0f93370c9e9ddc9700aae7c346c1c6dd319152e Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5440 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-10-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/armv7m: minor fixes of target algo exit point check Introduce a new ERROR_TARGET_ALGO_EXIT as currently used
	ERROR_TARGET_TIMEOUT should be reserved for the timeout only.  Do not load PC directly from CPU HW as the register value has
	already been cached.  Change-Id: I0d3630da41fd021676789dc12b52545cc0432ba8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5329 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2019-03-01  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target/nrf52.cfg: detect AP lock and add command to recover Change-Id: I8d2e29ed88a957d412473255e42b022a00dfb9cb Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4984 Tested-by: jenkins

2019-07-22  Aurlien Martin <martaurel@gmail.com>

	* : nrf5: Refresh the watchdog while flashing If watchdog is enabled, there's no way we can disable it while the
	flashing firmware is running. (Halt disables it, but software reset
	doesn't.) So let's have the flashing firmware refresh the watchdog
	regularly, in case it has been enabled by previously running
	software. Failure to do so could lead to a watchdog reset in the
	middle of the chip bieng programmed.  Change-Id: I79d41593948aae0080480e891552e1c2ee3ccbd0 Signed-off-by:
	Aurlien Martin <martaurel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5266 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-17  Florian Fainelli <f.fainelli@gmail.com>

	* : Remove BUILD_TARGET64 BUILD_TARGET64 creates a larger test matrix and mostly gates the
	building of the aarch64/armv8 target, make that unconditional, which
	would help fixing any issues with 64-bit address types anyway.  Rebased by Antonio Borneo after commit 1fbe8450a9dd ("mips: Add
	MIPS64 support") Change-Id: I219f62b744d540d9dde9a42e6b63fd7d91df3dbb Suggested-by:
	Matthias Welwarsky <matthias@welwarsky.de> Signed-off-by: Florian
	Fainelli <f.fainelli@gmail.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5240 Tested-by: jenkins

2019-05-10  Liming Sun <lsun@mellanox.com>

	* : jtag/drivers: add debugging support for Mellanox BlueField SoC This commits adds debugging support for the Mellanox BlueField SoC
	via rshim, which is an interface accessible from external USB or
	PCIe (for SmartNIC case) via the rshim driver. It implements the arm
	dap interfaces based on the existing dapdirect framework.  Change-Id: I18eb1c54293ec2c581f853e0e55b3f96d7978b56 Signed-off-by:
	Liming Sun <lsun@mellanox.com> Reviewed-on:
	http://openocd.zylin.com/5457 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-04-04  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Drop reference to renesas_gen2_common.cfg Drop bogus reference to board/renesas_gen2_common.cfg , which is a
	non-existing file.  Fixes: a01474bb4c4c ("tcl/target: Switch Renesas R-Car Gen2 boards
	to new config") Change-Id: Icb22d8456b7ac94d3a9a4ed354b246ee1332b122
	Signed-off-by: Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5564 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-03-13  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/ulink: fix clang static analyzer warnings scan-build-9: Description: Potential leak of memory pointed to by
	'cmd' File:
	/home/vanekt/openocd/scanbuild9/../src/jtag/drivers/ulink.c Line:
	1075 Description: Potential leak of memory pointed to by 'cmd' File:
	/home/vanekt/openocd/scanbuild9/../src/jtag/drivers/ulink.c Line:
	1275 ulink_append_xxx_cmd() functions allocate memory for cmd and then
	call ulink_allocate_payload(), which allocates cmd->payload_out or
	cmd->payload_in.  ulink_append_queue() checks the size of queue and if the new payload
	does not fit, calls ulink_execute_queued_commands() and then
	ulink_post_process_queue(). If any of these two fails, an error is
	returned, allocated cmd struct leaks and the queue is left in an
	undefined state.  Change ulink_append_queue() flow to proceed to appending cmd to the
	queue even in the case of fail in previous
	ulink_execute_queued_commands() or ulink_post_process_queue(). In
	case of fail then clear the queue including the last appended cmd.  Change-Id: I967c07af19e9020c93bcb4ef403cf1f557dd1db1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5370 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/ulink: fix clang static analyzer warning scan-build-9: Description: Potential leak of memory pointed to by
	'tdo_buffer' File: src/jtag/drivers/ulink.c Line: 1629 Free the buffer before error return.  Change-Id: Ic47651a5ae78c7a47ae4fcbad225f329b14c45cb Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5519 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de>

2020-03-17  Evgeniy Didin <didin@synopsys.com>

	* : target/arc: remove saving context during reset In arc_poll() function we handle the cases, when jtag indicates,
	that processor is halted, but target->state is not TARGET_HALTED.
	In case, when processor was halted and target->state was
	TARGET_RUNNING, we should save context. At the same time if
	target->state was TARGET_RESET we do not need to save context.  Changes: 16.04: Fix - Move setting target->state = TARGET_HALT after
	"target->state == TARGET_RUNNIG" check, otherwise this check makes
	no sense Change-Id: I92ab6ec71cf58273bb8401d14a562035de3deab4 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5524 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-11-28  Evgeniy Didin <didin@synopsys.com>

	* : Introduce ARCv2 tcl config files With this commit we add tcl files which describes ARCv2 architecture
	features and configure files for ARCv2 EMSK board.  Changes since v1: -Moved from http://openocd.zylin.com/#/c/5332/4  into separate commit.  Changes: 22.01.2020: -Removed "actionpoints" handling code in  tcl/cpu/arc/v2.tcl because this capability  is not supported yet.  Changes: 17.03.2020: -Update Licence headers -Cleanup indents
	-Removed "reset halt" in boards .tcl -Updated adapter frequency
	commands Changes: 15.03.2020: -Removed "init" in the of boards .tcl Change-Id: I51bf620abe7b8e046e1dccc861a7d963965d3a42 Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Cc: Alexey Brodkin
	<abrodkin@synopsys.com> Reviewed-on: http://openocd.zylin.com/5350
	Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2020-04-06  tscn92 <tscn@kamstrup.com>

	* : flash/nor/efm32: Chip support extension (EFM32GG12B Giant) For flash/nor/efm32 the EFM32GG12B Giant chip has been added to the
	efm32_family along with its respective series and msc_rebase.
	Testen on EFM32GG12B390F board Change-Id: Idd7dfa93f26ac22566aed1be28f30db678cc0a25 Signed-off-by:
	tscn92 <tscn@kamstrup.com> Reviewed-on:
	http://openocd.zylin.com/5567 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-04-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : server/gdb_server: set gdb_connection::ctrl_c type to bool Change-Id: I828b83b181f7a222ee2e6cb67eb337c6cd8712ac Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5566 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2020-03-30  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink: always use a valid endpoint In order to extend the driver to support stlink-server over TCP, we
	should always use a valid endpoint, as stlink-server is not
	permissive and do not accept the invalid STLINK_NULL_EP.  STLINK_NULL_EP value was used for commands without an expected
	reply, this value could be replaced with a valid endpoint without
	any impact when the size is set to zero.  Change-Id: I003ad364e03d3a10bc036772db86310d996cbe81 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5455 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: print the target associated to the gdb port While running OpenOCD on multi-target SoC, it's not immediate to
	detect which target is associated to each GDB port. The log only
	reports:         Info : Listening on port 3333 for gdb connections and a
	verbose debug log is required to get such info.  Promote to LOG_INFO() the existing debug message that already
	reports the association, obtaining for each port:         Info : starting gdb server for stm32mp15x.cpu0 on 3333         Info : Listening on port 3333 for gdb connections Change-Id: I1bd75655a3449222c959e6e82f5e0f8f5acd908a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5525 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2020-02-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_a: don't wait for target halted in deassert_reset() The tcl script src/target/startup.tcl has already the proper
	centralized support to wait for all targets to halt after the
	command "reset halt". The extra wait in cortex_a_deassert_reset() is
	not required.  This extra wait is also an issue for multi-core
	support, because waiting for one core to halt can delay the halt
	request to the other cores.  Replace the indirect call to cortex_a_halt(), that embeds the wait
	for halt, with a low-level halt sequence.  The on-going work on the reset framework is compatible with this
	change; in fact it keeps in startup.tcl the wait for targets to
	halt, even if current code proposal for cortex_a simply removes the
	function cortex_a_deassert_reset().  Change-Id: Ic661c3791a29ba7d520e31f85a61f939a646feb5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5472 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/nrf5: pass unsigned char to isalnum() In newlib, the argument of isalnum() and the similar functions in
	ctype.h is checked to be either an int or an unsigned char.  Using a
	        normal (signed) char triggers a compile time warning warning: array
	subscript has type char [-Wchar-subscripts] Rewrite the function to separate the internal unsigned char
	operations from the (signed) char parameter.  Change-Id: I5f19115f0b2de2b5b35dc07ef4b58a96161268ee Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: ke Rehnman
	<ake.rehnman@gmail.com> Fixes: 5da746fa09 ("flash/nor/nrf5: detect
	newer devices without HWID table") Reviewed-on:
	http://openocd.zylin.com/5545 Tested-by: jenkins Reviewed-by: Ake
	Rehnman <ake.rehnman@gmail.com>

2020-01-10  Marek Vasut <marek.vasut@gmail.com>

	* : travis: Add .travis.yml Add basic Travis-CI .travis.yml, to let Travis CI run automated
	build tests.  Change-Id: Iceae442c13f30b57842b300c0920108b614c75f7 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5414 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-03-19  Sasha Kozaruk <alkhozar@gmail.com>

	* : flash/stm32h7x: Use proper flash regs base for bank 1 On stm32h747 writing/erasing bank 1 didn't work. It was because the
	flash register base was always set for bank 0.  Tested on
	STM32H747I-DISCO board.  Change-Id: I7e8c43ecdda9dc70b114905f5ec6a6753ca29d82 Signed-off-by:
	Sasha Kozaruk <alkhozar@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5534 Reviewed-by: Christopher Head
	<chead@zaber.com> Tested-by: jenkins

2020-02-14  Laurent LEMELE <laurent.lemele@st.com>

	* : stlink: remove 18 MHz jtag freq for stlink v2 While stlink v2 allows setting the jtag clock frequency till a max
	of 18 MHz, the firmware seams unstable and not properly working.  Remove the entry for 18 MHz, at least until a fix get available.  Change-Id: I503e1b6a5709b5fbf1f1147fd3b5f34a0c5ee98c Signed-off-by:
	Laurent LEMELE <laurent.lemele@st.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5465 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2020-03-13  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : armv8: log the register name which we failed to read or write when openocd fails to read armv8 register, the user is not informed
	which register has caused the error.  for example, in AArch32 state ESR_EL3 read/write is not supported,
	thus armv8_dpm_read_current_registers is always failing without
	mentioning which register has caused the error.  Change-Id: I24c5abbda9fac24fb77a01777ed15261aeaaf800 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5516 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-02-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32f1x: fix maximum flash size for some devices For STM32F0xxx, according to RM0360 Rev 4 and RM0091 Rev 9, the
	accurate flash sizes are in RM0360, Table 4 and 5   DEV_ID=0x440 => F030x8 => 64K (64 * 1K)                   F05xxx => idem   DEV_ID=0x442 => F030xC => 256K (128 * 2K)                   F09xxx => idem   DEV_ID=0x444 => F030x4 => 16K (16 * 1K)                   F030x6 => 32K (32 * 1K)   DEV_ID=0x445 => F070x6 => 32K (32 * 1K)                   F04xxx => idem   DEV_ID=0x448 => F070xB => 128K (64 * 2K) For STM32 F100xx HD VL (0x428), max_flash_size_kb is 512 (was 128)   refer to RM0041 Rev5: Table 5. Flash module organization
	  (high-density value line devices) => (256 page of 2 Kbytes each) Change-Id: I4ead13093f8f4b8ec900482ee049a6fc83dcc664 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5444 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-24  Edward Fewell <efewell@ti.com>

	* : flash/nor: Change missing protect_check message from WARN to
	Info.  Change the current message when a flash driver does not implement
	the protect_check function to LOG_INFO() from LOG_WARNING(). The
	user is still notified that the procedure isn't available, but
	changes the tone to indicate this is expected with this flash driver
	and not something that necessarily is a problem to fix.  Change-Id: If8a2e86a23c852d562346ca36734e5d02df4a851 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5539 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-03-02  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : doc: enhance target types description target types are sorted alphabetically minor changes for some
	 precision: - cortex_a : it's an ARMv7-A core  - cortex_m : besides the ARMv7-M it support the v6-M and v8-M cores Change-Id: I37ade2392fe3948fba4156a2831bbd8739fa9993 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5486 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de>

2020-03-12  Evgeniy Didin <didin@synopsys.com>

	* : target/arc_cmd: Improve argument checks for commands Add more argument check for "add-reg" command.  Changes since first revision: -Removed arguments limitation(50
	maximum) for "arc_set_reg_exists".  Changes: 25.03: Removed inconsistency in "add-reg" function.
	Actually "-type" option is optional and if it is not set, register
	type is "int".  Change-Id: Ia21e6baf4fbda162f7811cd0fe305fc86ddafcfd Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/5523 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Oleksij
	Rempel <linux@rempel-privat.de>

2019-02-14  Marc Schink <openocd-dev@marcschink.de>

	* : target: Add function to remove all breakpoints Change-Id: I4718926844a2c8bcfd78d7a8792f6ded293548ef Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4915 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-11-05  Lars Poeschel <poeschell+openocd@mailbox.org>

	* : avrf.c: Use extended addressing for flash > 0x20000 The current method used for flash addressing uses 16 bit. Every
	access to flash is 16 bit wide. With 16 address bits one can address
	0x10000 unique locations  16 bits thats 0x20000 bytes.  For
	flashes bigger than that avrs have an extended addressing with more
	than 16 address bits. This is now implemented and used for flashs
	larger than 0x20000 bytes.  Change-Id: Id8b6337dde3830fb3c56b9042872e040bb67c12d Signed-off-by:
	Lars Pschel <poeschell+openocd@mailbox.org> Reviewed-on:
	http://openocd.zylin.com/5502 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-03-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix texinfo files attributes on Windows While installing git on Windows, the user is prompted by a dialog
	"Configuring the line ending conversions" to select the value for
	the git property "core.autocrlf". The default choice proposed by the
	installer is "Checkout Windows-style, commit Unix-style line
	endings", that corresponds to "core.autocrlf=true".  Even if the
	dialog provides technical explanation of the different choices, most
	users will blindly accept the default proposal.  With "core.autocrlf=true" git will convert to DOS mode all the text
	files during "clone" (so can be edited by any crap Windows tool) and
	convert back to UNIX mode during "push" operation.  While this is
	safe enough for C and TCL files, it breaks the texinfo files.  The
	        trailing '@' character used for command continuation in

	https://www.gnu.org/software/texinfo/manual/texinfo/html_node/Def-Cmd-Continuation-Lines.htmldoes not accept being followed by CR+LF (DOS mode), generating a
	build error. Same error can be replicated on Linux by passing the
	file doc/openocd.texi through "unix2dos" command.  Tentative to fix
	        this has already been proposed in http://openocd.zylin.com/5294         http://openocd.zylin.com/5413 by breaking the command
	continuation syntax, which is a no go.  The correct fix would
	require to force/suggest all the Windows users to get rid of the
	crap DOS mode, but this could have side effects.  To workaround the issue, add a .gitattributes file in the doc
	folder, specifying a local conversion attribute for the files .txt
	and .texi in the doc folder and overriding the eventual incorrect
	global value of "core.autocrlf" selected during installation.  The
	local attribute "text eol=lf" is equivalent to the global one
	"core.autocrlf=input".  Change-Id: I468a8f8125b6bc4628fce6c66eb082824ba3413f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5499 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-03-04  Edward Fewell <efewell@ti.com>

	* : drivers: xds110: Add support of alternate XDS110 configurations The XDS110 supports alternate configurations, each of which has a
	unique vid/pid: 0451/bef3 -- Standard (legacy) configuration 0451/bef4 --
	Drag-n-Drop configuration 1cbe/02a5 -- CMSIS-DAP 2.0 on BULK
	interface configuration It's not important to OpenOCD what the differences are except that
	OpenOCD needs to know how to connect using the different vid/pids
	and, in the case of the last one, use a different interface for the
	debug connection.  Updated the XDS110 source to search for all possible configurations,
	and updated the udev rules file to enable user access to the
	alternate configuraitons.  For the curious, you can download the latest XDS emupack from

	software-dl.ti.com/ccs/esd/documents/xdsdebugprobes/emu_xds_software_package_download.htmlInstall to an empty directory, and documentation for the XDS110 is
	located in the .../ccs_base/common/uscif/xds110 of the installation.  Updated for comments in code review. Changed const variable names to
	lower case. Reworked interface/endpoint setting to use arrays
	suggestion.  Change-Id: Icc9d11c6618f43d87ae8171c78ebf238800d3ac2 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5494 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-02  Edward Fewell <efewell@ti.com>

	* : tcl/target: Use sysresetreq for MSP432 targets Confirmed that sysresetreq is supported and works better for
	MSP432P4 and MSP432E4 targets than srst that was previously being
	used.  Tested on MSP432P4111, MSP432P401R, and MSP432E401Y Launchpads.  Change-Id: I1454c3379b9300bc133f82a766daeaefb98dbaac Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5488 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-03-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32l4x: add support of STM32WB3x devices STM32WB3x devices' flash are quite similar to STM32WB5x, except the
	maximum flash size, which is 512K for WB3x and 1M for WB5x Change-Id: I3098d7153a7429e0e72c75cec962c05768b0b018 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5475 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-03-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : stlink: workaround serial bug with old ST-Link DFU Old ST-LINK DFU returns an incorrect serial in the USB descriptor  example for the following serial "57FF72067265575742132067"   - the correct descriptor serial is:     0x32, 0x03, 0x35, 0x00, 0x37, 0x00, 0x46, 0x00, 0x46, 0x00 ...      this contains the length (0x32 = 50), the type (0x3 = DT_STRING)     and the serial in unicode format.      the serial part is: 0x0035, 0x0037, 0x0046, 0x0046 ... >>  57FF
	    ...  this format could be read correctly by
	    'libusb_get_string_descriptor_ascii' so this case is managed by
	  libusb_helper::string_descriptor_equal - the buggy DFU is not doing any unicode conversion and returns a
	    raw serial data in the descriptor:     0x1a, 0x03, 0x57, 0x00, 0xFF, 0x00, 0x72, 0x00 ...              >>    57          FF          72       ...      based on the length (0x1a = 26) we could easily decide if we
	    have to fixup the serial and then we have just to convert the
	raw data into printable characters using sprintf example for an old ST-LINK/V2 standalone:   before : 'W?rreWWB g'   after  : '57FF72067265575742132067'   => same as the displayed value in STM32CubeProgrammer tested using these commands   using the buggy serial     -c "hla_serial \x57\x3f\x72\x06\x72\x65\x57\x57\x42\x13\x20\x67"   using the computed serial     -c "hla_serial 57FF72067265575742132067" Change-Id: I1213818257663eeb8e76f419087d3127d0524842 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5396 Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2020-03-17  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32h7x: use proper data type (bool) for has_dual_bank + minor changes in comments' alignment to please our eyes Change-Id: Ifa35a1032afc4e9aee524f596c0298a9eea49c37 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5500 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com>

2020-02-27  Marc Schink <dev@zapb.de>

	* : rtos: Destroy RTOS and fix memory leak The memory leak can be reproduced by using an arbitrary RTOS and
	valgrind:  $ valgrind --leak-check=full --show-leak-kinds=all [...] ==9656== 224 (80 direct, 144 indirect) bytes in 1 blocks are
	definitely lost in loss record 3 of 3 ==9656==    at 0x483CD99:
	calloc (in

	/usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)==9656==    by 0x1C541A: os_alloc (rtos.c:79) ==9656==    by
	0x1C569E: os_alloc_create (rtos.c:111) ==9656==    by 0x1C569E:
	rtos_create (rtos.c:153) ==9656==    by 0x1AE332: target_configure
	(target.c:4899) ==9656==    by 0x1AF228: jim_target_configure
	(target.c:4952) ==9656==    by 0x1C9EF9: command_unknown
	(command.c:1066) ==9656==    by 0x313284: JimInvokeCommand
	(jim.c:10364) ==9656==    by 0x313FB6: Jim_EvalObj (jim.c:10814)
	==9656==    by 0x3154A3: Jim_EvalFile (jim.c:11207) ==9656==    by
	0x316015: Jim_SourceCoreCommand (jim.c:15230) ==9656==    by
	0x313284: JimInvokeCommand (jim.c:10364) ==9656==    by 0x313B8B:
	JimEvalObjList (jim.c:10605) [...] Change-Id: I2cd41a154fb8570842601ff4e3e76502f5908f49 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5479
	Tested-by: jenkins Reviewed-by: Moritz Fischer <moritzf@google.com>
	Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-12-16  Andreas Bolsch <hyphen0break@gmail.com>

	* : Flash driver for STM32G0xx and STM32G4xx Flash module of STM32G0/G4 family is quite similar to the one of
	STM32L4, so only minor changes are required, in particular adaption
	of flash loader to Cortex-M0. Register addresses passed to flash
	loader to simplify integration of L5.  Added re-probe after option
	byte load.  Added flash size override via cfg file.  WRPxxR mask now
	based on max. number of pages instead of fixed 0xFF, as G4 devices
	fill up unused bits with '1'.  Sizes in stm32l4_probe changed to
	multiples of 1kB.  Tested with Nucleo-G071RB, G030J6, Nucleo-G431RB and Nucleo-G474RE.
	Gap handling in G4 Cat. 3 dual bank mode tested with STM32G473RB.
	This handling isn't optimal as the bank size includes the size of
	the gap. WB not tested.  Change-Id: I24df7c065afeb71c11c7e96de4aa9fdb91845593 Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4807 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2020-03-06  Edward Fewell <efewell@ti.com>

	* : drivers: xds110: Fix errors in routine that toggles TCK during
	nSRST assert/deassert code.  To support LPRF targets (CC13xx/CC26xx), TCK must be toggled for 50
	ms while nSRST is asserted and right after it is released. This
	allows the core to halt in boot ROM before code is run that might
	interfere with debug access.  The current routine has two issues. It shouldn't be run at all if
	the target is using SWD. And the delay needs to be a real-time 50
	ms, so the number of TCK periods should be calculated off the set
	speed.  Change-Id: If993031b84cf2a505ea67a6633602c4b01cd8e1e Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5497 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv7a: access monitor registers only with security extensions Accordingly to ARM DDI 0406C at B1.5, the security extensions for
	armv7a are optional extensions and can be detected by reading
	ID_PFR1.  The monitor mode is part of the security extensions and
	the shadow registers "sp_mon", "lr_mon" and "spsr_mon" are only
	present with the security extensions.  Read the register ID_PFR1 during cortex_a examine, determine if
	security extension is present and then conditionally enable the
	visibility of the monitor mode shadow registers.  Change-Id: Ib4834698659046566f6dc5cd35b44de122dc02e5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5259 Tested-by: jenkins

2019-06-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm: Use different enum for core_type and core_mode The fields core_type and core_mode use the same enum arm_mode but
	encode different information, making the code less immediate to
	read.  Use a different enum arm_core_type for the field core_type.  The
	code behavior is not changed.  Change-Id: I60f2095ea6801dfe22f6da81ec295ca71ef90466 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5258 Tested-by: jenkins

2020-02-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : ftdi: flush mpsse queue after a level change on reset pins The function ftdi_set_signal() does not propagate the pin change
	until next call to mpsse_flush(). Current code does not toggles
	immediately the reset pins if polling is turned off.  Call mpsse_flush() at the end of ftdi_reset().  While there, remove
	the duplicated LOG message.  Change-Id: I79eacfe4fc32b5cdf2dc1b78f3660d96988466bc Fixes:
	8850eb8f2c51 ("swd: get rid of jtag queue to assert/deassert srst")
	Reported-by: Leonard Crestez <leonard.crestez@nxp.com>
	Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Reviewed-on: http://openocd.zylin.com/5431 Tested-by: jenkins
	Reviewed-by: Leonard Crestez <leonard.crestez@nxp.com> Reviewed-by:
	Tomas Vanek <vanekt@fbl.cz>

2020-02-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix crash with jimtcl 0.78 The jimtcl commit 41c5ff1809f5 ("jim.c: Fix Object leak in zlib
	support") https://repo.or.cz/jimtcl.git/commit/41c5ff1809f5 makes
	Jim_SetResultFormatted() freeing the parameters that have zero
	refcount.  OpenOCD commit 559d08c19ed8 ("jim tests: use installed") adds the
	only code instance in OpenOCD that first passes a zero refcount
	object to Jim_SetResultFormatted() and then frees it.  By switching
	jimtcl version to 0.78 or newer this causes a crash of OpenOCD.  To
	trigger the crash in a telnet session, check that the current target
	        is running and type: [target current] arp_waitstate halted 1 Remove the call to Jim_FreeNewObj() after the call to
	Jim_SetResultFormatted().  Change-Id: I5f5a8bca96a0e8466ff7b789fe578ea9785fa550 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5453 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-02-25  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : semihosting: add semihosting handlers to AArch64 note: this works only when the PE is in AArch64 state Change-Id: Id6a336ca7d201df72bd1aaaeccce4185473fc1bd Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5474 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2019-12-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/armv8_opcodes: use T32 instructions when the PE is in
	AArch32 state As stated in ARM v8-A Architecture Reference Manual (ARM DDI
	0487E.a) in Chapter H4.3 DCC and ITR access modes:     Writes to EDITR trigger the instruction to be executed if the PE     is in Debug state:       - If the PE is in AArch64 state, this is an A64 instruction.        - If the PE is in AArch32 state, this is a T32 instruction But in armv8_opcodes specifically in t32_opcodes we were using some
	A32 instructions for HLT, LDRx and STRx opcodes.  Using the correct LDRx and STRx opcodes, fixes 16 and 8 bits memory
	access when the PE is in AArch32 state.  Change-Id: Ib1acbdd4966297e7b069569bcb8deea3c3993615 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5346 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2019-12-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/aarch64: fix minor stepping issue with gdb when using step command from gdb the step happens without any issue,
	but aarch64_step call explicitly aarch64_poll which consumes the
	status change to HALTED, so it does not inform gdb that the step has
	finished.  by removing this call, all is back to normal and openocd could
	inform gdb that the step has finished.  Change-Id: I9366aecd20f7d52259b050b8653189b67d9299d0 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5354 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2019-03-12  Anton V. Kirilchik <kosmonaffft@gmail.com>

	* : Add target config for STM8S103 chip...  Change-Id: I693e5b7933fc61956010a96be57ee6eb8abd3c31 Signed-off-by:
	Anton V. Kirilchik <kosmonaffft@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5422 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2020-02-07  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32h7x: fix bank sizes for devices with trimmed flash STM32H7yxxI: dual independent 1 MByte banks STM32H7yxxG: dual
	independent 512 Kbyte banks STM32H7yxxB: single 128 Kbyte bank where y = [4/5] or [A/B] references: (documents are available in www.st.com)  - STM32H7[4/5]x[G/I] : DS12110 Rev 7     >> 3.3.1 Embedded Flash memory  - STM32H750xB : RM0433 Rev 6     >> Table 11. Flash memory organization on STM32H750xB devices  - STM32H7[A/B]x[B/G/I] : RM0455 Rev 3     >> 4.3.4 Flash memory architecture and usage Change-Id: Ic9346964ef2554abf47f5832e25adfdc77bd323e Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5442 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com>

2020-02-28  Edward Fewell <efewell@ti.com>

	* : flash/nor: update support for TI MSP432 devices Added fixes for issues found in additional code reviews.  Fixed host Endianness issues with using buffer reads and writes
	instead of the *_u32 variants.  Changed code that tried to ID banks by hardcode bank_number values
	to use instead the bank base address. This fixes problems using
	configurations with multiple devices.  Note that this replaces Change 4786 which has been abandoned because
	of extensive changes to the code to stop IDing banks by name.  And I
	think I really messed up a rebase/merge on the document file.  Tested on MSP432P401R, MSP432P4111, and MSP432E401Y Launchpads.  Change-Id: Id05798b3aa78ae5cbe725ee762a164d673ee5767 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/5481 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-11-05  luca vinci <luca.vinci@st.com>

	* : bluenrg-x: added support for BlueNRG-LP device Extended bluenrg-x flash driver with BlueNRG-LP flash controller.
	Changes include: - register set for the flash controller - made software structure prone to support more easily future
	devices - updated target config file Change-Id: I2e2dc70db32cf98c62e3a43f2e44a4600a25ac5b Signed-off-by:
	luca vinci <luca.vinci@st.com> Reviewed-on:
	http://openocd.zylin.com/5343 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm920t: fix clang static analyzer warning Change-Id: I570dfb8b20a3f187f1fe660343cf0b75691e2c30 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5375 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers/openjtag: fix clang static analyzer warnings Change-Id: I900ce8157b3e220a4647871080bb9abc772446d1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5369 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/numicro: use flash infrastructure to align write The aligning code generated a clang static analyzer warning and
	imposed huge memory leak. This part of code was removed and flash
	infrastructure to alignment is used instead.  Not tested on hw! Change-Id: I7c71da87547e71d595a7e7071ae5adcc1cecc827 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5367 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : src/flash/nor/at91sam3|4l|7: fix clang static analyzer warnings Change-Id: I5cd2b2ebb2bd1980bdd1632b5c35bda9718a1089 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5365 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-02-05  Marc Schink <dev@zapb.de>

	* : drivers: Rename 'libusb1_common' to 'libusb_helper' The name 'common' does not make sense anymore. While at it, remove
	some unnecessary #includes.  Change-Id: If9798a5cce179438d89428a598d8ca05c8e5f20c Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5434
	Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2020-01-07  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Drop old Renesas Gen2 SoC configs Drop old Renesas Gen2 SoC configurations, as they were superseded by
	the new unified config.  Change-Id: I7c2ccbdc13b01a552ce9cafdc1538f226beaa9f2 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5399 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-01-07  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Switch Renesas R-Car Gen2 boards to new config Switch Renesas R-Car Gen2 boards which are currently supported from
	the old ad-hoc SoC configuration to the new unified configuration.  Change-Id: I8a67bceb3ae92d840ae4dbac20868c75e83f7d58 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5398 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-02-06  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Abort on invalid SoC selection on R-Car Gen3 Instead of printing error message and continue, abort on invalid SoC
	selection right away.  Change-Id: I9c7a7111b590c6c49a0826562380b881a162a8dc Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5439 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-02-19  Michael Stoll <michael.stoll@meadow-robotics.com>

	* : Add support for SAMD21E17D device Change-Id: Id0a533f8899b20cc87e3a9143383ddf279c86301 Signed-off-by:
	Michael Stoll <michael.stoll@meadow-robotics.com> Reviewed-on:
	http://openocd.zylin.com/5458 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-27  Evgeniy Didin <didin@synopsys.com>

	* : Introduce ARCv2 architecture related code This patch is an initial bump of ARC-specific code which implements
	the ARCv2 target(EMSK board) initializing routine and some basic
	remote connection/load/continue functionality.  Changes: 03.12.2019: -Add return value checks.  -Using static code
	        analizer next fixes were made: Mem leak in functions:                 arc_jtag_read_memory,arc_jtag_read_memory,                 arc_jtag_write_registers, arc_jtag_read_registers,                 jim_arc_add_reg_type_flags,
	                jim_arc_add_reg_type_struct, arc_build_reg_cache,
	        arc_mem_read.  Dead code in "arc_mem_read";         In arc_save_context, arc_restore_context correct arguments         in"memset" calls.          In "build_bcr_reg_cache", "arc_build_reg_cache" check         if list is not empty.  29.12.2019 -Moved code from arc_v2.c to arc.c -Added checks of the
	result of calloc/malloc calls -Reworked arc_cmd.c: replaced spagetty
	code with functions -Moved to one style in if statements - to
	"if(!bla)" -Changed Licence headers 22.01.2020 -Removed unused variables in arc_common -Renamed register
	operation functions -Introduced arc_deinit_target function -Fixed
	        interrupt handling in halt/resume: * add irq_state field in arc_common         * fix irq enable/disable calls ( now STATUS32 register is
	        used) -Switched from buf_set(get)_us32() usage to
	target_buffer_set(get)_u32() -Made some cleanup 30.01.2020 -Removed redundant arc_register struct, moved target link
	to arc_reg_desc -Introduced link to BCR reg cache in arc_common for
	freeing memory.  -Now arc_deinit_target frees all arc-related
	        allocated memory.  Valgrind shows no memory leaks.  -Inroduced arch
	description in arc.c 01.02.2020 -Remove small memory allocations in arc_init_reg. Instead
	        created reg_value and feature fields in arc_reg_desc.  -Add return
	value for arc_init_reg() func.  -Replaced some integer
	constants(61,62,63) with defines.  -Removed redundant conversions in
	arc_reg_get_field().  -Moved iccm/dccm configuration code from
	        arc_configure() to separate functions.  19.02.2020 -Change sizeof(struct) to sizeof(*ptr) in allocations
	-Changed if/while(ptr != NULL) to if/while(ptr) -Removed unused
	variables from struct arc_jtag -Add additional structs to
	 arc_reg_data_type to reduce amount of memory allocations calls  and simplifying memory freeing.  -Add helper arc_reg_bitfield_t
	 struct which includes reg_data_type_bitfield object and char[] name.
	 Reduces memory allocations calls.  -Add limit for
	reg_type/reg_type_field names(20 symbols).  -Add in
	 jim_arc_add_reg_type*() functions additional argnument checks(amount
	of field/name size).  -In jim_arc_add_reg_type*() reduced amount of
	memory allocations.  -Cleanup of jim_arc_add_reg_type*() functions.
	-For commands update ".usage" fields according docopt.  -Cleanup in
	arc_jtag.c -Renamed functions which require jtag_exeutre_queue() to
	arc_jtag_enque_*() -Add arc_jtag_enque_register_rw() function, which
	 r/w to jtag ir/dr regs during regiter r/w.  24.02: -Change include guards in arc* files according coding style
	-Remove _t suffix in struct arc_reg_bitfield_t -Some cleanup Change-Id: I6ab0e82b12e6ddb683c9d13dfb7dd6f49a30cb9f Signed-off-by:
	Evgeniy Didin <didin@synopsys.com> Cc: Alexey Brodkin
	<abrodkin@synopsys.com> Reviewed-on: http://openocd.zylin.com/5332
	Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: testing: remove empty lines at end of text files Empty lines at end of text files are useless.  Remove them.  Change-Id: Id05a7bd944edccaa03ed9eb48599b2e262664cf0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5169 Tested-by: jenkins

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: add newline at end of text files Some text file is missing newline at EOF.  Add it.  Change-Id: Ieebc790096f40961283c644642e56fde975e957f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5167 Tested-by: jenkins

2019-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : log: let command "log_output" to set back its default The default log output is stderr. After the command "log_output" has
	been used to set an output log file, it is possible to return back
	to stderr only on *NIX hosts specifying a new log output file as
	"/dev/stderr", but this is not intuitive, not documented and not
	portable out of *NIX.  Make command "log_output" able to set back the default output to
	stderr when the parameter is either "default" or is missing.  While
	there, add debug message to log the change and make the command
	return error on incorrect syntax.  Change-Id: I8c7c929780f58e2c23936737c8e7274a96734786 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5233 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-02-10  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32l4x: Minor code cleanups Change-Id: I3053bbe888ac1f0a0593ef51bf9ca564f1cc27ec Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5449
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-08-09  Mara Bos <m-ou.se@m-ou.se>

	* : Support bitbanging on 64-bit ARM CPUs.  The configure.ac file restricted this to only 'arm' CPUs, but
	${host_cpu} is 'aarch64' (not 'arm') for 64 bit ARM CPUs.  Tested on a Raspberry Pi compute module 3.  Change-Id: I6cb1d7e7fadc51dbb12419176f1faf0a0cb0b228 Signed-off-by:
	Mara Bos <m-ou.se@m-ou.se> Reviewed-on:
	http://openocd.zylin.com/5274 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/adi_v5_swd: fix clang static analyzer warning Change-Id: I24b3e74b62fad469e3150ad97a10a9ab69c2793b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5374 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-12-14  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32l4x: lock flash after error Also add locking after option write, it was missing at all.  Change-Id: I0227c6a74866f0fe8e40aa58616f0b3115ad5af0 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5361 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2020-02-01  Leonard Crestez <leonard.crestez@nxp.com>

	* : tcl/interface/ftdi: Add imx8mp-evk internal JTAG interface The imx8mp-evk board has a FT4232H chip connected to the chip's JTAG
	pins.  Switching between this on-board interface and the external ARM-10
	connector is controlled by an GPIO which is behind an i2c expander
	connected to the same FTDI chip.  Switching can be performed using the NXP bcu tool:         https://github.com/NXPmicro/bcu Change-Id: Ic910515f76eaf09ea6d0f755b026fb09cf09ccfc Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5426 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-19  Marc Schink <dev@zapb.de>

	* : flash/nor/stm32f1x: Some small code cleanups Change-Id: I1fc08b96b179a1376af233b713ae50d6ad7867a0 Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5404
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2020-01-27  Christopher Head <chead@zaber.com>

	* : flash/nor/stm32h7x: fix incorrect array indexing Change-Id: Iec2246df284953d1442dfefdad8e70041690dfe2 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5417 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2019-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv8: check the core state to pass the correct arch to gdb Commit 3799eded6761 ("target/aarch64: add support for
	multi-architecture gdb") passes the constant string "aarch64" as
	architecture to gdb. This is not working if the core is running in
	        32 bits mode; gdb reports: Truncated register 8 in remote 'g' packet
	then closes the connection with OpenOCD.  Make the architecture string dependant from the current state of the
	core.  Change-Id: I16e1614ea02ba29bf87f450b3dfe25c83c9a3612 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5234 Tested-by: jenkins Reviewed-by:
	Muhammad Omair Javaid <omair.javaid@linaro.org>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : coding style: remove unnecessary parentheses Identified by checkpatch script from Linux kernel v5.1 using the
	command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types UNNECESSARY_PARENTHESES -f {} \; then fixed manually.  Change-Id: Ia2d9a0953d9b89fc87dc1195aa05c7f63c068c48 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5196 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/nds32: fix type of magic number The macro NDS32_COMMON_MAGIC was cast-ed to int to avoid compile
	time error for comparison type mismatch while comparing it with the
	field common_magic.  This is incorrect because the macro value is a
	32 bit unsigned value; better changing the type of the field
	common_magic to keep the unsigned value.  Issue identified by checkpatch script from Linux kernel v5.1 using
	the command         find src/ -type f -exec ./tools/scripts/checkpatch.pl \         -q --types TYPECAST_INT_CONSTANT -f {} \; Change-Id: Ib5924b6cecdffe70ab5c78d3b30a9c8e4deb7c7b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5193 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-22  Jan Matyas <matyas@codasip.com>

	* : jtag_vpi: added an option to stop simulation on exit Command CMD_STOP_SIMU had been defined in jtag_vpi for a long time
	(since the beginning?) but has not been utilized until now.  Its
	purpose is to signal to the jtag_vpi server (i.e. the RTL simulation
	software) that the simulation shall be stopped.  This commit adds a TCL configuration command that selects whether
	CMD_STOP_SIMU will be sent to the jtag_vpi server when OpenOCD is
	about to exit. This functionality is off by default to maintain
	identical behavior as in previous OpenOCD versions, unless the user
	enables it explicitly.  Change-Id: If3894af6efa61038ccf6c9191f664e2128f2ef11 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/5407 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2020-02-05  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32lx: mention explicitly that this driver covers STM32
	L0 and L1 this is to avoid confusion with STM32 L4, L4+ and L5 families also:  - a warning message is changed to error  - stm32l0x and stm32l1x aliases has been created to permit    the usage of either names Change-Id: If3f16d2a3b7d1369959aa7407da37a9076ea91d7 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5437 Reviewed-by: Marc Schink <dev@zapb.de>
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2020-02-08  Marek Vasut <marek.vasut@gmail.com>

	* : jtag: Fix copy-paste error in 'irscan' help Replace "Instruction Register (DR)" with "Instruction Register
	(IR)", that is sed "s@DR@IR@", which was likely a copy-paste error.  Change-Id: I3e625872c855d655485b3efa5f50fe1c00ecbf52 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5446 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-12-17  Frank Hunleth <fhunleth@troodon-software.com>

	* : efm32: add EFR32ZG13P and EFR32ZG14P parts This adds the EFR32 Zen Gecko Family parts. The device family values
	are found in table 4.7.11 of

	https://www.silabs.com/documents/public/reference-manuals/efr32xg14-rm.pdf.Change-Id: I3858b7ba815784b1150e2214a2833e8ff7d249e1 Signed-off-by:
	Frank Hunleth <fhunleth@troodon-software.com> Reviewed-on:
	http://openocd.zylin.com/5364 Tested-by: jenkins Reviewed-by: Marc
	Schink <dev@zapb.de>

2019-10-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: flush jtag queue after jtag_add_tlr() If the TLR sequence is sent as result of the command "adapter assert
	trst" while polling is off, the TLR sequence is not sent out until a
	following jtag operation.  Flush the jtag queue before return.  Change-Id: I20efd7137cb7b1d1c4f73c1362cbe4e57aeaae49 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5405 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: fix remaining scripts after rework adapter commands Some script have been added or modified after the patches for
	reworking the adapter commands were pushed in gerrit.  Such scripts
	use the old command syntax and trigger a "deprecated" warning at
	runtime.  Fix them with the same sed commands used for the other scripts:         sed -i 's/^interface /adapter driver /' $(find tcl/ -type f)         sed -i 's/adapter_khz/adapter speed/g' $(find tcl/ -type f)         sed -i 's/adapter_nsrst_delay/adapter srst delay/g' $(find
	        tcl/ -type f) sed -i 's/adapter_nsrst_assert_width/adapter
	srst pulse_width/g' $(find tcl/ -type f) Change-Id: I0824d6c506a9af3eb9129b74c02a92b4eb1b100d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5424 Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins

2020-02-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: drivers: xlnx-pcie-xvc: fix build on Linux pre v4.10 The macro PCI_CFG_SPACE_EXP_SIZE is exposed to userspace from Linux
	kernel v4.10, with commit cc10385b6fde ("PCI: Move config space size
	macros to pci_regs.h")

	http://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=cc10385b6fdeDefine the macro in the driver code, if not already defined.  Change-Id: I610219a2587eff2c142102b9f7830e3da882af78 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5435 Reviewed-by: Moritz Fischer
	<moritzf@google.com> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Tested-by: jenkins

2019-04-13  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Export various functions from the CFI core Export various functions needed by other driver, specifically the
	upcoming Renesas RPC HF driver. No functional change.  Change-Id: I551258979a7221288fb4f4382f857db5cfe0b0de Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5148 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: replace the deprecated commands with "adapter ..." Avoid annoying "deprecated" messages while running the scripts
	distributed with OpenOCD code.  Change automatically created with
	        commands sed -i 's/adapter_khz/adapter speed/g' $(find tcl/ -type f)         sed -i 's/adapter_nsrst_delay/adapter srst delay/g' $(find
	        tcl/ -type f) sed -i 's/adapter_nsrst_assert_width/adapter
	srst pulse_width/g' $(find tcl/ -type f) Minor indentation issue fixed manually in         tcl/board/at91sam9g20-ek.cfg         tcl/target/at91sam9260_ext_RAM_ext_flash.cfg Change-Id: I425fd56c0c88cd6b06124621306eeb89166dfe71 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5284 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-08-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: replace command "interface" with "adapter driver" Avoid annoying "deprecated" messages while running the scripts
	distributed with OpenOCD code.  Change automatically created with
	        command sed -i 's/^interface /adapter driver /' $(find tcl/ -type f) Change-Id: I2291dfb96e164beecbeb3366ce83f9df2ad6c197 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5283 Reviewed-by: Marc Schink <dev@zapb.de>
	Tested-by: jenkins Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de>

2019-08-14  Oleksij Rempel <linux@rempel-privat.de>

	* : move ftdi_location deprecation helper to proper place Change-Id: I927d4e918acbf321aea1dd7a8de95fbaa8fbbbf0 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/5278 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-12-14  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32l4x: fix minor errors in flash write/async algo Fix comment of tested errors in asm src.  List all relevant errors in FLASH_ERROR mask: FLASH_PROGERR was
	missing and any trial to re-program already programmed double word
	ended up in the error bit held uncleared and flash write permanetly
	repeating the error message until reset.  Lock the bank also after unsuccesfull write_block run.  Set async target algo block size to size of double word.  Remove warning in case of write_block success. In case of error use
	LOG_ERROR instead of warning.  Change-Id: Ibf6d5e306a4c2eaa43de67d636b4902c737f02f3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5360 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com>

2019-12-12  Marc Schink <dev@zapb.de>

	* : tcl/board: Add config for STM32WB Nucleo board Change-Id: Ic29802306c706bcf3e261c60facd01d101c9e1ce Signed-off-by:
	Marc Schink <dev@zapb.de> Reviewed-on: http://openocd.zylin.com/5358
	Tested-by: jenkins Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Ilya Kharin <akscram@gmail.com>

2020-01-10  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor/nrf5: Fix build error on OSX The chip->hwid is uint32_t , fix the print format.  This was
	detected by TravisCI on OSX, where this triggers a build error.  Change-Id: I776a7bb50e396c8fccc24500dec4750190da7982 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5401 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Ilya Kharin <akscram@gmail.com>

2019-04-02  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor/sh_qspi: Add SH QSPI driver Add driver for the SH QSPI controller. This SPI controller is often
	connected to the boot SPI NOR flash on R-Car Gen2 platforms.  Add the following two lines to board TCL file to bind the driver on
	R-Car Gen2 SoC and make SRAM work area available:   flash bank flash0 sh_qspi 0xe6b10000 0 0 0 ${_TARGETNAME}0 cs0   ${_TARGETNAME}0 configure -work-area-phys 0xe6300000
	  -work-area-virt 0xe6300000 -work-area-size 0x10000
	  -work-area-backup 0 To install mainline U-Boot on the board, use the following
	procedure:   proc update_uboot {} {     # SPL     flash erase_sector 0 0x0 0x0     flash write_bank 0 /u-boot/spl/u-boot-spl.bin 0x0     # U-Boot     flash erase_sector 0 0x5 0x6     flash write_bank 0 /u-boot/u-boot.img 0x140000   } Change-Id: Ief22f61e93bcabae37f6e371156dece6c4be3459 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> --- V2: - Add Makefile and
	    linker script for the SH QSPI IO algorithm - Include the algorithm code instead of hard-coding it Reviewed-on:
	http://openocd.zylin.com/5143 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2018-08-01  Jiri Kastner <cz172638@gmail.com>

	* : mips_ejtag: there is no DCR.MIPS64 bit available revisions (2.60, 3.10, 5.06 and 6.10) of MD00047 (EJTAG
	specification), have only in IMPCODE MIPS32/MIPS64 bit/flag.  Change-Id: If9191b6ced760c59bb7551bb041cd72b0a060bb1 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4628 Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Tested-by: jenkins

2020-01-05  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Rename flash_address() to cfi_flash_address() This is a preparatory change, align the function name with the rest
	of the API, no functional change.  Change-Id: I6a810d2a54edcd13ad9a87d24a7334802c41623b Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5391 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-13  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Allow CFI memory read/write functions be overriden Add possibility to supply custom CFI memory accessors via cfi_info
	and override the default memory-mapped ones.  Change-Id: I1b6bc1db69fc33e8cdef96c41742c40e6d8917e9 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5147 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-21  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Pass flash_bank to memory accessors Replace passing in struct target with passing in struct flash_bank,
	so that the later can contain function pointers to custom per-driver
	memory accessor functions.  Change-Id: Id2573a6d5f1a73ed9c4f73c53592a9a335a11c99 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5146 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/etm: add check for calloc error and fix one more clang static analyzer warning.  Change-Id: I17f03e318e1cf7617e7f753e7ca960552be547e5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5381 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/target: fix clang static analyzer warnings Change-Id: I23e6586be60915f21a7179a994a1ec93fb9b2c36 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5379 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_dpm: add missing error returns Discoverd by clang static analyzer.  Change-Id: I93d5de0a36216e62b170fe8cc870431226a7777f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5377 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2019-12-20  Tomas Vanek <vanekt@fbl.cz>

	* : server/server: fix clang static analyzer warning Change-Id: I317e189b62540e3688a20d88a95f551280317f14 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5373 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de>

2020-01-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32l4x: add support of STM32L4P5/L4Q5x devices STM32L4P/Q devices have:  - similar flash layout as STM32L4R/S devices  - 1024K of flash memory (some parts have 512K only) tested on NUCLEO-L4P5ZG using board/st_nucleo_l4.cfg Change-Id: I77047351bc7dcd7c76d0f31a77be73005104a06f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5392 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2020-01-06  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor: add support of STM32L41/L42xx tested using STM32L412KB Change-Id: I1e2ae93d8c740db219f0fb579940de7f2fffac15 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4934 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-06  Christopher Head <chead@zaber.com>

	* : target/target: parse value as proper type The `value` variable is passed into `target_fill_mem` as its
	second-to-last parameter. That parameter is of type `uint64_t`. It
	is appropriate to parse the value as that type, since otherwise a
	target with a 32-bit address space but 64-bit data write
	capabilities would not be able to exercise those capabilities.  Change-Id: Ib336d47d42c27cd2b5ba1206b04e8f740f167dba Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5219 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add DAP direct driver STLINK-V3 and the new firmware V2J24 for ST-LINK/V2 provide API to
	directly access the DAP registers.  This mode permits to use the
	native target in cortex_m.c, with no need to override it with the
	target in hla_target.c.  Other advantages wrt HLA are: support for
	Cortex-A cores, support for SoC multi-core and/or multi AP, support
	for OpenOCD commands "dap" thus including control of CSW.  This
	obsoletes the existing HLA driver for ST-Link, that should anyway be
	kept for those cases where it's not possible to update the ST-Link
	firmware.  This commit introduces the minimal implementation for direct DAP
	access. The implementation is much slower than the HLA because every
	memory transfer requires several USB packets. Further commits will
	close the performance gap.  The whole ST-Link driver is compiled
	under BUILD_HLADAPTER, to remove the need to split the driver
	between the two modes. This has to be reworked, but it's quite
	invasive! A new interface file stlink-dap.cfg is added and should be
	used in place of stlink.cfg to enable the DAP mode.  Documentation
	is updated and reports limitation on the maximum AP number that can
	be accessed by ST-Link for some firmware already tested.  Change-Id: I932ffe16bc81d00b1fe489e2944fda13470cce9b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4904 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : TODO: add restructuring of JTAG/adapter layer SWD is already implemented, so remove the item.  Rename the section
	JTAG as Adapter, including the subsections.  Add an initial list of
	pending activities after the restructure of the JTAG layer.  Change-Id: I540777344c62a746df8347538fe8b29e4d72e1c7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4901 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/kitprog: remove unused JTAG execute_queue method kitprog is SWD only and we do not rely on JTAG queue anymore.
	Remove the remaining JTAG heritage.  Change-Id: Ic586278368301eb669bc6e4e641f683a81cb171d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4899 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-08-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: print an errmsg on using jtag API for non jtag transport After the cleanup of swd and hla, there should be no more calls to
	jtag_execute_queue() or to queue jtag commands if current transport
	is not jtag. Thus we can start removing the jtag specific code from
	adapters that do not support jtag.  To prevent some remaining call to jtag_execute_queue() to crash
	openocd, verify the transport, print an error message if the
	transport is not jtag, call the adapter's jtag_execute_queue() only
	if it exist.  To identify code that still add commands in the jtag
	queue even if transport is not jtag, print an error message in the
	function jtag_queue_command(). For the moment, still queue the
	message, even if will cause a memory leak if there is no following
	call to jtag_execute_queue(); the target is to identify the issue
	and cleanup the code, thus solving also the leak.  Change-Id: I8fc85f754aa057aad1df05ff0448c8619897da23 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4897 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-09-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : bitbang: jtag-only drivers: switch to new reset API Remove the JTAG_RESET command from the bitbang execute queue now
	that all bitbang drivers have moved away from old reset method.
	Remove also the internal reset API in struct bitbang_interface.  Tested parport only.  Change-Id: I12b157ef442f4c9912406b19b7a4d32ba6ec0b53 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5300 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-21  Marek Vasut <marek.vasut@gmail.com>

	* : flash/nor: Factor out CFI memory read/write functions Create separate memory read/write functions which facilitate access
	to the CFI NOR, so that they can be replaced by controller-specific
	functions if necessary. This would become necessary when
	implementing support for e.g. HyperFlash controllers, which do not
	directly map the HyperFlash into the address space.  Change-Id: I1bba1edfd397cb37bfedb43efe2dd03feb26a375 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5145 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2019-12-03  Keir Fraser <keir.xen@gmail.com>

	* : flash/nor/stm32f2x: Support value line chips with trimmed flash The current code assumes an STM32's flash bank is laid-out in either
	of two configurations: - 4 x 16kB + 1 x 64kB + n x 128kB - 4 x 32kB + 1 x 128kB + n x 256kB This is quite ad-hoc but works fine in practice, as long as there
	are at least 5 sectors (if n=0). Unfortunately, some newer STM32s
	are shipping with only 64 kB of flash (4 x 16kB sectors).  This patch still assumes the same sector layout, but only keeps
	adding sectors to the bank if the bank's capacity has not been
	reached. This prevents openocd from crashing on some newer STM32s.  Change-Id: If00e5d7a328d11b399babc0bb2111e3ad8a3217e Signed-off-by:
	Romain Goyet <romain.goyet@numworks.com> Signed-off-by: Keir Fraser
	<keir.xen@gmail.com> Reviewed-on: http://openocd.zylin.com/4926
	Tested-by: jenkins Reviewed-by: Andreas Bolsch
	<hyphen0break@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-08-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : tcl: update scripts after "jtag_reset" got deprecated Avoid annoying "deprecated" messages in the scripts distributed with
	OpenOCD code.  Change-Id: I82d27cd420db30f0653efbd286a627ef56a8c1fd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5287 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : adapter: add command "adapter [de]assert srst|trst [[de]assert
	srst|trst]" Inspired from http://openocd.zylin.com/#/c/3720/1 Add commands to control the adapter's signals srst and trst.  Add
	macros for the flag's values assert/deassert to make clear what they
	mean and to propose a uniform set of values across the code.  Change-Id: Ia8b13f4ded892942916cad7bda49540a896e7218 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/5277
	Tested-by: jenkins

2019-02-23  Oleksandr Redchuk <real@real.kiev.ua>

	* : flash/nor/stm32f1x: fix options reading from locked chip In commit cea40152f82f52bfc718c7bda9fa4a9d70bf9cfd option bytes
	reading was changed to direct access to option bytes area.  While
	there are no problems with stm32f0xx and stm32f3xx chips, option
	block (0x1ffff800..0x1ffff80F) is unreadable from locked stm32f10x
	chips.  As a result, stm32f1x unlock command writes dirty values to
	user options, user data and write protection bits.  Option bytes reading reverted from direct access to option bytes
	area to reading currently loaded bytes from  FLASH_OBR/FLASH_WRPR
	registers.  Tested on stm32f100, stm32f103, stm32f107 as well as on stm32f030
	and stm32f303.  Change-Id: Iad476351ffdaca5ace12e02272dacea7f3d08f52 Signed-off-by:
	Oleksandr Redchuk <real@real.kiev.ua> Reviewed-on:
	http://openocd.zylin.com/4940 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-08-06  Rahul Masurkar <rahulgm@marvell.com>

	* : rtos/FreeRTOS: Fix FreeRTOS thread list reading Change-Id: I749ae94ec7279907b1905c02ecc1e9661f43ef70 Signed-off-by:
	Rahul Masurkar <rahulgm@marvell.com> Reviewed-on:
	http://openocd.zylin.com/5273 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-12-16  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/arm_cti: add new 'ack' and 'channel' commands these commands have been introduced to ease the manipulation of CTI
	trough script files, these commands are:  - $cti_name ack $event : to acknowledge a CTI event  - $cti_name channel $channel_number $operation: to perform an
	    operation on a specific channel, the possible operations are:     gate, ungate, set, clear and pulse Change-Id: I35463867a3c85072f3776c3aeb1e5788953ec435 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5315 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-09-10  Icenowy Zheng <icenowy@aosc.io>

	* : tcl/target: swm050: fix to allow to use with ST-Link Currently the code assumes the adapter uses raw SWD, and the
	expected ID code of the CPU is even wrong. An adapter speed is also
	not specified.  All these prevents the config file to be used with
	ST-Link.  Fix the config file, to allow it to be used with ST-Link.  Change-Id: I1244320fabfe8ee23da5a56a592dbeddc72cc8d5 Signed-off-by:
	Icenowy Zheng <icenowy@aosc.io> Reviewed-on:
	http://openocd.zylin.com/5297 Tested-by: jenkins Reviewed-by: Caleb
	Szalacinski <contact@skiboy.net> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-06-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: remove unused field in struct
	command_registration The field jim_handler_data in struct command_registration is never
	assigned, thus has always value NULL. It was added in commit
	17a9dea53a71 ("add jim_handler to command_registration") on Nov 23
	2009, together with the homonym field jim_handler_data in struct
	command, but never used since then.  Only the field jim_handler_data
	in struct command is used.  Remove the field from struct command_registration and use NULL where
	it was referenced (or remove the assignment if the recipient is
	already zero, e.g. allocated with calloc()).  Removing the field decreases the total size of OpenOCD binary by
	only 4944 byte on a 64 bit x86. Not a significant improvement from
	this point of view.  Change-Id: I9f1d281e3de6b2eb398e2d883c5e9ff92628aecd Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5225 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-09-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : sysfsgpio: give time to udev to change gpio permission When a gpio is exported by writing in /sys/class/gpio/export, the
	corresponding gpio control files appear immediately in sysfs but
	with default access permission for root user only. The daemon udev
	requires some time to get notified of the new files before it can
	change the permissions to allow access to unprivileged users.  Due
	to this race condition, sysfsgpio can fail with EACCES error if
	OpenOCD is executed by any unprivileged user.  Give 0.5 seconds to udev to identify the new files and change the
	permission.  Tested with udev rules:         SUBSYSTEM=="gpio*", PROGRAM="/bin/sh -c 'find -L
	        /sys/class/gpio/ -maxdepth 2 -exec chown root:uucp {} \;
	        -exec chmod g=u {} \; || true'" Change-Id: I1316c66ff103ffe23e5e4720f33372dc272a3766 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5302 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-10-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: fix string length with semihosting_fileio The GDB file-I/O remote protocol extension, used for implementing
	the semihosting file I/O, requires the length of strings to include
	the trailing zero character, as explicitly stated inside a comment
	        in GDB source code [1]: /* 1. Parameter: Ptr to pathname / length
	incl. trailing zero.  */ ARM specification for semihosting [2] requires the string length to
	not include the trailing zero character, e.g. in SYS_OPEN
	specifications:         "field 3: An integer that gives the length of the string          pointed to by field 1. The length does not include the          terminating null character that must be present." The mismatch above requires OpenOCD to add "one" to the string
	length before passing it to GDB. Such conversion is missing either
	in the generic semihosting provider of the data, the function
	semihosting_common(), and in the consumer of the data, the
	gdb_server function gdb_fileio_reply().  The conversion is already
	implemented in the target specific function
	nds32_get_gdb_fileio_info(), but it's not the preferred place for
	such GDB specific requirement.  This issue affects the semihosting calls "open", "unlink", "rename"
	and "system".  Remove the "+1" conversion from nds32_get_gdb_fileio_info().  Add
	the "+1" conversion in gdb_fileio_reply().  [1]

	http://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;f=gdb/remote-fileio.c;h=11c141e42c4d#l381[2] "Semihosting for AArch32 and AArch64, Release 2.0"     https://static.docs.arm.com/100863/0200/semihosting.pdf Change-Id: I35461bcb30f734fe2d51f7f0d418e3d04b4af506 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5322 Tested-by: jenkins Reviewed-by: Steven
	Stallion <sstallion@gmail.com> Reviewed-by: Muhammad Omair Javaid
	<omair.javaid@linaro.org> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-05-02  Jan Matyas <matyas@codasip.com>

	* : jtag_vpi: ensured constant packet size & endianness Made sure that size and endianness of jtag_vpi structures sent over
	the network is the same, regardless of the platform.  Little endian chosen to maintain as much compatibility with existing
	OpenOCD builds as possible.  Matching change in the original jtag_vpi server:
	https://github.com/fjullien/jtag_vpi/pull/4 Change-Id: Ib839fea9bb2d5190b5643c970b89333b286dce71 Signed-off-by:
	Jan Matyas <matyas@codasip.com> Reviewed-on:
	http://openocd.zylin.com/5152 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2019-12-05  Jimmy <nhminus@gmail.com>

	* : server/tcl_server.c: Fix buffer overrun The input buffer size is checked only after writing past its end.  Change-Id: I6a9651c5b7d82efe338468d67bf6caca41004b01 Signed-off-by:
	Jimmy <nhminus@gmail.com> Reviewed-on: http://openocd.zylin.com/5352
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-11-27  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : target/stm32h7x: add support of dual core variant of STM32H7 STM32H7x7 and STM32H7x5 devices contains two cores : CM7 + CM4 The
	  second core creation is only done when * DUAL_CORE variable is set to true   * non HLA interface is used A second check for the second core existence is done in cpu1
	examine-end Once the second core is detected it gets examined.  Furthermore, the script provides a configurable CTI usage in order
	to halt the cores simultaneously.  Tested on Rev X and V devices.  PS: the indentation was a mix of spaces and tabs, all changed to
	tabs.  Change-Id: Iad9c30826965ddb9be5dee628bc2e63f953bbcb8 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5130 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2014-09-23  Peter Mamonov <pmamonov@gmail.com>

	* : mips: Add MIPS64 support The patch adds support for processors implementing MIPS64
	instruction set.  Change-Id: I79a983dfdead81553457a0f3e9e739a9785afaac Signed-off-by:
	Konstantin Kostyukhin <kost@niisi.msk.ru> Signed-off-by: Andrey
	Sidorov <anysidorov@gmail.com> Signed-off-by: Aleksey Kuleshov
	<rndfax@yandex.ru> Signed-off-by: Antony Pavlov
	<antonynpavlov@gmail.com> Signed-off-by: Peter Mamonov
	<pmamonov@gmail.com> Signed-off-by: Oleksij Rempel
	<linux@rempel-privat.de> CC: Dongxue Zhang <elta.era@gmail.com> CC:
	Paul Fertser <fercerpav@gmail.com> CC: Salvador Arroyo
	<sarroyofdez@yahoo.es> CC: Spencer Oliver <spen@spen-soft.co.uk>
	Reviewed-on: http://openocd.zylin.com/2321 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2019-09-09  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32h7x: remove options cache and some driver
	enhancements functions managing option bytes cache (stm32x_read/write_options)
	have bee removed, and a new functions to modify a single option byte
	have been introduced (stm32x_write/modify_option).  by the way, some helpers have been introduced to access flash
	  registers: - stm32x_read_flash_reg(bank, offset, *value): int   - stm32x_write_flash_reg(bank, offset, value): int and a new commands to read and write a single flash option register:   - stm32h7x option_read <bank> <option_reg offset>   - stm32h7x option_write <bank> <option_reg offset> <value> [mask] also lock and unlock handlers' have been reduced by using the same
	routine (stm32x_set_rdp) and have been optimized to not write options unless
	there is a change in RDP level.  finally, several functions have been fixed to lock flash / options
	in case of failure.  Change-Id: I75057949ab9f5b4e0f602bafb76f9f80d53a522b Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5293 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-08-29  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32h7x: remove stm32x_options.protection2 Each bank had to store its options only, there is no need for bank1
	to sneak into bank2 options.  Furthermore, some variants do not have
	a second bank.  Change-Id: I9229eb8ab4b5860ba2b0c5dbe626a54a84bca4d6 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5290 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-01-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: show RAM size on old nRF51 devices (rev 1, 2) Change-Id: I2452c084b9bd9e401bd49e15791428a53df1cd1d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4868 Tested-by: jenkins

2019-01-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: rename registers by nRF series Change-Id: I70af671c52665b27a28508e06e7d3e5e40a621f7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4866 Tested-by: jenkins

2019-01-20  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: implement BPROT protection check for
	nRF52810,832 Also refuse 'flash protect' on any nRF52.  Fail protection check on
	nRF52840 until ACL protection is implemented.  Change-Id: I84fcf117427e4894147c3ad92e2a3597566b4fcf Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4864 Tested-by: jenkins

2018-12-23  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: remove useless page padding and UICR autoerase nRF5 flash controller can write a word at a time. Ask flash
	infrastructure to handle alignment and padding.  Fix mixing of offset and address in nrf5_ll_flash_write() - the original code worked just because NRF5_FLASH_BASE is 0 Change-Id: Ibe8bdf899a1764cf4117b2deda1a4618eeb16697 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4819 Tested-by: jenkins

2018-01-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : CVE-2018-5704: Prevent some forms of Cross Protocol Scripting
	attacks OpenOCD can be targeted by a Cross Protocol Scripting attack from a
	web browser running malicious code, such as the following PoC: var x = new XMLHttpRequest(); x.open("POST",
	"http://127.0.0.1:4444", true); x.send("exec xcalc\r\n"); This mitigation should provide some protection from browser-based
	attacks and is based on the corresponding fix in Redis:
	https://github.com/antirez/redis/blob/8075572207b5aebb1385c4f233f5302544439325/src/networking.c#L1758Change-Id: Ia96ebe19b74b5805dc228bf7364c7971a90a4581 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reported-by: Josef
	Gajdusek <atx@atx.name> Reviewed-on: http://openocd.zylin.com/4335
	Tested-by: jenkins Reviewed-by: Jonathan McDowell
	<noodles-openocd@earth.li> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2019-10-27  Alexandru Gagniuc <mr.nuke.me@gmail.com>

	* : jtag: usb_blaster: Add missing 'default' to switch statement If a new JTAG command is added, then GCC will complain that
	enumeration value not handled in switch. This is the only driver not
	to have a default case, so add it.  Change-Id: Icb838087bb7525d057a911bd256300e256da1668 Signed-off-by:
	Alexandru Gagniuc <mr.nuke.me@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5333 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-09-28  Marc Schink <openocd-dev@marcschink.de>

	* : libjaylink: Update to latest Git version This version adds two new USB PIDs and fixes a build issue under
	MSYS2.  Change-Id: I753fab827783ea64e55e59d833742c9f70a28a2b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5309 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2019-06-11  Florian Fainelli <f.fainelli@gmail.com>

	* : target/cortex_a: Extract code to read/write from/to register
	to/from DCC In preparation for supporting the ARM MCRR and MRRC commands which
	will require using two 32-bit registers to read/write a 64-bit
	internal register, extract the common logic to read/write from/to a
	register to/from DCC and make that parameterized such that we can do
	this through not just r0.  Change-Id: Iadb73f5cde8cf5961b5a18ddd198bf39d791e610 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5227 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : gdb_server: Support vRun packet, allow setting cmdline from GDB GDB uses the vRun packet if available to restart a running process
	in extended remote mode. Support this like the R packet and set the
	semihosting command-line to allow it to be specified from GDB.  Change-Id: I9cb812b22170630f782113c9927e46e0cd5b1f0f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5186 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-04-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: use aligned accesses for read/write cpu memory
	slow Armv7a is able to read and write memory at un-aligned address, but
	only when bit SCTLR.A (Alignment check enable) is zero and the
	address belongs to a memory space with attribute "Normal" (see [1]
	chapter A3.2.1 "Unaligned data access"). In all the other cases the
	memory access will trigger an alignment fault data abort exception.
	Memory attributes are explained in [1] chapter A3.5 "Memory types
	and attributes and the memory order model".  Disabling the MMU cause a change in memory attribute, as explained
	in [1] chapter B3.2 "The effects of disabling MMUs on VMSA
	behavior".  This can cause several issues. e.g. a SW breakpoint on
	un-aligned 4-byte Thumb instruction, set when MMU is on, can be
	impossible to remove when MMU turns off.  While is possible to check all the possible conditions before an
	un-aligned memory access, it's clearly more maintainable to skip
	such complexity and only perform aligned accesses.  Check the alignment and eventually modify the data size before
	calling the functions cortex_a_{read,write}_cpu_memory_slow().
	Change the comment in the two functions above to comply with the new
	behaviour.  [1] ARM DDI 0406C.d - "ARM Architecture Reference Manual, ARMv7-A     and ARMv7-R edition" Change-Id: I57b4c11e7fa7e78aaaaee4406a5734b48db740ae Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5138 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-12-08  Piotr Kasprzyk <ciri@ciri.pl>

	* : Fix wrong end-of-region calculation Correct check for end-of-region is: $BASE + $LEN > $ADDRESS And it is currently (wrongly) calculated as: $ADDRESS > $BASE - $LEN Change-Id: If10bfee19b0c7dbc085731ac1eda943f5d8a36a3 Signed-off-by:
	Piotr Kasprzyk <ciri@ciri.pl> Reviewed-on:
	http://openocd.zylin.com/4798 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2018-01-14  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add Infineon TLE987x Prepare a config for Infineon TLE9879.  Change-Id: Ic667ae822fd514cac365993bc3f39b4185f1a118 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/4339 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2016-01-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Switch to target_read_buffer() in verify_image fallback The current code checks the count to determine whether to read bytes
	or words. However it fails to consider whether the base address is
	suitably aligned.  Instead use the target_read_buffer() function which is for exactly
	this purpose and generates optimal accesses with natural alignment.  Change-Id: I32ab5417890ee2219902df1529bc220fe353b4c7 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3217 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-08-29  Moritz 'Morty' Strbe <moritz.struebe@redheads.de>

	* : src/flash/startup.tcl: Add preverify to program command The preverify option allows to check whether flashing is necessary.
	If the target is flashed often/automatically this can save time and
	preserve the flash. This is expecially helpful in CI environments.  Change-Id: Iead0a269e1a772b751d4dd9e8b53b2fecc874624 Signed-off-by:
	Moritz 'Morty' Strbe <moritz.struebe@redheads.de> Reviewed-on:
	http://openocd.zylin.com/5292 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Tarek BOCHKATI
	<tarek.bouchkati@gmail.com>

2018-03-06  Tim Newsome <tim@sifive.com>

	* : Add complete JTAG debug logging.  Sample output, with default_interface_jtag_execute_queue replaced by
	dijeq to satisfy commit message line length check: Debug: 646 18
	core.c:847 dijeq(): JTAG IR SCAN to RUN/IDLE Debug: 647 18
	core.c:852 dijeq():   5b out: 11 Debug: 648 18 core.c:847 dijeq():
	JTAG DR SCAN to RUN/IDLE Debug: 649 18 core.c:852 dijeq():   40b
	out: 4400000001 Debug: 650 18 core.c:857 dijeq():   40b in:
	4400000000 Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I014e9e3a77755413b36edfcede2ab8f6aa08061b Reviewed-on:
	http://openocd.zylin.com/4451 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-07-15  Christian Meusel <christian.meusel@posteo.de>

	* : efm32: use device-specific MSC base for EFM32TG11B According to the reference manual it should be 0x40000000. Flashing
	(and booting) a firmware with this MSC base was successful.  Change-Id: I739e67d36555b8170a3b8e26f54cf1c09ce8424b Signed-off-by:
	Christian Meusel <christian.meusel@posteo.de> Reviewed-on:
	http://openocd.zylin.com/5263 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-09-09  Christopher Head <chead@zaber.com>

	* : helper/command: clear errno before calling parser The C standard says that errno is set to ERANGE if an out-of-range
	value is returned by strtol, strtoul, et. al., but it does not say
	that errno is cleared if the function is successful (and, indeed, it
	is not on glibc). This means that, if errno is ERANGE before strtol
	is called, and if the value to be converted is exactly the maximum
	(or, for a signed conversion, the minimum) legal value,
	COMMAND_PARSE_NUMBER will erroneously indicate that the value is out
	of range.  Change-Id: I8a8b50a815b408a38235968f1c1d70297ea1a6aa Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5298 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-06-06  Marc Schink <openocd-dev@marcschink.de>

	* : tcl/board: Add Rigado BMD-300 Evaluation Kit Change-Id: Iba8e12818e2041e51214dab413eb57f0e5bf3f75 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5218 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2019-08-27  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/stm32h7x: remove unused 'pages_per_sector' from
	stm32h7x_part_info Change-Id: I1b79c25cada574e3a9849f506443c836bd707604 Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5289 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2019-08-19  Caleb Szalacinski <contact@skiboy.net>

	* : flash/nor: flash driver for Synwit SWM050 MCUs SWM050 is a series of MCU product by Foshan Synwit Tech, which is
	available in TSSOP-8 or SSOP-16 packages.  Adds flash driver for the internal 8KiB flash of the MCU. The
	registers are based on reverse engineering the J-Flash blob provided
	by the vendor.  Also adds a pre-made cfg file.  Change-Id: I0b29f0c0d062883542ee743e0750a4c6b6609ebd Signed-off-by:
	Icenowy Zheng <icenowy@aosc.io> Signed-off-by: Caleb Szalacinski
	<contact@skiboy.net> Reviewed-on: http://openocd.zylin.com/4927
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-08-19  Seth LaForge <sethml@google.com>

	* : src/flash/nand: Fix some operator precedence bugs.  Fix two expressions where precedence of operator | vs ?: was clearly
	confused.  Untested - was clearly not expressing the intent of the
	author by inspection.  Found by automated tooling and
	rtrieu@google.com.  Change-Id: I46f190154797f8affc761caf3a15a1a9db53d702 Signed-off-by:
	Seth LaForge <sethml@google.com> Reviewed-on:
	http://openocd.zylin.com/5281 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2019-07-16  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/nor/core: fix some minor typo Change-Id: I03832b3e4a6eaadfd87729a3a898e0a2cd30931a Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5264 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-06-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : mflash: Remove this broken flash driver This is causing repeated build failures. Its design is so
	fundamentally broken that if someone actually wants to use it, a
	full rewrite is the only option. So it's not even worth deprecating
	in the hope that someone will notice and fix it, just get rid of it.  Change-Id: I513069919a3873bd69253110f7fb6f622ee7d061 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5243 Tested-by: jenkins Reviewed-by:
	Jeffrey Booher-Kaeding <Jeff.Booher-Kaeding@arm.com> Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-03-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : cortex_m: set C_DEBUGEN in soft_reset_halt The command "soft_reset_halt" is deprecated since mid 2013 with the
	commit 146dfe32956d ("cortex_m: deprecate soft_reset_halt").
	Nevertheless it is still extremely useful with multicore chips where
	it allows to reset only one of the cores, option not available
	through asserting the chip-wide srst.  Without a better replacement
	of the command, it's worth fixing it.  Accordingly to ARM DDI 0403E.d, chapter C1.4.1 "Entering Debug state
	on leaving reset state", to halt the core at reset both bits
	DHCSR.C_DEBUGEN and DEMCR.VC_CORERESET must be set.  Current code
	only sets the latter bit, relying on having C_DEBUGEN already set
	through other commands, e.g. "halt". This prevents the command
	"soft_reset_halt" to work if issued as very first command.  Set the bit C_DEBUGEN in command "soft_reset_halt".  Change-Id: I66bfd6a0da1fca5049dea037b4d258cf6f842966 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4987 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-06-07  Christopher Head <chead@zaber.com>

	* : helper/command: make command_run_line reentrant The `command_run_line` function contains a comment saying it should
	be reentrant. However, it isnt: it NULLs out
	`current_target_override` and doesnt restore it before returning,
	and it changes the `context` associated data of the `interp` object
	and then deletes that associated data before returning rather than
	restoring it to its previous value.  Change-Id: I84fd46ef7173f08cf7c57b9a5b76e4986a60816f Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5223 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-06-05  Marc Schink <openocd-dev@marcschink.de>

	* : tcl/board: Add SAML11 Xplained Pro Evaluation Kit Change-Id: I118929cdecd9ba1f39d6e2791c114ac7e347b3f5 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5206 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-06-14  Marc Schink <openocd-dev@marcschink.de>

	* : target/cortex_m: Add support for AHB5-AP The AHB5-AP is implemented in Cortex-M23/33 based devices.  Change-Id: I505954a2e2c6462ce0aa96eba1d55b016c5028b9 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5232 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2019-03-31  Omair Javaid <omair.javaid@linaro.org>

	* : Configs for ARM corelink SSE-200 target and Musca A board This patch adds configuration files for ARM CoreLink SSE-200 SoCs.
	Also adds configuration file for SSE-200 based Musca A board. Flash
	programming support for Musca A QSPI flash is still not functional.
	This configuration will be updated once that support lands into
	OpenOCD.  Please refer to ARM documentation for more information about SSE-200
	and Musca A.  Change-Id: Id3783c34d6e2609d659ef91c0bf7252c39439874 Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/5006 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-02-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: remove dependency from jtag queue Replace jtag specific API jtag_add_reset() with transport
	independent API adapter_{de}assert_reset().  Change-Id: I1b917a4c1205115c4e0315373d81a9305e931258 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4944 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-06-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: fix error on TCL command "return" in jtag event handler The TCL command "return" always returns error code JIM_RETURN, to
	indicate that the effective error code and message are elsewhere.  In the current implementation, the caller of jtag's event only
	checks for return code JIM_OK and considers any other value,
	including JIM_RETURN, as an error condition.  It can be tested running openocd on a jtag target and adding a jtag
	        event "setup" with a single line "return", e.g.  openocd -f
	        board/ti_cc3200_launchxl.cfg \ -c 'jtag configure cc32xx.cpu -event
	setup return' to get the message:         ../src/jtag/core.c:1599: Error:         in procedure 'jtag_init' called at file
	        "../src/jtag/core.c", line 1599 Modify jtag_tap_handle_event() to detect the specific return value
	of the "return" command and to test the real error code that is,
	eventually, specified to the TCL "return" command.  Change-Id: I6d6febc15ef169638afffbffc1810e0b84fcf5c8 Reported-by:
	Tomas Vanek <vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5199 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-06-01  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : flash/stm32h7x: fix register names to comply with RM0399 Rev2
	and RM0433 Rev6 Change-Id: I085d86a2a47f4aeef93a99238e3b80ee294d46df Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5192 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-06-04  Christopher Head <chead@zaber.com>

	* : jtag/drivers/jtag_usb_common: fix typo Change-Id: If1f56fd5d610b993a4ecbc900fac9f90638037c9 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5202 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-25  Michael Schwingen <michael@schwingen.org>

	* : fix XScale register access since b5964191f0, all XScale-specific registers were missing,
	breaking config scripts.  Change-Id: Ia56f3ca17500ba54bd08f417e9a5aaaa8a1be8c4 Signed-off-by:
	Michael Schwingen <spam-openocd@discworld.dascon.de> Reviewed-on:
	http://openocd.zylin.com/5136 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-16  Daniel Goehring <dgoehrin@os.amperecomputing.com>

	* : ARMv8: Update rtos_reg storage from 8 to 16 bytes To support 128 bit registers, the rtos_reg structure value array
	needs to be updated from 8 to 16 bytes.  Tested by reading ARMv8 NEON FP regs on an Ampere eMAG 8180 with
	GDB.  Change-Id: I7f3fe1a5b2def599d021787fbe9cdd51f92859a4 Signed-off-by:
	Daniel Goehring <dgoehrin@os.amperecomputing.com> Reviewed-on:
	http://openocd.zylin.com/5209 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-03-19  Florian Fainelli <f.fainelli@gmail.com>

	* : armv7a_mmu: Do not restrict virtual addresses to uint32_t In preparation for adding super section decoding, do not restrict
	armv7a_mmu_translate_va_pa() to 32-bit virtual addresses since
	ARMv7-A processors with VMSA extensions (including LPAE) can issue
	wider physical addresses. Update casting to uint32_t where
	necessary.  Change-Id: Id1c3d0d5ac324cbdc334259d9ea75fe4981671a1 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5211 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-06-05  Florian Fainelli <f.fainelli@gmail.com>

	* : armv7a_mmu: Check earlier for PAR read Check earlier that the read of the PAR register was successful
	instead of starting the decoding and then checking for an error
	reading that register.  Change-Id: Id96c2b2f76d2d1c745fcfa55ad4c1e6db92106f9 Signed-off-by:
	Florian Fainelli <f.fainelli@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5215 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-05-31  Marc Schink <openocd-dev@marcschink.de>

	* : contrib/rpc_examples: Remove 'ocd_' command prefix The prefix is not necessary anymore.  Change-Id: Ie0df06a70ff51e6719d7564396739d28618b0196 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5190 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-01-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: set default "jtag_only" to uninitialized transports For legacy support, drivers that do not define a list of transports
	get identified as jtag_only.  Cleanup this old crust and initialize properly the transports field
	in the jtag_interface for all the drivers.  Change-Id: I9c86064e5d05bd0212bc18f4424414e615e617fe Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4893 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_m: remove dependency from jtag queue Since the first commit 09883194f867 that introduced cortex_m, the
	code has a delay of 50ms after srst has been asserted.  The specific
	delay is implemented through the JTAG_SLEEP command sent in the jtag
	queue.  To remove the dependency from the jtag queue, replace the delay with
	a transport independent function.  In case of jtag transport, this change keeps the same behaviour only
	if the jtag queue has been flushed before the delay. This does not
	happen if the call to dap_dp_init(), few lines above, fails while
	calling a dap_queue_dp_{read,write}(); in this case the jtag queue
	will be flushed later, after the delay, while in the original code
	the delay would follow the flushing of the commands already queued.
	Anyway, this different behavior would only happen in case of DAP
	already not responsive so anticipating the delay in such error
	condition is not supposed to add further problems.  Change-Id: If15978246764e4266b10e707d86c03e5ed907de7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4912 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: simplify management of non-implemented handlers There is just a single entry point for the jtag API .khz(),
	.speed_div(), .power_dropout(), .srst_asserted().  Simplify the code by in-lining the default handler.  The overall
	code behaviour is not changed.  This change prevents modifying at
	run-time the content of struct jtag_interface.  Inspired from change http://openocd.zylin.com/943 by Evan Hunter
	<ehunter@broadcom.com> Change-Id: I09aeb76d614db57b1884ac7ee9f00c152cd77849 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4892 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-12-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Convert DEBUG_JTAG_IO to LOG_DEBUG_IO Change-Id: Ifee9723a57fea93a7022be3299f69680860f236b Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3910 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-04  Oleksij Rempel <o.rempel@pengutronix.de>

	* : jlink: add usb location support this patch needs latest extended libjaylink version Change-Id: Ib688ba18740717ccce7863e08c09425975b5f153 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Signed-off-by: Marc Schink
	<openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4596 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-08-02  Oleksij Rempel <o.rempel@pengutronix.de>

	* : libjaylink: Update to latest Git version This version introduces jaylink_device_get_usb_bus_ports() Change-Id: Ib3fea95c3545c1340a6798e100f5ca644ec89510 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4629 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-16  Leonard Crestez <leonard.crestez@nxp.com>

	* : arm_adi_v5: Split CSW bits into AHB/APB/AXI The implementation-defined bits have different semantics for each
	bus and different recommended defaults.  Change-Id: I562fe24643bb1f3abc696339e382a75ccf2f2873 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5124 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : configure.ac: fix minor typo s/overide/override/ Change-Id: Iecacf0d6839a4d23cb1b029f867d7e1a21d482a4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5164 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-05-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : HACKING: fix minor typos s/additonal/additional/ s/seperately/separately/ Use uppercase after
	a '.' Change-Id: I933894ae44924363d634fa07d3de4ceeb4b329e2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5162 Tested-by: jenkins Reviewed-by:
	Jonathan McDowell <noodles-openocd@earth.li> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: remove dead code in command_unknown() Commit 89fa493a3bc34d22eeca06fa4e78523ac3b766a8 removes the top
	level command "unknown" and adds in command_unknown() some unclear
	code that should detect a user-implemented "unknown" command.  But,
	all the commands that trigger the execution of the function
	command_unknown() are registered in register_command_handler() and
	have the command name prefixed with "ocd_".  Due to such "ocd_"
	        prefix in cmd_name, the condition if (strcmp(cmd_name, "unknown") ==
	0) { ... } is always false.  Nobody complained for almost 10 years
	so we can proceed to remove this dead code, before merging any
	change that obsoletes the prefix "ocd_" and potentially makes the
	condition true.  Remove the dead code guarded by the condition above.  Change-Id: Icf11a956bb2d68fc84e6eb5779edf8e35db8fa53 Fixes:
	89fa493a3bc3 ("remove unknown handler") Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5096 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-10  Christopher Head <chead@zaber.com>

	* : stm32f7x: Use CHIPNAME-specific name for ITCM bank Change-Id: Icf67eaecd56ac3fb88bcfa2b7084b846109454e6 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5102 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2019-04-02  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Fix V3M/V3H SoC chipname The V3M SoC is R8A77970 while the V3H SoC is R8A77980 . Update the
	CHIPNAME and swap the SoCs to keep the list sorted.  Change-Id: I7e1777c0c7181e5e0beac98333f2047cb443d0df Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5140 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-10-05  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/board: Add Renesas RZ/A1H GR-Peach board Add configuration for the Renesas RZ/A1H GR-Peach board, which is a
	cheap development kit for the RZ/A1H SoC.  Change-Id: I7f5596ae47e6dff8e6d06cffd4dddca20f57d0ca Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5142 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-05-07  Marc Schink <openocd-dev@marcschink.de>

	* : Fix 'adapter usb location' documentation Change-Id: Ifd1d21f2a3cc25ee25e3c7dd04dbb8190d41a1ea Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/5156 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2019-05-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/bcm2835gpio: fix build for ARM host The commit 84ca4995adfa ("drivers/bcm2835gpio: fix usage messages")
	has been merged before commit 6cb5ba6f1136 ("helper/command: change
	prototype of command_print/command_print_sameline") introducing two
	new call to command_print() that were not modified by the second
	commit.  This triggers a compile error on ARM host.  Fix the incorrect function call.  Change-Id: I2736bae24141685b7590fd6b4aa5e6a29b2cab29 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5174 Tested-by: jenkins

2016-08-02  Megan Wachs <megan@sifive.com>

	* : jtag_vpi: correct runtest behavior Prevent the State Machine from moving at the end of several cycles
	during run_test_idle state.  Change-Id: Iabdf90a58334dd3d0e6e34b02983a85662062825 Signed-off-by:
	Megan Wachs <megan@sifive.com> Reviewed-on:
	http://openocd.zylin.com/3635 Tested-by: jenkins Reviewed-by: Jan
	Matyas <matyas@codasip.com> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-05-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: fix printing usage for incomplete commands The commit "helper/command: do not replace new commands with ocd_
	prefix" breaks the print of usage text when a multi-word command is
	typed incompletely.  Fix it by explicitly running the "usage" command.  Change-Id: I46f8e521d9b6ac617bff8938cf8fc96f0ade45c8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5166 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix output of command "targets" Part of the output is generated with log functions.  Change prototype of find_target() and use command_print() for all
	the output of the command.  Change-Id: Ia9fdb653fd5b27be427381053a037545faa34414 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5092 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-03-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : TODO: remove references to "ocd_" prefix in documentation The commands prefixed with "ocd_" are removed.  No need to review
	the documentation.  Change-Id: Idad95e62f6c8574ff8b61930aeef04e9727fae8a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5089 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-03-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: remove search for "ocd_" prefix We do not register commands with special "ocd_" prefix anymore.  Change-Id: I588816eb22c2435a97be5fbfa87ee5584274b02f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5087 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-04  Paul Fertser <fercerpav@gmail.com>

	* : helper/command: do not replace new commands with ocd_ prefix The TCL return values are now consistent, no need anymore for the
	hack of registering the commands with "ocd_" prefix and override
	them with proc ocd_bouncer.  Clean-up the command registration and remove the proc ocd_bouncer.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I2a467e73ecb068686ea3fda91bf961aba6db6427 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5086 Tested-by: jenkins

2019-04-04  Paul Fertser <fercerpav@gmail.com>

	* : helper/command: Handle Tcl return values consistently Rationale: 1. There's logging output and there're return values; 2. If a function should return something, it should do it
	explicitly, same for logging; 3. Interactive interfaces (telnet, Gdb and Tcl RPC) must always
	return the result of the evaluation for the given expression. You
	can suppress this output by adding ``; after 0'' to the end of your
	expression.  4. Some commands "throw an exception" and if you want to be able to
	collect both the return value (when it succeeds) and the log output
	(when something goes wrong) you can use do like this: set log_output [capture "catch {reset_config} return_value"] So what I'm proposing is following: 1. Every jim_handler command should set the return value the
	standard JimTcl way, without any tricks. If it needs to print some
	logging output, it should use LOG_* functions.  2. The usual commands (COMMANDS) can easily construct their return
	value by appending strings with command_print() and
	command_print_sameline(). This required changing "struct
	command_invocation" and passing a pointer to it to command_print*
	functions.  The code is already functional, please test and comment.  TODO items: 1. Modify all jim_handler commands to properly return or log values
	(some of them are commented out for now in this patch).  2. Properly document "capture" command and provide a convenience
	function to automate log_output + return_value gathering.  3. Add appropriate Doxygen comments.  4. Add Tcl RPC interface description to the manual, all the example
	clients in different languages (from the mailing list) to contrib/.  This change is the core part of http://openocd.zylin.com/1815 from
	Paul Fertser. It has been extracted and rebased to simplify the
	review and provided again as 1815.  Change-Id: I675c91aa9da1e4e7c6f0a8fe6112a00550b9e4db Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1815 Tested-by: jenkins

2019-04-03  Paul Fertser <fercerpav@gmail.com>

	* : nor/niietcm4: fix indentation After replace CMD_CTX with CMD, the indentation is incorrect.  Fix
	it.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I5d7c40227ceda2e9db8dab88088d74012d2254c4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5082 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : jlink: change prototype of show_config*() functions To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of show_config*() functions to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I131a904774bf60ad1bf9d90dbc65927c246ac23a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5080 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/esirisc_trace: change prototype of trace analyse
	functions To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of esirisc_trace_analyze*() functions to pass CMD
	instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ie7cfd323fe591a987ea648a20be2bb9c7273dde8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5078 Tested-by: jenkins Reviewed-by: Steven
	Stallion <sstallion@gmail.com>

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target: change prototype of handle_bp_command_set() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of handle_bp_command_set() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: If00f9cfb784b53bb3df92d4469178e2f930a146a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5076 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target: change prototype of handle_md_output() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of handle_md_output() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I2150201fad3fd3bc0be89249dcbd314b38a6f860 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5074 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/etm: change prototype of etmv1_analyze_trace() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of etmv1_analyze_trace() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ic923af5480a54c7272d2ff1abbe235ba941cf1a0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5072 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/armv7a_cache_l2x: change prototype of
	arm7a_handle_l2x_cache_info_command() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of arm7a_handle_l2x_cache_info_command() to pass
	CMD instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ib926cd7380ac8b6fb89f64e0a85d81d124633315 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5070 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/armv4_5_cache: change prototype of
	armv4_5_handle_cache_info_command() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of armv4_5_handle_cache_info_command() to pass CMD
	instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ib6ab3ec2fc6504c2a0635b654697a4b6e12a3750 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5068 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/armv8: change prototype of display_cache_info() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of display_cache_info(),
	armv8_handle_inner_cache_info_command() and
	armv8_handle_cache_info_command() to pass CMD instead of CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I13519c79af82cdba57d5205ba84a5a27fce65a36 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5066 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/xscale: change prototype of xscale_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of xscale_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Id047fab41ec4f673a46756b0ab901e659e088544 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5064 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/mips32: change prototype of mips32_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of mips32_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ic4a4de10518ee009d6df420e7278fd028e1f22ca Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5062 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/arm946e: change prototype of arm946e_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of arm946e_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ib7119e2b009d05eec47b50c3b9d32feaebc97538 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5060 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/arm966e: change prototype of arm966e_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of arm966e_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I92745591256ad56a588b6386842028e0b18dec96 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5058 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : target/arm920t: change prototype of arm920t_verify_pointer() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of arm920t_verify_pointer() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I9a603d7c032df91b3913aadb242de89dbed0358e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5056 Tested-by: jenkins

2019-04-01  Paul Fertser <fercerpav@gmail.com>

	* : nor/at91sam3: change prototype of get_current_sam3() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of get_current_sam3() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: Ia1e7af79d0fc89d229b4e10df37317a374bbab62 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5054 Tested-by: jenkins

2019-03-31  Paul Fertser <fercerpav@gmail.com>

	* : nand/fileio: change prototype of nand_fileio_start() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of nand_fileio_start() to pass CMD instead of
	CMD_CTX.  This change was part of http://openocd.zylin.com/1815 from Paul
	Fertser and has been extracted and rebased to simplify the review.  Change-Id: I7993f6aba997a2d2917949563651c8d0c213730d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5052 Tested-by: jenkins

2019-04-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: unify memory read/write commands Current code provides two independent implementations for the memory
	read/write commands: a) jim_target_md()/jim_target_mw() for the target specific    commands "<target> m[dw][bhw]" b) handle_md_command()/handle_mw_command() for the current target    commands "m[dw][bhwd]" The case a) misses the handling of
	doubleword and calls functions command_print_sameline() with first
	parameter NULL because defined as jim handler.  Remove the code in jim_target_md()/jim_target_mw() and use the same
	code in b) for the target specific memory read/write.  This approach
	also provides support for 64-bit data size, not present in the
	implementation in a).  The only drawback is that the implementation
	of memory read in b) prints the data also as human readable ASCII
	characters, feature missing in the implementation in a). This could
	introduced later if it's really needed.  Update the documentation to: - add 64-bit support - add phys parameter - add the count parameter Add attribute "unused" to target_buffer_get_u8(), now not used
	anymore.  Change-Id: Ib11ff924c409ad87e77fe708d628b2cc82b74d6a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5050 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: change prototype of target_process_reset() To prepare for handling TCL return values consistently, all calls to
	command_print/command_print_sameline should be ready to switch to
	CMD as first parameter.  Change prototype of target_process_reset() to pass CMD instead of
	CMD_CTX.  Replace NULL parameter of command_print().  Remove extra
	newline, already added by command_print().  Change-Id: Ieb820c2586e1ff74a0c2b63a9c8693ca7710dfb7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5048 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-03-26  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm946e: rewrite jim_arm946e_cp15 to arm945e_handle_cp15 jim_arm946e_cp15() used command_print() in the jim handler.  Change-Id: I0a258aad5a60f45672b9b6fa6819691507d4f0f6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5000 Tested-by: jenkins

2019-04-24  Christopher Head <chead@zaber.com>

	* : stm32h7x: fix incorrect indentation Change-Id: I5dc16031c38576d853774b6123c93be1e1b4aa96 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5133 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-07  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/atsame5: fix typo in dsu_reset_deassert help text Change-Id: Iebed1a160376717d19c5f56b2553f7d4d1eed3a7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/5095 Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Tested-by: jenkins

2019-04-03  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx8m: Cleanup defaults * Add mem_ap for direct access to axi bus (without halting cpu) * Mark m4 core with -defer-examine because it's not used by default * Make a53.0 default target since it's the boot core Change-Id: Id031533c5d4af346eb08a9ac2532fa1bca602913 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5036 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-04  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx6sx: Initial support Unlike the rest of imx6 a Cortex-M4 was added with a second
	CoreSight DAP so a separate script is required.  Tested on imx6sx-sdb running linux Change-Id: I1561910b233015f42508f341175822c0827655ec Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5041 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc/openocd.texi: fix cross referencing Commit b04c7c2ca587feebd6506716cd84297212350608 adds the cross
	reference target "adapter_usb_location", but references it with the
	command @xref inside a text, where command @ref should be used. This
	        triggers a compile warning: doc/openocd.texi:2517: warning: `.' or
	`,' must follow @xref, not c Replace @xref with @ref and adapt both the text and the command
	syntax.  Change-Id: I1520ffecb7d1d375f924492b1884d5b47f399007 Fixes:
	b04c7c2ca587 ("ftdi: use "adapter usb location" instead of
	ftdi_location command") Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5045 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-01-24  Alexander Kurz <akurz@blala.de>

	* : tcl/board: Add config for the Amazon Kindle 2 and DX Add a config to access the Amazon Kindle Model No. D00701 and
	D00801.  Both ebook readers are based on a Freescale i.MX31. A JTAG
	interface is included in a 40 pin FFC connector marked "J9" on both
	variants.  Change-Id: I58bb1ded3d6706bc3798af488ca8bafb7dc45225 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3956 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: check dscr before timeout In function cortex_a_wait_dscr_bits() the last read on dscr gets
	ignored in case of timeout, even if it finally provides the value
	that would trigger a successful return.  Check the returned value before testing the timeout.  Also, print a
	message on failure reading dscr.  Change-Id: I261ac1545113db39374833a55be911a4da71d893 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5112 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-01  Christopher Head <chead@zaber.com>

	* : target/cortex_m: Implement maskisr steponly option `maskisr steponly` disables interrupts during single-stepping but
	enables them during normal execution. This can be used as a partial
	workaround for 702596 erratum in Cortex-M7 r0p1. See "Cortex-M7
	(AT610) and Cortex-M7 with FPU (AT611) Software Developer Errata
	Notice" from ARM for further details.  Change-Id: I797a14e4d43f6dcb3706528ee4ab452846ebf133 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4673 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2019-04-01  Marc Schink <openocd-dev@marcschink.de>

	* : target/riscv: Free registers to avoid memory leak Tested with SiFive HiFive1 development board.  Change-Id: I96a9a528057fcf9fc54d3da46a672d2cd54c3d5f Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4885 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: log an error for commands without usage Every command has been fixed with proper usage field.  Change
	LOG_DEBUG with LOG_ERROR so a developer will get a visible alert for
	missing usage field when adds a new command.  Change-Id: I077c3745fd6265aded8e54b3f9d202d4d6516966 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5026 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-04-04  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx6: Fix indentation in DAP_TAPID handling OpenOCD scripts are usually indented with 4 spaces but here there
	are 8.  Change-Id: Iaad53e3b377d246d99119bb7bb5fd75d4422f564 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5039 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-10  Leonard Crestez <leonard.crestez@nxp.com>

	* : target/imx7: Add ahb mem_ap This allows bus access even when CPU is off.  Change-Id: I2d5c5581cd0169aecb92ac7b610810988a8dcef4 Signed-off-by:
	Leonard Crestez <leonard.crestez@nxp.com> Reviewed-on:
	http://openocd.zylin.com/5032 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-01  Christopher Head <chead@zaber.com>

	* : Fix incorrect commas in URLs In Texinfo, a comma inside an @url separates parameters to the @url
	function rather than being included as part of a parameter. Use
	@comma{} instead to resolve this.  Change-Id: I8b38939462cf4452e5bc2582ee484220aaf83ae0 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/5028 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-04-03  Tomas Vanek <vanekt@fbl.cz>

	* : target: fix copy&paste error in cget -coreid Command should return target->coreid, not target->working_area_size
	Solution appeared as an off topic fix in
	http://openocd.zylin.com/4935 Change-Id: Ic9701ce2001c75060dbaa75fbd013ed475a352e5 Suggested-by:
	Graham Sanderson <graham.sanderson@gmail.com> Reported-by: Tim
	Newsome <tim@sifive.com> Signed-off-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-on: http://openocd.zylin.com/5035 Tested-by: jenkins
	Reviewed-by: Tim Newsome <tim@sifive.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/command: handle empty "usage" with
	add_help_text/add_usage_text By using the command "add_help_text" to add a help text to a TCL
	procedure it implicitly creates a new command_registration struct
	that has field .usage set to NULL. This triggers a debug message         BUG: command '%s' does not have the '.usage' field filled
	        out Use an empty string if usage field is NULL.  Plus, do not annoy the user with a LOG_INFO when the command
	"add_usage_text" replaces an empty usage.  Change-Id: I4a72646e0fb704ba354f938d774055540cde3967 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5025 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/adi_v5_swd: add "usage" field to command "swd" The missing field causes runtime debug message         BUG: command 'swd' does not have the '.usage' field filled
	        out Change-Id: I5a36c0fc822c4d5d74ef2d1c75e369648c6f7d4d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4830 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/str9xpec: fix help and usage for command "part_id" Remove the numeric parameter <bank> from help and add it to usage Change-Id: I630ca5450955210299f54e16fe5c9e8e51b3b266 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5022 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/vsllink: add help and usage to commands Change-Id: I4a8a68147011525191ca79e65fc3d7e760371ae1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5020 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/imx_gpio: fix usage messages The notation "(tck tms tdi tdo)* " is incorrect, because it means
	the quadruple of gpio can be repeated on the command-line.  The
	correct syntax of the command requires instead to provide either all
	the four gpio numbers (in order to set the values) or to pass an
	empty command-line (to dump the values previously set).  Change the .usage field to "[tck tms tdi tdo]".  Change similarly
	the corresponding .usage field for SWD command.  Add the .usage
	field for the commands that individually set each gpio or gpio
	property.  Dump the previously set values when commands
	imx_gpio_speed_coeffs or imx_gpio_peripheral_base are executed with
	empty command-line.  Change-Id: Id56a68622817101bd0a46fed1fead6d2cd2b6ec6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5018 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-03-30  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/armv7a: simplify help description of command "l2x" There is no need to split the string in two lines.  Change-Id: Ifc574904acd06c31fab589643334e86f4dd0a122 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5016 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/kinetis: use coherent indentation in struct initialization Keep using the same indentation rules while initializing struct
	command_registration.  Change-Id: Ie69d9d6a786e1ef0abbcfd3eef89a61206238ebe Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5014 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/openrisc: use coherent syntax in struct initialization While initializing struct command_registration, the field's name
	"name" is not specified, thus relying on the fact that it is the
	first field declared in the struct and it's initialization value can
	be listed as the first one.  Be coherent in the struct initialization and always use the field's
	name.  Change-Id: I65d32870bf4d3df845db69682fe445c71642f976 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5012 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-01-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm7_9_common: use coherent syntax in struct
	initialization While initializing struct command_registration, the field's name
	"name" is not specified, thus relying on the fact that it is the
	first field declared in the struct and it's initialization value can
	be listed as the first one.  Be coherent in the struct initialization and always use the field's
	name.  Change-Id: I743457acf7757df4646c9bc4e5ea1a6f9c841516 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5010 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2018-04-09  Paul Fertser <fercerpav@gmail.com>

	* : contrib: rpc_examples: python: fix memory retrieval mem2array returns a Tcl (associative) array and so the order of
	elements is not guaranteed. Treat it as such.  Change-Id: Ie4d1219faac1e60247ca13bc2eedf22041a9a9e9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4487 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com>

2019-03-28  Mete Balci <metebalci@gmail.com>

	* : target/arm_adi_v5: fix typo Fixed the small typo.  Change-Id: Ia8834b23302d25e92cb2fa0802bebb2a9416595b Signed-off-by:
	Mete Balci <metebalci@gmail.com> Reviewed-on:
	http://openocd.zylin.com/5001 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-03-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/startup.tcl: remove proc exit The TCL command exit is already replaced by the OpenOCD command exit
	in server/telnet_server.c, no need to redefine it in the script.
	Moreover, the implementation is broken because the proc ocd_throw
	has been removed in mid 2008 with pre-git-era commit dfbb9f3e89ae in
	svn rev 849.  Remove completely the unused proc exit.  Change-Id: I0365d740eccc47631eb459aab77b865b0877c1f7 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4986 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-06  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: remove target halted check when removing a
	breakpoint Remove the target halted check from cortex_m_remove_breakpoint() as
	there is no such check in cortex_m_set_breakpoint() and bp can be
	safely removed from the running target.  While on it return the error code from cortex_m_unset_breakpoint()
	to higher level.  Change-Id: I2b358c3661feed84297913e9f589bdf1e4de7e64 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4887 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Jnis
	Skujenieks <janis.skujenieks@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2019-02-07  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: simplify cortex_m_unset_breakpoint() Cortex-M uses only 2 byte breakpoint instruction.
	cortex_m_unset_breakpoint() does not need to check
	breakpoint->length, use the length as the size argument in
	target_write_memory() Change-Id: I20bb869f6abce2fc61f0469e34a638bc4dc6f7ce Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4889 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Jnis
	Skujenieks <janis.skujenieks@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2019-03-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : smp: move sub-command "smp_gdb" in file smp.c The code for this command is currently replicated in cortex_a and in
	mips_m4k and is going to be added again for cortex_m.  Plus, it is
	going to be obsoleted by the HW thread pseudo RTOS.  Consolidate in smp.c a single instance of the command. This will
	simplify both obsoleting it and adding it to cortex_m, whatever
	change comes first.  Change-Id: I03cd857e21fa3f7202fdcee36bcbd5aae30a609d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4991 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-04-19  Angus Ainslie <angus@akkea.ca>

	* : imx8m: add an m4 target to the imx8m The imx8m also has a Cortex m4 so add a target for it.  Change-Id: I2abf62b6232c547fe9b12507f459835b11c63a6d Signed-off-by:
	Angus Ainslie <angus@akkea.ca> Reviewed-on:
	http://openocd.zylin.com/4501 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-02-15  Tim Newsome <tim@sifive.com>

	* : Lots of RISC-V improvements.  This represents months of continuing RISC-V work, with too many
	changes to list individually. Some improvements: * Fixed memory leaks.  * Better handling of dbus timeouts.  * Add `riscv expose_custom` command.  * Somewhat deal with cache coherency.  * Deal with more timeouts during block memory accesses.  * Basic debug compliance test.  * Tell gdb which watchpoint hit.  * SMP support for use with -rtos hwthread * Add `riscv set_ir` Change-Id: Ica507ee2a57eaf51b578ab1d9b7de71512fdf47f Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4922 Tested-by: jenkins Reviewed-by:
	Philipp Guehring <pg@futureware.at> Reviewed-by: Liviu Ionescu
	<ilg@livius.net> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-03-01  Marek Vasut <marek.vasut@gmail.com>

	* : mips32: pracc: Fix indent Fix indent of the macros in header file, no functional change.  Change-Id: I4d1dba5725155200148d1543c45bad919f6cd37e Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4995 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/mips: Use 'bool' data type Change-Id: Ifb114bfc062ed7c0ff6e4f37a1a6d546f5415344 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4970 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/dsp563xx: Use 'bool' data type Change-Id: Ie7ee82bf04c76ef899ae8b19105158e71b69ae2c Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4962 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/adi_v5_swd: improve error check while updating DP_SELECT Write to register DP_SELECT can fail, but both functions
	swd_queue_dp_bankselect() and swd_queue_ap_bankselect() return void
	and do not propagate the error.  Change the return type of the two functions to int and check the
	returned value.  Invalidate the cached value of DP_SELECT if the
	write fails.  Change-Id: Iba6ef8b0c2332e7f7efb66337d558fb7a4a0d39c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4980 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-07  Tomas Vanek <vanekt@fbl.cz>

	* : target/breakpoints: make internal functions static While on it add two missing new lines.  Change-Id: I0d54740479bc462b734f91686f0931824796b598 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4888 Tested-by: jenkins Reviewed-by: Marc
	Schink <openocd-dev@marcschink.de>

2019-02-14  Tim Newsome <tim@sifive.com>

	* : flash/nor: use target_addr_t for flash bank base This should allow users to configure flash at >32-bit addresses.  Change-Id: I7c9d3c5762579011a2d9708e5317e5765349845c Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4919 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : rtos/hwthread: add hardware-thread pseudo rtos This patch adds "hwthread", a pseudo rtos that represents cpu cores
	in an SMP system as threads to gdb. This allows to debug SMP system
	kernels in a more sensible manner and removes the current atrocities
	of switching gdb manually between CPU cores to update the context.  Change-Id: Ib781c6c34097689d21d9e02011e4d74a4a742379 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3999 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Graham Sanderson
	<graham.sanderson@gmail.com>

2018-12-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/stlink_usb: check error code returned by st-link Most of ST-Link commands return an error code, but this is almost
	never checked.  Check for the error code for every command that returns it.  Change-Id: Ifc4e32f8c73196de23700ba0989bfdfe0f5b46e3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4825 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: handle error GET_IDCODE When the connection with target is lost on the physical JTAG/SWD
	link (either wire disconnected or DAP/TAP in reset), STLINK fail to
	connect and returns error STLINK_JTAG_GET_IDCODE_ERROR.  Add it in the list of known errors.  Change-Id: Iabd6e6892111726f614345497d9286554bfe4ac0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4982 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/openrisc/x86_32_common: Use 'bool' data type Change-Id: I395a36ddd7ac7e85bc54f6bb073a93b0c6f24db0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4972 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/lakemont: Use 'bool' data type Change-Id: I9baaf617c2bfabd07ac3ca195e486893d7950398 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4969 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/etb: Use 'bool' data type Change-Id: I536036b15af10bb1879dbbec84576134fd3dce35 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4966 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/embeddedice: Use 'bool' data type Change-Id: I0f237e0769786aa560d1a472a71499d3856ab25c Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4964 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/avr32_ap7k: Use 'bool' data type Change-Id: I49f1a6c6ee6d175935eb40b49abf8ebdf56a0b6e Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4961 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/arm920t: Use 'bool' data type Change-Id: I5f2c95d9a4bdb14cc31d72eb026f58710fb07db5 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4959 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/aarch64: Use 'bool' data type Change-Id: Ibfe4413b88ed0759a556a8777dac40f0c2c64922 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4957 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/armv7m: Use 'bool' data type Change-Id: I9cfbba9d81601cc72e2b54ec410e21c7edc4f1c4 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4955 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/armv7_9_common: Use 'bool' data type Change-Id: I5af27247f39cf47c925260784e21292f34665471 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4953 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target/register: Use 'bool' data type Change-Id: I3633ced9cb2bfe6afb0ef49aa42fd1b54f155a66 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4951 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-02-26  Marc Schink <openocd-dev@marcschink.de>

	* : target: Remove unused variable 'has_percent' Change-Id: Ib080fc33e8a0305990ee334019547e7643c446ac Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4949 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: remove unused assignment Fix a warning identified by clang 7.0.1: stlink_usb.c:1092:3:
	        warning: Value stored to 'p' is never read p += sprintf(p, "S%d",
	        swim); ^    ~~~~~~~~~~~~~~~~~~~~~~~ Change-Id: Ic9da57e19ceecb0e3d65d3ea3412a05e1c2c779a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4945 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-13  Diego Herranz <diegoherranz@diegoherranz.com>

	* : src/jtag/drivers/ftdi: fix swd pin comment and links - TDI/DO is not pin 2 and in fact, we don't even need to mention
	which pin number it is. "TDI/DO pin" is descriptive enough.  - FT2232D link didn't work anymore. It could have been updated to
	the current working FT2232D link but changed to link the FT2232H
	instead which is the latest generation and the most commonly used
	these days.  - Taking advantage of the change, link to the MPSSE document
	updated.  It still worked but through a redirection, so updated just
	in case the redirection stops working.  Change-Id: Ia7d01bbcac2158026831edb010a6b50f58351e42 Signed-off-by:
	Diego Herranz <diegoherranz@diegoherranz.com> Reviewed-on:
	http://openocd.zylin.com/4908 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-04-05  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv8: allow halt on exception add command 'catch_exc' to halt a core on entering any of Secure EL1
	or EL3 or Non-Secure EL1 or EL2.  Change-Id: I0c68e247af68dd96616855a9bc1063c277d222e5 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4479 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2019-02-15  Marc Schink <openocd-dev@marcschink.de>

	* : target: Use proper data types for timer callback Change-Id: I5ca6da767f9e96180c43b179b2c682b1b7c98563 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4920 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-11-04  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: cmsis-dap: correct vendor request code While at it, change the macro name to make it obvious it's a string,
	not some numeric ID. This also matches ARM code that's using Change-Id: Id35ba5b95cef0ac77657c40985b24c1ae2720748 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3855 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-02-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : mem_ap: fix a potential memory leak in mem_ap_target_create() If the function mem_ap_target_create() exits for an error, the value
	of pointer mem_ap get lost, causing a memory leak.  Move the allocation of mem_ap after the check on the parameters.
	While there, add a check on the value returned by calloc().  Issue highlighted by clang 7.0.0.  Change-Id: Ia2c11b14fde9694f28bf6efe01d278923db0f0d4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4923 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-01-21  Tomas Vanek <vanekt@fbl.cz>

	* : server: fix small mem leak of bindto_name Change-Id: Ib9c8003e164a156f1c4d3cde47e4158d867d82c6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4909 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-11-16  Oleksij Rempel <o.rempel@pengutronix.de>

	* : ftdi: use "adapter usb location" instead of ftdi_location
	command Use unified "adapter usb location" instead of driver specific
	command.  Change-Id: I568a76b87d09cea0f40f1580cf81f7c51402f6f1 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4771 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-02-11  Oleksij Rempel <o.rempel@pengutronix.de>

	* : doc: fix typo in "adapter usb location" command Change-Id: If959c5461904cdf4bcdf1887a9afaa9c2c94282b Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4907 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-02-06  Marc Schink <openocd-dev@marcschink.de>

	* : target/riscv-011: Fix memory leak in handle_halt_routine() Tested with SiFive HiFive1 development board.  Change-Id: Ie0d9fa0899804d17ccdd84b03ba4028e97b632b8 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4884 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2019-01-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers/bitbang: remove unused extern declaration of
	jtag_interface After commit a6c4eb03455f ("swd: Remove DAP from parameter list")
	the global variable jtag_interface is not referenced in the driver.  Remove the extern declaration.  Change-Id: I72018a59c9cecaa52d9a49ec0d7816ac0e656314 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4874 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-11-16  Oleksij Rempel <o.rempel@pengutronix.de>

	* : doc: add documentation for "adapter usb location" command Change-Id: Ia3fbe0c3894b1b96464bbfda5d4101123827b761 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4769 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2019-01-31  Tomas Vanek <vanekt@fbl.cz>

	* : target/hla_target: fix clang static analyzer warning Added an error msg in case of no memory Change-Id: I7a7d266ca4aa1e4a0ff02a2d1cc672a3cd2746c3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4882 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-12-17  Jean-Christian de Rivaz <jcamdr70@gmail.com>

	* : target start_algorithm: Don't copy the IN mem_params fix
	uninitialised value.  Fix the write only out params TODO on armv7m.c Fix conditional move
	depends on uninitialised value.  It was detected while programming a
	LPC8Nxx with a FTDI adapter.  valgrind --leak-check=full
	--show-leak-kinds=all --track-origins=yes [...] ==8696== Conditional
	jump or move depends on uninitialised value(s) ==8696==    at
	0x16E4D3: buf_set_u32 (binarybuffer.h:52) ==8696==    by 0x16E4D3:
	ftdi_swd_queue_cmd (ftdi.c:1206) ==8696==    by 0x18D76D:
	swd_queue_ap_write (adi_v5_swd.c:271) ==8696==    by 0x18E33B:
	dap_queue_ap_write (arm_adi_v5.h:382) ==8696==    by 0x18E33B:
	mem_ap_write (arm_adi_v5.c:420) ==8696==    by 0x197CD9:
	target_write_buffer_default (target.c:2176) ==8696==    by 0x2464B3:
	armv7m_start_algorithm (armv7m.c:383) ==8696==    by 0x246AEB:
	armv7m_run_algorithm (armv7m.c:330) ==8696==    by 0x19D846:
	target_run_algorithm (target.c:814) ==8696==    by 0x1DF3A6:
	lpc2000_iap_call.isra.3 (lpc2000.c:818) ==8696==    by 0x1E0CF6:
	lpc2000_erase (lpc2000.c:992) ==8696==    by 0x185BDF:
	flash_driver_erase (core.c:44) ==8696==    by 0x18650D:
	flash_iterate_address_range_inner (core.c:541) ==8696==    by
	0x18650D: flash_iterate_address_range (core.c:567) ==8696==    by
	0x18732F: flash_erase_address_range (core.c:584) ==8696==    by
	0x18732F: flash_write_unlock (core.c:928) ==8696==  Uninitialised
	value was created by a heap allocation ==8696==    at 0x4C2BBAF:
	malloc (vg_replace_malloc.c:299) ==8696==    by 0x220EF9:
	init_mem_param (algorithm.c:30) ==8696==    by 0x1DF247:
	lpc2000_iap_call.isra.3 (lpc2000.c:777) ==8696==    by 0x1E0CF6:
	lpc2000_erase (lpc2000.c:992) ==8696==    by 0x185BDF:
	flash_driver_erase (core.c:44) ==8696==    by 0x18650D:
	flash_iterate_address_range_inner (core.c:541) ==8696==    by
	0x18650D: flash_iterate_address_range (core.c:567) ==8696==    by
	0x18732F: flash_erase_address_range (core.c:584) ==8696==    by
	0x18732F: flash_write_unlock (core.c:928) ==8696==    by 0x18ACDF:
	handle_flash_write_image_command (tcl.c:457) ==8696==    by
	0x1B7D99: run_command (command.c:623) ==8696==    by 0x1B7D99:
	script_command_run (command.c:208) ==8696==    by 0x1B7FD9:
	command_unknown (command.c:1033) ==8696==    by 0x2E2D37:
	JimInvokeCommand (jim.c:10364) ==8696==    by 0x2E3865: Jim_EvalObj
	(jim.c:10814) ==8696== ==8696== Conditional jump or move depends on
	uninitialised value(s) ==8696==    at 0x16E506: buf_set_u32
	(binarybuffer.h:52) ==8696==    by 0x16E506: ftdi_swd_queue_cmd
	(ftdi.c:1207) ==8696==    by 0x18D76D: swd_queue_ap_write
	(adi_v5_swd.c:271) ==8696==    by 0x18E33B: dap_queue_ap_write
	(arm_adi_v5.h:382) ==8696==    by 0x18E33B: mem_ap_write
	(arm_adi_v5.c:420) ==8696==    by 0x197CD9:
	target_write_buffer_default (target.c:2176) ==8696==    by 0x2464B3:
	armv7m_start_algorithm (armv7m.c:383) ==8696==    by 0x246AEB:
	armv7m_run_algorithm (armv7m.c:330) ==8696==    by 0x19D846:
	target_run_algorithm (target.c:814) ==8696==    by 0x1DF3A6:
	lpc2000_iap_call.isra.3 (lpc2000.c:818) ==8696==    by 0x1E0CF6:
	lpc2000_erase (lpc2000.c:992) ==8696==    by 0x185BDF:
	flash_driver_erase (core.c:44) ==8696==    by 0x18650D:
	flash_iterate_address_range_inner (core.c:541) ==8696==    by
	0x18650D: flash_iterate_address_range (core.c:567) ==8696==    by
	0x18732F: flash_erase_address_range (core.c:584) ==8696==    by
	0x18732F: flash_write_unlock (core.c:928) ==8696==  Uninitialised
	value was created by a heap allocation ==8696==    at 0x4C2BBAF:
	malloc (vg_replace_malloc.c:299) ==8696==    by 0x220EF9:
	init_mem_param (algorithm.c:30) ==8696==    by 0x1DF247:
	lpc2000_iap_call.isra.3 (lpc2000.c:777) ==8696==    by 0x1E0CF6:
	lpc2000_erase (lpc2000.c:992) ==8696==    by 0x185BDF:
	flash_driver_erase (core.c:44) ==8696==    by 0x18650D:
	flash_iterate_address_range_inner (core.c:541) ==8696==    by
	0x18650D: flash_iterate_address_range (core.c:567) ==8696==    by
	0x18732F: flash_erase_address_range (core.c:584) ==8696==    by
	0x18732F: flash_write_unlock (core.c:928) ==8696==    by 0x18ACDF:
	handle_flash_write_image_command (tcl.c:457) ==8696==    by
	0x1B7D99: run_command (command.c:623) ==8696==    by 0x1B7D99:
	script_command_run (command.c:208) ==8696==    by 0x1B7FD9:
	command_unknown (command.c:1033) ==8696==    by 0x2E2D37:
	JimInvokeCommand (jim.c:10364) ==8696==    by 0x2E3865: Jim_EvalObj
	(jim.c:10814) Change-Id: I50f9a8c4516b686cf62ac3c76f47c53465e949da Signed-off-by:
	Jean-Christian de Rivaz <jcamdr70@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4811 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-18  Tomas Vanek <vanekt@fbl.cz>

	* : target algo: do not write reg_param if direction is PARAM_IN Without this change xxx_start_algorithm() writes all register
	parameters no matter of their direction. It usually results in
	writing of uninitialized reg_params[].value - possibly reported by
	valgrind.  While on it fix the wrong parameter direction in
	kinetis_disable_wdog_algo(). This bug did not have any impact
	because of unconditional write of reg_params.  Change-Id: Ia9c6a7b37f77d5eb6e5f5463012dddd50471742b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4813 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2018-06-27  Oleksij Rempel <o.rempel@pengutronix.de>

	* : jtag: drivers: provide initial support for usb path filtering With this patch drivers will be able to use usb path filtering.  The
	path format is identical to the format provided by linux kernel:
	bus-port.port....  With this format it should be easier just to copy
	and paste path found in dmesg.  Change-Id: I8bafa6fcb7a66ff68cc961a376f97f4f3dee35aa Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4580 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-01-19  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f1x: use address instead of offset in
	stm32x_write_block() stm32x_write_options() uses stm32x_write_block() at STM32_OB_RDP
	address.  The change eliminates subtracting bank->base (and later
	adding it back).  Change-Id: Icdd24afc7178b814be58e6033d4b93fdfb2d2a16 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4859 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Christopher Head
	<chead@zaber.com>

2019-01-19  Tomas Vanek <vanekt@fbl.cz>

	* : cortex_m: fix stepping on FPB rev 1 Stepping in the maskisr auto mode sets breakpoint to step over
	interrupt service tasks. If the device has FPB rev 1, setting hard
	breakpoint is impossible on address over 0x1fffffff.  Use soft type breakpoint for adresses over 0x1fffffff if FPB is rev
	1.  This may eventually fail if the code memory is not writeable,
	but there is nothing to do in such case.  Change-Id: Ibdeeb506903a35d550b64f82c24c37a668de62b3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4857 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-08-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: rewrite dap_to_jtag and dap_to_swd The functions dap_to_jtag() and dap_to_swd() have been introduced by
	3ef9beb52cd0 ("ADIv5 DAP ops switching to JTAG or SWD modes") in
	arm_adi_v5.c by using the JTAG queue only.  Later, in 6f8b8593d63b
	("ADIv5 transport support moves to separate files") the functions
	has been moved in adi_v5_swd.c and adi_v5_jtag.c but keeping the
	dependency from JTAG queue.  The functions does not work if the
	current transport is not JTAG.  Move back the functions in arm_adi_v5.c, replace the input parameter
	"target" with "dap", use the transport to detect if the JTAG queue
	is present, in case of SWD transport use the proper method, for
	other transports report error.  Reuse the ADI v5 sequences already
	present in jtag/swd.h.  Also, OpenOCD does not support switching to
	another transport after the initial selection, so do not change
	DAP's ops vector.  Change-Id: Ib681fbaa60cb342f732bc831eb92de25afa4e4db Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4852 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-01-09  Tomas Vanek <vanekt@fbl.cz>

	* : target: do not allow 'target create' after init A target created after init lacks target_init_one() call and is not
	added to gdb targets.  Steps to reproduce: - start OpenOCD with a dap target - connect by telnet  target create ap0.mem mem_ap -dap $_CHIPNAME.dap -ap-num 0  reset Segmentation fault is rised because target->check_reset is NULL.  Change-Id: I2a62f3b450e4db3005c7041a22fb8f952e68c3b6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4842 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2019-01-09  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: inform if an external reset occurs Change-Id: I873e73012c44aac7af3b21b633bd096d8e299d07 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4840 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-12-25  Tomas Vanek <vanekt@fbl.cz>

	* : hla_target: fix adapter_poll() to preserve TARGET_DEBUG_RUNNING
	state Without this change TARGET_DEBUG_RUNNING changes to TARGET_RUNNING
	after adapter_poll() Change-Id: I1c965a43527b50fa723d78fb6eae56585a7ede03 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4820 Tested-by: jenkins Reviewed-by: Tarek
	BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2019-01-16  Peter Lawrence <majbthrd@gmail.com>

	* : tcl: Support for Analog Devices ADSP-SC58x / ADSP-SC584-EZBRD The original script was broken by changes to the Cortex-A code.  The
	recent introduction of the mem_ap target provided a new mechanism to
	allow the script to be fixed.  This also adds an example board
	script for the ADSP-SC584-EZBRD.  Change-Id: I36bc1ac6b6c036539f4175f1e65223ba10a35355 Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4855 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-09-29  Moritz Fischer <moritz.fischer@ettus.com>

	* : rtos: Add RTOS task awareness for Chromium-EC Add RTOS task awareness for Chromium-EC. Currently only supports ARM
	Cortex-M0/M3/M4 based targets.  No new Clang Analyzer warnings.  Change-Id: Iea56fcb1be220e2437613922879b63d6e553703d Signed-off-by:
	Moritz Fischer <moritz.fischer@ettus.com> Reviewed-on:
	http://openocd.zylin.com/4685 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2019-01-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_opcode: fix encoding of ARMv5 breakpoint instruction The encoding of BKPT instruction is 0xE12###7#, where the four '#'
	characters should be replaced by the 16 bits immediate value.  The
	macro uses an incorrect shift amount, thus the immediate value is
	not properly coded and bits 20~23 of the opcode could get corrupted.  Fixed by using the proper shift amount.  Change-Id: I32db8224ab57aad6d3b002f92f9f259056593675 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4854 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2019-01-19  Tomas Vanek <vanekt@fbl.cz>

	* : target/arm_dap: fix segmentation fault in 'dap info' cmd 'dap info' command fails hard on a hla target.  Change-Id: Ia188b1afe527e0ed64512d1bddadd507f978e40b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4860 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2018-12-21  Tarek BOCHKATI <tarek.bouchkati@gmail.com>

	* : cortex_m: fix bug in poll() machine state (external resume
	awareness) This patch covers the fact that cortex_m could be resumed externally
	by Cross Trigger Interface or by direct write to DHSCR ...  To reproduce:  - halt the target  - then run the core through DHCSR (mww 0xe000edf0 0xa05f0001)  => this resumes the core, but target state in OpenOCD remains
	 HALTED.  Change-Id: Ifa1ae18645bfeb863acc78a039bbf04873fd78fe Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4817 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-11-26  Severin Junker <s.junker@cartelsol.com>

	* : at91samd: added SAM-DA1 parts Change-Id: I1b206461052ee1897432e379505fdf95372a9e24 Signed-off-by:
	Severin Junker <s.junker@cartelsol.com> Reviewed-on:
	http://openocd.zylin.com/4835 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-18  Tomas Vanek <vanekt@fbl.cz>

	* : target/stm8: add missing destroy_reg_param() Change-Id: Ibd8a423a4400226790cfbb9a6f113b7ea762c436 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4814 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Ake Rehnman
	<ake.rehnman@gmail.com>

2019-01-01  Tim Newsome <tim@sifive.com>

	* : Add flash support for SiFive's Freedom E platforms Valgrind and Clang Static Analyzer have no complaints about this
	change.  Change-Id: I7757615ec52448372bdc57729cdf97c7016d97e8 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4656 Tested-by: jenkins Reviewed-by:
	Philipp Guehring <pg@futureware.at> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-10-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : libusb: add debug message on adapter not found due to wrong
	serial When few adapters of the same type are in use, the serial string is
	the way to select the right one.  Currently a serial string that
	does not match any of the connected adapters will just fail the
	open, without specific information to track the issue.  Add a specific message to highlight that the open failure is caused
	by a serial mismatch.  Change-Id: I5cb77f1045cc746e532d395b2e5ced40a23ab638 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4701 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-10-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : libusb0: return oocd error values Commit d1b74376336814266236054f925a9964b87dd8a5 fixes libusb1 to
	return OpenOCD error values instead of negative errors in Linux
	kernel's style.  The same fix should be applied to libusb0 too.  Fix return value of libusb0 to uniform it to OpenOCD style.  Change-Id: I68478c29c91c6be720074f58c432fe51477e03ed Fixes:
	d1b743763368 ("libusb: return oocd error values") Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4698 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm: add support for multi-architecture gdb GDB can be built for multi-architecture through the command         ./configure --enable-targets=all && make Such
	multi-architecture GDB requires the target's architecture to be
	selected either manually by the user through the GDB command "set
	architecture" or automatically by the target description sent by the
	remote target (i.e. OpenOCD).  Commit e65acd889c61a424c7bd72fdee5d6a3aee1d8504 ("gdb_server: add
	support for architecture element") already provides the required
	infrastructure to support multi-architecture gdb.  arm-none-eabi-gdb 8.2 uses "arm" as default architecture, but also
	supports the following values: "arm_any", "armv2", "armv2a",
	"armv3", "armv3m", "armv4", "armv4t", "armv5", "armv5t", "armv5te",
	"armv5tej", "armv6", "armv6k", "armv6kz", "armv6-m", "armv6s-m",
	"armv6t2", "armv7", "armv7e-m", "armv8-a", "armv8-m.base",
	"armv8-m.main", "armv8-r", "ep9312", "iwmmxt", "iwmmxt2", "xscale".
	These values can be displayed on arm gdb prompt by typing "set
	architecture " followed by a TAB for autocompletion.  Set the gdb architecture value for all arm targets to "arm".  Change-Id: I176cb89878606e1febd546ce26543b3e7849500a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4754 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-08-27  Cody P Schafer <openocd@codyps.com>

	* : armv7m: always set xPSR.T=1 when starting an algorithm xPSR.T sets the processor to Thumb mode when set to 1. ARMv7-M only
	supports execution of Thumb instructions, so it must always be set
	to 1.  If xPSR.T is set to 0 on armv7m, a usage fault is generated when a
	instruction execution is attempted.  On armv7m, issuing a reset causes the vector table to be examined.
	PC and xPSR.T  are loaded from the vector table at byte offset 4.
	xPSR.T is taken from the least significant bit this value, PC from
	the remaining bits.  This occurs even with `reset halt`, as the
	reset itself causes this load to occur without the execution of any
	instructions.  As a result of this, following a reset with a "bad" value programmed
	in the vector table, openocd would be unable to run algorithms on
	the target, as running them would immediately result in a usage
	fault due to xPSR.T being unset (0).  Allow algorithms to run regardless of the content of the vector
	table by explicitly setting xPSR so that xPSR.T=1 prior to executing
	an algorithm. One can think of this as openocd more closely
	emulating a reset or branch instruction in executing it's
	algorithms.  Ticket: https://sourceforge.net/p/openocd/tickets/203/
	Signed-off-by: Cody P Schafer <openocd@codyps.com> Change-Id:
	I4dc3427ab195d06c3fd780ea768027fefccc4c28 Reviewed-on:
	http://openocd.zylin.com/4658 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-12-06  Edward Fewell <efewell@ti.com>

	* : drivers: xds110: Add support for XDS110 stand-alone probe The XDS110 stand-alone version has the ability to supply voltage to
	the target board via it's AUX FUNCTIONS port.  Added command to
	enable setting the voltage on the XDS110 stand-alone.  Change-Id: I2f21c4a3d15ed99e649f3a83973c5e724c4bfeb6 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4793 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-12-17  Jerome Forissier <jerome.forissier@linaro.org>

	* : HACKING: replace refs/publish/master with refs/for/master refs/publish/master is deprecated and gives a warning in newer
	Gerrit.  Replace with refs/for/master.  Change-Id: I56871cc6e80c014ba81f4458230cd67dc318ecb3 Suggested-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Jerome Forissier <jerome.forissier@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4810 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-12-26  Oleksij Rempel <linux@rempel-privat.de>

	* : flash: nor: ath79: remove base calculation Currently it is impossible to flash ELF with correct offsets. The
	reason is a bogus offset calculation extracted from base.  Since any
	other spi drivers do not care about base, do the same for ath79 as
	well.  Change-Id: I9e46e01c9e7a709c2d07da9203c634f302603afd Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4821 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-12-20  Tarek BOUCHKATI <tarek.bouchkati@st.com>

	* : target/arm_cti : export CTI APPPULSE and INACK register this permits the full control of CTI from config files Change-Id: Ia27ac8e12e08ec72da05f26dcbd81d24fa1a0f6f Signed-off-by:
	Tarek BOCHKATI <tarek.bouchkati@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4815 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Antonio
	Borneo <borneo.antonio@gmail.com>

2018-12-16  Jean-Christian de Rivaz <jcamdr70@gmail.com>

	* : command: Log the failed command name Change-Id: I03938a845110002755636a9514b17a213bf1cc72 Signed-off-by:
	Jean-Christian de Rivaz <jcamdr70@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4808 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2018-12-10  Simon Qian <versaloon@simonqian.com>

	* : add w600 support w600 is a wifi soc from winner micro(www.winnermicro.com).  Change-Id: Ib8ccd6e52baefca6547fb97d29db75db0ee73948 Signed-off-by:
	Simon Qian <versaloon@simonqian.com> Reviewed-on:
	http://openocd.zylin.com/4801 Tested-by: jenkins Reviewed-by: yichen
	<wdyichen@wdyichen.cn> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-12-07  Tomas Vanek <vanekt@fbl.cz>

	* : target: allow moving and resizing working area on running target target configure -work-area-xxx calls
	target_free_all_working_areas() and sets the desired new parameter.
	Without this change the working area does not get reallocated if it
	has been allocated before.  target_free_all_working_areas() results
	in work area containing one block marked as free.  Completely free working area in target_free_all_working_areas() Change-Id: I79c681082f32f2a96a2b40eb3b8751e427549693 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4797 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-12-07  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: fix cortex_m reset_config help and check for
	syntax error Remove option 'srst' which is not recognized from on-line help and
	texi.  Check parameter and return syntax error if wrong option is
	entered.  Change-Id: I87daa423a9f53193a0b015080594820b933628f5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4795 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-05  Liming Sun <lsun@mellanox.com>

	* : target: armv8: Add TARGET_HALTED check for gdb connect This commit adds TARGET_HALTED check in armv8_get_core_reg32() and
	armv8_set_core_reg32() to void a crash issue when gdb connects but
	fails to halt the ARM core. Similar logic can be found in
	armv8_get_core_reg() and armv8_set_core_reg().  Below is the call stack information of this case when gdb connects.  (gdb) bt     regnum=regnum@entry=0, dpm=0x990110) at
	    src/target/armv8_dpm.c:657 r=0x9c7240, regnum=0, mode=<optimized
	    out>) at src/target/armv8_dpm.c:974 at src/target/armv8.c:1487     packet=0x8ec8e0 <gdb_packet_buffer.9962> "g",     packet_size=<optimized out>, connection=<optimized out>)     at src/server/gdb_server.c:1200     at src/server/gdb_server.c:3180     command_context=command_context@entry=0x935010)     at src/server/server.c:566 ...  Change-Id: I159837b533f110998184f910a0abe48409bd58f1 Signed-off-by:
	Liming Sun <lsun@mellanox.com> Reviewed-on:
	http://openocd.zylin.com/4758 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-12-14  YanLin Zhu <zhuyanlin@pinecone.net>

	* : adi_v5_jtag: fix build break when open DEBUG_WAIT macro DEBUG_WAIT is useful to debug adi_jtag issue, and the WCR register
	is replaced by DLCR for DP registers update in commit
	150b7d26f213398d717bf46744811b48834a3744.  Change-Id: I3faa9ea8a6adacd3d5275e40382801da731db32f Signed-off-by:
	YanLin Zhu <zhuyanlin@pinecone.net> Reviewed-on:
	http://openocd.zylin.com/4804 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2018-12-05  Bohdan Tymkiv <bhdt@cypress.com>

	* : flash/nor/core: Fix chunk size calculation in
	default_flash_mem_blank_check Slow version of blank check procedure reads target memory
	sector-by-sector using 1 KB chunks. Due to bug in chunk size
	calculation algorithm the actual size of the chunk is always 1 KB
	even if sector size is smaller.  This causes out-of-boundary read of
	the last sector.  Steps to reproduce: 1) Use target with small sectors (e.g. psoc6 with 512-byte sectors) 2) set WORKAREASIZE_CM0 0 3) flash erase_check 1 Running slow fallback erase check - add working memory Info : SWD
	DPIDR 0x6ba02477 Error: Failed to read memory at 0x14008000 unknown
	        error when checking erase state of flash bank #1 at 0x14000000 Bank
	is erased Change-Id: I03d0d5fb3a1950ae6aac425f5e24c7fd94b38325 Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4785 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2018-10-24  Steven Stallion <stallion@squareup.com>

	* : esirisc: support eSi-Trace This patch adds support for instruction tracing to eSi-RISC targets.
	The command interface is borrowed heavily from ETM; eSi-Trace uses a
	less sophisticated model for tracing, however the setup and usage is
	similar.  This patch also cleans up the command interfaces of the
	other esirisc command groups and adds additional debugging
	information to log messages when dealing with CSRs.  This patch "finalizes" support for 32-bit eSi-RISC targets.  Change-Id: Ia2a9de79a3c7c066240b5212721fb1b7584a9a45 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4780 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-13  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv7a_mmu: s/LOG_ERROR/LOG_WARNING/ on address translation
	failure When GDB analyses the status of the target it try to guess the
	current stack frame and issues few memory read.  E.g. on ARM targets
	GDB uses R11 value as a potential frame-pointer and reads at the
	address pointed by R11.  The address of such memory read is not
	always valid and can trigger an address translation failure.  Replace LOG_ERROR with LOG_WARNING in case the virtual address does
	not have a hit in TTB; print the virtual address in the warning
	message and discriminate the two identical messages with [1]/[2].  Change-Id: I288b8cd26bec2543c4f1c16b7c06dc47d5d843d1 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4602 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-24  bob <rea952@gmail.com>

	* : flash/nor: Add support for sector erase in stm32l4x.c for L4+
	family Updates support for L4+ device id: 0x470 added by #4310 Extends
	#4641 to account for L4+ use of multiple DBANK option bits Enables
	L4+ 1M and 2M devices to be programmed using sector erase Change-Id: I42bb379d7d97986f4506423e3da503d07c787c6b Signed-off-by:
	bob <rea952@gmail.com> Reviewed-on: http://openocd.zylin.com/4777
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-12-05  Edward Fewell <efewell@ti.com>

	* : flash/nor: update CC26xx/CC13xx support Added fixes found in additional code reviews.  Remove inappropriate use of bank_number field and updated
	documentation to reflect the change.  Restored functionality to cc2538.cfg file because previous change
	removed the cc26xx.cfg file because the flash support changes made
	it obsolete. Rolled the previous cc26xx.cfg file into cc2538.cfg and
	updated it to work with other recent changes.  Tested using a
	SmartRF06 Evaluation board with embedded XDS100v3 and external
	XDs110.  Change-Id: Ia19d00cf8055c5c0f1acc53aa23fd06a80fd2ebc Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4787 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-11-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/log: remove dead code in log_forward() Commit f1be0e6af2e204805a8bc2e8cadf828b9fa46c98 ("HELPER/LOG: review
	unused symbols") removed a set of unused functions and, as
	consequence, there is no code anymore that sets the variable
	"log_forward_count". But, the commit above did not removed the code
	(now dead) that depends on "log_forward_count" set.  Remove the code dependant on "log_forward_count" set and the
	variable itself.  Change-Id: I6efe93d1dccbe13c409c5bc55ba47a2684c0e3ac Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4779 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: add ARMv6-M info regarding TAP Declaration Change-Id: I89095fd0c830fdc2ce40e5d23f8af98502b0ff50 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/4782 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-09-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add support for STLINK-V3 Extend the driver to include the minimal functionality to support
	the HLA model.  Due to the small change in the name (ST-LINK/V2 =>
	STLINK-V3), fix the existing names in the comments in udev rules.  Change-Id: Ied33e38063a6da81d9bf249ed195444d7cdf4f03 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4717 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-10-01  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: dump version in the same format of ST firmware upgrade
	tool This should help comparing the versions before deciding for a
	firmware update.  Change-Id: I7012a60587587539b2fd1a5f9c3b1ce72877793f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4715 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-09-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: remove reset pulse when entering in JTAG Until version J14 the behaviour of ST-Link was to send a reset pulse
	to the target when the debug connection is started in JTAG mode. No
	reset pulse is sent, instead, in SWD mode.  Version J15 introduces a
	new parameter to avoid the reset pulse in JTAG mode, aligning the
	behaviour with SWD.  This reset from the ST-Link, if propagated to the target, prevents
	attaching a running target.  Actually this reset pulse is very short (few microsecond) and can be
	easily filtered out by an on-board capacitor, usually present on the
	reset wire (mainly to filter the bounces of the reset button).
	Moreover, most of the use cases for ST-Link are with SWD (not with
	JTAG) and this has probably further masked this JTAG specific
	behaviour.  OpenOCD can tolerate it but requires the flag "connect_assert_srst"
	to the command "reset_config", but the flag is not present in any
	configurations in folder tcl. This enforces the guess it was not
	noticed due to on-board capacitors or missing connection of reset
	pin or ST-Link only used in SWD; so it's safe applying this patch.  Change the default behaviour to avoid reset in JTAG at connection.
	There is no need to manage the ST-Link version here, since every
	parameter that is not recognized by older ST-Link is treated as
	"connect in JTAG with reset pulse", keeping backward compatibility.  Change-Id: Idc97a1457279e3970fd0839cadbff22d9b0302d4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4713 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-09-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add STLINK_F_HAS_MEM_16BIT Change-Id: I51a160a105342ddbab99c4182d89650a436f5945 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4711 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-09-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add STLINK_F_HAS_SWD_SET_FREQ Change-Id: Ibba786c7e18bf15a04b85a2071c79f631a252ccf Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4709 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2018-09-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: add STLINK_F_HAS_TRACE Fix the condition for ST-Link/V1; it does not support trace.  Trace
	is added on ST-Link/V2 and ST-Link/V2.1 only.  Change-Id: I17416edd05a2c8ece605560b7533edac4f982cfc Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4707 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-09-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : stlink: check for SWD support The old ST-Link/V1 can either run an obsolete firmware with API_V1
	or a more recent firmware (from V1J11 to last V1J13) with API_V2.
	SWD is only provided by the latter API.  Return error is SWD is selected on adapters that does not support
	it.  Change-Id: Iac4ba54d191ba80fb445a7cd3d8c2621dc7a4846 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4705 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-04-13  Laurent LEMELE <laurent.lemele@st.com>

	* : stlink: add JTAG speed selection ST-Link uses two separate API for setting the interface speed in SWD
	and JTAG.  Add the missing API for JTAG and run the proper API
	depending on the selected mode.  Change-Id: I71e955e23c1d82c2ea1c8bfade7612c5a0377a74 Author: Laurent
	LEMELE <laurent.lemele@st.com> Rebased-by: Antonio Borneo
	<borneo.antonio@gmail.com> Signed-off-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4703 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-11-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/stmsmi: fix byte order for big-endian host The original code was written for and tested on little-endian host
	only.  Rewrite it to be independent by host endianess.  Not tested on real
	HW; I don't own anymore a SPEAr device.  Change-Id: I2f427a804693f56cb9dea4936c525eb814c48c28 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reported-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4778
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-09-27  EMARD <vordah@gmail.com>

	* : jtag: drivers: ft232r: unhardcoded FT232R: introducing configurable parameters for pinout, initial
	buffer size, state of RS232 signals at exit with option to reattach
	kernel driver. All this was hardcoded before.  New parameters are
	documented in "openocd.texi" file.  Allows hopfully self-explainable
	and user-friendly adaptation to various pinouts and similar chips
	like FT230X and FT231X.  Change-Id: Ib807f2ea3d4c1a164d351d65aeacd1978318d217 Signed-off-by:
	EMARD <vordah@gmail.com> Reviewed-on: http://openocd.zylin.com/4681
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2018-11-18  Andreas Bolsch <hyphen0break@gmail.com>

	* : SPI table updates (some new devices and new info) read_cmd, qread_cmd, pprog_cmd added as some recent high densities
	devices use variants for 4-byte addressing.  Some new flash and FRAM device ids added. FRAMs don't have write
	pages nor erase commands or sector sizes. The corresponding entries
	are marked as "not used" (i. e. zero). Checks in existing SPI flash
	drivers added to handle these cases gracefully.  Change-Id: I5104bce7c815ac22f98bc32c1bb6db66b984404a Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4773 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-11-15  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: consolidate flash protect/protect_check Make flash_driver methods protect() and protect_check() optional.  Remove dummy definitions of these methods from the drivers which do
	not implement protection handling.  Some drivers did not define protect method. It raised segfault
	before this change and now it is handled properly.  Lot of drivers returned ERROR_OK from dummy protect() - now flash_driver_protect() returns an error if not handled by the
	driver.  Change-Id: I2d4a0da316bf03c6379791b1b1c6198fbf22e66c Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4765 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com>

2018-08-02  Alex J Lennon <alex.lennon@s19.tech>

	* : stm32l4x: Fix stm32l4x dual bank support The dual bank option was being incorrectly read and the bank b base
	incorrectly set. This is tested with 512kB dual bank configuration
	but needs checking with other configurations (e.g. 256kb).  This fix should remove the need to use a mass_erase command prior to
	programming with OpenOCD Change-Id: I6e920f11b794c4c1fd34c0e44fb8fa01e7fe8f85 Signed-off-by:
	Alex J Lennon <alex.lennon@s19.tech> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4641
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Thomas Shus
	<soehus@gmail.com>

2018-03-04  Andreas Kemnade <andreas@kemnade.info>

	* : efm32: correct erase address if bank->base != 0 Prepare for additional flash banks not located at address 0 Change-Id: I60b78c917f94fa52bf24df9e3315536f776eec84 Signed-off-by:
	Andreas Kemnade <andreas@kemnade.info> Reviewed-on:
	http://openocd.zylin.com/4440 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-10-30  Christopher Head <chead@zaber.com>

	* : target/stm32f7x: clarify reset_config comment The reset_config line in the config file does not actually set
	connect_assert_srst (the default is connect_deassert_srst), but it
	reads as if it does. Clarify that the target is compatible with
	connect_assert_srst, without suggesting that the file actually sets
	it to that value.  Change-Id: I14e9445ab282d386b5d0055f6adf03d7c8878a8c Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4743 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-09-14  Paul Fertser <fercerpav@gmail.com>

	* : README: fix stlink instructions Since 31c58c139d85c35cc8ebce4196edb2c5eb157c7a there is a unified
	config for all stlink versions.  Change-Id: Id736063496ecd96e2024ed69dcb67a22c44b80bb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4672 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2018-10-26  Christopher Head <chead@zaber.com>

	* : target/stm32h7x: Fix documentation of reset_config The stm32h7x.cfg does not specify connect_assert_srst or
	connect_deassert_srst in its reset_config. The comment claims that
	it will therefore connect in reset. However, per the manual, the
	default configuration is actually connect_deassert_srst, not
	connect_assert_srst. In actual fact, connect_assert_srst does not
	work on the STM32H7 because, while SRST is asserted, everything on
	the AXI bus is inaccessible. The CPU core is accessible, but since
	the examine-end event handler also pokes at the DBGMCU peripheral,
	that will fail in connect_assert_srst mode. So using
	connect_deassert_srst is appropriate, so fix the comment
	accordingly.  Change-Id: If3e32e871fb19cc61183bdf911b7c5efd80b62e2 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4741 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-07-14  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv7a: ARMv7-A MMU tools factor out mmu-related code from armv7a.c, add a 'dump' command for
	page tables.  Change-Id: Ic1ac3c645d7fd097e9d625c7c8302e7065875dd4 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4327 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2018-11-03  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_dpm: uniform names of exported functions The name of the function dpm_modeswitch() does not follow the common
	style of the other function names in the same file.  Rename it as arm_dpm_modeswitch().  Change-Id: Idebf3c7bbddcd9b3c7b44f8d0dea1e5f7549b0eb Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4756 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-10-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: remove unused code controlled by
	"fast_reg_read" The variable fast_reg_read is always zero, causing some code to
	never be executed.  Such code try to read the target registers by
	dumping them in memory and then reading back the memory through the
	debugger. But it is broken due to lack of cache and MMU management.
	This code also uses the broken memory_ap access that is going to be
	removed soon.  Remove all the code that depends on fast_reg_read not zero.  Add a
	missing check on arm_dpm_read_current_registers() return.  Keep the
	unused function cortex_a_dap_write_coreregister_u32() to balance the
	used "read" version.  Change-Id: If2ff28a8c49eb0a87dc85207f5431978efd158db Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4746 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-09-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: do not deactivate power domains while trying to
	clear sticky error At OpenOCD start-up the operation of clearing the sticky error in
	CTRL/STAT register ignores the current value of the power domains
	bits CDBGPWRUPREQ and CSYSPWRUPREQ in the same register and
	incorrectly set them to zero.  This abrupt disable does not follow
	the requirement in IHI0031 to wait for the acknowledgment of power
	disabled before continuing.  The power domains are then re-enabled
	immediately after; it is possible that such short disable period has
	passed undetected or has been tested only on devices that do not
	implement the power domains.  Anyway, this sequence is incorrect and
	can generate unexpected and hard-to-debug issues while OpenOCD
	attaches to a running target that implements power domains.  Anticipate the initialization of dap->dp_ctrl_stat and use it while
	clearing the sticky bit. This has the additional effect of avoiding
	a power disable in the error recovery part of the function
	dap_dp_read_atomic().  Keep the same sequence of read/write in
	dap_dp_init() to avoid breaking the initialization of some
	problematic target.  Add comments to document these choices.  Change-Id: I8d6da788f2dd11909792b5d6b69bc90fbe4df25d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4677 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-10-22  Paul Fertser <fercerpav@gmail.com>

	* : tcl: target: omit apcsw for hla When using stlink for CM7 targets we have to rely on its firmware to
	do the right thing as direct DAP access is not possible.  Change-Id: Ieee69f4eeea5c911f89f060f31ce86ed043bdfd0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4732 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-10-04  Kevin Gillespie <kgills@gmail.com>

	* : target/target.c: adding keep_alive() to while loop.  Adding the call to keep_alive() to suppress warnings when running
	the async flash algorithm. Issue observed when loading large pieces
	of code on slower debuggers.  Change-Id: I7660fa05f68ebd7be07b2ca0a55b0f3b6ae718f3 Signed-off-by:
	Kevin Gillespie <kgills@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4686 Tested-by: jenkins Reviewed-by: Jesse
	Marroquin Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-07-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: fix temporary breakpoint during step Commit c8926d14579528bfcead1e179baf7cb846513db4 introduces the
	context and hybrid breakpoint types beside existing SW and HW types.
	The new field "asid" is non-zero only for these new types.  The commit above did not properly initialize "asid" to 0 for a
	temporarily HW breakpoint used during single step. This causes
	cortex_a_unset_breakpoint() to identify this breakpoint as of type
	"hybrid".  Identified through valgrind error: Conditional jump or move depends
	on uninitialised value(s) Actually valgrind triggers a total of 10
	messages about use of uninitialized variables, but they are all
	caused by the first conditional jump bases on "asid != 0".  Fixed by initializing "asid" to 0 in cortex_a_step().  Fixes: c8926d145795 ("cortex_a hybrid & context breakpoints")
	Change-Id: Ib674d8457d1e02e10332fd9d73554d13719ef93d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4613 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-05-15  William D. Jones <wjones@wdj-consulting.com>

	* : tcl/board: Add Arty-S7 Spartan 7 FPGA Development Board Change-Id: I8bfe780cb67a1777d5112a68e8a9781bfe4f2038 Signed-off-by:
	William D. Jones <wjones@wdj-consulting.com> Reviewed-on:
	http://openocd.zylin.com/4525 Reviewed-by: Robert Jordens
	<jordens@gmail.com> Tested-by: jenkins Reviewed-by: Rohit Singh
	<rohit91.2008@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-10-12  Rohit Singh <rohit91.2008@gmail.com>

	* : tcl: Add support for the Numato Lab Mimas A7 board The Mimas A7 FPGA board has FTDI FT2232 whose channel B is connected
	to Artix-7 FPGA's JTAG interface. Hence, OpenOCD can easily
	interface with it via the its ftdi driver interface. Tested to be
	working great up to 30 MHz.  Change-Id: Ieda015fbc6135bf95ad5a069cbf38650da45911e Signed-off-by:
	Rohit Singh <rohit91.2008@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4720 Tested-by: jenkins Reviewed-by: Tim
	"mithro" Ansell <me@mith.ro> Reviewed-by: Robert Jordens
	<jordens@gmail.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2018-10-09  Steven Stallion <stallion@squareup.com>

	* : rtos: check symbol list when updating uCOS-III This patch corrects a crash in uCOS-III on a new GDB connection when
	RTOS autodetection is not used. The crash was caused by not checking
	if the symbol list had been loaded prior to updating threads.  Change-Id: I64c5133e02fe22fc8d14584cc40d87b49c935b0b Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4719 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-03-26  Steven Stallion <stallion@squareup.com>

	* : jtag: make cmd_queue_scan_field_clone public This patch makes the cmd_queue_scan_field_clone function public.
	This permits targets to insert fields without affecting the
	submitted scan_field list. This will be used in an upcoming target
	implementation that needs to insert additional padding bits.  Change-Id: I8fbd3b9b4e413432471f4f1444048932c8fa189e Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4082 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-05-03  Steven Stallion <stallion@squareup.com>

	* : rtos: support gdb_get_register_packet This patch adds support for p packet responses by targets configured
	with RTOS support. This change required moving to a rtos_reg struct,
	which is similar to struct reg used by targets, which resulted in
	needing to update each stacking with register numbers. This patch
	also allows targets with non-linear register numbers to function
	with RTOSes as well.  Change-Id: I5b189d74110d6b6f2fa851a67ab0762ae6b1832f Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4121 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-10-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : drivers: cmsis-dap: fix connection in JTAG mode Commit 5aceec24122bc222896cfcfd91f7f082f630ac83 ("drivers:
	cmsis-dap: pull up common connect code") breaks the driver and it
	cannot connect anymore in JTAG mode.  The issue is caused in
	cmsis_dap_init() by anticipating the call to cmsis_dap_usb_open(),
	which then sets cmsis_dap_handle and makes the following test to
	always fail.  Actually the original code was quite tricky:         if (swd_mode)                 do something that also sets cmsis_dap_handle;         if (cmsis_dap_handle == NULL)                 do something for !swd_mode; Convert the sequence of tricky "if"s in a single "if-then-else" to
	handle clearly the cases swd_mode and !swd_mode.  Change-Id: I359a23bf26a3edc2461f4352daa0be83e78868f7 Fixes:
	5aceec24122b ("drivers: cmsis-dap: pull up common connect code")
	Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Reviewed-on: http://openocd.zylin.com/4697 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2018-09-10  Adam Bass <adam.bass@renesas.com>

	* : tcl/board: Add Renesas R-Car Salvator-X(S) boards.  Add configuration for the Renesas R-Car Salvator-X and Renesas R-Car
	Salvator-XS boards.  Change-Id: I898008f56adb31908d30760f18217583fabf1c51 Signed-off-by:
	Adam Bass <adam.bass@renesas.com> Reviewed-on:
	http://openocd.zylin.com/4670 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-28  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: avoid gdb server for virtual targets Virtual targets, like mem_ap, do not or cannot implement the
	required functionality to accept a GDB connection. In the case of
	mem_ap, the method get_gdb_reg_list() is missing and a following
	connection from gdb causes OpenOCD to segfault.  OpenOCD opens a GDB
	port for each target; it's always possible to connect, by mistake,
	GDB to one virtual target.  Add a method to check if the target supports GDB connections (for
	the moment just checking if get_gdb_reg_list is implemented).  Skip
	opening a gdb server for every targets that don't support GDB
	connections.  Change-Id: Ia439a43efe1a9adbb1771cd9d252db8ffa32eb9d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4676 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-09-14  Christopher Head <chead@zaber.com>

	* : target/stm32: make APCSW cacheable Change-Id: I7c5c9720ded329848647f17db95f845e46c01c19 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4674 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-09-17  Christopher Head <chead@zaber.com>

	* : target/cortex_m: fix typo The subunit of the debug unit is called the Flash Patch and
	Breakpoint unit, abbreviated (by ARM no less) as FPB, not FBP.  Change-Id: Ia2f08470da705f0f1518feeca878f0f500507308 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4675 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2018-08-16  Thomas Shus <tls@ceepro.dk>

	* : Added support for STM32L4X option bytes writing.  Enables the programming of Write protection lock bits.  - Updated/re-factored with option_read, option_write and option_load
	commands.  Change-Id: I86358c7eb1285c3c0baac1564e46da8ced5fd025 Signed-off-by:
	Thomas Shus <tls@ceepro.dk> Reviewed-on:
	http://openocd.zylin.com/4654 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-08-13  Kai Geissdoerfer <kai.geissdoerfer@tu-dresden.de>

	* : flash/nrf5: support for nRF52840 Q1AAC0 Change-Id: Id3280dadece84e1d68544936e44d506c7930a55d Signed-off-by:
	Kai Geissdoerfer <kai.geissdoerfer@tu-dresden.de> Reviewed-on:
	http://openocd.zylin.com/4649 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-09-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: remove useless cast to int The field ap_num in struct adiv5_private_config is already of type
	int.  Casting it to type int has no sense.  Change-Id: Ida642e808c02591bb58609425eccd096d404e2c4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4666 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: poll all targets in SMP node after halt The periodic poll scans all the targets in the same order they have
	been declared in the configuration file.  When one target in a SMP
	node halts, the transition is detected in the following poll and
	this triggers a halt request to all the other cores of the SMP node.
	The targets that will be polled afterwards will be identified as
	"halted", but the targets already scanned will remain as "running"
	until the next periodic poll.  This creates a race condition with
	GDB; GDB sets the breakpoints when runs the target and removes them
	as soon as the target is halted. When it receives the halt event, it
	starts removing the breakpoints and fails on the targets that are
	still reported as "running".  Fixed by polling all the targets in the SMP node before informing
	GDB about the halt event.  This implementation is almost copy/paste
	from the one in aarch64.  Change-Id: Id2bd99f1e56b014e48e9e34ccb891b4219c518f8 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4622 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-03-26  Steven Stallion <stallion@squareup.com>

	* : interface: adapter configuration for FTDI C232HM This patch adds support for the C232HM-DDSL-0 and C232HM-EDSL-0
	FT232H-based cables from FTDI. For more information, see:
	http://www.ftdichip.com/Products/Cables/USBMPSSE.htm Change-Id: Ic97423eb1e2f6b5ebae04943cd5cce86f38771d5 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4081 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-21  Cody Schafer <openocd@codyps.com>

	* : flash/stm32f2x: add stm32f7 revision Z identification Signed-off-by: Cody P Schafer <openocd@codyps.com> Change-Id:
	Ia0169514d494bae2a98d92ebc97c8eccc10bc6c4 Reviewed-on:
	http://openocd.zylin.com/4657 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-07-05  Oleksij Rempel <o.rempel@pengutronix.de>

	* : libusb: return oocd error values keep same return style where possible Change-Id: I2f9b85dbc307a483609f76a84de77e3c74d346c7 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4588 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-09-05  Antonio Borneo <borneo.antonio@gmail.com>

	* : adi_v5: enforce check on AP number value The AP number value is restricted in 8 bits unsigned by ADI-v5
	specification. Nevertheless, an "invalid" value is used by target
	cortex-m to force an automatic detection of the AP.  Replace magic numbers by using new macros for AP max number and for
	the value of AP invalid.  Check the value passed through -ap-num
	flag during configuration.  Change-Id: Ic19a367db0ab11c0ebd070750eca0647d25279a5 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4668 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-08-05  Tomas Vanek <vanekt@fbl.cz>

	* : rtos/linux.c: fix clang static analyzer warning Remove sizeof(int64_t) from string size computation.  Change-Id: I029b394df5d62a2594a723c4c0e13608b3423b9b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4640 Tested-by: jenkins

2018-07-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/at91sam4: set wait states only once per write Read-modify-write setting of FMR register requires an USB
	turnaround.  Setting FMR before each page write is not necessary and
	decreases the write speed.  Change-Id: I67844c898aaf117f155c762c979840b603c767ed Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4611 Tested-by: jenkins Reviewed-by:
	Svetoslav Enchev <svetoslav.enchev@gmail.com>

2018-07-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash/at91sam4: run probe just once Reread registers in sam4_GetInfo() Change-Id: I3b023b3e642a9c052b5c41673d196317f7e7f2e3 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4609 Tested-by: jenkins Reviewed-by: Erwin
	Oegema <blablaechthema@hotmail.com> Reviewed-by: Svetoslav Enchev
	<svetoslav.enchev@gmail.com>

2018-08-05  Svetoslav Enchev <svetoslav.enchev@gmail.com>

	* : target/riscv/riscv-011: fix compile warning about uninitialized
	variable In MSYS2 MinGW 64-bit git clone git://git.code.sf.net/p/openocd/code
	openocd $ gcc --version gcc.exe (Rev1, Built by MSYS2 project) 8.2.0
	./bootstrap ./configure --prefix= $ cat config.status | grep CFLAGS
	CFLAGS='-g -O2' make bindir = "bin-x64" depbase=`echo src/target/riscv/riscv-011.lo | sed
	's|[^/]*$|.deps/&|;s|\.lo$||'`;\ /bin/sh ./libtool  --tag=CC
	--mode=compile gcc -DHAVE_CONFIG_H -I.  -D__USE_MINGW_ANSI_STDIO
	-I./src -I./src -I./src/helper
	-DPKGDATADIR=\"/mingw64/share/openocd\" -DBINDIR=\"bin-x64\"
	-I./jimtcl -I./jimtcl  -Wall -Wstrict-prototypes -Wformat-security
	-Wshadow -Wextra -Wno-unused-parameter -Wbad-function-cast
	-Wcast-align -Wredundant-decls -Werror -g -O2 -MT
	src/target/riscv/riscv-011.lo -MD -MP -MF $depbase.Tpo -c -o
	src/target/riscv/riscv-011.lo src/target/riscv/riscv-011.c &&\ mv -f
	$depbase.Tpo $depbase.Plo libtool: compile:  gcc -DHAVE_CONFIG_H -I.
	-D__USE_MINGW_ANSI_STDIO -I./src -I./src -I./src/helper
	-DPKGDATADIR=\"/mingw64/share/openocd\" -DBINDIR=\"bin-x64\"
	-I./jimtcl -I./jimtcl -Wall -Wstrict-prototypes -Wformat-security
	-Wshadow -Wextra -Wno-unused-parameter -Wbad-function-cast
	-Wcast-align -Wredundant-decls -Werror -g -O2 -MT
	src/target/riscv/riscv-011.lo -MD -MP -MF
	src/target/riscv/.deps/riscv-011.Tpo -c src/target/riscv/riscv-011.c
	-o src/target/riscv/riscv-011.o src/target/riscv/riscv-011.c: In
	function 'poll_target': src/target/riscv/riscv-011.c:1799:6: error:
	      'reg' may be used uninitialized in this function
	      [-Werror=maybe-uninitialized] reg_cache_set(target, reg,
	      ((data & 0xffffffff) << 32) | value);
	^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	src/target/riscv/riscv-011.c:1686:17: note: 'reg' was declared here     unsigned int reg;                  ^~~ cc1.exe: all warnings being treated as errors
	make[2]: *** [Makefile:3250: src/target/riscv/riscv-011.lo] Error 1 Change-Id: I6996dcb866fbace26817636f4bedba09510a087f Signed-off-by:
	Svetoslav Enchev <svetoslav.enchev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4635 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tim Newsome
	<tim@sifive.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-07-17  Christopher Head <chead@zaber.com>

	* : target/cortex_m: restore C_MASKINTS after reset The cortex_m maskisr user-facing setting is not changed across a
	target reset. However, the in-core C_MASKINTS bit was always cleared
	as part of reset processing, meaning that a cortex_m maskisr on
	setting would not be respected after a reset. Set C_MASKINTS based
	on the user-facing setting value rather than always clearing it
	after reset.  Change-Id: I5aa5b9dfde04a0fb9c6816fa55b5ef1faf39f8de Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4605 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-06-25  Tim Newsome <tim@sifive.com>

	* : Add detail to `wrong register size` error.  Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	Id31499c94b539969970251145e42c89c943fd87c Reviewed-on:
	http://openocd.zylin.com/4577 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_a: allow command dacrfixup during init phase There is no reason to restrict the command "cortex_a dacrfixup" to
	the EXEC phase only.  Change the command mode to ANY so the command
	can be used in the initialization phase too.  Change-Id: I498cc6b2dbdc48b3b2dd5f0445519a51857b295f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4623 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-22  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target: add Allwinner V3s SoC support Change-Id: I2459d2b137050985b7301047f9651951d72d9e9e Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4427 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-07-31  Christopher Head <chead@zaber.com>

	* : target/cortex_m: fix incorrect comment The code sets C_MASKINTS if that bit is not already set (correctly).
	Fix the comment to agree.  Change-Id: If4543e2660a9fa2cdabb2d2698427a6c8d9a274c Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4620 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-04-10  Masatoshi Tateishi <Masatoshi.Tateishi@jp.sony.com>

	* : rtos: add support for NuttX This patch introduces RTOS support for NuttX. Currently, only ARM
	Cortex-M (both FPU and FPU-less) targets are supported.  To use, add the following lines to ~/.gdbinit.  define hookpost-file   eval "monitor nuttx.pid_offset %d", &((struct tcb_s *)(0))->pid   eval "monitor nuttx.xcpreg_offset %d", &((struct tcb_s
	  *)(0))->xcp.regs eval "monitor nuttx.state_offset %d", &((struct
	  tcb_s *)(0))->task_state eval "monitor nuttx.name_offset %d",
	  &((struct tcb_s *)(0))->name eval "monitor nuttx.name_size %d",
	sizeof(((struct tcb_s *)(0))->name) end And please make sure the above values are the same as in
	src/rtos/nuttx_header.h Change-Id: I2aaf8644d24dfb84b500516a9685382d5d8fe48f Signed-off-by:
	Masayuki Ishikawa <Masayuki.Ishikawa@jp.sony.com> Signed-off-by:
	Masatoshi Tateishi <Masatoshi.Tateishi@jp.sony.com> Signed-off-by:
	Nobuto Kobayashi <Nobuto.Kobayashi@sony.com> Reviewed-on:
	http://openocd.zylin.com/4103 Tested-by: jenkins Reviewed-by: Alan
	Carvalho de Assis <acassis@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-05-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_adi_v5: add command "dpreg" For very low level debug or development around DAP, it is useful to
	have direct access to DP registers.  Add command "dpreg" by mimic the syntax of the existing "apreg"
	command:         $dap_name dpreg reg [value] Change-Id: Ic4ab451eb5e74453133adee61050b4c6f656ffa3 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4612 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : zy1000: fix compile error with gcc 8.1.1 The fall-through comment is not taken in consideration by gcc 8.1.1
	because it is inside the braces of a C-code block.  Move the comment outside the C block.  Change-Id: I22d87b2dee109fb8bcf2071ac55fdf7171ffcf4b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4614 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/riscv: fix compile error with gcc 8.1.1 Fix compile error: src/target/riscv/riscv-011.c: In function
	slot_offset: src/target/riscv/riscv-011.c:238:4: error: this
	 statement may fall through [-Werror=implicit-fallthrough=]     switch (slot) {     ^~~~~~ src/target/riscv/riscv-011.c:243:3: note: here    case 64:    ^~~~ Fixes: a51ab8ddf63a ("Add RISC-V support.") Change-Id:
	I7fa86b305bd90cc590fd4359c3698632d44712e5 Signed-off-by: Antonio
	Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4618 Tested-by: jenkins Reviewed-by: Jiri
	Kastner <cz172638@gmail.com> Reviewed-by: Oleksij Rempel
	<linux@rempel-privat.de> Reviewed-by: Tim Newsome <tim@sifive.com>
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2018-07-10  Oleksij Rempel <o.rempel@pengutronix.de>

	* : fpga/altera-10m50: add all device id add all currently know Intel (Alter) MAX 10 device ids Change-Id: I6a88fef222c8e206812499d41be863c3d89fa944 Signed-off-by:
	Oleksij Rempel <o.rempel@pengutronix.de> Reviewed-on:
	http://openocd.zylin.com/4598 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-12-02  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target/atheros_ar9331: add documentation and extra helpers Sync it with experience gathered on Qualcomm QCA4531 SoC. This chips
	are in many ways similar.  Change-Id: I06b9c85e5985a09a9be3cb6cc0ce3b37695d2e54 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4423 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-09-20  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/target|board: move common AR9331 code to atheros_ar9331.cfg The ar9331_25mhz_pll_init and ar9331_ddr1_init routines can be used
	not only for TP-Link MR3020 board, so move them to the common
	atheros_ar9331.cfg file.  Change-Id: I04090856b08151d6bb0f5ef9cc654efae1c81835 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2999 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-01-31  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target: add config for Qualcomm QCA4531 The QCA4531 is a two stream (2x2) 802.11b/g/n single-band
	programmable Wi-Fi System-on-Chip (SoC) for the Internet of Things
	(IoT).  https://www.qualcomm.com/products/qca4531 Change-Id: I58398c00943b005cfaf0ac1eaad92d1fa4e2cba7 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4405 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-07-25  Paul Bartholomew <oz_paulb@users.sourceforge.net>

	* : target/cortex_a: fix compile error for uninitialized variable Commit ad6c71e151590f9d07eb07eda978a8d2a845259c introduced the
	variable "mmu_enabled" whose pointer is passed to cortex_a_mmu()
	that initialises it.  This initialization is not visible to the
	compiler that issue a compile error.  The same situation is common
	across the same file and the usual workaround is to initialize it to
	zero; thus the same fix i applied here.  Ticket: https://sourceforge.net/p/openocd/tickets/197/ Fixes: commit
	ad6c71e15159 ("cortex_a: fix virt2phys when mmu is disabled")
	Change-Id: I77dec41acdf4c715b45ae37b72e36719d96d9283 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4619 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2016-04-13  Karl Palsson <karlp@tweak.net.au>

	* : drivers: cmsis-dap: print serial if available Helpful for sanity checking connections Change-Id: Ife0d8b4e12d4c03685aac8115c9739a4c1e994fe Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/3405 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-10-04  Daniel Glckner <daniel-gl@gmx.net>

	* : usb_blaster: Don't unnecessarily go through DR-/IR-Pause There is no need to pass through DR-/IR-Pause after a scan if we
	want to go to DR-/IR-Update. We just have to skip the first step of
	the path to the end state because we already did that step when
	shifting the last bit.  v2:  - Fix comments as remarked in review of v1 Change-Id: I3c10f02794b2233f63d2150934e2768430873caa Signed-off-by:
	Daniel Glckner <daniel-gl@gmx.net> Reviewed-on:
	http://openocd.zylin.com/4245 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-06-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm_adi_v5: put SWJ-DP back to JTAG mode at exit When SWD mode is used, current OpenOCD code left the SWJ-DP in SWD
	mode at exit. Also, current code is unable to switch back the SWJ-DP
	in JTAG at next run, thus a power cycle of both target and interface
	is required in order to run OpenOCD in JTAG mode again.  Put the SWJ-DP back to JTAG mode before exit from OpenOCD.  Use switch_seq(SWD_TO_JTAG) instead of dap_to_jtag(), because the
	latter is not implemented on some interfaces. This is aligned with
	the use of switch_seq(JTAG_TO_SWD) in swd_connect().  Change-Id: I55d3faebe60d6402037ec39dd9700dc5f17c53b0 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4493 Tested-by: jenkins Reviewed-by: Bohdan
	Tymkiv <bhdt@cypress.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-06-11  Tim Newsome <tim@sifive.com>

	* : Remove FSF mailing address.  Checkpatch complains about this (FSF_MAILING_ADDRESS).  Change-Id: Ib46a7704f9aed4ed16ce7733d43c58254a094149 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4559 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2018-07-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : armv7a: read ttbcr and ttb0/1 at every entry in debug state Commit bfc5c764df145f68835543119865eabe462e19c2 avoids reading ttbcr
	and ttb0/1 at every virt2phys translation by caching them, and it
	updates the cached values in armv7a_arch_state().  But the purpose
	of any (*arch_state)() method, thus including armv7a_arch_state(),
	is to only print out and inform the user about some architecture
	specific status.  Moreover, to reduce the verbosity during a GDB
	session, the method (*arch_state)() is not executed anymore at debug
	state entry (check use of target->verbose_halt_msg in
	src/openocd.c), thus the state of translation table gets out-of-sync
	        triggering Error: Address translation failure or even using a wrong
	address in the memory R/W operation.  In addition, the commit above breaks the case of armv7r by calling
	armv7a_read_ttbcr() unconditionally.  Fixed by moving in cortex_a_post_debug_entry() the call to
	armv7a_read_ttbcr() on armv7a case only.  Remove the call to
	armv7a_read_ttbcr() in armv7a_identify_cache() since it is
	(conditionally) called only in the same procedure
	cortex_a_post_debug_entry().  Fixes: bfc5c764df14 ("armv7a: cache ttbcr and ttb0/1 on debug state
	entry") Change-Id: Ifc20eca190111832e339a01b7f85d28c1547c8ba
	Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Reviewed-on: http://openocd.zylin.com/4601 Tested-by: jenkins
	Reviewed-by: Matthias Welwarsky <matthias@welwarsky.de>

2018-07-18  Dennis Ostermann <dennis.ostermann@renesas.com>

	* : target/aarch64: Call aarch64_init_debug_access() earlier in
	aarch64_deassert_reset() On Renesas R-Car, calling 'reset halt' and 'reset init' always made
	DAP inaccessible. Calling 'reset' and 'halt' seperatly worked fine.
	The only differences seems to be the point in time when
	aarch64_init_debug_access() is called. This patch aligns the
	behaviour.  Change-Id: I2296c65e48414a7d9846f12a395e5eca315b49ca Signed-off-by:
	Dennis Ostermann <dennis.ostermann@renesas.com> Reviewed-on:
	http://openocd.zylin.com/4607 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2016-12-10  Marc Schink <openocd-dev@marcschink.de>

	* : target/armv7m_trace: Fix typo in enum Change-Id: I6364ee5011ef2d55c59674e3b97504a285de0cb2 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3904 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-07-16  James Jacobsson <slowcoder@gmail.com>

	* : nrf5: Add HWID 0x139 (52832 rev E0) Change-Id: I71b7471ccfcb8fcc6de30da57ce4165c7fb1f73f Signed-off-by:
	James Jacobsson <slowcoder@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4604 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-02  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/stm32lx: Add revision 'V' for STM32L1xx Cat.3 devices Change-Id: Ic92b0fb5b738af3bec79ae335876aa9e26f5f4cd Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4600 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2017-06-02  Edward Fewell <efewell@ti.com>

	* : flash/nor: add support for TI MSP432 devices Added msp432 flash driver to support the TI MSP432P4x and MSP432E4x
	microcontrollers. Implemented the flash algo helper as used in the
	TI debug and flash tools. This implemention supports the MSP432E4,
	Falcon, and Falcon 2M variants. The flash driver automatically
	detects the connected variant and configures itself appropriately.
	Added command to mass erase device for consistency with TI tools and
	added command to unlock the protected BSL region.  Tested using MSP432E401Y, MSP432P401R, and MSP432P4111 LaunchPads.
	Tested with embedded XDS110 debug probe in CMSIS-DAP mode and with
	external SEGGER J-Link probe.  Removed ti_msp432p4xx.cfg file made obsolete by this patch.
	Change-Id: I3b29d39ccc492524ef2c4a1733f7f9942c2684c0 Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4153 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2016-04-13  Karl Palsson <karlp@tweak.net.au>

	* : drivers: cmsis-dap: pull up common connect code Just a minor deduplication Change-Id: Idd256883e5f6d4bd4dcc18462dd5468991f507b3 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/3403 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-11-08  Hellosun Wu <wujiheng.tw@gmail.com>

	* : nds32: Avoid detected JTAG clock AICE2 doesn't support scan for the maximum clock frequency of JTAG
	chain. It will cause USB command timeout.  Change-Id: I41d1e3be387b6ed5a4dd0be663385a5f053fbcf9 Signed-off-by:
	Hellosun Wu <wujiheng.tw@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4292 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-04-28  Peter Lawrence <majbthrd@gmail.com>

	* : tcl/board: add SAMD11 Xplained Pro evaluation board Change-Id: Id996c4de6dc9f25f71424017bf07689fea7bd3af Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4507 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-06-22  Tomas Vanek <vanekt@fbl.cz>

	* : psoc5lp: fix erase check, add free_driver_priv psoc5lp_erase_check() was not properly adapted to the new
	armv7m_blank_check_memory() in the hot fix 53376dbbede4f0bf42e724ff
	This change fixes handling of num_sectors in dependecy of
	ecc_enabled.  Also add comments how ecc_enabled influences
	num_sectors.  Add pointer to default_flash_free_driver_priv() to all psoc5lp flash
	drivers to keep valgrind happy.  Change-Id: Ie1806538becd364fe0efb7a414f0fe6a84b2055b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4569 Tested-by: jenkins

2018-07-02  Cody Schafer <openocd@codyps.com>

	* : target/image: make i/j unsigned to avoid ubsan runtime error         src/target/image.c:1055:15: runtime error: left shift of 128
	        by 24 places cannot be represented in type 'int' Change-Id: I322fd391cf3f242beffc8a274824763c8c5e69a4 Signed-off-by:
	Cody Schafer <openocd@codyps.com> Reviewed-on:
	http://openocd.zylin.com/4584 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Christopher Head
	<chead@zaber.com>

2018-06-25  Antonio Borneo <borneo.antonio@gmail.com>

	* : gdb_server: only trigger once the event gdb-detach at gdb quit When GDB quits (e.g. with "quit" command) we first execute
	gdb_detach() to reply "OK" then, at GDB disconnect (either TCP or
	pipe connection type), we execute gdb_connection_closed().  In case
	GDB is killed or it crashes, OpenOCD only executes the latter when
	detects the disconnection.  Both gdb_detach() and
	gdb_connection_closed() trigger the event TARGET_EVENT_GDB_DETACH
	thus getting it triggered twice on clean GDB quit.  Do not trigger the event TARGET_EVENT_GDB_DETACH in gdb_detach() and
	let only gdb_connection_closed() to handle it.  Change-Id: Iacf035c855b8b3e2239c1c0e259c279688b418ee Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4585 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-07-09  Andreas Frber <afaerber@suse.de>

	* : tcl: target: Add NXP LS1012A config As seen on the FRDM-LS1012A board.  Change-Id: Ifc9074b3f7535167b9ded5f544501ec2879f5db7 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/4594 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-05-31  Omair Javaid <omair.javaid@linaro.org>

	* : GDB fileIO stdout support This patch fixes gdb fileio support to allow gdb console to be used
	as stdout.  Now we can do something like gdb <inferior file> (gdb) tar ext :3333 (gdb) load (gdb) monitor arm semihosting enable (gdb) monitor arm semihosting_fileio enable (gdb) continue Here: Output from inferior using puts, printf etc will be routed to
	gdb console.  Change-Id: I9cb0dddda1de58038c84f5b035c38229828cd744 Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4538 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-01-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : target: fix 'bp' command help message "asid" and "length" are separate arguments of the command.  Put
	space between them.  Change-Id: I36cfc1e3a01caafef4fc3b26972a0cc192b0b963 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4511 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-05-14  Christopher Head <chead@zaber.com>

	* : flash/nor/stm32: Eliminate working area leak On a specific early-return path, an allocated working area was not
	freed. Free it.  Change-Id: I7c8fe51ff475f191624086996be1c77251780b77 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4520 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-05-29  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/cortex_m: return error if breakpoint address is out of
	range If the "Flash Patch and Breakpoint" unit is rev.1 then it can only
	accept breakpoint addresses below 0x1FFFFFFF.  Detailed info in "ARM
	v7-M Architecture Reference Manual", DDI0403E at chapter "C1.11
	Flash Patch and Breakpoint unit".  Print a message and return error if the address of hardware
	breakpoint cannot be handled by the breakpoint unit.  Change-Id: I95c92b1f058f0dfc568bf03015f99e439b27c59b Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4535 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Christopher Head
	<chead@zaber.com>

2018-05-23  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/board: Factor out common R-Car Gen2 code Factor out the code shared by all R-Car Gen2 boards into a single
	file to get rid of the duplication.  Change-Id: I70b302c2e71f4e6fdccb2817dd65a5493bb393d8 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4533 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-16  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/board: Add Renesas R-Car R8A7791 M2W Porter board Add configuration for the Renesas R-Car R8A7791 M2W based Porter
	evaluation board.  Change-Id: Iaadb18f29748f890ebb68519ea9ddbd18e7649af Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4498 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-21  Marek Vasut <marek.vasut@gmail.com>

	* : tcl/target: Add Renesas R-Car R8A7794 E2 target Add configuration for the Renesas R-Car R8A7794 E2 target.  This is
	an SoC with two Cortex A7 ARMv7a cores, both A7 cores are supported.  Change-Id: Ic1c81840e3bfcef8ee1de5acedffae5c83612a5e Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4531 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-06-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/arm_adi_v5: sync CSW and TAR cache on apreg write When using apreg to change AP registers CSW or TAR we get internal
	cached value not valid anymore.  Reuse the setup functions for CSW and TAR to write them.  Invalidate
	the cached value before the call to force the write, thus keeping
	original apreg behaviour.  Change-Id: Ib14fafd5e584345de94f2e983de55406c588ac1c Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4565 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-01-16  James Marshall <jcmarsh@gwmail.gwu.edu>

	* : target/arm: Add PLD command to ARM disassembler.  Updates the ARM disassembler to handle PLD (PreLoad Data) commands.
	Previously handled by printing a TODO message. There are three forms
	of the command: literal, register, and immediate. Simply decode
	based off of the A1 encoding for the instructions in the ARM ARM.
	Also fixes mask to handle PLDW commands.  Change-Id: I63bf97f16af254e838462c7cfac80f6c4681c556 Signed-off-by:
	James Marshall <jcmarsh@gwmail.gwu.edu> Reviewed-on:
	http://openocd.zylin.com/4348 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2018-03-12  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target/stm32f7x: configure faster system clock in reset-init STM32F7xx devices need faster clock for flash programming over JTAG
	transport. Using reset default 16 MHz clock resulted in lot of DAP
	WAITs and substantial decrease of flashing performance.  Adapted to the restructured dap support (see
	2231da8ec4e7d7ae9b652f3dd1a7104f5a110f3f).  Change-Id: Ida6915331dd924c9c0d08822fd94c04ad408cdc5 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4464 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com>

2018-02-09  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/nrf5: remove is_erased setting and autoerase before
	write Cached flash erase state in sectors[].is_erased is not reliable as
	running target can change the flash.  Autoerase was issued before flash write on condition is_erased != 1
	Remove autoerase completely as it is a quite non-standard feature.  Change-Id: I19bef459e6afdc4c5fcaa2ccd194cf05be8a42b6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4400 Tested-by: jenkins

2016-05-03  Andreas Frber <afaerber@suse.de>

	* : psoc5lp: Add NV Latch flash driver Erasing is not supported by the hardware, it can be written
	directly.  Tested on CY8CKIT-059, except modifying-write.  Change-Id: I6e920ed930dcd5c7f0b10c5b1b4791a828d9080a Signed-off-by:
	Andreas Frber <afaerber@suse.de> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3434
	Tested-by: jenkins

2018-06-05  Edward Fewell <efewell@ti.com>

	* : drivers: xds110: Remove unnecessary and deprecated libusb
	function.  libusb-1.0.22 has deprecated the libusb_set_debug function. This
	function was present in the XDS110 driver as an artifact left over
	from early debugging. It isn't required because logging is disabled
	by default. Removing it to simplify the code and no longer need to
	have libusb version specific #if's in the code.  Change-Id: I9c3f16c039da3f3fad9c4a1169978b0d85a1b45c Signed-off-by:
	Edward Fewell <efewell@ti.com> Reviewed-on:
	http://openocd.zylin.com/4553 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2016-04-30  Andreas Frber <afaerber@suse.de>

	* : flash/nor: Add PSoC 5LP flash driver Always probe for ECC mode and display ECC sectors if disabled.
	Non-ECC write is implemented as zeroing the ECC/config bytes.
	Erasing ECC sectors is ignored, erase-checking takes them into
	account.  Tested with CY8CKIT-059 (CY8C5888), except ECC mode.  Change-Id: If63b9ffca7ad8de038be3c086c49712b629ec554 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Signed-off-by: Forest Crossman <cyrozap@gmail.com>
	Reviewed-on: http://openocd.zylin.com/3432 Tested-by: jenkins

2018-05-31  Omair Javaid <omair.javaid@linaro.org>

	* : Fix Semihosting FileIO for targets using vcont packet This patch fixes a bug where target fails to resume after completing
	GDB FileIO.  We need to update target last run control information
	to decide resumption. This was not being done for vcont packets.  Change-Id: I44bea31720f8b877dba97d77a202303d546ea5bd Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4539 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-05-31  Khem Raj <raj.khem@gmail.com>

	* : Fix libusb-1.0.22 deprecated libusb_set_debug with
	libusb_set_option libusb_set_debug is deprecated in libusb >= 1.0.22 therefore replace
	with equivalent libusb_set_option()  API Change-Id: Ic0287a1bc0ccc90afe8e4c688085f0b25a7fb004 Signed-off-by:
	Khem Raj <raj.khem@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4540 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2018-04-27  Bohdan Tymkiv <bhdt@cypress.com>

	* : flash/nor/virtual: copy missing fields from master flash_bank
	structure Change-Id: I4ac71ad4b46ed613192310d85eb385b727649a11 Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4505 Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz> Tested-by: jenkins

2015-01-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : breakpoints: simplify the test to find a breakpoint The test is overly complicated and unreadable.  Simplify it while
	keeping the exact same behaviour.  Change-Id: I6b22291ca454e1eddeeab4024d3983dc4c603d3a Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4512 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-02-23  Kamal Dasu <kdasu.kdev@gmail.com>

	* : target: aarch64: Adding mcr, mrc 32-bit coprocesor read/write
	support Adding mrc and mcr support for 32-bit boot mode on aarch64 target.  Change-Id: I3879908253ccdf79509dcad752871f422526ec64 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4483 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-26  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: sysfsgpio: lift upper gpio number limit Recent Linux maps GPIOs from 1023 downwards so do not limit the
	number to 1000.  This should fix #183.  Change-Id: I6d4f493b670be9ed9b82759f0fb686a9faddbbf5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4502 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-05-22  Paul Fertser <fercerpav@gmail.com>

	* : Fix warnings exposed by GCC8 gcc (GCC) 8.1.0 generates new warnings and thus fails the build.  The ARM disassembler warnings actually exposed a bug in SMALW, SMULW
	and SMUL instructions decoding.  Reported by Eimers on IRC.  Change-Id: I200c70f75a9e07a1f13a592addc1c5fb37714440 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4526 Tested-by: jenkins Reviewed-by: Jiri
	Kastner <cz172638@gmail.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-02-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix several typos within manual documents Mostly trivial fixes spotted by spell checker Change-Id: I3af693faf5506c866e2abe253a0e37aea3c4d284 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4510 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-02-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : doc: fix several typos in openocd.texi Mostly trivial fixes spotted by spell checker One fix s/are/is/ No
	changes in the content of the document Change-Id: Ic2d8696860c540e901e8c5190f8f1e7dce80545f Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4402 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-03-21  Bohdan Tymkiv <bhdt@cypress.com>

	* : psoc6: Run flash algorithm asynchronously to improve performance Existing psoc6 driver starts flash algorithm for each Flash row.
	This is suboptimal from performance point of view, starting/stopping
	flash algorithm for each row adds significant overhead. This change
	starts flash algorithm and leaves it running asynchronously while
	driver performs flash operations.  Performance gain is 170...250% depending on probe: flash write_image img_256k.bin    | w/o this change | with this
	change |

	----------------------------------|-----------------|------------------|KitProg2/CMSIS-DAP, SWD @ 1 MHz   |     4 KiB/s     |     10 KiB/s
	| J-Link Ultra, SWD @ 1 MHz         |    17 KiB/s     |     31 KiB/s
	| J-Link Ultra, SWD @ 4 MHz         |    33 KiB/s     |     57 KiB/s
	| Change-Id: I5bd582584b35af67600c4d197829eb7aeeec7e3f Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4472 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-19  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : board: add configuration for stm32f103c8 "Blue Pill" The "Blue Pill" is a popular development board with an STM32F103C8
	micro controller. According to sources, it has a 128kB Flash on
	board even though the option bytes only report 64kB. This patch
	therefore also modifies target/stm32f1x.cfg to take an optional
	FLASH_SIZE variable into account which the board file sets to
	0x20000.  Change-Id: I8a78ccd2b5faf637c539ee3cf8136789ee15c95d Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4495 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-04-15  Antonio Borneo <borneo.antonio@gmail.com>

	* : jtag: adapter: fix indentation in handle_interface_command Minor fix, no code change, just align it to the block it belongs to.  Change-Id: I4c3b0d0bd00a55d5109d3723e5c4bfb2fc72e366 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4492 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-23  Tomas Vanek <vanekt@fbl.cz>

	* : target/cortex_m: allow setting the type of a breakpoint Cortex-M target used 'auto_bp_type' mode. The requested type of
	breakpoint was ignored and hard (FPB) breakpoints were set in 'code
	memory area' 0x00000000-0x1fffffff, soft breakpoints were set above
	0x20000000.  The code memory area of Cortex-M does not mean the memory is flash
	and vice versa. External flash (parallel or QSPI) is usually mapped
	above code memory area. Cortex-M7 ITCM RAM is mapped at 0. Kinetis
	has a RAM block under 0x20000000 boundary.  Remove 'auto_bp_type' mode, set breakpoints to requested type.  Change 'cortex_m maskisr auto' handling to use a hard temporary
	breakpoint everywhere: it can also workaround not working soft
	breakpoints on Cortex-M7 with ICache enabled.  Change-Id: I7a9f9464c5e10bfd7f17cba1037ed07a064fa2e8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4429 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-12-14  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: add configuration for NXP MC-IMX8M-EVK includes target configuration for i.MX8M SoC family, board file
	needs to set up CHIPNAME and CHIPCORES to match the actual hardware
	configuration Change-Id: Ieb6d89cab2477a58f85d0ef9cd242710950191c0 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4434 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/at91sam: implement flash bank deallocation for SAM
	series Microchip (former Atmel) SAM drivers allocate a struct per chip.  at91sam3, at91sam34: Deallocate all chip structs from the list at
	once, on the first bank deallocation.  at91samd and at91sam4l drivers do not handle more than one bank.
	Convert them to simple driver_priv allocation and use
	default_flash_free_driver_priv().  Change-Id: I49d7200f38a4568c7e12f306c27d1b1b72646736 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4416 Tested-by: jenkins

2018-02-10  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: handle flash write alignment/padding in the
	infrastructure Most of flash drivers have to ensure proper flash write block
	alignment and padding. As there was no support for it in the flash
	infrastructure, each driver does it its own way. Sometimes this part
	of code is not properly tested and contains bugs.  flash_write(_unlock) joins all image sections targeted to one flash
	bank using padded areas as a glue. This solves alignment problems on
	section boundaries but imposes other problems.  Introduce new flash bank parameters write_start_alignment,
	write_end_alignment and minimal_write_gap.  New flash drivers can
	just properly set these values instead of handling alignment by its
	own.  Adapt infrastructure (namely flash_write_unlock(),
	handle_flash_fill_command() and handle_flash_write_bank_command())
	to prepare write data padded to an alignment required by the flash
	bank.  Rework flash_write_unlock() to discontinue write block when the gap
	between sections is bigger than minimum specified in
	minimal_write_gap.  minimal_write_gap is set to one sector by
	default.  Change-Id: I4368dd402dfaf51c193bcbf1332cffff092b239b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4399 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com>

2017-11-23  Tomas Vanek <vanekt@fbl.cz>

	* : target, flash: prepare infrastructure for multi-block blank
	check 'flash erase_check' command runs a check algorithm on a target if
	possible. The algorithm is run repeatedly for each flash sector.
	Unfortunately every start and stop of the algorithm impose not
	negligible overhead.  In practice it means checking is faster than
	plain read only for sectors of size approx 4 kByte or bigger. And
	checking sectors as short as 512 bytes runs approx 4 times slower
	than plain read.  The patch changes API call target_blank_check_memory() and related
	to take an array of sectors (or arbitrary memory blocks).  Changes in target-specific checking routines are kept minimal.  They
	use only the first block from the array and process it by the
	unchanged algorithm.  default_flash_blank_check() routine repeats
	target_blank_check_memory() until all blocks are checked, so it
	works with both multi-block and single-block based checkers.  Change-Id: I0e6c60f2d71364c9c07c09416b04de9268807f5e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4297 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com>

2018-01-16  Paul Fertser <fercerpav@gmail.com>

	* : HACKING: document practices to improve code quality Change-Id: I58a7d978b7d5bca3037c4535f06746b9f4411950 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4343 Tested-by: jenkins

2018-02-27  Tomas Vanek <vanekt@fbl.cz>

	* : gdb_server: gdb_memory_map() rework Use sector sizes instead of bank size.  Detect a gap between sectors and emit xml blocks accordingly.  Detect sector overflow over the bank size.  Change-Id: If0e0e44b0c3b93067b4d717c9c7b07c08582e57b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4436 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-04-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: free target SMP list on shutdown On SMP targets, the "target smp" command creates a list of targets
	that belong to the SMP cluster. Free this list when a target gets
	destroyed on shutdown. For simplicity, the complete list is free'd
	as soon as the first target of the SMP cluster is destroyed instead
	of individually removing targets from the list.  Change-Id: Ie217ae1efb2e819c288ff3b1155aeaf0a19b06be Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4481 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-03-06  Tim Newsome <tim@sifive.com>

	* : Add gdb_report_register_access_error command With this option enabled (it's disabled by default) errors accessing
	registers are returned to gdb. Otherwise they are ignored and
	success is reported to gdb. (This is the current behavior.) We want this for RISC-V, but there's still some cleanup that needs
	to be done before that can be upstreamed.  Signed-off-by: Tim Newsome <tim@sifive.com> Change-Id:
	I7e56109ea52d18b780c14a07fb35f9e6e8979da4 Reviewed-on:
	http://openocd.zylin.com/4452 Reviewed-by: Steven Stallion
	<sstallion@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2017-10-17  Stefan Arnold <sarnold@sh-sw.de>

	* : flash/nor/at91samd: Add "nvmuserrow" command.  Add option "nvmuserrow" to "at91samd" for changing and reading the
	register at 0x804000 which represents various fuses.  Change-Id: I6382cc4ac15e6b9681e2f30b0ae60397a6289c3b Signed-off-by:
	Stefan Arnold <sarnold@sh-sw.de> Reviewed-on:
	http://openocd.zylin.com/4260 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-21  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/kitprog: workaround KitProg firmware bug of missing ZLP KitProg firmware does not send a zero length packet at the end of
	the bulk-in transmission of a length divisible by a bulk packet
	size. This is inconsistent with the USB specification and results in
	jtag_libusb_bulk_read() waits forever when a transmission of
	specific size is received.  Limit bulk read size to expected number of bytes for problematic
	tranfer sizes.  Use 1 second timeout as the last resort.  Change-Id: Ice80306424afd76e9fbc6851911ffd5109c84501 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4426 Tested-by: jenkins Reviewed-by: Bohdan
	Tymkiv <bhdt@cypress.com>

2018-03-22  Michele Sardo <msmttchr@gmail.com>

	* : Fix for warnings detected by clang static analyzer Fix for potential memory leakage and for unused/unreported return
	error code Change-Id: Ifb2c95b60637c3a241ad4bf41d1a328c92ccea4b Signed-off-by:
	Michele Sardo <msmttchr@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4476 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-05  Robert Jordens <jordens@gmail.com>

	* : xilinx-dna.cfg: generic tools for reading Xilinx Device DNA Most Xilinx FPGA devices contain an embedded, unique device
	identifier.  The identifier is nonvolatile, permanently programmed
	into the FPGA, and is unchangeable providing a great serial /
	tracking number.  This commit adds generic support for reading the Xilinx Spartan 6
	and 7 Series (Kintex, Artix, Ultrascale) Device DNA. The code is
	similar to the function in fpga/xilinx-xc6s.cfg for Spartan 6 but
	the register addresses are different and the logic has been
	simplified.  The code was not placed in xilinx-xc7.cfg. The approach of defining
	taps in the same file as library code to use them is fundamentally
	broken on boards that have more than one FPGA or other chips. This
	commit (like the addition of support for Xilinx XADC) starts to
	remedy that by splitting library code from board-specific fixed
	definitions.  The support code is sourced in the Kasli and KC705 board support
	files as it was tested on these boards.  Change-Id: Iba559c7c1b7e93e1270535fd9e6650007f3794da Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4396 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-22  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/core, target: unregister JTAG events Also call adapter_exit() before command_exit() as the latter
	releases Jim interpreter so JTAG events should be released before.  Fixes memory leak reported by valgrind Change-Id: I493f3fcba34ea2b4234148e79a4e329c866e0f05 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4474 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: implement flash bank deallocation on OpenOCD exit Change-Id: I8fcf09b2a85b3b68743f5fd68a31edea933b9b17 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4414 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-09-28  Robert Jordens <jordens@gmail.com>

	* : sayma_amc: add Sayma AMC board definition Change-Id: I4a3dc5fe2d81b6906099af8cc1a360b3cf4a6b80 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4237 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-08-03  Robert Jordens <jordens@gmail.com>

	* : xilinx-xcu: add Xilinx Ultrascale tap data The Ultrascale series is a bit more complicated to handle since with
	the stacked and interconnected dies the IR gets longer. This adds
	support for all currently known chips from the Ultrascale family.  Change-Id: Ibac325dd6fadc76f73cc682b1c62c1a5f39f0786 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4188 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-13  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : tcl/board: add configuration for the avnet ultrazed-eg starter
	kit also contains target configuration for the Xilinx UltraScale+
	platform Change-Id: I6300cbc85c1ed71df71d8aaca59500bbf18f0093 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4467 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-07  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: add cpsr bitfields to target description provide meta information for the cpsr so gdb can display the status
	flags and not only a hexadecimal number Change-Id: I9d3fb29153780adbea389d7e4175d5e19bddc256 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4460 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-15  Tomas Vanek <vanekt@fbl.cz>

	* : transport: add transport_is_hla() and move declaration of all transport_is_xxx() functions to
	transport.h Change-Id: Ib229115b5017507b49655bc43b517ab6fb32f7a6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4469 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-12  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix debug entry from EL0 If we enter debug state from EL0, some registers are not accessible.
	Temporarily move to EL1H and back to gain access. Also, fix
	armv8_dpm_modeswitch() to not immediately restore the previous state
	on elevating the privilege level.  Change-Id: Ic2a92109230ff4eb6834c00ef544397a5b7ad56a Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4461 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-03-04  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : gdb_server: fix ignored interrupt request from gdb during
	stepping Normally, when a ctrl-c is received from gdb, a SIGINT is reported
	back unconditionally to tell gdb that the target has stopped in
	response.  However when a rtos support was configured, the rtos
	awareness overwrote the signal with an actual thread state, which
	gdb then ignored and got stuck without the user able to interrupt.  Change-Id: I40fd62333e020a8c4d9df0079270e84df9c77f88 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4445 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-02-16  Tomas Vanek <vanekt@fbl.cz>

	* : drivers/ftdi: free allocated memory Also uses calloc() for mpsse_ctx->write_buffer to prevent a false
	positive valgrind report "Syscall param
	ioctl(USBDEVFS_SUBMITURB).buffer points to uninitialised bytes(s)" Change-Id: I91963371d15c21ea0fee4c40c1da86174db44520 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4418 Tested-by: jenkins

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : target/target: free what leaked in target_destroy() Free event_action, fileio_info and working area.  Change-Id: Iac81230423e92304b8e2c971d0ec71a96b693fc4 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4412 Tested-by: jenkins

2018-02-15  Tomas Vanek <vanekt@fbl.cz>

	* : server: free strduped port numbers Although the leak is negligible, the clean heap on exit will ease
	valgrind testing.  Change-Id: I3a7a9c8e8dc7557aa51d0b9caa244537e5e7007d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4410 Tested-by: jenkins

2018-02-10  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target: warn if a Kinetis MCU is connected to a high level
	adapter Make sure the user is aware he can lock the device though unlock is
	not possible without access to MDM-AP.  Change-Id: I92676530e95d19489c6739748a99c2895849f90f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4403 Tested-by: jenkins

2018-03-13  Tomas Vanek <vanekt@fbl.cz>

	* : doc: make gdb-attach description understandable Change-Id: I31babf4e3bbe7c94f26818d938699562a4a26d48 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4465 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2018-01-13  Paul Fertser <fercerpav@gmail.com>

	* : target: hla: check return value of hl_dcc_read This should fix "Assigned value is garbage or undefined" warning
	reported by clang:

	http://build.openocd.org/job/openocd-clang/doclinks/1/report-391318.htmlChange-Id: Ib9488fadca871814328501e415f88822291e0c96 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4332 Tested-by: jenkins

2018-01-27  Paul Fertser <fercerpav@gmail.com>

	* : tcl: interface: usb blaster I: specify driver explicitly When a user asks for blaster I, he or she should either get it, or
	get an error, not blaster II driver.  Change-Id: Ibc7683676ce42773e2b14ea5ccb3d119d1e6acea Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4381 Tested-by: jenkins

2018-01-18  Paul Fertser <fercerpav@gmail.com>

	* : HACKING: clarify linking identities procedure Change-Id: I89e93002181926eec5fc5a339765b773559a8ff1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4354 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-01-26  Mateusz Manowiecki <segmentation@fault.pl>

	* : Add SWD protocol support to buspirate (2nd try) This is a second try for this patch. I removed the queues from the
	previous version. I made it compatible with SRST reset and added
	support for those features that could be supported in raw binary
	mode.  Change-Id: I96fc06abbea9873e98b414f34afd9043fd9c2a41 Signed-off-by:
	Mateusz Manowiecki <segmentation@fault.pl> Reviewed-on:
	http://openocd.zylin.com/3960 Tested-by: jenkins Reviewed-by: Eric
	Work <work.eric@gmail.com> Reviewed-by: Thomas Jarosch
	<thomas.jarosch@intra2net.com> Reviewed-by: Jacob Alexander
	<haata@kiibohd.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-03-04  Tomas Vanek <vanekt@fbl.cz>

	* : doc: update openocd.texi after change of gdb-attach default
	value While on it - change some occurrences of gdb to GDB if it refers GDB software   (as oposed to a gdb command) - add some xrefs - give more meaningful example of target event definition - remove obsoleted example of GDB hook-step Change-Id: Ia2e26021d57f675acfa1de704f6c3e81c22bb8bf Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4444 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-01-13  Paul Fertser <fercerpav@gmail.com>

	* : jtag: hla: tcl: fix inconsistent expected_id handling Copy from 20fcd0729e7187e8fe6a38ce53b0a1b95ea647fb.  Should fix

	http://build.openocd.org/job/openocd-clang/doclinks/1/report-1e9b08.htmlChange-Id: I1a83387b4d745134acc38eeba08aa869d9895573 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4333 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-16  Omair Javaid <omair.javaid@linaro.org>

	* : Support for Arm VFP v3 registers read/write This patch adds support in openOCD to read/write Arm vector/floating
	point registers. This is compatible with Arm vfp v3 target xml in
	GDB.  Please refer to binutils-gdb/gdb/features/arm/arm-vfpv3.xml Change-Id: Id4dd1bddef51c558f1a86300c1a876d159463f18 Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4421 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2018-01-22  Omair Javaid <omair.javaid@linaro.org>

	* : Support AArch64 SIMD/FP registers read/write This patch adds support in openOCD to read/write AArch64 SIMD/FP
	registers.  This patch depends on a previous patch which adds
	support to generation of target xml by openOCD with nested
	architecture defined types. AArch64 SIMD/FP registers assumes
	various types and to support all types we implement them as
	architecture defined type aarch64v which in turn consists of various
	architecture defined types. This is compatible with AArch64-FPU
	target xml in GDB. Please refer to
	binutils-gdb/gdb/features/aarch64-fpu.xml Change-Id: I7ffb0c21b3c2e08f13720b765408b30aab2a9808 Signed-off-by:
	Omair Javaid <omair.javaid@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4373 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-07-17  Evan Hunter <ehunter@broadcom.com>

	* : Cortex-R : Remove commands which are not relevant to Cortex-R Change-Id: I8dec85150386c149ffdb7bf4e7e533f16bb63b84 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2877 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-02-12  Marc Schink <openocd-dev@marcschink.de>

	* : helper/command.h: Add missing #include for target_addr_t Change-Id: Ic406257c0da6e1889d4434cc98cf59c2b97aa30c Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4052 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-12-15  Marc Schink <openocd-dev@marcschink.de>

	* : helper/types.h: Add missing #includes Change-Id: I02ae0fb9527c4b87308da9c2cab66c80d84579eb Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4050 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-03-08  Marc Schink <openocd-dev@marcschink.de>

	* : helper/replacements.h: Add missing #include Change-Id: Ic6c47f7fbc999d00ef3211c1fa44867e3aabc321 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4057 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-10-05  Robert Jordens <jordens@gmail.com>

	* : pipistrello: decrease jtag speed to 10 MHz 30 MHz is not working reliably here Change-Id: I38f5f8c7153fc64e313ee911b1629fb5f1114c39 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4242 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-09-12  Michele Sardo <msmttchr@gmail.com>

	* : Added support for STMicroelectronics BlueNRG-1 and BlueNRG-2 SoC Added configuration files and flash loaders.  Change-Id: I768eb3626f4e0eadb206bef90a867cc146fe8c75 Signed-off-by:
	Michele Sardo <msmttchr@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4226 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-14  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/psoc4: fix warnings Reported by Clang static analyzer.  Change-Id: I1118f303f468b6a78ec6cba692762aee565bdf9e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4407 Tested-by: jenkins

2018-01-06  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/psoc4: adjust flash size limited by wounding All credit goes to Dmitry Grinberg

	http://dmitry.gr/index.php?r=05.Projects&proj=24.%20PSoC4%20confidentialChange-Id: Iae8fd6f11a7f62e8ffe970473688f6fac5a0a261 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4324 Tested-by: jenkins

2018-03-01  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : rtos: fix rtos no-auto configuration A previous fix avoiding multiple calls to the rtos_create function
	had a side effect if rtos support was configured explicitly. It
	affected all rtos' that rely on symbol resolution from gdb.  Change-Id: Id7f17c6ec5ce2450322d2748a4b2369aaa524a7b Fixes:
	3aa8bd2d1704118ad9bbee2f21cbc15a848c8c5b Signed-off-by: Matthias
	Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4438 Tested-by: jenkins Reviewed-by:
	Richard Braun <rbraun@sceen.net> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-02-26  Christopher Head <chead@zaber.com>

	* : Fix incorrect comment target_start_algorithm does not download the algorithm. It only
	starts it. It expects someone else to have already written the
	algorithm code into the proper location before calling it.  Change-Id: I5e04406eed0ebb1c23e550dbf8d9f1204c432603 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4435 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-10-17  Jonas Norling <jonas.norling@cyanconnode.com>

	* : efm32: Add JTAG definitions to EFM32 target file This makes it possible to program newer EFM32 and EFR32 chips with
	JTAG, as opposed to SWD.  Change-Id: Ia3e8c1bbc66fc1f33e8cf2087ccf0d1b4dfd74e1 Signed-off-by:
	Jonas Norling <jonas.norling@cyanconnode.com> Reviewed-on:
	http://openocd.zylin.com/4262 Tested-by: jenkins Reviewed-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-02-08  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/core: fix Segmentation fault during flash write of bad
	formed img flash_write_unlock() sorts sections by base address but does not
	check if they overlap. In case of overlapped sections an item of
	padding[] array can get negative and padding loop writes out of
	allocated buffer.  How to replicate: cat two copies of an ihex file to one file and try
	to flash it.  Check for overlapped sections and abort write in such case.  Change-Id: I43eee7dc290a8d18faa59567b2118b88ad4bedca Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4397 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : gdb_server: update rtos threads on new connection make sure the RTOS thread database is updated early on a new gdb
	connection.  Change-Id: I4da9ef30f8634263d697116cefc47976cd1970ad Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4000 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : rtos: facilitate RTOS SMP handling The RTOS handlers present OS threads to gdb but the openocd target
	layer only knows about CPU cores (hardware threads).  This patch
	allows closing this gap inside the RTOS handler.  The default implementation just returns the current core, but a RTOS
	handler can provide its own function that associates a an OS thread
	with a core.  Change-Id: I12cafe50b38a38b28057bc5d3a708aa20bf60515 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3997 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2017-10-05  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: fix handling of Thumb-2 32bit breakpoints When debugging Thumb-2 code, Gdb will at times send a breakpoint
	packet 'Z0,<addr>,3', the number 3 denoting that the instruction to
	break on is 32 bits long. Handle this by replacing it with two
	consecutive 16bit Thumb BKPTs and make sure to save and restore the
	full, original 32bit instruction.  Note that this fix is only applicable if you debug a bare-metal
	program (like the linux kernel) with the 'wrong' gdb, e.g. use an
	"arm-linux" gdb instead of an "arm-eabi" gdb. But since most people
	may not know about the subtle differences between gdb configurations
	regarding thumb2 breakpoints it's still valid.  Change-Id: Ib93025faf35b11f0dba747a8c1fc36fd09a4c0f8 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4241 Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Tested-by: jenkins

2018-01-30  Oleksij Rempel <linux@rempel-privat.de>

	* : armv7a: forward error value in armv7a_cache_auto_flush_all_data if armv7a_l1_d_cache_clean_inval_all will fail, error value is never
	forwarded. So make sure we do it from now.  Change-Id: I02acfaa938ec09f58df77191d13d8f4bb3308720 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4384 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-09-25  Bohdan Tymkiv <bhdt@cypress.com>

	* : Add support for Cypress PSoC6 family of devices * Tested on CY8CKIT-001 kit with PSoC6 daughter board.  * Tested with several J-Link adapters (Ultra+, Basic) Change-Id: I0a818c231e5f0b270c7774037b38d23221d59417 Signed-off-by:
	Bohdan Tymkiv <bhdt@cypress.com> Reviewed-on:
	http://openocd.zylin.com/4233 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-08-26  Tomas Vanek <vanekt@fbl.cz>

	* : psoc4: update for 4x00BLE, L, M, S and PRoC BLE devices Flash ROM API command PSOC4_CMD_SET_IMO48 is now optional on new
	devices.  Also code tidy up: - improved system ROM call error detection - probe does not require the target to be halted - default_padded_value and erased_value set to 0 - fixed endianess problem in flash write and protection setting - removed fancy chip detection table as it would be updated too
	often - psoc4 flash_autoerase is now on by default to ease programming psoc4.cfg distinguishes chip family and uses either proprietary
	acquire function of a KitProg adapter or TEST_MODE workaround to
	"reset halt" Change-Id: I2c75ec46ed0a95e09274fad70b62d6eed7b9ecdf Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3807 Tested-by: jenkins Reviewed-by: David
	Girault <david.f.girault@gmail.com>

2017-04-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: faster debug init Don't use atomic dap operations when not necessary Change-Id: Idc6dcd2bda95f7994852df4ae2a588976f4c9010 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4142 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2018-01-20  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: stlink: ignore write verify error This looks like some inappropriate stlink (mis-)feature and it
	messes operations for writing to certain memory-mapped registers.  Discussed at https://forum.sparkfun.com/viewtopic.php?f=18&t=44949 .
	Also known to be problematic for working with Kinetis parts.  Reported by robertfoss_ on IRC.  Change-Id: I8633aed13346c596000ba6c377758e1bb96db73f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4368 Tested-by: jenkins Reviewed-by: Robert
	Foss <robert.foss@memcpy.io> Reviewed-by: Andreas Bolsch
	<hyphen0break@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-12-31  Paul Fertser <fercerpav@gmail.com>

	* : tcl: interface: harmonise RPi configs Make all configs specify same JTAG and SWD GPIO numbers.  Change-Id: I65b09c1671c97f253f0aab88e511de7409d91e0a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3932 Tested-by: jenkins

2018-01-16  Paul Fertser <fercerpav@gmail.com>

	* : doxygen: fix issues with recent Doxygen versions This fixes parsing of several documentation files which do not have
	dot in the filename.  style.txt change fixes doxygen warnings and ensures proper display
	of comment begin/end instructions in HTML.  Tested with Doxygen 1.8.13.  Change-Id: I9fd9ac3b51b47076b8fdbd3e93b90c3eba9b9631 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4342 Tested-by: jenkins

2018-01-18  Tomas Vanek <vanekt@fbl.cz>

	* : arm_adi_v5: fix return value of mem_ap_read/write for size 0 Unhandled marginal case produced a warning in Clang static analyzer.  Change-Id: I3e2fc4182fa4f863acfb972b1e7a512fce5bf33a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Suggested-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-on: http://openocd.zylin.com/4357
	Tested-by: jenkins Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2016-12-31  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: usb_blaster: clarify lowlevel driver selection
	code This patch should make the code logic more transparent and user
	notifications more useful.  It also fixes a warning "array subscript is below array bounds" that
	leads to FTBFS on Raspbian GNU/Linux 8 (jessie).  Change-Id: I626b6a5bc013dfee7d36cf196f0abab981d30675 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3931 Tested-by: jenkins

2018-01-22  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: implement mmu on/off for aarch32 add decoding of aarch32 core modes (register layout is compatible) Change-Id: I34c3146a7b1f836d3006be2b76b036da055b3d3e Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4374 Tested-by: jenkins Reviewed-by: Forest
	Crossman <cyrozap@gmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2018-01-24  Christopher Head <chead@zaber.com>

	* : Use timeval helpers Some of these changes actually fix broken comparisons which could
	occasionally fail. Others just clean up the code and make it more
	clear.  Change-Id: I6c398bdc45fa0d2716f48a74822457d1351f81a5 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4380 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2018-01-20  Paul Fertser <fercerpav@gmail.com>

	* : tcl: target: klx: use 1KiB for working area Some parts have only that much. Reported by robertfoos_ on IRC.  Change-Id: I684fdccfa62cf726466ddc467543a990fd88c4dc Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4369 Reviewed-by: Robert Foss
	<robert.foss@memcpy.io> Tested-by: jenkins Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2017-09-06  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: make FCF protection more user friendly The Flash Configuration Field on Kinetis devices requires protection
	because it is located in program flash space (at 0x400) and writing
	an improper data to it may permanently lock the device. Even an
	erased flash sector containing FCF engages security lock (not
	permanent one) on the next reset or power cycle.  'kinetis fcf_source protection' mode was introduced in the change
	#3562.  Flash driver in this mode sets FCF immediately after sector
	erase to prevent unintentional security lock. To do so the driver
	needs to know FCF values before flash image data is actually
	processed. Flash protection bits are available in bank structure,
	FOPT can be set by 'kinetis fopt' command and securing device by
	FSEC is not supported.  Nevertheless an inexperienced user flashed the device using an image
	with FCF values different from those set in OpenOCD config and
	concluded programming did not work as some verify errors showed.  This change tries to write maximum possible from image data
	retaining FCF protection.  Check FCF in programmed data and report if some field differs from
	values set by OpenOCD flash block protection and 'kinetis fopt'
	command.  Warn user about verify errors caused by FCF protection.  On devices with ECC flash (K26, K66 and KV5x) it is impossible to
	change already programmed FCF - it would result in an ECC error. As
	FCF was written just after erase in 'kinetis fcf_source protection'
	mode the warning issued during flash write is the only possible
	action.  On non-ECC flash devices use cumulative flash programming to set FCF
	values requested in programmed image data.  Use FSEC from programmed
	data only if it does not request a secure mode. Device can be
	secured only in 'kinetis fcf_source write' mode.  Use FOPT from
	programmed data if its value was not configured in OpenOCD config by
	'kinetis fopt' command.  Change-Id: If65fbbd7700069f57e4ae32234dce371bff93674 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4228 Tested-by: jenkins Reviewed-by: Robert
	Foss <robert.foss@memcpy.io> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2018-01-17  Paul Fertser <fercerpav@gmail.com>

	* : server: add safeguards against printing bogus port number Clang static checker emits "Assigned value is garbage or undefined"
	warning there as it can't prove that when the socket descriptor is
	AF_INET/SOCK_STREAM and getsockname doesn't return an error,
	sin_port is guaranteed to be filled in.  Pacify it by obvious means.  Change-Id: I43b5e5ceb41c07d523a81b34a25490c4c5f49a70 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4350 Tested-by: jenkins Reviewed-by: Tim
	Newsome <tim@sifive.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-01-10  Marc Schink <openocd-dev@marcschink.de>

	* : Fix Jim interpreter memory leak Change-Id: I71d7d97e7dc315c42fc43b65cb5fcecd7bdfb581 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2959 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-04-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: speed up first examination Don't use atomic dap operations when not necessary. Also remove loop
	trying to set core power request, didn't find a platform where it
	actually worked and it's slowing examination down.  Change-Id: I44e5c2f289f951b8f4579f08a841172404a52053 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4143 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-02-27  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: add 'maskisr' command Allow to configure ISR masking during single-step and add handling
	for stepping over WFI with ISR masked.  Change-Id: I7918be7bcda6a1d9badac44fc36c59b52f662fef Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4023 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2017-08-08  Robert Jordens <jordens@gmail.com>

	* : jtagspi: new protocol that includes transfer length This commit contains a rewrite of the jtagspi protocol and covers
	both changes in the jtagspi.c openocd driver and the bscan_spi (xilinx_bscan_spi) proxy bitstreams. The changes are as follows: 1. Always perform IR scan to ensure proper clearing of BYPASSed DRs.  2. Insert alignment cycles for all BYPASSed TAPs:   The previous logic was erroneous. The delay in clock cyles from a
	  bit written to the jtag interface to a bit read by the jtag
	interface is:   * The number of BYPASSed TAPs before this (jtagspi) tap   * The length of the jtagspi data register (1)   * The number of BYPASSed TAPs before this one.    I.e. it is just the number of enabled TAPs. This also gets rid of
	  the configuration parameter DR_LENGTH.  3. Use marker bit to start spi transfer   If there are TAPs ahead of this one on the JTAG chain, and we are
	  in DR-SHIFT, there will be old bits toggled through first before
	  the first valid bit destined for the flash.    This delays the begin of the JTAGSPI transaction until the first
	  high bit.  4. New jtagspi protocol   A JTAGSPI transfer now consists of:   * an arbitrary number of 0 bits (from BYPASS registers in front of
	    the JTAG2SPI DR)   * a marker bit (1) indicating the start of the JTAG2SPI
	  transaction * 32 bits (big endian) describing the length of the SPI transaction   * a number of SPI clock cycles (corresponding to 3.) with CS_N
	  asserted * an arbitrary number of cycles (to shift MISO/TDO data through     subsequent BYPASS registers) 5. xilinx_bscan_spi: clean up, add ultrascale This is tested on the following configurations: * KC705: XC7K325T * Sayma AMC: XCKU040 * Sayma AMC + RTM): XCKU040 + XC7A15T, a board with integrated FTDI
	  JTAG adapter, SCANSTA JTAG router, a Xilinx Ultrascale XCKU040 and a
	  Xilinx Artix 7 15T. https://github.com/m-labs/sinara/wiki/Sayma * Custom board with Lattice FPGA + XC7A35T * CUstom board with 3x XCKU115-2FLVA1517E Change-Id: I7361e9fb284ebb916302941735eebef3612aa103 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4236 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-08-27  Patrick Stewart <patstew@gmail.com>

	* : ftdi swd: disable SWD output pin during input  * Disables the data output pin while SWD is reading, so that a
	   simple FTDI SWD interface can be made by connecting TCK to SWD_CLK
	   and TDI+TDO directly to SWDIO. Enabled by setting SWDIO_OE to 0.  Change-Id: I7d3b71cf3f4eea163cb320aff69ed95d219190bd Signed-off-by:
	Patrick Stewart <patstew@gmail.com> Signed-off-by: Roger Lendenmann
	<roger.lendenmann@intel.com> Reviewed-on:
	http://openocd.zylin.com/2274 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2017-12-26  Tim Newsome <tim@sifive.com>

	* : Accept 64-bit addresses in CRC requests.  Change-Id: I6a3e97ae8ffb4dc2ca1197a8102cb9ba34de0a1e Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4317 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-01-16  Jiri Kastner <cz172638@gmail.com>

	* : ejtag: added missing instructions.  added missing instructions from latest available ejtag specification
	(MD00047 v6.1 at time of writting) for trace control, fast data
	channel and pcsample.  Change-Id: I30293951611265ffc2bd896f9d3ca6b310e5cac6 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3950 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-09-08  Karl Palsson <karlp@tweak.net.au>

	* : profiling: write "correct" sample rate to gmon output This duration vs sample count is _significantly_ closer to the truth
	than simply declaring the value to be 100Hz.  Change-Id: Ie8d8bdf1959e1aa7cead0631cd2c86afe77d1efc Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/4221 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-09-01  Simon Schubert <2@0x2c.org>

	* : cortex_m: add profiling function Use DWT_PCSR if present (reads nonzero); otherwise do
	halt-and-sample pc.  Signed-off-by: Simon Schubert <2@0x2c.org> Change-Id:
	Id2dc4665e5008cc497a2e6e6493522d038d5af42 Reviewed-on:
	http://openocd.zylin.com/4211 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Christopher Head
	<chead@zaber.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2017-02-24  Felipe Balbi <felipe.balbi@linux.intel.com>

	* : target: quark_x10xx: miscellaneous cleanups Just some misc cleanups without any functional changes. It's just
	easier to read.  Change-Id: I66bee31f297bcbdb8cc4446b774d7714fbaa7c83 Signed-off-by:
	Felipe Balbi <felipe.balbi@linux.intel.com> Reviewed-on:
	http://openocd.zylin.com/4015 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-24  Felipe Balbi <felipe.balbi@linux.intel.com>

	* : target: lakemon: probemode entry isn't instantaneous When testing with Intel Galileo GEN2 I have noticed a few iterations
	where probemode entry took a little longer. At most I had to read
	tapstatus twice. This patch uses a loop of up to 100 iterations to
	wait for tapstatus to update with PM entry results.  Change-Id: I1c87d7dde715255b3fd2460d299b9493218533fc Signed-off-by:
	Felipe Balbi <felipe.balbi@linux.intel.com> Reviewed-on:
	http://openocd.zylin.com/4013 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-08-03  Robert Jordens <jordens@gmail.com>

	* : digilent_jtag_smt2_nc: add support The Digilent SMT2 NC is nominally the connector-less version of the
	SMT2. But neither the SMT2 configuration nor the HS3 configuration
	work for on the Xilinx KCU105 board where the SMT2 NC is used.  Change-Id: Ieb27cbc6d8b0f9c64ef778e4e0c839acc85ec0ef Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4187 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-12-21  Paul Fertser <fercerpav@gmail.com>

	* : doc: add SVF optional arguments descriptions Change-Id: I1a3e5b04b6bc4821c4d11c8fcb33b426d6d41bfb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4314 Tested-by: jenkins Reviewed-by: Jim
	Norris <u17263@att.net> Reviewed-by: Karl Palsson
	<karlp@tweak.net.au>

2017-03-28  Paul Fertser <fercerpav@gmail.com>

	* : flash/startup: make program accept filenames with spaces and
	other characters This should allow to process any path names excluding those that
	have curly braces.  Change-Id: I87bf9ddede11e2b28d5826878eb1338143f73c03 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4083 Tested-by: jenkins

2016-12-31  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: sysfsgpio, bcm2835gpio: remove requirement to
	have trst or srst This doesn't seem to make any sense.  Change-Id: I272de0ea3c0e86cc9a798cbd864050aaa597c3f0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3933 Tested-by: jenkins

2016-12-02  Paul Fertser <fercerpav@gmail.com>

	* : target: arm: disassembler: decode v6T2 ARM ISB instruction Change-Id: Iaaa54aee6a74f0b250b83c53e7a3fb7c17718920 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3895 Tested-by: jenkins

2016-12-02  Paul Fertser <fercerpav@gmail.com>

	* : target: arm: disassembler: add v5T Thumb BLX decoding Reported by thesourcerer on IRC.  Change-Id: I36d4d95de176a19fdd0bf80d8b419be6ca637e98 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3893 Tested-by: jenkins

2017-10-31  Aleksey Shargalin <myokaski@gmail.com>

	* : remote_bitbang_sysfsgpio: fix reset handling When both SRST and TRST asserted, 'u' is sent to remote bitbang.
	Fix for correct handling of such a case Change-Id: I2a93ff71f5bbae658e6c0c3649a9fbcca2c5a14b Signed-off-by:
	Aleksey Shargalin <myokaski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4283 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-10-24  Ake Rehnman <ake.rehnman@gmail.com>

	* : Added config files for stm8l152 stm8s003 and stm8s105 Change-Id: I26cc401aafac01e5aed8eac605488da5221ffdc2 Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4268 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-01-21  Ake Rehnman <ake.rehnman@gmail.com>

	* : jtag/drivers/stlink_usb : implemented and repaired SWIM support Fixed a bug in stlink_usb_read_mem/write_mem preventing large data
	transfers The SWIM support in stlink_usb was basically non existent so I have
	implemented the missing parts. The bCBWCBLength and
	dCBWDataTransferLength for STLINK-V1 protocol was not correct so
	that was fixed. The reason for adding SWIM support is to add STM8
	support for OpenOCD.  I have tested the driver on: STM8 discovery board with the built-in
	STLINK-V1 STM8 discovery board with STLINK-V2 dongle STM32
	vldiscovery board with the built-in STLINK-V1 STM32F1xxx processor
	with STLINK-V2 dongle Change-Id: I4aa80a92fb0226174356adaf2f8ff949920a621f Signed-off-by:
	Ake Rehnman <ake.rehnman@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3952 Tested-by: jenkins Reviewed-by:
	Philipp Klaus Krause Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2018-01-05  Forest Crossman <cyrozap@gmail.com>

	* : jtag/drivers/kitprog: Enable LOG_DEBUG_IO Change-Id: Ic01b0acf01e18bcb2bf98c101c7b5888cdc10186 Signed-off-by:
	Forest Crossman <cyrozap@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4323 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-06-15  Tomas Vanek <vanekt@fbl.cz>

	* : arm_adi_v5: reduce some CSW writes MEM-AP access through banked data registers MEM_AP_REG_BD0..3 does
	not increment TAR regardless of the current autoincrement mode.
	mem_ap_read_u32() and mem_ap_write_u32() can keep the current
	autoincrement mode instead of switching autoincrement off.  Change-Id: Ib7ec688d3e04f1da678363cd2819ce90e8910e58 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4163 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Christopher
	Head <chead@zaber.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-11-26  Bas Vermeulen <bas@daedalean.ai>

	* : target aarch64: rework memory read/write to use 8/16/32 bit
	operations The existing code only used Memory Access mode to read memory, which
	uses 32 bit operations only.  Rework the code to check the
	alignment/size of the read/write operation, and use the Memory
	Access mode to read aligned 32 bit memory.  When using unaligned
	access, or 8 or 16 bit reads, use LDR{BHW} and STR{BHW} instead.  The exception handling is still the same as it was before (meaning
	it breaks when things go wrong), but I can now read an 8 bit
	register correctly.  Change-Id: I739a5ee825c0226ed4a89c32895cc2a047b8dc15 Signed-off-by:
	Bas Vermeulen <bas@daedalean.ai> Reviewed-on:
	http://openocd.zylin.com/4301 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2017-12-16  Jiri Kastner <cz172638@gmail.com>

	* : config for ESPRESSObin from Globalscale Tech. Inc.  Change-Id: I77f536a9d2e901ebcef0a7dd0f205e5332b1d382 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4303 Tested-by: jenkins Reviewed-by: Forest
	Crossman <cyrozap@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2017-10-31  Tomas Vanek <vanekt@fbl.cz>

	* : target: remove unused event definitions Events reset-halt-pre, reset-halt-post, reset-wait-pre and
	reset-wait-post are not used anywhere.  Change-Id: I9a0f94875b102d9b08f6c2fd9d73a9f05f8e8e79 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4285 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-10-26  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/stm32f2x: fix protection block size for F767 in dual
	bank mode A protection block comprises two adjacent sectors in dual bank mode.
	As there are 64 and 128kB sectors joined in blocks 2 and 8, block
	size should be computed as a sum of sector sizes.  Change-Id: Ie915df8cf7ca232c4565d7e0c514c8933e71fdfe Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4271 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2017-01-26  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: stlink: handle all versions with single config Extend HLA interface to allow multiple VID/PID pairs and use it to
	autodetect the connected stlink version.  Change-Id: I35cd895b2260e23cf0e8fcb1fc11a78c2b99c69b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3961
	Tested-by: jenkins Reviewed-by: Karl Palsson <karlp@tweak.net.au>
	Reviewed-by: Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-12-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add missing stm32 flash driver documentation Change-Id: I433780646e6fdfd0c2527b4a68025946ccb79d8b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/4307 Tested-by: jenkins Reviewed-by:
	<alexandre.torgue@st.com> Reviewed-by: Antonio Borneo
	<borneo.antonio@gmail.com>

2017-11-13  Alexandre Torgue <alexandre.torgue@st.com>

	* : Add STM32H7 config files Add 2 target files: -stm32h7x.cfg -stm32h7x_dual_bank.cfg Add 2 config files for: -STM32H743zi-nucleo bord -STM32H743i and
	STM32H753i eval boards.  Change-Id: I2aae2c5acff4f3ff8e1bf232fda5a11a87f71703 Signed-off-by:
	Alexandre TORGUE <alexandre.torgue@st.com> Reviewed-on:
	http://openocd.zylin.com/4182 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2017-11-21  Bas Vermeulen <bas@daedalean.ai>

	* : Only call cmsis_dap_cmd_DAP_SWD_Configure when swd_mode is
	enabled The CMSIS-DAP used by NXP's LS1012ARDB board only supports JTAG, and
	not SWD. Calling cmsis_dap_cmd_DAP_SWD_Configure returns with an
	error (and doesn't actually do anything in the debugger).  Wrap the call to cmsis_dap_cmd_DAP_SWD_Configure in a check for
	swd_mode, to make sure initialisation doesn't fail needlessly.  Change-Id: Id7e568cb6e36886bd7c5b3699d198a77a51c28c9 Signed-off-by:
	Bas Vermeulen <bas@daedalean.ai> Reviewed-on:
	http://openocd.zylin.com/4294 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de>

2017-10-29  Marc Schink <openocd-dev@marcschink.de>

	* : server/gdb: Use 'bool' instead of 'int' for boolean values Change-Id: I71c2f2553a29e9ef167ff3313cc06c7b31c64190 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4278 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-10-29  Marc Schink <openocd-dev@marcschink.de>

	* : target: Constify parameter of is_armv7m() Change-Id: Ieea1b0dec88818e9e8d5c8c5d54aa8959556d77b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4275 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-10-25  Jonas Norling <jonas.norling@cyanconnode.com>

	* : adi_v5_swd: Add error message when SWD fails to connect Error message instead of failing silently.  Change-Id: Ie54a5bf68459d3c0e96cc38080ffad8de0a4b5ce Signed-off-by:
	Jonas Norling <jonas.norling@cyanconnode.com> Reviewed-on:
	http://openocd.zylin.com/4269 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-10-13  Jonathan McDowell <noodles@earth.li>

	* : tcl/interface/ftdi/openrd: Fix FTDI channel + device description Similar to the Sheevaplug fix
	inf95f8b70fbd0f7e9c91a2d9006b1abb2dd07ebf2 the OpenRD device has its
	JTAG interface on the first channel of the ft2232, which is 0 for
	the new driver but was 1 for the old one. Correct the config file
	appropriately. Also the device description was missing the trailing
	" B" and thus not picking up the device correctly. Finally add an
	adapter_khz setting in the OpenRD board configuration file - set to
	2MHz to match the Sheeva variant.  Confirmed as working thanks to Phil Hands providing me access to his
	hardware to test on.  See also Debian Bug#793214; https://bugs.debian.org/793214 Change-Id: Ifacf53124eaa330bbbdf36dfa79e3256bf2a5201 Signed-off-by:
	Jonathan McDowell <noodles@earth.li> Reviewed-on:
	http://openocd.zylin.com/4254 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-10-03  Christopher Head <chead@zaber.com>

	* : Cortex-M: fix stale DHCSR cache values In cortex_m_assert_reset, in two locations, DHCSR is written
	directly using mem_ap_write_u32. This means that the cached version,
	target_to_cm(target)->dcb_dhcsr, is not updated when these writes
	are performed, so subsequent writes to DHCSR that use
	cortex_m_write_debug_halt_mask will change those bits back to their
	old values which, unless modified in that particular invocation,
	come from the cache. This causes an actual, observable bug on an
	STM32F7 in which running reset run immediately after
	program can in some cases result in execution proceeding with
	C_MASKINTS set (it is cleared on line 1021 but is then set
	immediately afterward in cortex_m_clear_halt), causing failure of
	the application. Replace these mem_ap_write_u32 calls with
	cortex_m_write_debug_halt_mask calls to do the same jobs.  Change-Id: Id35ca7f6057c2df2ba9cd67c53a73b50816d0b71 Signed-off-by:
	Christopher Head <chead@zaber.com> Reviewed-on:
	http://openocd.zylin.com/4239 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-06-29  Freddie Chopin <freddie.chopin@gmail.com>

	* : Fix GCC7 warnings about switch-case fallthroughs GCC7 with -Wextra warns about switch-case blocks which fallthrough
	with "this statement may fall through
	[-Werror=implicit-fallthrough=]". This can be fixed by adding
	"special" comments: "/* fallthrough */".  See https://gcc.gnu.org/gcc-7/changes.html Change-Id: Iba0be791dbdd86984489b2d9a0592bb59828da1e Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4174 Tested-by: jenkins

2017-10-06  Tim Newsome <tim@sifive.com>

	* : Differentiate "target not halted" messages.  Change-Id: I8728fa007289d7af5c6791142e76eb5777c83ca4 Signed-off-by:
	Tim Newsome <tim@sifive.com> Reviewed-on:
	http://openocd.zylin.com/4244 Tested-by: jenkins Reviewed-by: Liviu
	Ionescu <ilg@livius.net> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-06-12  Peter Griffin <peter.griffin@linaro.org>

	* : tcl: add hi3798 target and Tocoding Poplar board config This config covers the 4x Cortex A53 CPUs. A custom connector is
	required from J14 to standard ARM JTAG on v1 boards. However v2
	hardware should have a standard FTSH-105-01-L-DV connector.  Pinmuxing code to enable JTAG pins is included in l-loader-poplar
	repository, so board is flashed with open source code, JTAG is
	available at very early boot. Alternatively the following pokes can
	be issued from U-Boot to enable JTAG (e.g. to debug hisilicon SDK).  mw 0xf8a210ec 0x130; mw 0xf8a210f0 0x130; mw 0xf8a210f4 0x130; mw
	0xf8a210f8 0x130; mw 0xf8a210fc 0x130; mw 0xf8a21100 0x130; Change-Id: I2b83dfcb3dc5461c1620f94dd99aa7b31fdda59b Signed-off-by:
	Peter Griffin <peter.griffin@linaro.org> Reviewed-on:
	http://openocd.zylin.com/4161 Tested-by: jenkins Reviewed-by: Jiri
	Kastner <cz172638@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2017-08-31  Slowcoder <slowcoder@gmail.com>

	* : nrf51: Rename to nrf5 Renaming of all nrf51 NOR flash code to nrf5, as to prepare the code
	for being able to flash nrf51 and nrf52 chips.  The nrf51 command is retained for backwards compatability.  "nRF5" is also the name Nordic Semiconductor uses to describe both
	the nrf51 and nrf52 chips.  Change-Id: I5f4e3f1ec780184b28ad44f735a746e68908c502 Signed-off-by:
	Slowcoder <slowcoder@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4209 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2016-11-14  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32lx.c: Read IDcode at appropriate address.  Trying to read the L0 idcode at the L1 idcode address 0xE0042000
	often resulted in an uncatched error. Reading at the right L0
	address 0x40015800 afterwards results in reading 0. So access to the
	device is denied..  Change-Id: I6de92cf99a5d5d46c72f9ba055613cbc5753a951 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3883 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-07-15  Oleksij Rempel <linux@rempel-privat.de>

	* : board: add TP-Link WDR4300 config tested on TP-Link WDR4300 v1.7 Change-Id: If2b456afac835ab3a3987d434d20824c7ba75b93 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4192 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-08-06  Oleksij Rempel <linux@rempel-privat.de>

	* : board: tp-link_tl-mr3020: add ath79 support Finally we can use this driver by default! Change-Id: I09d215d1bd1dc16873a7379637e6869af65ad8f1 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/4193 Tested-by: jenkins Reviewed-by: Dmytro
	<dioptimizer@hotmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2017-08-03  Diego Herranz <diegoherranz@diegoherranz.com>

	* : tcl/interface/ftdi: improve minimodule config - Tested on a real FT2232H MiniModule, so warning removed.  - Every pin initially set to high impedance except TCK, TDI,   TDO and TMS: Safest values given it's an evaluation board   and the rest of pins might be connected to something else.  - Reset is now initially de-asserted (it was asserted   which is not recommended).  - nRST pin choice is arbitrary so comment added (wondering   if it should be an "echo").  - "-oe" option added to NRST signal so it can be set as   high impedance (tri-stated).  Change-Id: I967ab0c7bbccf72dbf6d6d78b3180b74e016e0d6 Signed-off-by:
	Diego Herranz <diegoherranz@diegoherranz.com> Reviewed-on:
	http://openocd.zylin.com/4185 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-08-27  Jonathan McDowell <noodles@earth.li>

	* : tcl/interface/ftdi/sheevaplug: Fix FTDI channel configuration The migration from the old ft2232 driver to the new generic ftdi
	driver ended up breaking support for the SheevaPlug device. The old
	driver defaulted to channel 1, but numbered the channels 1 to 4. The
	new driver starts at 0. The SheevaPlug JTAG is on interface A
	(interface B is the serial console), so it should be using channel
	0. Fix this. Confirmed as working; serial console remains available
	and a new u-boot image can be transferred across using the JTAG
	link.  See also Debian Bug#837989; https://bugs.debian.org/837989 Change-Id: I4ac2bfeb0d1e7e99d70fa47dc55f186e6af2c542 Signed-off-by:
	Jonathan McDowell <noodles@earth.li> Reviewed-on:
	http://openocd.zylin.com/4206 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2017-08-24  Marc Schink <openocd-dev@marcschink.de>

	* : stm32f2x: Fix left shift of negative value Use unsigned constant for left shift operation in order to avoid the
	following error with GCC >= 6.0: ../src/flash/nor/stm32f2x.c: In function
	stm32x_handle_unlock_command:
	../src/flash/nor/stm32f2x.c:1324:67: error: left shift of negative
	   value [-Werror=shift-negative-value]
	stm32x_info->option_bytes.optcr2_pcrop = OPTCR2_PCROP_RDP | (~1 <<
	bank->num_sectors); Change-Id: I0ac082bd0dbb8dc2f61ffff8fdf486ab7962d2e0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4207 Tested-by: jenkins Reviewed-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Anton Fosselius
	<anton.fosselius@gmail.com> Reviewed-by: Esben Haabendal
	<esbenhaabendal@gmail.com>

2017-09-02  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Disable TCP/IP discovery If no serial number is specified, disable TCP/IP device discovery to
	ensure that a user does not unintentionally operate on a remote
	device.  Change-Id: I6a7e913b8b679fae003825468cd86d2014849b29 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4214 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-09-02  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Use error description in log messages Use a human-readable error description rather than just the error
	name in log messages.  Change-Id: Iab4ff7a7e4d9993983a07eab9f462820d4ee8190 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4212 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-07-26  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Make use of debug level for I/O messages Change-Id: Iba08c119a80041f9c1b4c9bd7e83bb4f9bbb7199 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4203 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-08-21  Marc Schink <openocd-dev@marcschink.de>

	* : helper/options: Add missing #include for MinGW and MSYS2 Change-Id: I3bb295f52706b641661241e3e047306811ca915e Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4201 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-05-10  Karl Palsson <karlp@tweak.net.au>

	* : telnet_server: increase buffer sizes to allow longer commands.  A common use case seen in the wild is echoing a string of commands
	to an existing openocd instance via netcat.  The sequence of ;
	separated commands can easily run over the line limit of only 256
	chars.  Increasing this dramatically reduces surprises, at the expense of a
	tiny amount of extra ram usage.  Change-Id: I2389d99d316a96b5fa03f0894b43c412308e12c4 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/4132 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2017-03-05  Andreas Bolsch <hyphen0break@gmail.com>

	* : Support for STM32F722, F723, F413 and F423 IDs for STM32F722, F723, F413 and F423 added, handling of PCROP for
	F722/723 and additional nWPRT bits for F413/423 implemented.  The
	additional protection bit positions for F413/423 conflict with other
	options bits for the F7xx variants, additionally the last two
	sectors share a common bit.  Protection for F413 and F767/777 now use protection blocks rather
	sectors for dealing with protections bits.  Checking for halted state in 'lock' and 'unlock' removed: When PCROP
	is activated in F723, halted state is not detected properly, but
	lock/unlock sequence is required to disable PCROP.  Tested with STM32F723E-Disco, STM32F413ZH-Nucleo.  Change-Id: Ie6ddab47a9ae8461087d369b4f289b7f9d1e031c Signed-off-by:
	Andreas Bolsch <hyphen0break@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4045 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2017-08-09  Karl Palsson <karlp@tweak.net.au>

	* : stm32l1: Devid 0x429 only has 8bit flash size register A footnote in RM0038r14.  Change-Id: Ic31894d846fbbe917a7290b2b7ff8fb582bb65da Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/4198 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2017-06-29  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: fix devices with smallest program flash (8 and 16
	kB) Change-Id: I2692b9877a7f877104528f279a69e8cc1cfbcdbf Reported-by:
	David Miller Lowe <milhead@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/4173
	Tested-by: jenkins Reviewed-by: Miller Lowe
	<miller.lowe@trailtech.net> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2017-06-21  Steven Stallion <stallion@squareup.com>

	* : rtos: better sanity checking for uCOS-III This patch improves the OSRunning check. If the rtos_running check
	fails, update_threads will return an error rather than attempt to
	update the thread list using bad values.  Change-Id: I8614c325504d3a9ab19aebb6862b1fe445a0c8e7 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/4166 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-06-30  Moritz Fischer <moritz.fischer@ettus.com>

	* : zynq_7000: Add expected id for Zynq 7z100 devices As found on the NI Project Sulfur SDR board.  Change-Id: I47bdd38ae85cf45cedad8797ea03bf3105153320 Signed-off-by:
	Moritz Fischer <moritz.fischer@ettus.com> Reviewed-on:
	http://openocd.zylin.com/4176 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-06-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Fix snprintf format string and argument mismatch in md
	output Commit 47b8cf842 changed the fixed type of the value argument to
	snprint but didn't change the format string to match for sizes != 64
	bit.  Change-Id: I908b06f49ab69d04224282949190a0de883048e0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4167 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Philipp Guehring
	<pg@futureware.at>

2016-11-04  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/tcl: Respect flash bank boundary in write_bank Respect the flash bank boundary and write only to the remaining part
	of the bank even if the file content is larger.  Change-Id: I8f4c1b161c103a77bdb30c6bf052293b5ed48c41 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3861 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Tomas Vanek
	<vanekt@fbl.cz>

2016-11-04  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/tcl: Respect flash bank boundary in verify_bank Respect the flash bank boundary and compare only the remaining
	content of the bank even if the file content is larger.  Change-Id: I4d75979c7893fdd4d18372fa6b0321a0486b4fa9 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3859 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-03-10  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: add KL28 device This device differs a lot from others in KL series.  Unfortunately the System Integration Module, where device
	identification resides, moved to a new address so probe now have to
	try both addresses of SIM_SDID.  Introduce a new bank creation option: -sim-base to ensure error free
	probe.  WDOG32 is slightly different from KE1x and on different address.
	System Mode Controler changed layout to word aligned.  Change-Id: I2c9dca0c4ad4228fcc941d6078d15f5e394833ff Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/4059 Tested-by: jenkins Reviewed-by: Joakim
	Nohlgrd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-12-26  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: implement automatic bank creation based on device
	probe Kinetis flash driver services huge number of MCU types. They have
	one, two or four flash banks with option of FlexNVM. It would
	require ~36 config files just for Kx series, more for KLx, KVx and
	KE1x.  The change implements alternative approach: - configuration file creates just one pflash bank (common for all
	devices) - when a device is probed, additional pflash or flexnvm banks are
	created based on flash layout of the connected MCU - created banks have names with optional numbering e.g. kx.pflash0
	kx.pflash1 kx.flexnvm0 kx.flexnvm1 - the first bank gets renamed if numbering is used Automatic bank creation is enabled by tcl command 'kinetis
	create_banks'.  Used solution has a drawback: other banks than pflash0 are not
	accessible until pflash0 is probed. Fortunately gdb attach and
	standard programming accesses banks in right sequence.  Change-Id: I5b9037cbefdb8a4176b7715fbcc3af4da4c1ab60 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3925 Tested-by: jenkins Reviewed-by: Joakim
	Nohlgrd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-12-03  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: add KV5x family Real time control MCU has a Cortex-M7 and numerous changes in flash
	layout.  Introduced a new ID of MDM-AP.  While on it a LOG_DEBUG format error fixed.  Change-Id: I1018660ce0c3dd63ac5e2563408fabff3c3daef7 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3900 Tested-by: jenkins Reviewed-by: Joakim
	Nohlgrd <joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-12-02  Tomas Vanek <vanekt@fbl.cz>

	* : tcl/target: make sure kex.cfg is not used for Kinetis KE1x
	families Config file renamed to ke0x.cfg and a notice added to texi.  While on ke0x.cfg CPUTAPID setting fixed: device has SWD port only,
	no JTAG.  Removed per device configs as they set CHIPNAME and nothing more.
	Let's use reasonably universal chip name 'ke' set in family config.  Change-Id: I313db87a59f25f968eb3c27df155780b67becee8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3897 Tested-by: jenkins Reviewed-by: Ivan
	Meleca <ivan@artekit.eu> Reviewed-by: Joakim Nohlgrd
	<joakim.nohlgard@eistec.se> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-07-14  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor: at91samd modified to use real erase sector size Before this change SAMD driver defined "sector" equal to a flash
	protection block. Oversize sectors (16kB for the biggest flash size)
	made problems for flashing firmware split to two or more parts.  Removed superfluous test of sector protection before erase.  Change-Id: I8e6a6bda6ccd91eda2df67ec48270c69faa1bdd1 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3546 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2017-05-31  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: ath79: fix build failure due to recent MIPS changes Change-Id: I7139b0658f048afea2d16216c93e8946356a630d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4151 Tested-by: jenkins Reviewed-by:
	Salvador Arroyo <sarroyofdez@yahoo.es>

2017-04-18  Grzegorz Kostka <kostka.grzegorz@gmail.com>

	* : imx_gpio: add mmap based jtag interface for IMX processors For some targets (like nrf51) sysfs driver is too slow. This patch
	implements memory maped driver for IMX processors.  Mostly based on
	bcm2835gpio. Tested on imx6ul CPU. However, it should work on any
	NXP IMX CPU.  Change-Id: Idace4c98181c6e9c64dd158bfa52631204b5c4a7 Signed-off-by:
	Grzegorz Kostka <kostka.grzegorz@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4106 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-04-25  Moritz Fischer <moritz.fischer@ettus.com>

	* : tcl/cpld: add config file for Altera 5M570Z CPLD (MAXV family) Change-Id: I229c746be27b7c4fa01f48a6ed54ab2679b50ab1 Signed-off-by:
	Moritz Fischer <moritz.fischer@ettus.com> Reviewed-on:
	http://openocd.zylin.com/4109 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-20  Salvador Arroyo <salvador@telecable.es>

	* : mips32, use scan32 function for reading impcode/idcode.  There is no need to implement scan code in functions
	mips_ejtag_get_idcode/impcode(), use mips_ejtag_drscan_32().
	Impcode/idcode saved in ejtag.info.  Reorder the code in the callers
	of this functions.  Change-Id: Ia829c783a0b24c6a65cade736113fa6f67b0a170 Signed-off-by:
	Salvador Arroyo <salvador@telecable.es> Reviewed-on:
	http://openocd.zylin.com/4003 Tested-by: jenkins Reviewed-by: Peter
	Mamonov <pmamonov@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2017-05-07  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32: add micromips isa handling Read and save configuration registers, up to 4.  Config3 holds the
	micromips implementation info.  Added isa implementation info to
	mips32_common.  Added isa filter to avoid common mistakes, but only
	if one isa mode is implemented.  When resuming the isa requested is
	set if more than one isa mode is implemented.  Change-Id: I1d6526c5525bffac8d75e031b842b2edc6310e28 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4123 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-05-07  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, add support for micromips in debug mode Micromips is 16bit oriented, branch and jumps are 16 bit based. The
	upper half 16bits of a 32bit instruction with the major opcode, must
	go first in the instruction stream, hence the SWAP16 macro and
	swap16 array function, needed if the code is written as 32 bit word
	in little endian cores. Endianess info added to ejtag_iinfo. Pointer
	to ejtag_info and isa field added to pracc context.  MIPS32 code are
	renamed to MIPS32_ISA_...  To select the isa, the new code has an
	additional isa parameter (1 for micromips, 0 for mips32).  In JR
	instruction the isa bit must be set to execute micromips code.  The
	suffix u is added to the OP codes to avoid signed/unsigned
	comparison errors and to make sure the right shift is performed
	logically.  The isa in debug mode is updated in the poll function.
	Code for miniprograms, in kernel mode, need to be converted.  CFI
	code only for mips32.  Change-Id: I79a8b637d49b0e2d92b6dd5eb5aa8aa0520bf938 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4032 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-27  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, add option to avoid check in last instruction This option is needed, for example, when exiting debug mode in bmips
	targets. The last instruction is a NOP, not a DERET. When working in
	async mode this check is not done, mips32_pracc_queue_exec() pass
	the parameter to mips32_pracc_exec() and never use it.  Change-Id: I4c7ed4feb1588b62e2645b955b501b6671113b36 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4021 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-26  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, change in pracc_list for dynamic allocation pracc_list points to an array with code in the lower half and addr
	in the upper half. Change it to a struct with an instruction field
	and an address field.  Requiered to make reallocation easier.  As a
	side effect the code is less quirky.  Change-Id: Ibf904a33a2f35a7f69284d2a2114f4b4ae79219f Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4019 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-24  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, write handler code in a more compact way Less code and probably cleaner.  Don't check if it is ever ERROR_OK.  Change-Id: I1045b58fd4542ec24430332f49679364ae97b1dc Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4018 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, in wait_for_pracc_rw() use ejtag_info->pa_ctrl Makes code shorter In fasdata transfer fuction declare variables
	locally.  Avoid cast.  Change-Id: I0367b66339560fc20521a0598488e7ff9076808e Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4011 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-22  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, drop unnecessary code in mips32_pracc.c Struct mips32_pracc_context no more in use.  In current code cp0
	reg/sel do not requires special handling.  In sync mode
	ctx.store_count not used, drop check.  In fasdata transfer function
	use mips32_pracc_read_ctrl_addr() to reduce code.  Change-Id: Ibd4cfa5a44ebc106ed0db042f4e54a2e0b3d43cb Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4007 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-01-29  Marc Schink <openocd-dev@marcschink.de>

	* : server/telnet: Remove exit() call Change-Id: I8ce99d7d62dfe3cad63cf6bc68f2faf2234e395c Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3224 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2017-04-25  Juha Niskanen <juha.niskanen@haltian.com>

	* : stm32l4: support flashing L496 devices Change-Id: I3effc5b675c853433170391c5eaf46edc067b6e7 Signed-off-by:
	Juha Niskanen <juha.niskanen@haltian.com> Reviewed-on:
	http://openocd.zylin.com/4108 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-20  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32, pic32 use uint8_t in 8 bit scan function Makes code shorter.  Change-Id: I6cc01adffbea063ccb071ddf3a3e3d81727b29ce Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/4004 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-02-17  Karl Palsson <karlp@tweak.net.au>

	* : udev: Add rules for Ambiq Micro EVK's.  Udev rules for Ambiq Micro ftdi based EVK's.  Two new vid:pid's:
	2AEC:6010, and 2AEC:6011.  Udev rule for multi-target Debug board 2AEC:1106 Change-Id: Id7430d0c70647752375230f4024be9f7a2ba95ce Signed-off-by:
	Rick Foos <rfoos@solengtech.com> Signed-off-by: Karl Palsson
	<karlp@tweak.net.au> Reviewed-on: http://openocd.zylin.com/3980
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-01-26  Hellosun Wu <wujiheng.tw@gmail.com>

	* : libusb: Add transfer type filter to get correct ep The need for this due to AICE having 3 interfaces (EP1 IN-Interrupt,
	EP2 OUT-Bulk, EP6 IN-Bulk).  Without it, the function will choose
	first two endpoint as read_ep/write_ep. This filter will check
	transfer types when get endpoint-id. Without this patch, AICE will
	not get correct endpoint.  Change-Id: I4da93c7de41cd19e5095b4bfb42078b21f40b678 Signed-off-by:
	Hellosun Wu <wujiheng.tw@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3218 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-08-16  Marc Schink <openocd-dev@marcschink.de>

	* : flash/nor/tcl: Fix some format specifiers Change-Id: I2255aede9713cb7ef538d7433dd900d8da7a51ad Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3857 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-03-20  CezaryGapinski <gapa1986@gmail.com>

	* : stm32lx: fix dual-bank configuration for Cat.5 and Cat.6 devices Default values for .first_bank_size_kb and .has_dual_banks fields
	described in stm32lx_parts[] do not fully describe the real device
	memory layouts.  Basing on: STM32L0x1 RM0377 STM32L0x2 RM0376 STM32L0x3 RM0367
	STM32Lxxxx RM0038 correct values for memory layouts were selected: id = 0x447
	STM32L0xx (Cat.5) <- dual bank flash for size 192 or 128 KBytes,
	single bank for 64 KBytes id = 0x436 STM32L1xx (Cat.4 / Cat.3 -
	Medium + / High Density) <- only one size of the bank, default
	values are correct id = 0x437 STM32L1xx (Cat.5 / Cat.6) <- always
	dual bank, but size of the bank can be different For that reason .part_info field in struct stm32lx_flash_bank is a
	dynamic field with fields copied from stm32lx_parts[] and overwriten
	to correct values for specific chips and memory sizes.  Change-Id: If638cb0a9916097bfd4eda77d64feaf1ef2d2147 Signed-off-by:
	Cezary Gapiski <cezary.gapinski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/4074 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2017-03-03  Tomas Vanek <vanekt@fbl.cz>

	* : flash/nor/at91samd: fix chip erase of a secured device 'at91samd chip-erase' command did not work on secured device.  Fix it changing address of DSU.CTRL register (see Atmel SAM D21
	datasheet, 13.9. Intellectual Property Protection).  While on it check error return of DSU.CTRL write.  Change-Id: I83155a634a5458cdc0cc16c99c0e155eb1d8b3d6 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reported-by: Thomas Irmen
	<tirmen@gmx.net> Reviewed-on: http://openocd.zylin.com/4043
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-04-06  Jerome Lambourg <lambourg@adacore.com>

	* : Add support for the ATMEL SAM G55 Xplained Pro board and CPU.  Change-Id: Iffe59dcf9f2cb1f5949c37d11fe0d2141a47f8da Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3922
	Tested-by: jenkins Reviewed-by: Leo Zhang
	<liang.zhang@microchip.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-11-05  Girts <girtsf@users.noreply.github.com>

	* : helper/options.c: fail if unexpected cmdline arguments are
	present Previously openocd would silently ignore any incorrect arguments.  Change-Id: Ibb40b57b8a9e07d191215486f3b3c4920a9963c7 Signed-off-by:
	Girts Folkmanis <opensource@girts.me> Reviewed-on:
	http://openocd.zylin.com/3879 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-11-04  Matthias Welwarsky <matthias@welwarsky.de>

	* : board: introduce base config for TI BeagleBone family boards This patch adds the file ti_beaglebone-base.cfg as the common base
	configuration for all TI BeagleBone derived boards. It also modifies
	ti_beaglebone.cfg to source the base board and only add the on-board
	JTAG adapter. Lastly, it adds a file ti_beaglebone_black.cfg with a
	suitable configuraton for the BeagleBone "Black" variant.  Change-Id: I40cacb8abed7bdb308929713891f7b5e5b685c95 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3099 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-04-09  Chengyu Zheng <chengyu.zheng@polimi.it>

	* : tools/scripts/checkpatch.pl: fix unescaped brace Change-Id: If1d0fbe95223351ea098504cf24f076784b26a9c Signed-off-by:
	Chengyu Zheng <chengyu.zheng@polimi.it> Reviewed-on:
	http://openocd.zylin.com/4102 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2017-01-09  Tomas Vanek <vanekt@fbl.cz>

	* : jtag/drivers cmsis-dap: fix speed setting on Atmel EDBG Without the change Atmel EDBG uses default clock freq about 168 kHz
	instead adapter_khz configured before interface init.  Changing
	adapter speed after init works as expected.  Testing shows the EDBG firmware resets speed to default during
	DAP_SWJ_Sequence.  Tested with fw versions 03.1F.01AE and 02.09.0169 This change repeats the DAP_SWJ_Clock command after sending a SWJ
	sequence.  Change-Id: Ic70457c5df635f47cad5e70b0dc83a083ea1b3a3 Reported-by:
	Ladislav Laska <laska@kam.mff.cuni.cz> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3944
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2017-01-08  Marc Schink <openocd-dev@marcschink.de>

	* : target: Fix memory leak Change-Id: Ib23dfd653d8edacb890a46179e9d437c027d58e8 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/4048 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Chengyu Zheng
	<chengyu.zheng@polimi.it> Reviewed-by: Andreas Frber
	<afaerber@suse.de>

2017-02-23  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: add some documentation document aarch64 specific commands and common ARMv7 and v8 DAP
	commands Change-Id: Icbb76209735ec734f2e67f82bfc7270edb40ad0b Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4008 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : nrf51: Remove pointer cast Int may not be 32 bit long.  Change-Id: I420f7efeb484eb35c1d7c20e1575b0b31ed8c9ff Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3930 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-02-23  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : tcl: add Hi6220 target and LeMaker HiKey board config configuration covers all 8 Cortex-A53 cores and auxiliary Cortex-M3
	used for power management.  Change-Id: I5509f275aa669abe285f9152935ecdcbcd0c402e Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/4009 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv8_dpm: retrieve only necessary registers on halt to speed up debugging, don't load the complete register context on a
	halt event, load only those registers that might be clobbered during
	debugging.  Change-Id: I0b58e97aad6f28aefce4a52e870af61e1ef1a44f Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3995 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: run control rework This patch contains a major overhaul of the target run control,
	mainly for the sake of satisfying gdbs ideas of how a target should
	respond to various control requests for the debugger.  The changes allow gdb a slightly better control on how cores are
	stepped: a core can be single-stepped while other cores remain
	halted or continue normal execution until the single-stepped core
	halts again.  Also, on any halting event (user command or breakpoint) the system
	is brought into a stable state with all cores halted before the halt
	is signaled to the debugger.  This patch also transitions the target code to make use of the new
	CTI abstraction instead of accessing CTI registers directly.  Change-Id: I8ddc9abb119e04580d671b57ee12240c3f5070a0 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3993 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: clean up target specific commands - rename "cortex_a" command group to "aarch64" - remove default blank check, checksum and algorithm hooks   since they're not going to work in aarch64 mode anyway.  Change-Id: Ieb0046786ed9425baf6774c68f42a8285cc2aefd Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3991 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-02-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : armv8: factor out generic bit set/clr for debug registers introduce armv8_set_dbgreg_bits() function to make register
	bit-field modifications easier to read.  Change-Id: I6b06f66262587fd301d848c9e0645e8327653de7 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3989 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-27  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove bogus address check before memory access Mmu faults can not be prevented on aarch64, they need to be taken
	and handled accordingly. Remove the remaining stub code.  Change-Id: I6241efa594fe6b963624f9628cdf1c8e46588223 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3987 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: optimize core state detection Replace loop by right-shift.  Inspired by patch from Alamy Liu Change-Id: I1285f4f54c0695a93fa42e9863ed8ffa4de00f70 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3985 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-14  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove mrs/msr functions from struct arm No longer needed, no users.  Change-Id: I0cc82a0ef11e1b72101fa9145f014e5d5d76df0e Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3983 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-10-26  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix software breakpoints when in aarch32 state Use the correct opcode for Aarch32 state, both for the breakpoint
	instruction itself and the cache handling functions.  Change-Id: I975fa67b1e577b54f5c672a01d516419c6a614b2 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3981 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-05-31  Karl Palsson <karlp@tweak.net.au>

	* : flash/nor: avrf: support atmega128rfa1 Tested with a Dresden Elektronik deRFmega128 module.  Change-Id: I91da3b11b60e78755360b08453ed368d6d396651 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/2790 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-10-21  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: don't segfault on reset when target is not examined Basically port a fix that was already done for the cortex_a target.  Change-Id: I4cf4519159bda03ed611bc0b2e340a5dad2d85fe Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove arm command chain from aarch64 target commands arm commands are mostly unusable anyway, remove them. to be replaced
	by aarch64 specific commands later Change-Id: Ie994771bc0e86cff1c26f68f1f51ce8ec352a509 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove unused struct components remove unused register index array from armv8_mode_data[] Change-Id: I686c20eeb3da413f5e9ef6058e31ce939741afb4 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: enlarge value buffer of arm_reg to store 64 bit struct arm_reg::value[] must be 8 byte to hold a 64bit register
	value.  Change-Id: If253e90731d0ee855eafd9d7b63b91f84630cc7c Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: discard async aborts on entering debug state recommended for Corte-A8 cores, not sure if necessary for ARMv8
	based cores as well.  Change-Id: Ibcb36170c5fac6a6b132de17f734c70a56919f9b Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: enable aarch32 debugging with arm gdb When a PE is in Aarch32 state and gdb asks for a target description,
	provide a register view compatible with the "org.gnu.gdb.arm.core"
	feature. Only current-mode registers are exported, banked registers
	are not visible.  Change-Id: I99a85d94831cf597fe8cff6a0a1818ce0a33613b Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: make sure to enable HDE for all SMP PEs to be halted When halting a group of PEs through CTI, HDE must be set in EDSCR
	for all of them.  Change-Id: Iaa4bc0b0fe31e46a463c709d8274023225affd85 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: cache identification for aarch32 state Use proper T32 opcodes for cache identification when the PE is in
	Aarch32 state Change-Id: I9cd9169409889273a3fd61167f388e68d8dde86d Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: register access rewrite All register access is now performed through common read/write
	functions, which delegate the actual register access to the
	armv8_common object. armv8_common contains function pointers to
	direct read and write requests to the respective low-level functions
	for each PE state.  The respective read/write functions are selected on debug state
	entry.  At the same time, T32 opcodes are now formatted for ITR in
	dpmv8_exec_opcode() and the T32_FMTITR macro is removed from global
	visibility.  Change-Id: I9eaef017c7cc9e0c531e693c534901bfdbdb842c Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: allow reading system control register when halted in
	EL0 There's no access to system control register in EL0. Circumvent by
	moving the PE to EL1 before reading, and switch back to original
	mode afterwards.  Change-Id: I309f4eea5597ffc88fc892e9bbb826982e8a44ec Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-10-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: provide virt2phys command Use AT commands to translate virtual to physical addresses based on
	current MMU configuration.  Change-Id: I1bbd7d674c435541b617b17022fa9f7f0f01bdab Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-26  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove bogus os_border calculation The artificial "os_border" doesn't exist in aarch64 state and is
	wrong for aarch32 state as well. Remove it.  Change-Id: I7c673a1404b03aa78dbd505e115fa3a93f7ca05f Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-22  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: refactor armv8 dpm Move all DPM related functions from aarch64.c to armv8_dpm.c.  Change-Id: I43404ff5db414ae898787a523d3219e5bee44889 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-29  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: update smp halt and resume to better facilitate CTI Set up CTI so that halt and resume requests get routed to all PEs in
	the SMP group.  Change-Id: Ie92cfd3fe54632e5fdc049a6bf5b24b99451a8c9 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-20  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: add cache handling functions For now only D-Cache flush (Clean&Invalidate) and I-Cache invalidate
	are implemented. That's enough for software breakpoints.  Change-Id: I8e96d645a230b51e3490403f4564e59ba6a76cf3 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: use correct instruction for software breakpoints External debuggers need to use HLT, not BRK. HLT generates a halting
	debug event while BRK generates a debug exception for self-hosted
	debugging.  Change-Id: I24024b83668107f73a14cc75d951134917269e5c Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix register list According to gdb documentation, a register "cpsr" is expected if
	aarch64 features are announced. Also, the value buffer must be
	capable of holding a 64bit value (8 byte, not 4) Change-Id: I7aec4e84fa87eadb26797acd0d16c988b9852616 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-15  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove code for AHB-AP support Reduce complexity of memory access functions, anyway there are no
	ARMv8 platforms that actually contain an AHB-AP at all. while at it,
	fix virt-to-phys function signatures to expect target_addr_t.  Change-Id: I55a369686f42993988b6323e5a77f38de12530a9 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-01  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: remove references to armv7-r aarch64 target doesn't support the -r profile anyway.  Change-Id: Iaa470ed9f95ea495ab1bafdf401f55a1ebcefddf Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: unify armv7-a and armv8 debug entry decoding Make DSCR_RUN_MODE() usable for armv8 and arm7 debug Change-Id: Ib3ba3000d5b6aa03e590f3ca4969e677474eb12c Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix first examination properly decode debug capabilities, remove superfluous register
	accesses.  Change-Id: I2cca699b515262dd2a508d7be97826eb17b9c607 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: use symbolic constant for register count Aarch64 has 34 registers, but use ARMV8_LAST_REG instead of raw
	integer constant.  Change-Id: I86481899ade74f27fc90eff9f367d444c03e535e Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: clear breakpoint value register on removal Not only null control but also value of the breakpoint when it is
	removed.  Change-Id: Id99c7e3644729c64e563f1fa8b0577f350be6a98 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix cache identification Use correct instructions to access CLIDR, CSSELR and CCSIDR.  Change-Id: I319b96c03a44fdb59fcb18a00f816f6af0261f0a Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix entry into debug state - armv8 EDSCR has no ITR_EN bit, ITR is always enabled. Writes to
	  this bit are ignored but we should not do them anyway - use dpmv8 function to report the reason for debug entry - WFAR is a 64bit register Change-Id: I07b81ecf105ceb7c3ae2f764bb408eb973c1d1de Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: fix accesses to SCTLR_ELn register The system control register has several instances, depending on the
	exception level. Make sure to access always access the correct one.  Change-Id: I9e867f4dbd9625762042f20ed905064ea4e3270f Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-16  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: formalize use of CTI in halt and resume Use configured CTI base address instead of hardcoded value, if
	available.  Use symbolic constants instead of raw hex offsets.  Trim
	halt and resume code to what is actually necessary.  Change-Id: I4997c2bcca7cebf5ad78859a6a12abe8639594ed Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-17  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: deconflict debug register names CPUDBG_ -> CPUV8_DBG_ for armv8 debug registers.  Change-Id: I3d24cc209309fa9bbeb5c3e6c88a572383c9360e Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-01  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: make DCC read/write functions operate on struct
	armv8_common Change the signature of aarch64_(read|write)_dcc[_64] to take a
	"struct armv8_common *" as the context to operate on. No functional
	change.  Change-Id: Ie501113f65ea22aff2eee173ec717f6908a63494 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-03  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: add -ctibase config option in addition to -dbgbase Some vendors don't fully populate the ROM table, e.g. BCM2357 (used
	in Raspberry Pi 3) doesn't list CTI, however it is mandatory for
	halting an ARMv8 core and therefore it's always present (and
	required), regardless of the ROM table listing it or not.  Change-Id: Ia18a4f1b5b931ccd19805b188ebf737c837c6b54 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2016-09-02  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : aarch64: add symbolic definitions for armv8 opcodes To replace hexadecimal constants with descriptive names and increase
	flexibility.  Change-Id: I6f7b6f045866ed8b9360f54b640ecdb307eebc51 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com>

2015-04-23  David Ung <davidu@nvidia.com>

	* : aarch64: Enable resuming with address Enable resuming to an address.  Change-Id: I29c7d3b56f6cbf8b3cd02c93733fc96f45000af3 Signed-off-by:
	David Ung <david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2015-04-23  David Ung <davidu@nvidia.com>

	* : aarch64: Enable halting debug mode on breakpoint set Ensure that we allow halting debug mode after setting breakpoint Change-Id: I6f0d7a4a4775a93c133fb1ec31dfe3324d9f7395 Signed-off-by:
	David Ung <david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2015-01-15  David Ung <davidu@nvidia.com>

	* : aarch64: Add ARMv8 AARCH64 support files Add new AARCH64 target and ARMv8 support files.  This is an
	instantiation from the cortex_a files but modified to support 64bit
	ARMv8. Not all features are complete, notably breakpts and single
	stepping are not yet implemented.  Currently it lets you halt of the
	processors, resume, dump cpu registers, read/write memory and
	getting a stack trace with gdb.  > halt invalid mode value encountered 5 target state: halted
	unrecognized psr mode: 0x5 target halted in ARM state due to
	debug-request, current mode: UNRECOGNIZED cpsr: 0x600001c5 pc:
	0x00093528 MMU: disabled, D-Cache: disabled, I-Cache: disabled > targets     TargetName         Type       Endian TapName            State --
	 ------------------ ---------- ------ ------------------ ------------
	0* cpu0               aarch64    little cpu.dap            halted > reg ===== arm v8 registers (0) r0 (/64): 0x00000000FFFFFFED (dirty) (1) r1 (/64): 0x00000000F76E4000 (2) r2 (/64): 0x0000000000000000 (3) r3 (/64): 0x0000000000010000 (4) r4 (/64): 0xFFFFFFC06E2939E1 (5) r5 (/64): 0x0000000000000018 (6) r6 (/64): 0x003A699CFB3C8480 (7) r7 (/64): 0x0000000053555555 (8) r8 (/64): 0x00FFFFFFFFFFFFFF (9) r9 (/64): 0x000000001FFEF992 (10) r10 (/64): 0x0000000000000001 (11) r11 (/64): 0x0000000000000000 (12) r12 (/64): 0x00000000000000F0 (13) r13 (/64): 0x00000000EFDFEAC8 (14) r14 (/64): 0x00000000F6DDA659 (15) r15 (/64): 0x0000000000000000 (16) r16 (/64): 0xFFFFFFC0000F9094 (17) r17 (/64): 0x0000000000000000 (18) r18 (/64): 0x0000000000000000 (19) r19 (/64): 0xFFFFFFC00087C000 (20) r20 (/64): 0x0000000000000002 (21) r21 (/64): 0xFFFFFFC000867C28 (22) r22 (/64): 0xFFFFFFC000916A52 (23) r23 (/64): 0xFFFFFFC00116D8B0 (24) r24 (/64): 0xFFFFFFC000774A0C (25) r25 (/64): 0x000000008007B000 (26) r26 (/64): 0x000000008007D000 (27) r27 (/64): 0xFFFFFFC000080450 (28) r28 (/64): 0x0000004080000000 (29) r29 (/64): 0xFFFFFFC00087FF20 (30) r30 (/64): 0xFFFFFFC000085114 (31) sp (/64): 0xFFFFFFC00087FF20 (32) pc (/64): 0xFFFFFFC000093528 (33) xPSR (/64): 0x00000000600001C5 And from gdb (gdb) bt  #0  cpu_do_idle () at

	/mnt/host/source/src/third_party/kernel/3.14/arch/arm64/mm/proc.S:87#1  0xffffffc000085114 in arch_cpu_idle () at



	/mnt/host/source/src/third_party/kernel/3.14/arch/arm64/kernel/process.c:107#2  0x0000000000000000 in ?? () Change-Id: Iccb1d15c7d8ace7b9e811dac3c9757ced4d0f618 Signed-off-by:
	David Ung <david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2015-04-03  David Ung <davidu@nvidia.com>

	* : arm_dpm: Add new state ARM_STATE_AARCH64 Add new enum ARM_STATE_AARCH64 to the list of possible states.  Change-Id: I3cb2df70f8d5803a63d8374bf3eb75de988e24f8 Signed-off-by:
	David Ung <david.ung.42@gmail.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2013-09-23  Dongxue Zhang <elta.era@gmail.com>

	* : target: Add 64-bit target address support Define a target_addr_t type to support 32-bit and 64-bit addresses
	at the same time. Also define matching TARGET_PRI*ADDR format macros
	as well as a convenient TARGET_ADDR_FMT.  In targets that are 32-bit (avr32, nds32, arm7/9/11, fm4, xmc1000)
	be least invasive by leaving the formatting unchanged apart from the
	type; for generic code adopt TARGET_ADDR_FMT as unified address
	format.  Don't silently change gdb formatting here, leave that to later.  Add COMMAND_PARSE_ADDRESS() macro to abstract the address type.
	Implement it using its own parse_target_addr() function, in the
	hopes of catching pointer type mismatches better.  Add '--disable-target64' configure option to revert to previous
	32-bit target address behavior.  Change-Id: I2e91d205862ceb14f94b3e72a7e99ee0373a85d5 Signed-off-by:
	Dongxue Zhang <elta.era@gmail.com> Signed-off-by: David Ung
	<david.ung.42@gmail.com> [AF: Default to enabling (Paul Fertser),
	rename macros, simplify] Signed-off-by: Andreas Frber
	<afaerber@suse.de> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com>

2017-01-22  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.10.0 release Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2017-01-19  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : arm_dpm: avoid duplicating the register cache This bug was already attempted to fix in an earlier patch but
	merging the "defer-examine" feature caused a regression, which this
	patch tries to fix again.  Change-Id: Ie1ad1516f0d7f130d44e003d6c29dcc1a02a82ca Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3951 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2017-01-15  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.10.0-rc2 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2017-01-07  Paul Fertser <fercerpav@gmail.com>

	* : jtag: core: report TRST and SRST as asserted only when they
	really are When SRST is never enabled, the global jtag_srst variable is left at
	its initial state, that is, -1, and it does _not_ mean SRST is
	currently asserted. Same about TRST.  Fixes "reset halt" in cases when srst_pulls_trst but srst usage is
	not enabled.  Change-Id: I8d2e9120479de4cfbf5561033926c9ef945eecc9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3943 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2017-01-07  Tomas Vanek <vanekt@fbl.cz>

	* : tcl at91samdXX.cfg: partially revert change 3722 Commit 25d7ba19c9e70cf5b912f660cf6aaa93d9ca120f introduced a problem
	with 'reset halt' due to setting srst_pulls_trst: Error: cortex_m.c:595 cortex_m_halt(): can't request a halt while   in reset if nSRST pulls nTRST Sorry, I don't know why I overlooked it when I tested #3722.  Change-Id: I41e9473dd91a86d93cf3e78b1fbbdfe1dd188d83 Reported-by:
	Ladislav Laska <laska@kam.mff.cuni.cz> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3942
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2017-01-03  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : doc: Improve ftdi driver section Fix typo and a sentence that sounds strange since the ft2232 driver
	was removed.  Add documentation for the SWD signal usage.  Remove the text mentioning a default VID:PID which doesn't exist.  Change-Id: I27eba571f2f7c46bdb6ae623ab285595018e99d9 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3935 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-12-25  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: build usb_blaster only if enabled Fix build failure when libusb dev files are not available and so
	usb_blaster is disabled.  Change-Id: I4cda7df689cdb4b62b733cbbab813241cf561e29 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3920 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-12-25  Paul Fertser <fercerpav@gmail.com>

	* : Restore -dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2016-11-04  Paul Fertser <fercerpav@gmail.com>

	* : NEWS: prepare for new release Change-Id: I141ff17f6dcab7e164a19c91b975ddd455d26dbc Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3854 Tested-by: jenkins

2016-07-20  Paul Fertser <fercerpav@gmail.com>

	* : doc: add a cross-reference to GDB threading commands Change-Id: If4766ba0053fc94cd47495e442fcf288241af218 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3557 Tested-by: jenkins

2016-11-30  Paul Fertser <fercerpav@gmail.com>

	* : tcl: target: imx5{1,3}: remove bogus tapenable command This seems to be a leftover from borrowing from omap3* configs.
	Since SJC is not enabling or disabling the DAP tap, and the tap is
	always available, the extra tapenable command causes warnings on
	startup (can't enable what's already enabled).  Change-Id: I7514436d565aa5b91876dbdab547956f36dcab77 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3892 Tested-by: jenkins

2016-12-10  Paul Fertser <fercerpav@gmail.com>

	* : README: fix a typo Change-Id: I1ad1ba001f8fad0fffa9b6bd5b21dd58be4f6181 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3902 Tested-by: jenkins Reviewed-by:
	Chengyu Zheng <chengyu.zheng@polimi.it>

2016-08-16  Paul Fertser <fercerpav@gmail.com>

	* : jimtcl: update to 0.77, the current version, enable only
	specific modules This is needed to fix build on aarch64 to get updated config.guess.  Because some newer JimTcl modules that get enabled are failing to
	build on some of the platforms OpenOCD supports, enable only a fixed
	set that shouldn't cause any issues.  We also disable running Jim Tcl tests on distcheck because they
	never worked (before 85358e479e5bbf295a5aaf743f3c29a5e1a4fd1c Jim
	commit) but didn't break Jenkins build; with newer version they're
	getting run and fail due to limited permissions for filesystem and
	networking operations.  Change-Id: I0b6c6a00bf2cf0902bbb01c9c0224fe93c74ac94 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3700 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-12-13  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: ulink: fix uninitialised variable warning This prevents clean build when --enable-verbose-jtag-io is used.  Change-Id: I5c9e6968cfa425b1f6f92f59156b6ae38cb9af18 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3907 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-11-14  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l0.cfg: Add examine-end event like on other STM32 targets.  Enable debug in standby/stop/sleep.  Stop watchdogs during halt.  Change-Id: I8383a191cd897118bd88bf78528d05943f3a368e Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3882 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Deprecate ZY1000, ioutils and oocd_trace These have not been maintained for a very long time so I say it's
	time we remove them.  Change-Id: Ic091978d734be09347e271736df0f7f7f9095243 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3885 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Convert to non-recursive make Change-Id: I11f8bc8553957e2ff083c09e72e16881e4d3bb6f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3865 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Don't set user variables CFLAGS is a user variable and shouldn't be set in either
	configure.ac or Makefile.am because that makes it impossible to
	override compiler flags at configure or make time.  AC_SUBST the default warning flags into AM_CFLAGS instead, which is
	emitted before CFLAGS on the compiler command line.  Do the same thing with a mingw-specific flag as well.  Change-Id: I6ac3a3c8b7e0abf6f0e60ea239b549d68ea6d370 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3870 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Use same case for libjaylink as for other libs Change-Id: I60d91a0543d9b8c580254cdc5f04b2e60209b98b Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3868 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-08-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Replace malloc+manual zeroing with calloc Change-Id: I3c782c34b59cb36b8ca1d36e9c804c67bae5cb45 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3667 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-18  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Output libjaylink version Output the package version of libjaylink to ease debugging.  Change-Id: I3b9da6d046d140ba850056c98e67bed22c885ee0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3887 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-09-30  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Add EMUCOM support EMUCOM is a way to communicate with a J-Link device via so called
	channels. A channel can either be read or written in a single
	operation.  Beside the reserved channels for SEGGER, there are channels
	available to implement vendor and/or device specific
	functionalities. For example, EMUCOM is used on many starter and
	development kits from Silicon Labs to access power measurements and
	various other information and settings.  Change-Id: I6094109c043b34aed4a40ceabe71f30ff896bf1d Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3794 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : xscale: Move debug handler to contrib/loaders Avoid special rules to generate array at compile time by shipping
	the generated file. Convert to Makefile build like the other
	loaders.  Change-Id: I5a05edddcfaff3d395086cd3aa33120f8a7aa9dc Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3864 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-04  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Remove build date from banner for releases In support for reproducible builds, see
	https://wiki.debian.org/ReproducibleBuilds Fixes Debian bug #834316.  Change-Id: Id81ec72a87bf6dd99abfd2a0ae074658111bc9a3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3866 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-02-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Remove conflicting CMSIS_DAP conditional It's already defined by PROCESS_ADAPTERS.  Change-Id: I3bbcb0f77c645e9c5a98c2d5069c178358d1516b Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3239 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-13  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_m: allow setting debug ap during create This patch adds a Cortex-M private configuration option that allows
	setting the acess point during target creation. This circumvents
	situations in hybrid systems when the correct access point can not
	be automatically detected.  Change-Id: If313a5250e6e66509bb9080f3498feab7781dced Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3639 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-05-22  Marc Schink <openocd-dev@marcschink.de>

	* : helper: Code cleanup for hexify() Simplify hexify() and do not longer use 0 as special case for the
	parameter 'count' to determine the string length of the binary
	input.  Instead, use strlen() outside of the function if needed.
	Additionally, fix the return value and return the length of the
	converted string. The old function always returned 2 * count.  Also, use more appropriate data types for the function parameters
	and add a small documentation.  Change-Id: I133a8ab786b8f7c1296afcaf9c0a0b43881e5112 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3793 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-07-20  Steven Stallion <stallion@squareup.com>

	* : gdb_server: support qXfer:threads:read packet This patch adds support for the qXfer:threads:read packet. In
	addition to providing a more efficient method of updating thread
	state, recent versions of GDB (7.11.1 and up) can also report remote
	thread names.  While thread names are not enabled in this patch due
	to its limited applicability at the moment, it can be enabled at a
	later date with little effort.  As a part of revamping how threads are presented to GDB, extra info
	strings for each of the supported RTOSes were updated to match
	conventions present in the GDB source code. For more information,
	see remote_threads_extra_info() in remote.c. This results in a much
	smoother experience when interacting with GDB.  It is also worth mentioning that use of qXfer:threads:read works
	around a number of regressions in older versions of GDB regarding
	remote thread display. Trust me, it's great.  Change-Id: I97dd6a93c342ceb9b9d0023b6359db0e5604c6e6 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/3559 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-10-25  Owen Kirby <oskirby@gmail.com>

	* : at91sam4: Add missing SAM4S family CHIPIDs and remove FWS=6.  Add missing CHIPID values for all SAM4S parts listed in revision K
	of Atmel-11100-32-bit Cortex-M4-Microcontroller-SAM4S_Datasheet.pdf.
	I have also removed the FWS=6 workaround, as this appears to be a
	copy-paste error from the SAM3X family.  Change-Id: I1ce1d82911f39d6fcb8f04034f5c9c9bf2818466 Signed-off-by:
	Owen Kirby <oskirby@gmail.com> Signed-off-by: Tomas Vanek
	<vanekt@fbl.cz> Reviewed-on: http://openocd.zylin.com/3837
	Tested-by: jenkins

2016-11-04  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: cmsis-dap: fix operation with SAMD10 Xplained
	board Change-Id: I9164edeb83c9a9106e74798e98b9517177e83358 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3856 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-01-12  Evan Hunter <ehunter@broadcom.com>

	* : Cortex-R: Force usage of physical memory read/write since there
	is no MMU Change-Id: I69d6e6301ab66744258fe650a76c7241bebe00a8 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/3203 Tested-by: jenkins Reviewed-by: Girts
	Folkmanis <opensource@girts.me> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Jiri Kastner
	<cz172638@gmail.com> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2016-11-10  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: Add verify_image_checksum command This avoids the secondary binary search if the checksum is different Change-Id: I986ba7687cea76f30e37a6bca58aabde18198263 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Signed-off-by: Matthias Welwarsky
	<matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/2869 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-11-11  Andreas Frber <afaerber@suse.de>

	* : xmc4xxx: Add support for XMC4300 XMC4300 can reuse the existing XMC4700/XMC4800 sectors support.  Add
	support for XMC4300 AA to the info command.  Change-Id: Id929a51d20c73bd869a4457ffedc48ad5fa3f2df Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3875 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-11-23  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : cortex_a: remove partnum magic from arp_examine and dbginit Depending on the Debug implementation the "OS Lock" feature might be
	implemented or not. It is not actually depending on the part number
	of the implemented ARM core but on the DBGOSLSR.OSLM bits. This
	patch removes querying the part number and implements proper parsing
	of OSLM. Result is a more generic approach that will work out-of-box
	on more devices.  Change-Id: I79e052869c2f9af1d7fdedef42faddb7292e7332 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3213 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-11-27  Peter Lawrence <majbthrd@gmail.com>

	* : tcl: Support for Analog Devices ADSP-SC58x target tcl to enable debugging of ARM Cortex-A5 on ADSP-SC58x Change-Id: I378f8b94b7d6d6b9d0567985abc0e36aea7c8dea Signed-off-by:
	Peter Lawrence <majbthrd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3125 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Matthias
	Welwarsky <matthias@welwarsky.de>

2016-08-24  Tomas Vanek <vanekt@fbl.cz>

	* : tcl at91samdXX.cfg: update config to current OpenOCD status Remove comment about workaround of not working 'reset halt' - not
	needed as 'reset halt' is working as expected @ EDBG with srst_only.
	Add srst_pulls_trst to reset_config as it no more triggers an error.  Change-Id: I47cf445690c46ccfb866900cddbfcaefc8649f82 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3722 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Remove since long deprecated ft2232 driver Purge all legacy interface configurations so there's no more
	confusion over which one to use.  Also remove doc/INSTALL.txt which mentions ft2232 but otherwise just
	duplicates what INSTALL says.  Change-Id: Ic94f808f123d4917e600b79309f1272c78a7bb11 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3236 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-06-11  Marc Schink <openocd-dev@marcschink.de>

	* : configure.ac: Fix J-Link adapter description The J-Link driver is not JTAG only and the correct spelling of the
	company is "SEGGER".  Change-Id: Ic1062247d3bf0d564960f1ac6dfc86ffb34593e0 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3530 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-06-06  Marc Schink <openocd-dev@marcschink.de>

	* : configure.ac: Fix libjaylink integration Do not configure internal libjaylink if libusb-1.0 is not available
	or if J-Link driver is disabled (--disable-jlink).  Change-Id: I021bca91dbbc33888a997c664f7836225306c3ef Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3528 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-07-27  Tomas Vanek <vanekt@fbl.cz>

	* : flash at91samd, at91sam4l: fix improper use of mem_ap_ call Since merge of #3149 OpenOCD start with an unresponsive SAMD or
	SAM4L resulted in segfaults. First was in cortex_m_assert_reset
	(fixed by #3552), second was in samd_handle_reset_deassert()
	/sam4l_handle_reset_deassert().  The change replaces mem_ap_write_u32/8 by target_write_u32/8.  It
	also takes better care about examining and polling target before
	debug control registers are set. It prevents lockup when 'reset
	halt' is issued on unresponsive cpu.  Change-Id: I2516489f4771aebfc1118d174f527497b8a201ad Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3603 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-08-02  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: Family K8x added Change-Id: I8c090a6fe6c204ce20622006490f896c2a55292f Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3614 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-07-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: longword programming changed to
	flash_async_algorithm Change-Id: I9c40acfad37760c3dab454f2432817b2d420792d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3563 Reviewed-by: Steven Stallion
	<stallion@squareup.com> Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2016-03-30  Harald Welte <laforge@gnumonks.org>

	* : AM335x: Disable watchdog on 'reset halt' At least on my (phyCORE-AM335X) system, the AM335x watchdog needs to
	be disabled to use OpenOCD for more than 6.5 seconds after reset.  Change-Id: I3d883a9f572b0ccb92f9864853a00c372e39d7f2 Signed-off-by:
	Harald Welte <laforge@gnumonks.org> Reviewed-on:
	http://openocd.zylin.com/3391 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-12-09  HarishKumar <harishpresent@gmail.com>

	* : Tcl commands: Fix improper return status in flash commands and
	load_image.  Nand write command : nand_fileio_cleanup() always returns ERROR_OK.
	Due to this, handle_nand_write_command() retuns ERROR_OK in the case
	of nand failure. ERROR_FAIL should be returned.  Flash erase_sector command : handle_flash_erase_command() always
	returns ERROR_OK even if the erase functionality of actual driver
	implementation fails.  retval value should be returned.  Flash write_bank command : handle_flash_write_bank_command() returns
	ERROR_OK even if fileio_open() and fileio_read fails. ERROR_FAIL
	should be returned.  Load_image command : handle_load_image_command() retuns ERROR_OK
	even if image_open() fails. ERROR_FAIL should be returned.  When the
	buffer is null, breaking the loop without setting retval =
	ERROR_FAIL would cause load_image to return ERROR_OK.  Change-Id: Ice32f6036971ab5e8e4dd65edf54b394b001c80c Signed-off-by:
	HarishKumar <harishpresent@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2431 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-07-25  Rick Foos <rfoos@solengtech.com>

	* : tcl/board: Add board configuration for nRF51-DK, and nRF52-DK.  Both boards use SEGGER interface.  nRF52 flash driver is in change 3511.  The board files were needed for transport select to SWD. The default
	jtag transport didn't failover to SWD.  Change-Id: Id9c72aa88eeeb6a4e1999ee182f5284dbe535c05 Signed-off-by:
	Rick Foos <rfoos@solengtech.com> Reviewed-on:
	http://openocd.zylin.com/3600 Tested-by: jenkins Reviewed-by:
	Fredrik Hederstierna <fredrik.hederstierna@gmail.com> Reviewed-by:
	Michael Dietz <mjdietzx@gmail.com> Reviewed-by: Ji Pinkava
	<j-pi@seznam.cz> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-09-09  Ji Pinkava <j-pi@seznam.cz>

	* : nrf51: show proper part number Change-Id: I3e8169eb577888ee54541a1e864a8ad5a9a7cfd1 Signed-off-by:
	Ji Pinkava <j-pi@seznam.cz> Reviewed-on:
	http://openocd.zylin.com/3733 Tested-by: jenkins Reviewed-by:
	Fredrik Hederstierna <fredrik@hederstierna.com> Reviewed-by: Michael
	Dietz <mjdietzx@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-10-05  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: lpc2000: handle lpc11xx parts with more than 96k
	memory Known big flash parts such as LPC11u68/e68 have a non-uniform memory
	organisation, the first 24 sectors are 4k, the rest are 32k.  Change-Id: Icf515152dfc54ec0ca187561d2d63088b9640f14 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3802 Tested-by: jenkins Reviewed-by:
	akaWolf Reviewed-by: Freddie Chopin <freddie.chopin@gmail.com>

2016-10-21  Gabrielle Trotter <gtrotter@bulogics.com>

	* : atsamv: Support for ATSAMS70N19 Memory Configuration Change-Id: I3c17fcb7ee053f92aa583149bea7b8e33b3b86f7 Signed-off-by:
	gtrotter@bulogics.com Reviewed-on: http://openocd.zylin.com/3834
	Tested-by: jenkins Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2016-08-21  Andreas Frber <afaerber@suse.de>

	* : target: Clean up format strings Clean up some type casts and misuses of format specifiers in
	preparation for target address type changes.  Change-Id: Idf08286f41bca636e35a09e8ddc1d71af3d6e151 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3717 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-08-21  Andreas Frber <afaerber@suse.de>

	* : breakpoints: Add missing space in error message A space after the format specifier was missing.  Change-Id: Ib67eb0fb0d6e05d765206d30d5e4a74cb41bb47b Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3715 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-10-04  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: mpsse: ignore error to detach kernel driver This makes it possible to run OpenOCD as unprivileged user on
	FreeBSD.  Change-Id: If1182d09ad2d51f370ae7e6da02f19c7a21c66c9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3800 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-08-21  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: fix mdm check_security regression in JTAG mode Commit 6d5b4d709cb05e8daf0350ac507b928da95d0abb causes failed assert
	when JTAG transport is selected: src/target/arm_adi_v5.h:346: dap_queue_ap_read:   Assertion `ap->dap->ops != ((void *)0)' failed.  As check_security runs early in examine-start event, dap->ops must
	be checked.  Change-Id: Ibd8312a3c668fbce834eed9790eabeed794117aa Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3712 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2016-06-28  Sean Cross <xobs@kosagi.com>

	* : tcl/board: add configuration for Novena's integrated FPGA Change-Id: Iecd57c0ef59cfde98de36464a73436f57b0835e2 Signed-off-by:
	Sean Cross <xobs@kosagi.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/3532
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2016-05-15  Marc Schink <openocd-dev@marcschink.de>

	* : libjaylink: Update for API changes Update to latest libjaylink version and incorporate API changes.  The major change in libjaylink is a rework of the device discovery.
	Please test device discovery extensively, especially with multiple
	devices connected. All other changes in libjaylink are of minor
	importance for OpenOCD.  Change-Id: I9a50e83f59557505ce29809c7762c5df1cec10eb Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3735 Reviewed-by: Andreas Frber
	<afaerber@suse.de> Reviewed-by: Steven Stallion
	<stallion@squareup.com> Tested-by: jenkins Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-08-18  Marc Schink <openocd-dev@marcschink.de>

	* : helper/log: Add log_vprintf_lf() Add log_vprintf_lf() to enable the possibility to output log
	messages with a variable argument list.  Change-Id: I7fd6e93db63a7d98f662df2881a42e4d923c3848 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3709 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-10-04  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f2x: Increase options write timeout Large flash parts time out when unlocking. Mass erase time is
	specified as 32 seconds worst case for some parts. Automatic mass
	erase is probably not using x8 parallelism, though, but a too large
	timeout shouldn't hurt.  Also, use the new define instead of hardcoded timeout when mass
	erasing.  Change-Id: Ib5af60d52ed7d53277bfe7176c4c44f79d3a26bc Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3738 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-05-30  Michael Dietz <mjdietzx@gmail.com>

	* : nRF51: Fix bug in Code memory size.  The code memory size was a bug and seemed to be working by accident
	since there happened to be 256 pages in the device that was tested
	on which corresponded to 256kb.  Also don't fail if memory size != expected memory size based on hwid
	as this hwid is unstable and should be used only for
	debug/diagnostics.  Change-Id: I4e98f7498a36c53fc51783eddfdaba704d30e3ca Signed-off-by:
	Michael Dietz <mjdietzx@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3510 Tested-by: jenkins Reviewed-by: Ji
	Pinkava <j-pi@seznam.cz> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>

2016-08-14  Andreas Frber <afaerber@suse.de>

	* : nds32: Fix typo in debug log wathcpoint -> watchpoint Change-Id: If84cfb5097ed17ef97491667c622ba7d870ac9c2 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3673 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-21  Kent Brinkley <jkbrinkley.imgtec@gmail.com>

	* : mips: Added #define for scan_delay legacy mode default value Believe in using defines to make maintenance easier.  Change-Id: I8edf151352131bbf2b884dfcd67ca5764b11b13c Signed-off-by:
	Kent Brinkley <jkbrinkley.imgtec@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2350 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : stm32l4x: fix incorrect device id mask Change-Id: I37cf9cbdd07dc3764d2c719b7c6ed5852aea3943 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/3799 Tested-by: jenkins

2016-07-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: Implement flash protection setting Kinetis family employs strange concept of Flash Configuration Field
	at address 0x400 of program flash. Writing incorrect data to FCF may
	permanently lock the device.  The change introduces 'kinetis fcf_source protection' mode. In this
	mode write of flash image data to FCF is prevented. FCF data build
	from protection (set by 'flash protect' command) are written
	instead.  FCF data are written also just after erase of relevant sector. It
	protects device from locking security by reset or power cycle after
	erase.  prot_blocks array is used as protection blocks have bigger size than
	sectors.  Alignment and padding programming sections is rewritten to fix
	writing with not section boundary aligned begin.  Change-Id: I9fc8bd37d6f627fb8ed7abb7f7560e78a740b195 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3562 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-07-22  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: refactoring ftfx commands and numerous minor
	changes Add kinetis_ftfx_decode_error() to show flash error type in human
	readable message.  Add kinetis_ftfx_prepare() to prepare flash module just once in
	command (not each time kinetis_ftfx_command() is called).  Change target_read/write_memory() to target_read/write_u8/32().  Make ftfx_fstat parameter of kinetis_ftfx_command() optional.  Longword flash write: Fix huge memory leak after write of unaligned
	block.  Check flash address alignment properly.  Do not fill whole
	padding buffer but its end after original data.  Remove duplicite
	padding.  Change-Id: Ia5e312909f68d3cc724c8cbffe1cd903b9102124 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3561 Tested-by: jenkins Reviewed-by: Steven
	Stallion <stallion@squareup.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-07-19  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: dynamic status detection before starting
	mass_erase The change prevents starting mass_erase in unstable state of MCU
	(RESET/WDOG loop).  mass_erase of secured MCU using manual reset
	button is supported.  Timeouts are measured by timeval_ms() instead
	of iteration count.  mass_erase timeout prolonged to 16 seconds
	because aborting mass_erase in progress (deasserting reset) leaves
	the device in security locked state.  Change-Id: I6605532df56080a54c2a1dfe49094e3db4ce534a Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3551 Tested-by: jenkins Reviewed-by: Steven
	Stallion <stallion@squareup.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-07-09  Steven Stallion <stallion@squareup.com>

	* : kinetis: support mass erase on boards without SRST NXP (nee Freescale) documents the mass erase procedure using the
	MDM-AP block in AN4835. Existing support for this feature did not
	properly handle boards without SRST. This patch updates the
	mass_erase command such that it works correctly on these boards.
	Additionally, the core is left in a halted state once complete to
	prevent reset loops due to the watchdog as reported by some users.  Since the MDM-AP provides an additional method of halting and
	resetting the core that is disconnected from the DAP, additional
	commands are provided to manage this state. These commands are
	particularly helpful when connecting to a target with an unknown
	state.  Change-Id: I40f006d5d964befb12b019c5d509988decdd3f91 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/3540 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-02-25  Stephen Tridgell <stephen.tridgell@exablaze.com>

	* : ftdi: Added a method to read the signal values Change-Id: Ie32a372bbc57249b4802d900234a0e8e7d1d1830 Signed-off-by:
	Stephen Tridgell <stephen.tridgell@exablaze.com> Reviewed-on:
	http://openocd.zylin.com/2556 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-08-01  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/board: add Marsohod CPLD board config Marsohod is a very cheap CPLD Development and Education board.
	Please see http://marsohod.org/howtostart/plata for details.  Sample usage:   openocd -f board/marsohod.cfg -c init -c "svf -tap epm240.tap
	  project.svf" -c shutdown Change-Id: Ia8b7d46cbead15a2a41a2a4e68d7ff4f4ee3e88a Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3608 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-09-28  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/board: add Marsohod3 FPGA board config Marsohod3 is a cheap FPGA Development and Education board.  Please
	see http://www.marsohod.org/plata-marsokhod3 for details.  Sample usage:   openocd -f board/marsohod3.cfg -c init -c "svf -tap 10m50.tap
	  project.svf" -c shutdown Change-Id: Ie5f43e696bbd1f3be2710c3916e808359f6e8d18 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3606 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-07-28  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/board: add Marsohod2 FPGA board config Marsohod2 is a very cheap FPGA Development and Education board.
	Please see http://www.marsohod.org/prodmarsohod2 for details.  Sample usage:   openocd -f board/marsohod2.cfg -c init -c "svf -tap ep3c10.tap
	  project.svf" -c shutdown Change-Id: Ibf39a5d463eeda9d4031fa626f01ea2599396ff2 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2890 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-09-27  Antony Pavlov <antonynpavlov@gmail.com>

	* : tcl/interface/ftdi: add config for the MBFTDI adapter MBFTDI is a very cheap FT2232-based JTAG adapter for programming
	Marsohod FPGA board.  Please see http://www.marsohod.org/prodmbftdi for details.  Change-Id: I35f758b49d1566098dc27f9581829cccad93ceeb Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3604 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-08-10  Peter A. Bigot <pab@pabigot.com>

	* : gdb_server: support disabling server Although the documentation suggested this worked, and it is
	implemented for tcl_port and telnet_port, the directive was not
	recognized for gdb_port.  Change-Id: I38d95ee879ec3f6d551603b7313749a21e0e498e Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Reviewed-on:
	http://openocd.zylin.com/3637 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-07-20  Steven Stallion <stallion@squareup.com>

	* : rtos: remove display_str member This patch removes the display_str member in the thread_detail
	struct.  This member was not being used and provides no additional
	benefit over the thread_name_str and extra_info_str members. This
	change is made in preparation of support for the qXfer:threads:read
	packet, which will modernize how thread information is shared with
	GDB.  Change-Id: I1f8bc6325e6aa790e02ea6caee9d6f44c5fedf36 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/3558 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-05-21  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : flash/nor/tcl.c: Less verbose output of flash erase_check.  Only report non-erased or unknown sectors or if bank is fully
	erased.  Change-Id: I94f0bc2a0d6529d1ea5f66b284cefd6a2c61fe39 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3501 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Andreas Frber <afaerber@suse.de>

2016-02-09  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : board: add configuration for freescale imx6q sabresd board This configuration file contains jtag, reset and init functions for
	the Freescale SabreSD board variant with iMX6Q SoC.  Change-Id: I2366af6da1d82550eb485f36ad61469305c59ffb Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3357 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-03-02  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : tcl/target/stm32f4x.cfg: Use Workareasize of smallest possible
	device.  Increase workareasize when it is know we have a larger device.  Change-Id: Ieaee92e7cd25cc201989f14de122349698871412 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3378 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-07-21  Tomas Vanek <vanekt@fbl.cz>

	* : target: check late abort from target in async_algorithm target_run_flash_async_algorithm() ignored abort from target (rp set
	to 0) when raised after all data have been written in fifo.  I could
	result e.g. in not reported error during flash write.  The change adds rp test after target algorithm has finished.  Change-Id: Iadd93371e4a4602737be10079479285d81ae41b2 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3560 Tested-by: jenkins Reviewed-by: Steven
	Stallion <stallion@squareup.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-02-28  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : tcl/target/stm32l4x.cfg: Reduce adapter speed before reset.  Change-Id: I200286c0b980369f74e8f1e497bc5e565ddb616d Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3366 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-22  Andreas Frber <afaerber@suse.de>

	* : kinetis_ke: Switch to standard build variables Instead of using ARM_ prefixed variables and an "arm" target, use
	CROSS_COMPILE, AS, OBJCOPY. This requires to switch from ?= to = to
	avoid the host assembler getting invoked.  This allows to handle kinetis_ke subdirectory like fm4 and xmc1xxx.  Change-Id: I7ea0bf119f6c4716f4d6002794004730af49eef4 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3505 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-08-06  Tomas Vanek <vanekt@fbl.cz>

	* : psoc4.cfg: fixed typo in message, add a hint PSoC4 design prevents reset halt/init with standard/low level SWD
	adapter if hw reset line configured. Give user hint to use
	'reset_config none' in such case.  Change-Id: I0ca2c46b8575829b0013fd151f2eb63963d66653 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3617 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2016-08-10  Felix Held <felix-openocd@felixheld.de>

	* : xilinx-xc7: correct Artix7 15T IDCODE The IDCODE of Artix7 15T in the UG470 is wrong; Artix7 35T and 15T
	don't have the same IDCODE.  I've tested this on real hardware.  Change-Id: Iac267dc449c23454dd119126749dbeb8267c18ac Signed-off-by:
	Felix Held <felix-openocd@felixheld.de> Reviewed-on:
	http://openocd.zylin.com/3633 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-03-02  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : target: add "phys" argument to mem2array, array2mem Allow using physical addresses with mem2array and array2mem. In
	order to minimize the impact on existing scripts, "phys" is added as
	an optional 5th parameter to both commands.  This patch also adds "phys" variants to the memwrite/memread
	commands in memory.tcl.  Change-Id: Ia6307f9d861789e7f3ccf1f98961d666bf8d85d6 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3387 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-25  Andrey Skvortsov <andrej.skvortzov@gmail.com>

	* : flash: nor: mdr: fix verification problem with 1986VE1T or
	1986VE3T 1986VE1T and 1986VE3T have issue with flash acceleration engine
	described in their errata (issue 0007).  After programming flash
	acceleration engine's buffer contains old data, and therefore first
	read data are wrong. Because of this verification after programming
	fails always. Recommended workaround for the issue is to flush flash
	accelerator's buffer. To do so it's necessary to read at least 64
	bytes of flash through accelerator.  Reading bytes through JTAG using default_flash_read doesn't help.
	It seems that reading should be done by uC itself.  Change-Id: I18ef464a68ad5c5b16d3933f31ca61f8e2e7cca3 Signed-off-by:
	Andrey Skvortsov <andrej.skvortzov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3509 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-04-24  Tomas Vanek <vanekt@fbl.cz>

	* : arm_adi_v5: add dap apreg command for AP register read/write A developer tool: Direct access to AP registers can be useful for
	handling vendor specific AP like Freescale Kinetis MDM or Atmel
	SMAP.  Change-Id: Ie2c7160fc6b2e398513eb23e1e52cbb52b88d9bd Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2777 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2016-07-11  Steven Stallion <stallion@squareup.com>

	* : server: support binding to arbitrary interfaces Some installations of OpenOCD are used in restricted environments
	that do not permit binding to public interfaces.  This patch does not affect the default behavior to listen on all
	interfaces, however it does give the option to restrict services by
	way of the bindto command.  Change-Id: Id51bd64b376a8c62dd47b08b4d834872925e6af2 Signed-off-by:
	Steven Stallion <stallion@squareup.com> Reviewed-on:
	http://openocd.zylin.com/3534 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-11-27  Esben Haabendal <esben@haabendal.dk>

	* : cfi: Add support for strangely endianness broken SoC
	implementations This adds the 'data_swap' parameter to the CFI driver, which enables
	swapping of data bytes when writing/programming words to the flash.
	Note, that this specifically means that bytes are not swapped when
	writing command words to the flash chip.  Unless you are using the
	SAP in an LS102x chip to program an attached 16-bit NOR flash, you
	hopefully do not need this! Change-Id: I1e6f7169da36f373c880d1756d9c21c9957acc50 Signed-off-by:
	Esben Haabendal <esben@haabendal.dk> Reviewed-on:
	http://openocd.zylin.com/3109 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-05-31  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f7x.cfg: Fix expected JTAG id.  Change-Id: Icd21b9ac5f50094262f30db431d8a775a0d263ca Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3512 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-16  Marc Schink <openocd-dev@marcschink.de>

	* : Remove FSF address from GPL notices Also make GPL notices consistent according to:
	https://www.gnu.org/licenses/gpl-howto.html Change-Id: I84c9df40a774958a7ed91460c5d931cfab9f45ba Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3488 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-11-29  Andreas Frber <afaerber@suse.de>

	* : armv4_5: Integrate build of erase check code Add rules to build armv4_5_erase_check.inc, and convert the code to
	target endianness the least intrusive way.  Drop an unused word from the assembler sources to make the ARM
	bytecode fully match that of armv4_5.c and to not break ARMv4
	assumptions.  This completes the build rules for contrib/loaders/erase_check
	directory.  Change-Id: I36be7a944e26142088195fa3fb072d4e577bf328 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3135 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-08  Andreas Frber <afaerber@suse.de>

	* : armv4_5: Improve arm_checksum_memory() error handling Clean up the working area in case writing fails.  Change the error
	handling paradigm to avoid duplication.  Change-Id: Ie3f95f992a98a1325428e4032a1c17346d4c9977 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3472 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-04-17  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add PSoC 5LP config Tested with CY8CKIT-059 and soldered-on J5 connector.  Change-Id: I687786179f2df354321a18d26330c60908461e0b Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3410 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-16  Andreas Frber <afaerber@suse.de>

	* : xmc4500: Disable SRST for SDRAM App Kit Just like observed with the General App Kit earlier, it now started
	to fail halting:   SWD IDCODE 0x2ba01477   TARGET: xmc4500.cpu - Not halted   in procedure 'reset'   in procedure 'ocd_bouncer'   SWD IDCODE 0x2ba01477   Halt timed out, wake up GDB.  Rely on the target's default sysresetreq behavior to allow flashing
	to work seemlessly again.  Change-Id: Ib9ce5f2c0ab99dca6d0fc74435fe26a58437fae5 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3416 Tested-by: jenkins Reviewed-by: Jeff
	Ciesielski <jeffciesielski@gmail.com> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-07-12  Andreas Frber <afaerber@suse.de>

	* : lpcspifi: Fix SWD support for LPC43xx When using SWD rather than JTAG transport, the lpcspifi driver
	complains:   Error: Device ID 0x0 is not known as SPIFI capable   Error: auto_probe failed This is because target's JTAG tap->idcode is zero for SWD.  Drop this check completely and hardcode the addresses for now.
	Neither the JTAG TAPID nor the SWD IDCODE are unique enough to
	detect the exact chip model and thereby its memory map.  Change-Id: Ic230e3e989a3e1f1a5b3bae68bdb34e5ef55d392 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3089 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-04-17  Marc Schink <openocd-dev@marcschink.de>

	* : board/efm32: Disable SRST The current configuration leads to the following error when trying
	to program the target:   SWD IDCODE 0x2ba01477   timed out while waiting for target halted   TARGET: efm32.cpu - Not halted   in procedure 'program'   in procedure 'reset' called at file "embedded:startup.tcl", line
	  478 in procedure 'ocd_bouncer' Use the default reset handling of the target (SYSRESETREQ) to reset
	the system rather than SRST to fix the problem.  Tested on EFM32GG, EFM32TG and EZR32WG STK.  Change-Id: I788c41baf08b20814cbe0934b563424c4bc144b8 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3420 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-05-20  Ivo Manca <pinkel@gmail.com>

	* : nand: change use_raw to boolean Change type of use_raw to boolean. This parameter was already
	assigned a boolean variable (in COMMAND_PARSE_ENABLE) and used as a
	boolean.  Change-Id: I22f8308246cb25ec9ec2395599e406160410a2a8 Signed-off-by:
	Ivo Manca <pinkel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3496 Reviewed-by: Andreas Frber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-05-19  Samuel Martin <s.martin49@gmail.com>

	* : tcl: add STM32F429I-DISC1 board config Both the STM32F429I-DISC{O,1} boards are equipped with the same MCU,
	but differ by the debugging chip: - the STM32F429I-DISCO uses the ST-LINK/V2 chip; - the STM32F429I-DISC1 uses the ST-LINK/V2-B chip (which matches the
	  USB VID/PID set in stlink-v2-1.cfg).  Change-Id: I07d637f72d26cf5d714472638da974eb6ca02325 Signed-off-by:
	Samuel Martin <s.martin49@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3492 Reviewed-by: Andreas Frber
	<afaerber@suse.de> Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-05-18  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l1/Cat.3: Devices have only one bank.  Change-Id: I02ce243c228ea20be6d5f01fee705a671747ebad Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3490 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-05-16  Andreas Frber <afaerber@suse.de>

	* : kinetis: Fix typo in variable names It's security, not securtiy.  Change-Id: Idb10d7e0a1ca47d2d93b496d12cd4ec7ad116f22 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3487 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-14  Andreas Frber <afaerber@suse.de>

	* : arm_adi_v5: Add part numbers for Infineon XMC4000 family This was found on multiple XMC4500:         Valid ROM table present                 Component base address 0xe00ff000                 Peripheral ID 0x00001c11db                 Designer is 0x0c1, Infineon (Siemens)                 Part is 0x1db, Unrecognized                 Component class is 0x1, ROM table                 MEMTYPE system memory present on bus On multiple XMC4700 and an XMC4800 this was found instead:         Valid ROM table present                 Component base address 0xe00ff000                 Peripheral ID 0x00001c11df                 Designer is 0x0c1, Infineon (Siemens)                 Part is 0x1df, Unrecognized                 Component class is 0x1, ROM table                 MEMTYPE system memory present on bus Name them "XMC4500 ROM" and "XMC4700/4800 ROM" respectively.  Change-Id: If369a6d16524004ba439b878f090a313a9f3a760 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3482 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-02-14  Alexander Kurz <akurz@blala.de>

	* : jtag ulink: dont compile function when not required ulink_calculate_frequency() is used exclusively when _DEBUG_JTAG_IO_
	is set, no need to compile this function if it is not used.
	Declaring it static in the same commit.  Change-Id: I243ffdf69a1dc3bee6d16e4bb8d78396b6ea5144 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3241 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-05-14  Andreas Frber <afaerber@suse.de>

	* : arm_adi_v5: Adjust part number column alignment Consistently increase the space-indentation of the .full values to
	nicely align with the new "Qualcomm QDSS Component v1" .type value.  Change-Id: Icd28d8f3fc7c3afcccb9dcfe138ac57d64927d1a Suggested-by:
	Freddie Chopin <freddie.chopin@gmail.com> Signed-off-by: Andreas
	Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3480 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2016-05-14  Andreas Frber <afaerber@suse.de>

	* : doc: Fix mismerges of fm4, kinetis and kinetis_ke flash drivers Commit dfc6658cf98d494e066426945879b9f60bbf9678 ("Kinetis: flash
	driver described in openocd.texi") inserted a kinetis section
	between fm3 and lpc2000. Then commit
	43ff5acd45017fd9828cc56f54b929e600956c3b ("flash: New Spansion FM4
	flash driver") was merged, inserting the fm4 section between kinetis
	and lpc2000, instead of after fm3. Finally kinetis_ke was added
	between kinetis and fm4 in commit
	5396ec5dcc64354c8101f8d3f16d498ca3b10326 ("flash: Added support for
	Freescale Kinetis KE family.").  Restore the alphabetical order by moving the fm4 section to before
	kinetis.  Change-Id: I77e47c3cd5b2cd8570b62ff2f7be8526aaf57ad0 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3484 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Marc Schink
	<openocd-dev@marcschink.de>

2016-05-05  Jiri Kastner <cz172638@gmail.com>

	* : arm_adi_v5: added partnumber for APQ8016 On APQ8016 was found a CoreSight component designed by Qualcomm,
	according to db410c HRM [1] it has a partnumber following this
	schema: [11:8] is 0x4 meaning Qualcomm designed Coresight component in QDSS.
	Reads as 0x4.  [7:6] is Subsystem/core family ID (e.g. denote QDSS
	family or generation).  [5:4] is Subsystem/core configuration
	options (e.g. denote cache options, etc.).  [3:2] is Subsystem/core
	fuse options.  [1:0] is Subsystem/core future use field Reads as
	0x440.  [1] -

	https://developer.qualcomm.com/download/sd410/hardware-register-description-qualcomm-snapdragon-410.pdfChange-Id: I9b4b41fd17c59d2f5ae35b53278d06d6087665f8 Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Signed-off-by: Andreas Frber
	<afaerber@suse.de> Reviewed-on: http://openocd.zylin.com/3408
	Tested-by: jenkins Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-02-08  Rick Foos <rfoos@solengtech.com>

	* : flash/nor: Add Ambiq Micro Apollo flash driver.  Initial release of Ambiq Micro Apollo flash driver supporting our
	sub-threshold (low power) Cortex M4F part, and Evaluation Kit.  We have been shipping openocd to our customers for about one year.  The EVK boards are SWD only using ftdi. We also use two of the other
	COM instances to display debug information.  It takes about 15 seconds to flash 512K, and mass erase is about 5
	seconds.  Tested by internal verification group, FAE's, and customer sites.  Merged commit 'refs/changes/17/3417/1' as suggested. Makefile.am and
	drivers.c follow the new format to avoid conflicts.  Removed unused fault_capture command.  Added documentation for flash driver.  Change-Id: Iae92d869369c6827244f0071f9cb522d8d91fed8 Signed-off-by:
	Rick Foos <rfoos@solengtech.com> Reviewed-on:
	http://openocd.zylin.com/3230 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-05-08  Andreas Frber <afaerber@suse.de>

	* : xmc4xxx: Improve xmc4xxx_blank_check_memory() error handling Clean up working area in case writing fails. Probably inherited from
	armv7m_blank_check_memory(). Fix adapted from
	armv7m_checksum_memory().  Change-Id: I784bef481d1eba833ab6a9c34249fe9d43a16081 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3470 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2016-05-11  Aleksander Morgado <aleksander@aleksander.es>

	* : arm7: add missing braces around an if() Spotted by gcc:     arm7_9_common.c: In function arm7_9_unset_breakpoint:     arm7_9_common.c:353:4: error: this if clause does not
	        guard... [-Werror=misleading-indentation] if (current_instr ==
	        arm7_9->thumb_bkpt) ^~     arm7_9_common.c:356:5: note: ...this statement, but the latter
	         is misleadingly indented as if it is guarded by the if if
	         (retval != ERROR_OK) ^~ The logic won't change once the braces have been added, as the new
	'retval' check only makes sense within the if().  Change-Id: I6a303e118f2150e5eb25c9268ad06de5d8a533b2 Signed-off-by:
	Aleksander Morgado <aleksander@aleksander.es> Reviewed-on:
	http://openocd.zylin.com/3477 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-02-13  Alexander Kurz <akurz@blala.de>

	* : Helper ioutil: cleanup: removing dead code The ioutil helper functions copyfile and copydir were last and only
	used in ecosboard.c which has been removed with commit 39650e22.
	Removing the dead code.  Change-Id: I36c7c4c5009d755b4513a14a9f9e214d1ee500e8 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3240 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-02-22  Robert Jordens <jordens@gmail.com>

	* : flash/nor/spi: fix macronix 25l1005 chip erase Change-Id: Ibc445bbe9360d0f1f41e71af8b990b96e0ae5d1f Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3349 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-03-02  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stlink: Decode more errors.  For STLINK_SWD_AP_FAULT git://git.ac6.fr/openocd commit
	657e3e885b9ee10 returns ERROR_OK with the comment: Change in error
	status when reading outside RAM.  This fix allows CDT plugin to
	visualize memory.  Change-Id: Id8e220961b748ef9467fd84de62b1dc84ace63f8 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3373 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-03-25  Lieven Hollevoet <lieven@quicksand.be>

	* : Support for debug interface lock of EFM32 controllers The capability to lock the debug interface on EFM32 controllers was
	lacking in OpenOCD.  After receiving some pointers by zapb_ and
	PaulFertser on IRC (thanks guys!) I have added this capability.  This works by writing the required bits in the debug lock word to
	'0'.  Note: there is currently no way to re-enable the debug interface
	from OpenOCD as doing this requires specific pin wiggling that is
	currently not implemented yet.  However: having the capability to lock the debug interface is useful
	when building a volume programming jig.  You can flash the program
	code, verify and then lock the debug interface so that the device
	cannot be read when it is deployed in the field.  Change-Id: If2d562dfdb4b95519785a4395f755d9ae3d0cf12 Signed-off-by:
	Lieven Hollevoet <hollie@lika.be> Reviewed-on:
	http://openocd.zylin.com/3389 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-04-24  Andreas Frber <afaerber@suse.de>

	* : xmc4xxx: Fix error propagation for erase_check callback If an error occurs during xmc4xxx_blank_check_memory() aka
	.erase_check, it would break out of the loop over flash sectors and
	return ERROR_OK.  Instead return the error code so that tcl.c can notify the user.  Change-Id: Ie2c1b7933eef2b240b28f8a292634fbbf5b31706 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3425 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-04-06  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : ftdi: make ftdi_location command depend on libusb1 version The function libusb_get_port_numbers(), required for the command
	ftdi_location, is only available in recent version of libusb1.
	Compilation will break if the function is not available. This patch
	enables the command only if libusb1 contains the necessary function.  Change-Id: I091e72dafa4ed22eea51692751d43246a8152987 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3396 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-04-21  Peter D. Gray <peter@conalgo.com>

	* : at91samd: Add additional "B Variant" parts from SAMD21 family The parts are listed in Rev I of the Datasheet Change-Id: Icdd9108a0f1f19f666fce79de7f25df9f46de866 Signed-off-by:
	Peter D. Gray <peter@conalgo.com> Reviewed-on:
	http://openocd.zylin.com/3424 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2014-08-24  Salvador Arroyo <salvador@telecable.es>

	* : Fix for BMIPS BMIPS always needs 2 additional instructions to reach the core.
	Seems there is a 2 instructions fifo between the tap and the core,
	or it behaves in this way.  No idea of the purpose of this fifo, I
	can only guess.  Of course function mips32_pracc_clean_text_jump()
	must add this additional instructions (NOPs).  Only tested on
	bcm3348..  Change-Id: I3183d3ce865d469d7262ba4b15446e5743a5f1df Signed-off-by:
	Salvador Arroyo <salvador@telecable.es> Reviewed-on:
	http://openocd.zylin.com/2270 Tested-by: jenkins Reviewed-by: Kent
	Brinkley <jkbrinkley.imgtec@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2016-04-25  Tomas Vanek <vanekt@fbl.cz>

	* : at91samd: Atmel SAML22 (segment LCD) family added Part IDs taken from Atmel-42402C-SAM L22_Datasheet_Complete-01/2016
	(revision C) Change-Id: I1eb76a92097a8327da10faa0551e7fc962a549f8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3426 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-12-19  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: new KVx family added Cortex-M0+ and M4 motor control MCUs KV10, KV11, KV30, KV31, KV42,
	KV44 and KV46 added to SDID identification.  Watchdog disable code
	changed to work on Cortex-M0+ (KV1x) Protection size set to 1K for
	16K flash devices (KV10Z16) - cherry picked from Andrey Smirnov's change #2051 Change-Id: Ia6f4868eaf7e2cb6ad6a736210c703a67e0027be Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3235 Tested-by: jenkins Reviewed-by: Kyle
	Manna <kyle.manna@fuel7.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-04-17  Andreas Frber <afaerber@suse.de>

	* : flash/nor: Reorder drivers alphabetically To avoid conflicts between flash drivers being added, consistently
	use an alphabetical sort order for the three places new drivers get
	added: * Makefile.am NOR_DRIVERS (note: automake disallows a trailing
	backslash) * drivers.c struct flash_driver forward declarations * drivers.c flash_drivers array Change-Id: Idcd6a8e12821ef10958a6b3ad7bac0dc63cadd08 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3417 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2016-03-02  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f2x.c: Add more F4 devices.  Taken from git://git.ac6.fr/openocd commit e8ed67c42227b7072
	STM32F446 (0x434) now is's own case.  Change-Id: I5061db7102b4c923c9f39d3d2f0cc69d29fca0a4 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3375 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-11-30  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* :  stm32l4x.c: Correct waiting for data.  Old code waited only for 7 bytes and didn't handle buffer
	wrap-around, but was functional despite.  Change-Id: Iceaf7be1e51368b2ec0a8722cc9ac16d12f9aa63 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3140 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-04-13  Marc Schink <openocd-dev@marcschink.de>

	* : server/telnet: Check malloc() return values Change-Id: I598bd2dd5a65c0d1a8745bde41763057c4427a31 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/3412 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2016-04-06  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : RTOS support: Add FPU support for FreeRTOS Add new structure for for working with FPU thread in thread view.
	This modification support both stacking.  When FPU is activated, LR
	must be validated to check if the FPU register are push on the
	stack. This is mandatory to find the correct stack pointer position.  the modified code was inspired and adapted from
	https://github.com/TauLabs/TauLabs/commit/88d2003bb83a6b72c796274c889e307f96645966Change-Id: I6641926aa14e7216cacb399cbc8bb0db324cc9fc Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/3397 Tested-by: jenkins Reviewed-by: Sergey
	A. Borshch <sb-sf@users.sourceforge.net> Reviewed-by: Harry Zhurov
	<harry.zhurov@gmail.com> Reviewed-by: Anton Gusev Reviewed-by:
	  <mtsivinsky@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-11-30  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l4x.c: Free r6/7 for 64-bit operations.  Use r5 instead of r7.  Change-Id: I350d00eeabe9446d64dba8f1dbffb5d4beab7dd6 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3138 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-03-10  Tomas Vanek <vanekt@fbl.cz>

	* : flash Kinetis: remove TARGET_HALTED halted check from probe There is no reason why not probe running target.  Initial gdb
	connect to running target is now possible without halt in gdb-attach
	event.  Change-Id: Iacc4a231587d378168b18db871582f1086504831 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3382 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-02  Matthias Welwarsky <matthias.welwarsky@sysgo.com>

	* : ftdi: allow selecting device by usb bus location This patch adds a 'ftdi_location' command to select an adapter by
	usb bus number and port path.  This is helpful if you have a rack full of adapters in a testing or
	manufacturing setup where the only constant is the physical usb bus
	location of the adapter you want to address. Vid:Pid are not unique,
	serial number _may_ be unique (and maybe not with embedded adapters)
	but will change when a new target is plugged.  Specifying a location allows to understand instantly which board
	failed bringup or testing.  Change-Id: I403c7c6c8e34fe42041b3f967db80f3160a4f1a3 Signed-off-by:
	Matthias Welwarsky <matthias.welwarsky@sysgo.com> Reviewed-on:
	http://openocd.zylin.com/3351 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-12-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jim-nvp: Make Jim_GetOpt_String const-correct Change-Id: Iae9824f6ff47a1944e674e59bfaa970904645082 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3178 Tested-by: jenkins

2016-01-12  Evan Hunter <ehunter@broadcom.com>

	* : Cortex-A/R: Add missing timeout for loop polling DSCR & fix
	timeout types Change-Id: I345658cfdc8a34a98418727423ac6bd562e980f3 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/3201 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-12-06  Andreas Frber <afaerber@suse.de>

	* : fm4: Add support for MB9BFx64/x65 These appear to be just additional flash size configurations.
	Entirely based on manual, untested.  Change-Id: I4460dc1a588335df8fc0a385d24513a4e35b6951 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3157 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-02-06  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: mdr: implement read/verify for Info memory This adds necessary code to obtain data from the Info region which
	is not memory-mapped so can't be read the usual way.  With this "flash read_bank" and "flash verify_bank" commands should
	start to work as expected for the Info memory block.  Change-Id: I57e4b80fff577500cfa85954b625fe9c9ff92aa5 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3227 Tested-by: jenkins Reviewed-by: Eldar
	Khayrullin <eldar.khayrullin@mail.ru> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-11-29  Andreas Frber <afaerber@suse.de>

	* : xmc4xxx: Integrate build of erase check code Instead of pointing to the assembler sources in a comment and
	inline-commenting the THUMB bytecode, place the hex array alongside
	the assembler sources and include it via preprocessor.  Originally inspired by a typo in the file path during driver
	development, but it also facilitates making changes to the assembler
	sources.  A Makefile is provided to help automate updating the bytecode. It is
	not integrated with the automake system to avoid forcing an ARM
	cross-compiler onto every user, i.e. after modifying the sources
	they need to be rebuilt in that directory before building the usual
	way. ARM_CROSS_COMPILE= can be passed on the make command line to
	deal with native ARM toolchains or with varying prefixes of
	cross-toolchains.  Change-Id: I00ceb980a68c8554a180dd13719ac77b677a8bcd Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3133 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-02-17  Colin Helliwell <colin.helliwell@ln-systems.com>

	* : at91sam4 Flash: Added identification of atsam4n's The Flash driver for at91sam4 cpu's has been enhanced to recognise
	and support the SAM4N family.  Change-Id: I50c471a6053b52edffd8efdd8abfe516cc5c55ee Signed-off-by:
	Colin Helliwell <colin.helliwell@ln-systems.com> Reviewed-on:
	http://openocd.zylin.com/3242 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2016-02-25  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32lx.c: Add STM32L0 categories 1, 2 and 5.  Change-Id: I493072a856a66e4cd60de490a0937287db4b5c4d Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/3360 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-26  Alexander Kurz <akurz@blala.de>

	* : flash/nor/faux.c: fixing check for failed malloc Error found by static code analysis using the semantic pattern
	null_ref2/mini_null_ref2.cocci, see coccinellery.org Change-Id: Ic817c29f0ccf2b41fc8f7d9a480ad30d6e5b7ab8 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3364 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-28  Alexander Kurz <akurz@blala.de>

	* : flash/nor/stellaris: fix: flash info RCC and RCC2 mixed up The flash info command on stellaris platformes "TI/LMI Stellaris
	information ... rcc is ..., rcc2 is ..." presented the actual RCC2
	register as rcc and an uninitialized variable as rcc2 due to a copy
	and paste error.  Found using the semantic pattern da/da.cocci, see
	coccinellery.org Change-Id: I6f920fc3e07fdc085ea8e2248fbc9453eb8393dc Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3368 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-28  Alexander Kurz <akurz@blala.de>

	* : Cleanup: removal of obsolete semicolons Obsolete C source code semicolons were removed using the semantic
	patch semicolon/semicolon.cocci, see coccinellery.org Change-Id: I153b4995a9e028ebaf5f58c947821dc78345a777 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3367 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-02-18  Peter A. Bigot <pab@pabigot.com>

	* : nrf51: move hwid 0057 and add 0058 Chip markings:     N51822 / QFAAG2 / 1435CZ for HWID 0057     N51822 / QFAAG3 / 1436AJ for HWID 0058 Change-Id: I242b94d6a2362aae0de970c7ac77811c76dacdc0 Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Reviewed-on:
	http://openocd.zylin.com/3187 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Rewrite dap_rom_display Simplify by printing one component per call, instead of one complete
	ROM Table per call. Print common information the same way for all
	components, including ROM tables, because ROM tables (at least the
	top level) contain useful information in their identification
	registers, such as the manufacturer of the SoC.  Print component designer name using the JEP106 helper when
	available.  Change-Id: Ic51bccd98acfae6886243500153fbdd567be2fae Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3182 Tested-by: jenkins Reviewed-by: Jiri
	Kastner <cz172638@gmail.com> Reviewed-by: James Mastros
	<james@mastros.biz>

2016-02-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5_swd: Avoid special handling the SELECT cache during
	connect The cache is forced to zero to match the value expected by the DPIDR
	read so the connect sequence is not destroyed by a SELECT update.  However, DPIDR and in fact all registers except address 4 are
	independent of the current DPBANKSEL value. Change
	swd_queue_dp_bankselect() to use this fact and avoid touching SELECT
	for those registers.  Change-Id: I0cd11925fb6adef481bbf45cc24ea2c6dab4b6fb Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3231 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz>

2015-10-13  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: flash driver described in openocd.texi Change-Id: Id3410fc94f73191e3d7810115676046e5c760a0b Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3014 Tested-by: jenkins

2015-10-02  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: invalidate flash cache after erase/write Cached old flash contents broke verify readback on Kx devices.  Change-Id: I0effaf358f451b473f0d9c762a133ffd21bc64b4 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2993 Tested-by: jenkins

2015-10-02  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: nvm_partition command Command for partitioning FlexNVM to data flash and EEPROM blocks Change-Id: Ia0ea65d72b0e5f23da330520284b0bd26435e444 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2991 Tested-by: jenkins

2015-10-01  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: kinetis_ftfx_command() based on target instead of flash
	bank kinetis_ftfx_command() did not use other struct flash_bank* members
	than base->target. Switching first parameter to struct target*
	enables use of kinetis_ftfx_command() without unnecessary bank
	getting and probing.  Removed kinetis_securing_test: kind of dead code, same function as
	command flash erase_address pad 0x400 0x10 Removed "NAND" word from help as flash is obviously NOR Change-Id: I3f5fc295ef2bf42f3e913549949f2a36377f6367 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2988 Tested-by: jenkins

2016-01-21  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add board config for ST NUCLEO L476RG board The file was contributed by Sbastien Lorquet.  Change-Id: I118f5b16181488b9e3327891e6130b908419f1c4 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3214 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2016-01-29  anpilog <anpilog@gmail.com>

	* : cmsis-dap: Fix CMSIS-DAP serial number processing.  Check CMSIS-DAP adapter has serialnumber before pass it to wcscmp.
	Keep looking for onother adapter if choosed one doesn't have correct
	serialnumber.  Change-Id: I7d386a03cb49b9baf22073ae1c6b14269ed3b618 Signed-off-by:
	Andrii Anpilogov <anpilog@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3226 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-11-05  Jacob Rosenthal <jakerosenthal@gmail.com>

	* : flash: nor: nrf51: add hwid 0x0057 Change-Id: I43b9dc1ce254a8ee8c84ad8e25bb809eb8629e13 Signed-off-by:
	Jacob Rosenthal <jakerosenthal@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3102 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-20  Kent Brinkley <jkbrinkley.imgtec@gmail.com>

	* : Change isa string Laying the ground work for adding microAptiv core Change-Id: I161a8a8cb250240ebc8518c91e746d6f921c41c7 Signed-off-by:
	Kent Brinkley <jkbrinkley.imgtec@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2400 Tested-by: jenkins Reviewed-by: Mindy
	Beseler <mbeseler@yahoo.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2016-01-15  Robert Jordens <jordens@gmail.com>

	* : flash/nor/spi: reorder to group micron devices Change-Id: Ic5b13e8b994d0741a0a12cd7ed427191b42958e2 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3207 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com>

2016-02-13  Alexander Kurz <akurz@blala.de>

	* : Helper time_support: const function arguments duration_elapsed and duration_kbps will not modify the struct
	duration passed as function argument, hence it should be declared
	const.  Change-Id: I459c396952c78e907257e2c2f2c630abde92aaa8 Signed-off-by:
	Alexander Kurz <akurz@blala.de> Reviewed-on:
	http://openocd.zylin.com/3232 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-11-16  Tim 'mithro' Ansell <mithro@mithis.com>

	* : tcl: Support for the miniSpartan6+ board.   * https://www.scarabhardware.com/minispartan6/  *

	https://github.com/scarabhardware/miniSpartan6-plus/raw/master/miniSpartan6%2B_Rev_B.pdfThe miniSpartan6+ board is wired identically to the Pipistrello
	device but sadly doesn't have a custom device description.  Change-Id: I07fd57b1ec87d72edf68860684928a3781e2f08a Signed-off-by:
	Tim 'mithro' Ansell <mithro@mithis.com> Reviewed-on:
	http://openocd.zylin.com/3117 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-01-15  Paul Fertser <fercerpav@gmail.com>

	* : flash: nor: {pic32mx,cfi}: fix register names Commit fd43be07265b5f3cf3146f2bb80c1c2fc0a44fcf introduced a
	regression: since the register names were changed from those
	traditional for MIPS to common GDB scheme the code that makes use of
	them needs to be changed accordingly.  This commit restores pic32mx flash driver functionality.  Change-Id: Id18c739390fae36737a02dc30c363d0444f53b96 Reported-by:
	Louis Rannou <louson@users.sf.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/3206
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-12-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : helper: Add converter from JEP106 ID to manufacturer name Use it to print the manufacturer of detected TAPs Change-Id: Ic4384c61c7f6f7ae2a9b860a805a5997542f72cc Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3177 Tested-by: jenkins Reviewed-by: Jiri
	Kastner <cz172638@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2016-01-20  Jiri Kastner <cz172638@gmail.com>

	* : arm_adi_v5: dap_partnums - correction of partnumbers, new added according to...  ARM DDI 0433B is:   0x9a5 Cortex-A5 PMU ARM DDI 0435C is:   0x955 Cortex-A5 ETM ARM DDI 0401C is:   0x950 Cortex-A9 PTM ARM DDI 0469B is:   0x931 Cortex-R5 ETM ARM DDI 0460D is:   0xc15 Cortex-R5 Debug ARM DDI 0458C is:   0x9b7 Cortex-R7 PMU   0xc17 Cortex-R7 Debug ARM DDI 0535C is:   0x95b Cortex-A17 PTM   0x9ae Cortex-A17 PMU   0xc0e Cortex-A17 Debug ARM DDI 0500F is:   0x9a8 Cortex-A53 CTI   0x95d Cortex-A53 ETM   0x9d3 Cortex-A53 PMU   0xd03 Cortex-A53 Debug ARM DDI 0488G is:   0x906 Cortex-A57/A72 CTI   0x95e Cortex-A57 ETM   0x9d7 Cortex-A57 PMU   0xd07 Cortex-A57 Debug ARM 100095_0002_03_en is:   0x95a Cortex-A72 ETM   0x9d8 Cortex-A72 PMU   0xd08 Cortex-A72 Debug Change-Id: Ieffefb30f2e75c45fe1a2f9c8204e3a9b1af3d7a Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3198 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-12-11  Matthias Welwarsky <matthias@welwarsky.de>

	* : adi_v5_jtag: implement DAP WAIT support ADIv5 specifies that DP and AP accesses may generate a WAIT response
	when the hardware is not able to complete a request for various
	reasons in time before the next request is sent. Currently, the
	software treats a WAIT response as a fatal error and aborts
	operation on the DAP.  This patch implements WAIT handling by keeping a journal of all
	outstanding and completed accesses, including their response status.
	At certain times (when dap_run() is called), the journal is
	inspected for WAIT responses and all discarded accesses are replayed
	to complete them. Special care is taken to not re-execute already
	successfully completed operations.  Change-Id: I2790070388cf1ab2e8c9a042d74eb3ef776aa583 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3166 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2016-01-12  Evan Hunter <ehunter@broadcom.com>

	* : Cortex-A: Fix unicode quote in comment Change-Id: I4747c113ab6c02199f078d9b4a4ec372d011fb2d Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/3200 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-12-31  Peter A. Bigot <pab@pabigot.com>

	* : arm_adi_v5: deconflict local variables from global symbols BeagleBone debian 7 builds produce:    adi_v5_jtag.c: In function 'jtag_ap_q_bankselect':    adi_v5_jtag.c:336:11: error: declaration of 'select' shadows a
	   global declaration [-Werror=shadow] Fix this by changing the local variable to 'sel'.  Change-Id: I8e29662ac12bc77d38d5064046d59b7364853cd9 Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Reviewed-on:
	http://openocd.zylin.com/3184 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-12-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : libjaylink: use http mirror for submodule The other submodules default to http for users behind firewalls.  Change-Id: I58fce00478ec6c94f75992f4e8f0c24f556abe61 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/3172 Tested-by: jenkins

2015-11-24  Matthias Welwarsky <matthias@welwarsky.de>

	* : cortex_a: add 'dacrfixup' to cortex-a command group work around issues with software breakpoints when the text segment
	is mapped read-only by the OS. Set DACR to "all-manager" to bypass
	TLB permission checks on memory access.  Change-Id: I79fd9b32b04a4d538d489896470ee30b26b72b30 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3107 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-10-13  Matthias Welwarsky <matthias@welwarsky.de>

	* : AM335x: allow simultaneous debugging of A8 and M3 cores This patch fixes the tap order so that it matches the actual jtag
	chain when all taps are enabled. It also introduces a variable
	DEFAULT_TAPS that can be set outside of this script, e.g. on the
	command line, to specify which taps are to be enabled on init.
	Lastly, a new debug target "am335x.m3" is added so that the
	Wakeup-M3 can be selected for debugging.  Change-Id: Iccf177fda8d5e3737b1b2bb8fd1eaa7d3262ed9f Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3013 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-12-15  Andreas Frber <afaerber@suse.de>

	* : tcl/board: Add Renesas DK-S7G2 config Tested with "J-Link OB RX621-ARM-SWD V1 compiled Nov  4 2014
	10:47:22".  Change-Id: Ib64c0be407f99df57f058a4498556fd5ab7e9112 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3170 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-11-29  Andreas Frber <afaerber@suse.de>

	* : tcl/board: Add Infineon XMC4700 Relax Kit Series config Tested with Relax Kit for 5V Shields:   J-Link Lite-XMC4200 Rev.1 compiled Oct 14 2015 10:14:50 and with
	  Relax Lite Kit: J-Link Lite-XMC4200 Rev.1 compiled Oct 14 2015
	10:14:50 Derived from xmc4800-relax.cfg.  Change-Id: I4e10fb6ed1f85168634d3b5259d3041ffc6b74d8 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3130 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-12-17  Matthias Welwarsky <matthias@welwarsky.de>

	* : arm_debug: optimize DP and AP reads over JTAG On JTAG, all reads are pipelined. If you read a register, the result
	is not delivered inside the request that issued the read, it is
	delivered in the following request. The current code therefore
	issues a scan of the RDBUFF register after each read. This adds a
	superfluous transaction after each read.  This patch follows a strategy similar to what SWD already
	implements.  It also leverages that all JTAG reads are pipelined,
	i.e. the result will be clocked out in the next JTAG data phase, no
	matter if it's READ or WRITE. Therefore it's never necessary to
	explicitly read RDBUFF other than for the very last READ before a
	dap_run().  Change-Id: Ie40b1fef3203f0cdcb503f40dcbd2a68b0f9776c Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3167 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-12-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Make the DAP API stateless Remove entirely the concept of a "selected" AP that has to be
	maintained between calls. All the information the DAP ops need are
	now provided to each call through the AP/DAP pointer.  Consolidate the cache of the SELECT fields into one single field
	caching the entire register.  Change-Id: I2e1c93ac5ee8ac38a7d680ca2c660c30093a6b87 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3165 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Fix dap apsel confusing behaviour.  Make dap apsel without arguments show current state instead of
	changing to AP 0.  Change-Id: I75ea10e3e1b8a067f2dc417ec6691dc7ceec1af6 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3163 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex: Set default memaccess_tck only during examine It's currently set during target creation but the AP that will be
	used for the target is not even known.  Change-Id: I4502e7eb1fa8d90f746445b8cf8a4c21cb7d519e Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3155 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Remove all mem_ap_sel_* functions All mem_ap_* functions now make sure the SELECT register is updated
	with the AP number that it's operating on. This shouldn't have to be
	handled explicitly.  Change-Id: Ib193d8930fabb6a25715064355f98258c9580b5d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3153 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Split ahbap_debugport_init This function does two separate things, powering up the DP and
	setting up a MEM-AP. But the DP needs to be powered before even
	searching for a MEM-AP to initialize and targets may have multiple
	MEM-APs that need initializing.  Split the function into dap_dp_init() and mem_ap_init() and change
	all call sites to use the appropriate one.  Change-Id: I92f55e09754a93f3f01dd8e5aa1ffdf60c856126 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3151 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Change mem_ap calls to take pointer to AP and not
	DAP Change-Id: I8d3e42056aa5828cb917ca578a54b7d53846a150 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3149 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Convert the AP references from numbers to pointers Change the debug_ap and memory_ap fields of the cortex_a target and
	the debug_ap field of the cortex_m target to be pointers to the
	struct adiv5_ap instead of AP numbers in some known DAP.  This reduces the dependency on the DAP struct in the targets and
	enables MEM-AP accesses to take the relevant AP as parameter.  Change-Id: I39d7b134d78000564b7eec5bff464adf0ef89147 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3147 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-12-06  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_a: Call ahbap_debugport_init on the discovered AP and not
	0 Change-Id: I76bb9bd800697776a375ab803402780c3c7bea35 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3145 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-11-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Remove unused is_swd flag Not clear what it was supposed to be used for. It probably
	shouldn't.  Change-Id: Ife1d833e59ba80f93876447d752a0ca7e7b57b0f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3143 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de>

2015-11-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : swd: Remove DAP from parameter list Making the SWD driver aware of the DAP that controls it is a
	layering violation.  The only usage for the DAP pointer is to store the number of idle
	cycles the AP may need to avoid WAITs. Replace the DAP pointer with
	a cycle count hint instead to avoid future misuse.  Change-Id: I3e64e11a43ba2396bd646a4cf8f9bc331805d802 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3141 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-12-06  Patrick Stewart <patstew@gmail.com>

	* : cortex_m: Select an AP when accessing the DAP Prepare to support multiple cortex-m cores on one DAP. Uses
	mem_ap_sel_* functions and removes mem_ap_* functions. Adds a new
	debug_ap parameter to the cortex_m (currently set to zero as in
	existing code).  Change-Id: I6926029d1e7bf44a42d453d1aff349bda824ba72 Signed-off-by:
	Patrick Stewart <patstew@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2983 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-08-06  Alamy Liu <alamy.liu@gmail.com>

	* : adi_v5: Rename AP_REG_* to MEM_AP_REG_* and add LA support This is a TODO in the src/target/arm_adi_v5.h for MEM-AP registers.  Some new registers are introduced in ADIv5.2 specification.    MEM_AP_REG_MGT    (0x20) // Memory Barrier Transfer register   MEM_AP_REG_TAR64  (0x08) // Bits[63:32] of Transfer Address   MEM_AP_REG_BASE64 (0xF0) // Bits[63:32] of Debug Base Address Refer to   7.5 MEM-AP register summary in   IHI0031C: ARM Debug Interface Architecture Specification ADIv5.0
	  to ADIv5.2 Change-Id: I3bc4296a04c35f5c64f851e5865d3099922613fa Signed-off-by:
	Alamy Liu <alamy.liu@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2904 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2015-12-28  Paul Fertser <fercerpav@gmail.com>

	* : jtag: drivers: bcm2835gpio: fix a typo in informational message Change-Id: I70176f9c623e85ba03d8e08992cade232c1bd7fd Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3176 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-11-29  Andreas Frber <afaerber@suse.de>

	* : xmc4xxx: Add XMC4800 support Tested with EES-AA chip revision on Relax EtherCAT Kit.  Change-Id: I457f24d242e0674d1f446c03a329efadff754d6a Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3132 Tested-by: jenkins Reviewed-by: Jeff
	Ciesielski <jeffciesielski@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-11-25  Matthias Welwarsky <matthias@welwarsky.de>

	* : cortex_a: fix fast-mode memory reads cortex_a_read_apb_ab_memory_fast() uses the wrong order of ITR and
	DSCR writes when setting up the transfer. ARM DDI0406C says in C8.2
	regarding "Fast mode" operation to first switch to fast mode and
	then latch the instruction in ITR. Current implementation first
	wrote ITR, causing the instruction to be executed immediately, then
	switched to fast mode without an instruction latched. Repeated
	reading of DTRTX didn't execute LDC and thus replicated its current
	content into the whole buffer.  This patch uses the following, revised algorithm: 1) switch to non-blocking mode and issue the LDC for the first word 2) if more than one word is to be read:  - switch to fast mode  - latch the LDC instruction into ITR (it is _not_ executed)  - issue (count-1) reads of DTRTX register, each read returns the
	   current content of DTRTX and re-issues the latched instruction  -> now the second-to-last word is in the buffer and the LDC for the
	    last word has been issued.  3) wait for the last instruction to complete 4) switch back to non-blocking mode 5) Read DTRTX for the last (or: only) word and put it into the
	buffer Change-Id: I44f5c585962ffa5af257c3d5a2a802c122b6b1e4 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3122 Tested-by: jenkins Reviewed-by:
	Christopher Head <chead@zaber.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-11-24  Matthias Welwarsky <matthias@welwarsky.de>

	* : cortex_a: replace cortex_a_check_address function When accessing memory through the ARM core, privilege levels and mmu
	access permissions observed. Thus it depends on the current mode of
	the ARM core whether an access is possible or not. the ARM in USR
	mode can not access memory mapped to a higher privilege level. This
	means, if the ARM core is halted while executing at PL0, the
	debugger would be prevented from setting a breakpoint at an address
	with a higher privilege level, e.g. in the OS kernel. This is not
	desirable.  cortex_a_check_address() tried to work around this by predicting if
	an access would fail and switched the ARM core to SVC mode. However,
	the prediction was based on hardcoded address ranges and only worked
	for Linux and a 3G/1G user/kernel space split.  This patch changes the policy to always switch to SVC mode for
	memory accesses. It introduces two functions
	cortex_a_prep_memaccess() and cortex_a_post_memaccess() which
	bracket memory reads and writes. These function encapsulate all
	actions necessary for preparation and cleanup.  Change-Id: I4ccdb5fd17eadeb2b66ae28caaf0ccd2d014eaa9 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3119 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-29  Matthias Welwarsky <matthias@welwarsky.de>

	* : cortex_a: force cache and tlb bypass when cpu is in debug state for minimal impact on the hardware state, force all memory accesses
	to bypass the caches and tlbs. This may actually be the default, but
	ARM recommends in DDI0406C to set proper default values on debug
	init.  Change-Id: If5ac097b6ee725c047b1e86c2f90eabe16b98c7b Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3079 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-18  Matthias Welwarsky <matthias@welwarsky.de>

	* : cortex_a: Update instruction cache after setting a soft
	breakpoint Call armv7a_l1_d_cache_flush_virt() before writing the breakpoint,
	to make sure the d-cache is clean and invalid at the breakpoint
	location down to PoC.  Call armv7a_l1_d_cache_inval_virt() after writing the breakpoint
	again, so that d-cache will pick up the modified code.  Call
	armv7a_l1_i_cache_inval_virt() after writing the breakpoint to
	memory to make the change visible to the CPU.  Change-Id: I24fc27058d99cb00d7f6002ccb623cab66b0d234 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3033 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-16  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: fix debug messages regarding cache on/off state Cache bits are not level specific, remove "l1" from debug message.
	Also, fix data/instruction mixup in armv7a_l1_i_cache_sanity_check() Change-Id: I259665ffe62c7ada5b4f98d3fd907e93662d4091 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3028 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-16  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: add d-cache virtual address range flush function This patch adds a function for cleaning & invalidating a virtual
	address range from the architecture caches down to the point of
	coherence.  Change-Id: I4061ab023a3797fabc967f3a34498034841d52c6 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3026 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-16  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: fix handling of inner caches ARMv7 architecture allows up to 7 cache levels that are
	architecturally visible, as opposed to "system caches", which are
	outside of the domain defined by ARMv7 and require separate
	management. This patch enables detection and identification of
	caches at all levels. It also implements a new "flush-all" function
	that cleans & invalidates all cache levels to the "Point of
	Coherence".  Change-Id: Ib77115d6044d39845907941c6f031e208f6e0aa5 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3024 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-10-15  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: rename l2_cache to outer_cache The outer cache is not necessarily at L2 in a system. Rename
	functions to make that clear.  Change-Id: Ia636a4844f50634f2bdf5cdce285febc1a47c11f Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3020 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-04-23  Oleksij Rempel <linux@rempel-privat.de>

	* : add armv7a_cache handlers This patch introduces, new command set and handlers for l1 and l2x
	caches.  Patch set 10 folded the following changes into this one: Ib1a2a1fc1b929dc49532ac13a78e8eb796ab4415
	If8d87a03281d0f4ad402909998e7834eb4837e79
	I0749f129fa74e04f4e9c20d143a744f09ef750d8 Change-Id: I849f4d1f20610087885eeddefa81d976f77cf199 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Signed-off-by: Matthias
	Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/2800 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-05-18  Oleksij Rempel <linux@rempel-privat.de>

	* : cortex_a: add cortex_a_[read|write]_buffer Change-Id: I82011822d913aa7228f5c6262b540156494bedfe Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2797 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-05-15  Oleksij Rempel <linux@rempel-privat.de>

	* : cortex_a: remove ahb support for phys_memory access Change-Id: I5b7c21c16e95cc1a3160e356d6e64f1f8c449e6e Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2795 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-09-21  Marc Schink <openocd-dev@marcschink.de>

	* : jlink: Retrieve maximum speed from device.  If supported, the maximum transport speed is now retrieved from the
	device.  Change-Id: I614f405ec91cf199c851781785fd26cbd10c37a6 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2955 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-27  Jakub Kubiak <jakub@kubiak.es>

	* : flash/nor/lpc2000: add alternative part ID for LPC1343 http://support.code-red-tech.com/CodeRedWiki/DebugAccessChip > Note
	that once you have recovered debug access to your MCU, then in most
	cases you should then modify your Debug Configuration to turn vector
	catch off again. If this is not done, then this can cause problems
	in some circumstances with some versions of the Code Red IDE. For
	example with NXP LPC13xx parts, connecting more than once to the MCU
	with vector catch enabled can lead to the part ID being incorrectly
	read - which can again cause debug connections to fail This patch
	adds an alternative part ID for LPC1343. With this patch "program"
	command works fine for flashing.  Change-Id: I8632e898a4c33102455925d25715b4f4edfa1d97 Signed-off-by:
	Jakub Kubiak <jakub@kubiak.es> Reviewed-on:
	http://openocd.zylin.com/2782 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-08-11  Karl Palsson <karlp@tweak.net.au>

	* : efm32: remove duplicate part name decoding.  The probe and info methods had duplicate sections decoding family
	names to generate a human friendly part name.  Extract this to a
	common helper.  Change-Id: I4c6309d83c601e154b7c14ad9c15c53854ee1e98 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Reviewed-on:
	http://openocd.zylin.com/2932 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-04-09  Felipe Balbi <balbi@ti.com>

	* : jtag: commands: save a pointer to list tail By saving a pointer to the tail of the list, we don't need to
	traverse the entire command queue before we're able to append an
	item to it.  With this patch, I see a 10% improvement when using the embedded
	XDS100v2 on AM437x IDK board to load a 4MiB binary (linux zImage) to
	DDR with load_image.  IOW, we went from ~305kB/sec to ~336kb/sec.  Change-Id: Idb55d49f0d0106043374ab520b2f3b6b32f2c50f Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2709 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Daniele Emancipato
	<daniele12457@hotmail.com> Reviewed-by: Matthias Welwarsky
	<matthias@welwarsky.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-08-27  Paul Fertser <fercerpav@gmail.com>

	* : svf: fix off-by-one error in line numbers as output to user This makes SVF error output match actual line numbers in the file
	processed.  Change-Id: I1fa4b9d0891e4358b7beada516945d5331ebe182 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2945 Tested-by: jenkins

2015-11-17  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add Nordic nRF52 config Base config without flash support for now.  Change-Id: I96a5b6ad35e00dc706177ea9dbdffc384ae7f62b Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3110 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-27  Tomas Vanek <vanekt@fbl.cz>

	* : flash: at91samd: flash write code cleaning SAMD driver suffered from following problems: 1) Flash was erased as an integral part of flash write.  It was not
	documented so with usual workflow it resulted in erasing flash twice
	(and reducing flash lifespan) and in almost double flashing time.  2) Sector erase was silently skipped if "is_erased" flag was set.
	"is_erased" logic was not reliable, e.g. when a row write was
	aborted after successful write of some pages, sector was still
	considered as erased. "is_erased" flag could not cope with flash
	writes from a user program.  3) Writing of a block with start address unaligned to a flash page
	resulted in failed assert and OpenOCD abort.  4) Disabling cache in bit 18 of 16-bit halfword never worked.  MCU
	implements cache invalidate in hardware so there is no need to take
	care about. This bug was reported by Tony DiCola.  New code does not erase flash in write operation.  Instead it
	traditionally relies on erasing flash beforehand.  "is_erased" logic
	and cache disabling is completely removed.  It simplifies write
	procedure a lot and flash write is now faster.  The change partly solves ticket #109 SAMD/SAM4L driver doubles flash
	erase.  Change-Id: I582b497d01a351575533a1f8c9810a4413be0216 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3045 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-11-05  Tomas Vanek <vanekt@fbl.cz>

	* : jtag: cmsis-dap: Issue disconnect before reconnecting cmsis-dap protocol has both DAP_Connect and DAP_Disconnect commands.
	Logically if cmsis_dap_swd_switch_seq() calls DAP_Connect in
	connected state it should call DAP_Disconnect first.  Doing so surprisingly solves problems on Atmel EDBG with target
	SAMD/R/L/C.  Without this change SWD communication breaks after
	reset run/halt in config "reset_config srst_only" and reconnect
	trials repeatedly fail with "SWD ack not OK: 0 JUNK" Change-Id: Ie951098d5e0c83f388e2df414608aaabec2135c9 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/3098 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-14  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi: add 100ask's OpenJTAG config Schematics provided by Matthias Bock.  Change-Id: I3d00453fece3b4df58a53bee21fff646a8b71a34 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2718 Tested-by: jenkins

2015-10-18  Ragnar Sundblad <raggesu@gmail.com>

	* : topic: Interface config file for FTDI UM232H module Added interface config file for the FTDI FT232H based UM232H module.
	This should work with UM232H-B too, an even cheaper module, but that
	has not been tested.  Change-Id: Ifc312d6741da0b7862fe07d854023190d7afe251 Signed-off-by:
	Ragnar Sundblad <raggesu@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3031 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-08-23  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l4: Add cpu and stm32l4discovery board configuration.  Change-Id: I20d3fcee04516eb3b9bb22933e7e366eed0c0b2e Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2942 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-01-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : tcl: Add default hooks for STM32F4x Set up PLL and increase clock at reset init.  Change-Id: I611bc6fb7c0c5afd8ed3f4ad8e64f3c7b981d31c Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2609 Tested-by: jenkins Reviewed-by: Rmi
	PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-04-29  Rmi PRUDHOMME <prudhomme.remi@gmail.com>

	* : Add config files for STM32F7-DISCO and STM327[4|5]6G-EVAL.  Change-Id: I0803939f0ab1de97e544ca0f1257daac11fb50de Signed-off-by:
	Rmi PRUD'HOMME <prudhomme.remi@gmail.com> Signed-off-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2754 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-01-21  Jeff Ciesielski <jeffciesielski@gmail.com>

	* : flash: New driver for XMC4xxx microcontroller family This is a complete flash driver for the Infineon XMC4xxx family of
	microcontrollers, based on the TMS570 driver by Andrey Yurovsky.
	The driver attempts to discover the particular variant of MCU via a
	combination of the SCU register (to determine if this is indeed an
	XMC4xxx part) and the FLASH0_ID register (to determine the variant).
	If this fails, the driver will not load.  The driver has been added
	to the README and documentation.  Tests: * Hardware: XMC4500 (XMC4500_relax), XMC4200 (XMC4200 enterprise) * SWD + JTAG * Binary: 144k, 1M Note: * Flash protect only partly tested. These parts only allow the flash   protection registers (UCB) to be written 4 times total, and my
	  devkits have run out of uses (more on the way) Future Work: * User 1/2(permalock) locking support via custom command * In-memory flash loader bootstrap (flashing is rather slow...) Change-Id: I1d3345d5255d8de8dc4175cf987eb4a037a8cf7f Signed-off-by:
	Jeff Ciesielski <jeffciesielski@gmail.com> Signed-off-by: Andreas
	Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2488 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-11-02  Morgan Quigley <morgan@osrfoundation.org>

	* : tcl/board: add Atmel SAM V71 Xplained Ultra Tested with cmsis-dap using the EDBG chip on the board.  Change-Id: I3d398685c81e4701a9f6c1a66e60f7a87f839daa Signed-off-by:
	Morgan Quigley <morgan@osrfoundation.org> Reviewed-on:
	http://openocd.zylin.com/3092 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-11-04  Esben Haabendal <esben@haabendal.dk>

	* : cfi: Fix fallback to memory writes Change-Id: I2d09139b95ff62c62a0b071584e85a87494ed313 Signed-off-by:
	Esben Haabendal <esben@haabendal.dk> Reviewed-on:
	http://openocd.zylin.com/3095 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-07-17  Evan Hunter <ehunter@broadcom.com>

	* : Cortex A/R : Allow interrupt disable during single-step Example usage:         cortex_a maskisr on         cortex_a maskisr off         cortex_r maskisr on         cortex_r maskisr off Change-Id: I799288d9b848a06f561ba29ec1eb8e5eeace5685 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2876 Tested-by: jenkins Reviewed-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2015-10-16  Mahavir Jain <mjain@marvell.com>

	* : flash/nor/spi: Add GigaDevice gd25q16c/32c/128c flash support Change-Id: I44052fd3467d7e0bbdc038b815204e39fa499684 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/3029 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2015-10-07  Matthias Welwarsky <matthias@welwarsky.de>

	* : armv7a: re-read ttb information if ttbcr changes If ttbcr is changed after the debugger has examined a target for the
	first time, address translations may fail. This problem does not
	show up with Linux because it doesn't use ttbr1, but it shows with
	other OS that use this feature. If the debugger connects to the
	target while it's in u-boot, all address translations will fail
	after the OS has booted and the target can not be debugged.  This patch reads the ttbcr in armv7a_mmu_translate_va() and compares
	it a cached value. If a difference is detected, armv7a_read_ttbcr()
	is called to re-parse the ttb configuration and update the cache.  Change-Id: I1c3adf53ea9d748a0e1e3091d9581e5c43ed64e8 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3005 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-31  Andreas Frber <afaerber@suse.de>

	* : tcl/board: Add LPC-Link2 config Tested with Olimex ARM-USB-TINY-H adapter (both JTAG and SWD).  Change-Id: Idc8a030e9692eec761d1e2485cbf9897660c0ca0 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3082 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2015-09-30  Thomas Schmid <thomas@rfranging.com>

	* : Kinetis: Disable watchdog on Kx devices when programming.  Kx devices with FTFA flash need the watchdog disabled when
	programming.  I tried to keep overhead as small as possible and
	re-use registers that were already inquired (e.g. sim_sdid).  Change-Id: Ibc29a26ec34102d78a6c3920dd16f63e134a8f6f Signed-off-by:
	Thomas Schmid <thomas@rfranging.com> Reviewed-on:
	http://openocd.zylin.com/2986 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-10-06  Jonathan Larmour <jifl@eCosCentric.com>

	* : helper/options: Use OPENOCD_SCRIPTS dir if set.  This makes it easier to relocate the install tree of OpenOCD from
	where it was originally built (for example, if put onto a different
	machine), without having to change scripts or add something to the
	command line every time.  Change-Id: Ia5edf0eba166f7a999f267bd6a92402dab9b399e Signed-off-by:
	Jonathan Larmour <jifl@eCosCentric.com> Reviewed-on:
	http://openocd.zylin.com/3004 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-06-17  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target|board: add config Atheros ar2313 Add configs for Atheros ar2313 MIPS based WiSoC and board based on
	this chip: Netgear WP102 Change-Id: Id93957b5d5851a272f15be35f9f448a9ce6d8a08 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2835 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-03  Marc Schink <openocd-dev@marcschink.de>

	* : helper/log: Cleanup #includes.  Change-Id: Ie343524dd843d518086a86866391b5a34556082b Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2996 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-02  Marc Schink <openocd-dev@marcschink.de>

	* : helper/fileio: Fix memory leak.  The memory leak occurs when opening a file fails. It can be
	reproduced by using the "flash verify_bank" command with a filename
	that does not exist.  Change-Id: I60b7b545c18793d750ff75d08124fde3f0aa6f64 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2998 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-01  Oleksij Rempel <external.Oleksij.Rempel@de.bosch.com>

	* : target: tell which target state is meant If we work on smp system, the output of step command will depend on
	Id of default target.  This patch adds additional information to
	help find what on which core is happening.  Example of LOG after this patch.  imx6.cpu.1: target state: halted
	^^^^^^^^^^ target halted in ARM state due to breakpoint, current
	mode: Supervisor cpsr: 0x60000093 pc: 0x80076c0c MMU: enabled,
	D-Cache: enabled, I-Cache: enabled imx6.cpu.0: target state: halted
	^^^^^^^^^^ target halted in ARM state due to debug-request, current
	mode: Supervisor cpsr: 0x20000193 pc: 0x802ccb6c MMU: enabled,
	D-Cache: enabled, I-Cache: enabled Change-Id: I536a2cce33b5ab10af9de2a43b9960320c17729f Signed-off-by:
	Oleksij Rempel <external.Oleksij.Rempel@de.bosch.com> Reviewed-on:
	http://openocd.zylin.com/2691 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-31  Andreas Frber <afaerber@suse.de>

	* : lpc4350_spifi_generic: Clean up work area size Since 2cbbe9a it was actually decreasing the configured work area
	size.  We could now do "set WORKAREASIZE 0x2000" before sourcing
	lpc4350.cfg, but there seems no point in doing so. Simply drop the
	configuration here.  Change-Id: I25b9dbbc007ba652b66099832198b7c329929858 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3086 Tested-by: jenkins Reviewed-by: Karl
	Palsson <karlp@tweak.net.au> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-10-31  Andreas Frber <afaerber@suse.de>

	* : lpc8xx: Allow CHIPNAME override Default to lpc8xx as before, but allow setting the actual CHIPNAME.  Change-Id: I5a48fa75c640440a0d4c3f2858653e94bed846d2 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3084 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-10-24  Maxime Coquelin <mcoquelin.stm32@gmail.com>

	* : tcl: add STM32F469 discovery board config Change-Id: Iad7ee06330b3259ea0ce0d174dfdade6785913eb Signed-off-by:
	Maxime Coquelin <mcoquelin.stm32@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3043 Tested-by: jenkins Reviewed-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2015-10-31  Matthias Welwarsky <matthias@welwarsky.de>

	* : board: don't hardcode interface for ti_beaglebone Board files should not select the interface. The BeagleBone Black is
	not limited to just one JTAG interface.  Change-Id: I71ccc3dd9e2ca331a436701fab04e548b0abf829 Signed-off-by:
	Matthias Welwarsky <matthias@welwarsky.de> Reviewed-on:
	http://openocd.zylin.com/3083 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-05  Andrew Ruder <andrew.ruder@elecsyscorp.com>

	* : rtos: turn stack alignment into a function pointer Some targets (Cortex M) require more complicated calculations for
	turning the stored stack pointer back into a process stack pointer.
	For example, the Cortex M stores a bit in the auto-stacked xPSR
	indicating that alignment had to be performed and an additional 4
	byte padding is present before the exception stacking.  This change
	only sets up the framework for Cortex-M unstacking and does not add
	Cortex-M support.  Note: this also fixes the alignment calculation nearly addressed by
	change #2301 entitled rtos/rtos.c: fix stack alignment calculation.
	Updated calculation is in rtos_generic_stack_align.  Change-Id: I0f662cad0df81cbe5866219ad0fef980dcb3e44f Signed-off-by:
	Andrew Ruder <andrew.ruder@elecsyscorp.com> Cc: Paul Fertser
	<fercerpav@gmail.com> Cc: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Cc: Evan Hunter
	<evanhunter920@gmail.com> Cc: Jon Burgess <jburgess777@gmail.com>
	Reviewed-on: http://openocd.zylin.com/3002 Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Tested-by: jenkins

2015-08-17  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f2x: Add memory barrier needed for STM32F7 flashing.  Change-Id: I44fca55c46fc8f960ba46a0604692ce98909face Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2939 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-08-17  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f2x.c: Handle STM32F42x/43x 1 MiByte devices with DB1M
	option set.  Change-Id: Ic51d34a9abe9693fd21e9b3247523821b6fb1fe3 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2938 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-10-20  Andreas Frber <afaerber@suse.de>

	* : tcl/board: Add Diolan LPC4357-DB1 config Adapted from diolan_lpc4350-db1.cfg. Both boards are identical
	except for the SoC, so keep them in sync.  Change-Id: If892d8e953b0e3a9209a95b3b23a547357c10b7a Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3038 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-22  fenugrec <fenugrec@users.sourceforge.net>

	* : docs: added note for increasing gdb remotetimeout when using the
	"gdb_port pipe" command.  Change-Id: I9c9514a193fd65454890571a17373b9c64d84757 Signed-off-by:
	fenugrec <fenugrec@users.sourceforge.net> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/3040 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-11  Andreas Frber <afaerber@suse.de>

	* : tcl/board: Add Spansion SK-FM4-U120-9B560 config Change-Id: I01464b2a999890d50b95d0fb98ff46d8a04a2c57 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3009 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-20  Andreas Frber <afaerber@suse.de>

	* : fm4: Add JTAG support Add support for the JTAG TAPID found on SK-FM4-U120-9B560-MEM V1.1.0
	board.  Change-Id: Idbfe28927e0c549f0c89c29904d23971281927c9 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3039 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-11  Andreas Frber <afaerber@suse.de>

	* : fm4: Split out S6E2CC family config Its memory layout is different from MB9BFxxx.  Change-Id: I39c9f9cf582cd182971a9f83bb88c7a18da6cf15 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3007 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-10-29  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add Exynos5250 config Change-Id: Ia673d3f16b2238d5af8fbeff2d57c6cf27dcffb1 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/3080 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2015-05-10  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add config for XMOS XS1-XAU8A-10's ARM core The XS1-XAU8A-10 has 8 xCORE cores and one ARM core.  This config
	represents the ARM Cortex-M3 core, which is apparently Silicon Labs
	EFM32 Giant Gecko IP.  Change-Id: I998360f096c759d2e274d96c1ca2e0450ba61146 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2762 Tested-by: jenkins Reviewed-by:
	Oleksij Rempel Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-09-27  Tim 'mithro' Ansell <mithro@mithis.com>

	* : tcl: Support for reading "Device DNA" from Spartan 6 devices.  Most Xilinx FPGA devices contain an embedded, unique device
	identifier called the "Device DNA". The identifier is nonvolatile,
	permanently programmed into the FPGA, and is unchangeable providing
	a great serial / tracking number.  Debugging was done in
	https://github.com/timvideos/HDMI2USB/issues/36 Change-Id: Iad03eafb40887f0321a4dc22858a7c3bf37a12b3 Signed-off-by:
	Tim 'mithro' Ansell <mithro@mithis.com> Reviewed-on:
	http://openocd.zylin.com/2960 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-09-27  Tim 'mithro' Ansell <mithro@mithis.com>

	* : tcl: Adding the Digilent Atlys board.  The board is supported via the ixo-usb-jtag firmware.  Change-Id: I1e8a5ead850c0843b8532a5b54a7e7117778278e Signed-off-by:
	Tim 'mithro' Ansell <mithro@mithis.com> Reviewed-on:
	http://openocd.zylin.com/2962 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-08-13  Peter A. Bigot <pab@pabigot.com>

	* : nrf51: recognize hwid 0084 Chip markings: N51822 / QFACA1 / 1513AN Change-Id: Idb7fc723850ea08b60b9f5c97a53f1ae8dfc8eb2 Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Reviewed-on:
	http://openocd.zylin.com/2936 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-09-24  Tomas Vanek <vanekt@fbl.cz>

	* : Kinetis: give a reasonable default for max_flash_prog_size max_flash_prog_size euals to pflash_sector_size_bytes for most of
	devices.  There is no point setting max_flash_prog_size for devices
	without FS_PROGRAM_SECTOR capability.  Check for zero sector_size to
	avoid div by zero exception in case of device has FlexNVM but the
	driver does not define nvm_sector_size_bytes Change-Id: Iaf4e007fb1ec3d24c373350410e4bebe504a4c3e Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2958 Tested-by: jenkins Reviewed-by: Thomas
	Schmid <thomas@rfranging.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Patrick Stewart
	<patstew@gmail.com>

2015-09-02  Alex Forencich <alex@alexforencich.com>

	* : flash/nor/spi: Add Winbond w25q128fv Change-Id: I2e13c02361982468f41f218421ece9046bcc9a5f Signed-off-by:
	Alex Forencich <alex@alexforencich.com> Reviewed-on:
	http://openocd.zylin.com/2951 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-09-11  Jim Paris <jim@jtan.com>

	* : stlink_usb: fix typo Change-Id: I3cf5ced568319878b8bf40743e4c07718f630c68 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2953
	Tested-by: jenkins Reviewed-by: Andreas Frber <afaerber@suse.de>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2015-06-04  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : numicro: Integrate Nuvoton NuMicro flash driver.  Flash driver "mini51.c" and "nuc1x.c" are same target MCU.  This
	patch integrates each driver and functions, and makes into new
	"NuMicro" flash driver.  Change-Id: Ifff5c1cfdd265acca0f489631695be9194fa144c Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2794 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-23  Andreas Frber <afaerber@suse.de>

	* : tcl/board: Add Parallella-I board config Tested with Porcupine-1 JTAG adapter board and Digilent JTAG-HS3
	interface; reset does not yet work, pending nSRST configuration of
	the interface used.  Change-Id: I0d0679e098d93ffbd1539004cdb900e2a8ae4a25 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2730 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-23  Andreas Frber <afaerber@suse.de>

	* : tcl/interface/ftdi: Add Digilent JTAG-HS3 config Derived from tcl/interface/digilent-hs1.cfg.  JTAG-HS3 has an open drain buffer on pin 14 for SRST to work with
	PS_SRST_B on Xilinx Zynq SoC.  Change-Id: I1e9e72d0511528a61207e318aff937ae9fad5bf9 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2728 Tested-by: jenkins Reviewed-by: Robert
	Jordens <jordens@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-06-23  Philipp Wagner <philipp.wagner@tum.de>

	* : tcl_server: Support line buffers up to 4M (v3) Currently, the maximum size of a command sent to the TCL server is
	4k. This patch increases this limit up to 4M.  Reasoning: To get high-speed JTAG data transfers, I'm using a very
	long shift register. This reduces the overhead of the state changes,
	as well as the latency due to the common USB adapter transfers
	considerably. In order to submit those long DRSCAN commands to
	OpenOCD over the TCL/TCL interface, long TCL command lines are
	required. This is enabled by this patch.  v3: Address review comments. Drop line instead of connection when
	realloc() fails.  Changes in v2 of this patch: The line buffer is allocated
	dynamically to avoid an OpenOCD memory overhead if the large buffers
	are not used. The buffer starts at 4K and increases exponentially up
	to 1M, and then linearly in 1M increments up to 4M.  Change-Id: Iecaef6a56ed5e18e9de4d912a514031ea78fa3bd Signed-off-by:
	Philipp Wagner <philipp.wagner@tum.de> Reviewed-on:
	http://openocd.zylin.com/2837 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-03-09  Austin Morton <austinpmorton@gmail.com>

	* : server: tcl_trace command Implements async target trace output to the tcl server Change-Id: I0178f6404447337d523782a1d2c317457030da40 Signed-off-by:
	Austin Morton <austinpmorton@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2588 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-07-30  Paul Fertser <fercerpav@gmail.com>

	* : svf: flush the queue before reallocing memory During reallocation a new memory region might be allocated and the
	old one freed. If jtag queue is holding a pointer to the old memory,
	it will segfault during the execution. Avoid this by flushing the
	queue before a reallocation attempt is made.  This should fix ticket #102.  Change-Id: I737fc3f1ebf6d76413a475beb8bf20184fe0233f Reported-by:
	Alex Forencich <aforencich@users.sf.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2899
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-07-16  Evan Hunter <ehunter@broadcom.com>

	* : gdb_server: Add check for malloc fail Change-Id: I623b30883042eae3253ed29de5c426da760dffa0 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2871 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-06-10  Andrey Yurovsky <yurovsky@gmail.com>

	* : at91samd: add chip IDs for SAMC20 and SAMC21 families Add the chip IDs corresponding to the new 5V "SAMC" parts which are
	otherwise identical to the SAMD and should work with this driver.
	Also add the configurations for their Xplained Pro boards.  Change-Id: Ic268d4ac384a3a77d4211a94da9f9faf4d8c0f7b Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2809 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-07-02  Robert Jordens <jordens@gmail.com>

	* : kc705: digilent-jtag/kintex7/jtagspi board Xilinx Kintex7 Development board with integrated Digilent JTAG-SMT1
	(a.k.a. HS1) interface and a 128 MBit SPI flash.  Change-Id: I9daba0a2fb2c17e04bcb37bd41872ebde25e0d2f Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2861 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-07-01  Robert Jordens <jordens@gmail.com>

	* : flash/nor/jtagspi: add JTAGSPI driver Many FPGA board speak JTAG and have a SPI flash for their bitstream
	attached to them. The SPI flash is programmed by first uploading a
	proxy bitstream to the FPGA that connects the JTAG interface to the
	SPI interface if the IR contains a certain USER instruction. Then
	the SPI flash can be erase, written, read directly through the JTAG
	DR.  The JTAG and SPI signaling is compatible. Such a proxy bitstream
	only needs to connect TDO-MISO, TDI-MOSI, TCK-CLK, and the activate
	the chip select when the IR contains the special instruction and the
	JTAG state machine is in the DR-SHIFT state.  Change-Id: Ibc21d793a83b36fa37e2704966aa5c837c4dd0d2 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2844 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-07-02  Robert Jordens <jordens@gmail.com>

	* : cpld/virtex2: allow JSTART to be disabled This adds an option to disable the use of the JSTART instruction
	when loading bitstreams to xilinx fpgas. JSTART apparently prevents
	configuration if the startup clock is not set to the jtag clock in
	the bitstream.  xc3sprog is omitting JSTART for all devices. Problems with loading a
	bitstream that does not have StartupClk:JTAGClk are described here:
	http://www.xilinx.com/support/answers/56151.html Change-Id: I8137c0bae05a8c3c6f8e2611869f70a770d1651d Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2860 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-06-30  Robert Jordens <jordens@gmail.com>

	* : target/testee: manage target->state The testee target is usefull for certain non-cpu pass-through
	situations, for example in the case of a spi flash mapped to the DR
	of a JTAG tap, as is the case for most FPGAs with SPI flashs behind
	them.  We just manage the RUNNING/RESET/HALTED state in the testee driver
	to support it being halted which is a requirement for flash banks.  Change-Id: I1b4d52c58a1f6bd753e126bfde74dcc5164d7b69 Signed-off-by:
	Robert Jordens <jordens@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2840 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-14  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add Freescale Vybrid VF6xx config This covers only the Cortex-A5 for now, not the Cortex-M4.  Change-Id: I739ec52b14b83d6e9f124ed61f8941502e481402 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2766 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-17  Kyle Manna <kyle@kylemanna.com>

	* : udev: Add J-Link on-board nRF51-DK * Add USB VID and PID for the J-Link interface running on the Nordic   Semiconductor nRF51-DK.  Also tested with debug out port to debug   external boards.  * Fixes permissions problems.  Change-Id: I01ffc3150fa2af92d399b50e0195dc255a40ec42 Signed-off-by:
	Kyle Manna <kyle@kylemanna.com> Reviewed-on:
	http://openocd.zylin.com/2774 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-07-02  Alexander Drozdov <adrozdoff@gmail.com>

	* : RTOS: ThreadX support on ARM926E-JS ThreadX uses two stacking schemas on ARM926E-JS, extend API to use
	more then one stecking at time.  Change-Id: I92d445ad0981b6409ea4c4e7e438d3a7ae39cbe7 Signed-off-by:
	Alexander Drozdov <adrozdoff@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2848 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-05-25  Paul Fertser <fercerpav@gmail.com>

	* : manual: make it compatible with ancient texinfo versions that
	lack @raggedright This is needed to unbreak build on systems that ship texinfo version
	4.x.  Change-Id: Ie665d29b02bb65da7e8ed0d48d17fa56e231bd0d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2781 Tested-by: jenkins Reviewed-by: David
	Ung <davidu@nvidia.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Oleksij Rempel

2015-05-18  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.9.0 release Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2015-05-10  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/stlink: fix SRST issue with stlink-v1 Even though the latest firmware version for stlink-v1 supports "v2"
	JTAG API, the hardware SRST handling is still broken; amend the
	check accordingly.  Change-Id: I62c662cd7aa209d2d6e9fe260f5c0be81d0ce672 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2761 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-10  Peter A. Bigot <pab@pabigot.com>

	* : nrf51: refine and extend known devices table The notation Gx0 in the nRF51 Series Compatibility Matrix indicates
	that the specified HWID is valid only for build code 0 of each chip,
	and for subsequent builds the HWID will be different.  Replace the
	Gx0 notation with G0 throughout, and add the missing HWID for
	nRF51422 QFAC A1 (present on the newer nRF51 developer boards).  See:

	https://www.nordicsemi.com/eng/nordic/download_resource/41917/5/55913589See:

	https://devzone.nordicsemi.com/question/30774/mapping-hwid-to-revision-information/Change-Id: I79d842137d41342db35904867c48b06fbc6fbc70 Signed-off-by:
	Peter A. Bigot <pab@pabigot.com> Signed-off-by: Angus Gratton
	<gus@projectgus.com> Reviewed-on: http://openocd.zylin.com/2593
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-05-02  Austin Morton <austinpmorton@gmail.com>

	* : server: avoid the tcl server crashing when there is no target Since commit 1d0cf0df37a4e831ca3121ba8987d5848cad3e42 ("server:
	tcl_notifications command") connecting to the tcl server would
	terminate openocd. Fix this.  Change-Id: I36e2a7482f7db3a30ff7e9f969c3b6cda9599382 Signed-off-by:
	Austin Morton <austinpmorton@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2759 Tested-by: jenkins Reviewed-by: Forest
	Crossman <cyrozap@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-05-16  Paul Fertser <fercerpav@gmail.com>

	* : manual: fix usb_blaster_pin command syntax and description Change-Id: If3fbb2fe4f1842bea3962a6b903fd16aa9e8b545 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2771 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-05-15  Paul Fertser <fercerpav@gmail.com>

	* : manual: reorder flash driver info Put all the individual driver descriptions to where they really
	belong, fix sectioning etc.  Change-Id: I94dc09e9a296ec57db4475f8dfb0a7d62a754aa4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2770 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-05-15  Paul Fertser <fercerpav@gmail.com>

	* : manual: remove the lists of config files Directory listings are volatile and serve no purpose in the manual.
	Just remove them.  Change-Id: I63d54ba209c29eafb6608cf406b8ce5d8e9ee6c8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2768 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-04-24  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.9.0-rc1 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2015-04-24  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/ti_icdi: do not segfault when adapter can't be
	opened Change-Id: Id3af8dfd18b13947bca4f3c89c2516ccbcef60b6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2742 Tested-by: jenkins

2014-05-02  Jiri Kastner <cz172638@gmail.com>

	* : target/ti_tms570.cfg: added several JTAG IDs for TMS570LS family from TI datasheets for whole cortex-r4 family added JTAG IDs TMS570LS1227 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns192         0x0B95502F 16/32-Bit RISC Flash Microcontroller, TMS5703137-EP (Rev. B)
	http://www.ti.com/lit/pdf/spns230         0x0D8A002F         0x2D8A002F         0x3D8A002F RM48L952 16- and 32-Bit RISC Flash Microcontroller (Rev. B)
	http://www.ti.com/lit/pdf/spns177         0x0D8A002F         0x2D8A002F         0x3D8A002F RM46L852 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns185         0x0B95502F RM48Lx30 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns176         0x0B8A002F         0x2B8A002F         0x3B8A002F RM46Lx30 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns182         0x0B95502F RM46Lx50 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns184         0x0B95502F TMS570LS04x/03x 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns186         0x0B97102F RM42L432 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns180         0x0B97102F RM46Lx40 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/         0x0B95502F TMS570LS12x5 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns191         0x0B95502F RM48Lx40 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns175         0x0B8A002F         0x2B8A002F         0x3B8A002F TMS570LS31x4/21x4 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns165         0x0B8A002F         0x2B8A002F         0x3B8A002F TMS570LS20216/20206/10216/10206/10116/10106 16/32-Bit RISC Flash
	Microcontroller (Rev. F) http://www.ti.com/lit/pdf/spns141         0x0B7B302F TMS570LS31x5/21x5 16- and 32-Bit RISC Flash Microcontroller (Rev. B)
	http://www.ti.com/lit/pdf/spns164         0x0B8A002F         0x2B8A002F         0x3B8A002F RM48Lx50 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns174         0x0B8A002F         0x2B8A002F         0x3B8A002F TMS570LS3137 16- and 32-Bit RISC Flash Microcontroller (Rev. B)
	http://www.ti.com/lit/pdf/spns162         0x0B8A002F         0x2B8A002F         0x3B8A002F TMS570LS12x4 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns190         0x0B95502F TMS570LS1115 16- and 32-Bit RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns189         0x0B95502F TMS570LS11x4 16- and 32-BIT RISC Flash Microcontroller (Rev. A)
	http://www.ti.com/lit/pdf/spns188         0x0B95502F Change-Id: Idf53a44851e1bb4bde4a74c64b65d4411e56da7c Signed-off-by:
	Jiri Kastner <cz172638@gmail.com> Tested-by: Jiri Kastner
	<cz172638@gmail.com> Reviewed-on: http://openocd.zylin.com/2123
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-04-24  Paul Fertser <fercerpav@gmail.com>

	* : rtos/mqx: prevent crash with -rtos auto Since mqx comes last in the list, with the auto option its
	update_threads is called even though it wasn't detected.  This check should be removed from all the rtos helpers and moved to
	the generic code, but better do it later all in one go.  Change-Id: If24ab42a58a468d90e9f12028d4c2fb76a9bc2e8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2741 Tested-by: jenkins

2015-04-17  Paul Fertser <fercerpav@gmail.com>

	* : target: try to reexamine even when polling fails After intermittent connection failures or target power failures it
	might be necessary to try reexamination even when polling fails.
	This should make communication with Cortex-A targets more reliable.  This was runtime tested with stlink attached to an stm32l1 and an
	FTDI JTAG adapter attached to an stm32f1 target.  Change-Id: I38c4db8124b7f4bbf53ddda53c13273449f49c15 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2721 Tested-by: jenkins Reviewed-by: Felipe
	Balbi <balbi@ti.com> Reviewed-by: Tomas Vanek <vanekt@fbl.cz>
	Reviewed-by: Andreas Frber <afaerber@suse.de>

2015-03-17  Simon Qian <openocd@versaloon.com>

	* : configure the SWD frequency when setting adapter speed in SWD
	mode for versaloon Change-Id: I99cdc11ba1442e4c9efaa0f1de8e7089ec725e14 Signed-off-by:
	Simon Qian <openocd@versaloon.com> Reviewed-on:
	http://openocd.zylin.com/2608 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-04-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stlink_usb.c: Decode some more errors.  Change-Id: I637cb63bd39120554aa184eaa48fd00a4852359f Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2706 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-08  Marc Schink <openocd-dev@marcschink.de>

	* : flash: efm32: Add support for EZR32LG and EZR32WG.  This patch was tested with an EZR32WG Starter Kit.  Change-Id: I0f7c619e715fe30e88e6da3bead0806dd3bce819 Signed-off-by:
	Marc Schink <openocd-dev@marcschink.de> Reviewed-on:
	http://openocd.zylin.com/2700 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-04-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : cmsis-dap: print vendor and product id on open failure Change-Id: Iae7ed8d59a722b805536550a8033f5fb7c85c5fc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2708 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com>

2015-04-09  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target/stm32f3: fix reset init for stlink Use mmw to manipulate only selected bits of the word. msb and mwb
	verify the memory location and may error on PLLRDY set as a result
	of PLLON written.  Change-Id: I9a4c1e58f002a1e5e99be1bd34aac27ba65d111d Reported-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2702 Tested-by: jenkins

2015-03-15  Paul Fertser <fercerpav@gmail.com>

	* : Fix several format specifiers errors exposed by arm-none-eabi Change-Id: I1fe5c5c0b22cc23deedcf13ad5183c957551a1b7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2719 Tested-by: jenkins

2015-04-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rtos: add instructions and helper code to make FreeRTOS work
	again Run-time tested with FreeRTOS V8.1.2 (current version).  For the time being I propose this way of dealing with RTOSes that do
	not export necessary information on their own.  I also suggest implementing a similar scheme for ChibiOS, exporting
	the necessary struct fields' offsets via an OpenOCD-specific helper.  Change-Id: Iacf8b88004d62206215fe80011fd7592438446a3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2347 Tested-by: jenkins

2015-03-14  Tomas Vanek <vanekt@fbl.cz>

	* : AT91SAM4L: handle reset run/halt in SMAP This is a remake of http://openocd.zylin.com/1966 originally written
	by Angus Gratton <gus@projectgus.com> ATSAM4L has a "System Manager Access Port" (SMAP) that holds the CPU
	in reset if TCK is low when srst (RESET_N) is deasserted.  Without
	this change any use of sysresetreq or srst locks the chip in reset
	state until power is cycled.  A new function smap_reset_deassert is called as reset-deassert-post
	event handler.  It optionally prepares reset vector catch and SMAP
	reset is released then.  Change-Id: Iad736357b0f551725befa2b9e00f3bc54504f3d8 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2604 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-03-14  Paul Fertser <fercerpav@gmail.com>

	* : target/cortex_a: emit a clear error message when dbgbase can't
	be detected In some cases (the most obvious are TI's SoCs) ROM table lacks
	entries for the cores, so OpenOCD has no way to determine what debug
	base to use. Due to an error fixed in ec9ccaa28849 it wasn't handled
	properly, and OpenOCD would continue to try using dbgbase = 0, which
	happened to work for e.g. AM437x.  This patch adds a clear indication to the user that to access such a
	target, dbgbase must be set manually in the config.  Reported by Felipe Balbi on IRC.  Change-Id: Id8533e708f44b76550eb8b659564f5f45717c298 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2603 Tested-by: jenkins

2015-04-06  Paul Fertser <fercerpav@gmail.com>

	* : jtag/adi_v5_jtag: fix infinite recursion in
	jtagdp_transaction_endcheck() Calling ahbap_debugport_init() is wrong here because the actions
	performed by it might lead to jtagdp_transaction_endcheck errors
	thus leading to infinite recursion.  The removed code is not needed now because target polling should
	lead to reexamination automatically, and both cortex_a and cortex_m
	call ahbap_debugport_init() as part of their target examine handler.  This was reported as a real life issue on IRC by Weaselweb with
	Cortex-A target. Quitte reports similar results in some
	circumstances (adapter_khz too high) with LPC17xx.  Change-Id: I7148022f76a1272b5262d251f2e807ffb1543547 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2697 Tested-by: jenkins

2015-04-03  Paul Fertser <fercerpav@gmail.com>

	* : jtag/startup.tcl: fix regression with autoselecting JTAG This regression was introduced with d90b86d8. "transport select"
	doesn't throw an error anymore and autoselects the first available
	transport on its own.  Reported by moyix on IRC.  Change-Id: I3f303c0372e915931cca4b28af450694abc1a63e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2693 Tested-by: jenkins

2015-03-13  Paul Fertser <fercerpav@gmail.com>

	* : Tcl exception codes cleanup, shutdown command amendments This patch might influence openocd Tcl commands behaviour in subtle
	ways, please give it a nice testing.  The idea is that if an OpenOCD Tcl command returns an error, an
	exception is raised, and then the return code is propogated all the
	way up (or to the "catch" if present). This allows to detect
	"shutdown" which is not actually an error but has to raise an
	exception to stop execution of the commands that follow it in the
	script.  openocd_thread special-cases shutdown because it should then
	terminate OpenOCD with a success error code, unless shutdown was
	called with an optional "error" argument which means terminate with
	a non-zero exit code.  Change-Id: I7b6fa8a2e24c947dc45d8def0008b4b007c478b3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2600 Tested-by: jenkins Reviewed-by: Juha
	Niskanen <juha.niskanen@haltian.com> Reviewed-by: Jens Bauer
	<jens@gpio.dk> Reviewed-by: Oleksij Rempel <linux@rempel-privat.de>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* : jtag/tcl: fix incorrect memcpy in jim_newtap_expected_id Found by clang static checker.  On the very first call of jim_newtap_expected_id()
	pTap->expected_ids and expected_len are null, and there's nothing to
	copy. This patch changes this cryptic code to use realloc() instead.  Change-Id: Ic0b5140d08257a906f15b55a2ae64db7bc06d5f1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2562 Reviewed-by: Stian Skjelstad
	<stian@nixia.no> Tested-by: jenkins

2015-03-17  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : lpc2000: Removed cmd51_can_xxxxb variables.  Current flash driver can fail to write across the sector boundary.
	This patch fixes "thisrun_bytes" set to "cmd51_dst_boundary" value
	instead of "cmd51_can_xxxxb" Referred to SevenW's post and fix,thanks.

	http://sourceforge.net/p/openocd/mailman/openocd-devel/thread/fa32e7d6654df22470dc5f4a3dbc984a%40familiebenschop.nl/#msg33594152Tested on below listed chips.
	LPC810,LPC811,LPC812,LPC824,LPC1115,LPC1343,LPC1347,LPC1227,
	LPC1769,LPC1788,LPC54102,LPC4088 and LPC2388.  Change-Id: If1c6a1daa58ca27c405bd959a784e599a7a8f4d4 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2607 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-03-23  Patrick Noffke <patrick@noffke.me>

	* : Added Atmel SAM4SA16C chip (chip ID 0x28a70ce0).  Change-Id: I45e8e807a36c39940b910b3edb40698c7d8dabd6 Signed-off-by:
	Patrick Noffke <patrick@noffke.me> Reviewed-on:
	http://openocd.zylin.com/2625 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add Infineon XMC1000 family target config Basic target config, verified against XMC1100 AA/AB, XMC1200 AA/AB,
	XMC1300 AA/AB manuals.  The default adapter_khz was tested with the XMC1100 Boot Kit.  Change-Id: Iff6ed52d875ccb83c0d4ff0d555b90e0f28b860c Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2471 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-01  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add Spansion FM4 config Assembled by trial-and-error for an S6E2CC.  Change-Id: I317c12d24c9075ce3de286455fa3ee45731c5c81 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2569 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-05  Ed Beroset <beroset@ieee.org>

	* : em357: Corrected EM357 support including errata details Original submitted code had only been tested with em358, but testing
	with actual em357 revealed errors that this patch corrects.  Change-Id: I70cf31210de8ed84e3755a56e76261ad200322bb Signed-off-by:
	Ed Beroset <beroset@ieee.org> Reviewed-on:
	http://openocd.zylin.com/2581 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Evan Hunter <ehunter@broadcom.com>

	* : RTOS: Add logging to FreeRTOS and general RTOS Change-Id: I43d14f3b59daae7f90c344abdf71eaa8f74ef7ef Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/2391 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-09  Paul Fertser <fercerpav@gmail.com>

	* : jtag/core: honour SRST timings in SWD mode Since SWD is currently abusing the JTAG command queue for reset and
	sleep handling (and all other operations are performed in a
	different way), sleep needs to be forced explicitly to ensure
	correct timings.  Change-Id: I5b0da6cbb7d0560154e4077b261aa6828cefc892 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2591 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-02-28  Jeff Ciesielski <jeffciesielski@gmail.com>

	* : tcl/board: Add Infineon XMC4200 Application Kit config Change-Id: I3a946ba3745da651d470cd574222ba5c7147ac9d Signed-off-by:
	Jeff Ciesielski <jeffciesielski@gmail.com> Signed-off-by: Andreas
	Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2566 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Frber <afaerber@suse.de>

	* : tcl/target: Add Infineon XMC4000 family config Base config, verified against XMC4500, XMC4400 and XMC4100/XMC4200
	manuals.  Change-Id: I10907bdf307bc6d11dc5454bf5391758de49dc30 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2480 Tested-by: jenkins Reviewed-by: Jeff
	Ciesielski <jeffciesielski@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-03-19  Felipe Balbi <balbi@ti.com>

	* : target: icepick: call icepick_c_setup it also works on icepick_d.  Change-Id: I50c0c81286aae673c94ea77e47454ff48eab1668 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2623 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-18  Felipe Balbi <balbi@ti.com>

	* : tcl: target: am437x: pass coreid This commit is only for the sake of completeness as default coreid
	is zero. In any case, coreids 1-4 are used for the different PRU
	cores inside the SoC.  Change-Id: I775f2f444b1a908ffaf7bdbc43bcc966f19668c4 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2621 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-18  Felipe Balbi <balbi@ti.com>

	* : target: am437x: fix DebugSS DAP ID Main DAP (where Cortex A9 sits) ID is actually 0x46b6902f. Fix it.  Change-Id: Ifa3335186bcf60d264d4ecea477bfe2f5ca10ead Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2619 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-16  Felipe Balbi <balbi@ti.com>

	* : tcl: am437x: add reset-init event handler this event handler will configure and lock PLLs and configure DDR so
	platform is placed in usable state.  Change-Id: Idd02f4c9789181d69578f8606ac3576ea1dd8a0b Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2616 Tested-by: jenkins
	Reviewed-by: Tom Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-16  Felipe Balbi <balbi@ti.com>

	* : tcl: am437x: define registers to be used later a later commit will implement a proper reset-init handler to lock
	pll and configure ddr as we should.  Change-Id: I432cf28a5a944bfa83c20aed7298dbd29df30e38 Tested-by: Tom
	Rini <trini@konsulko.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
	Reviewed-on: http://openocd.zylin.com/2614 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* : tcl: board: ti_am437x_evm: select jtag transport default already is jtag, but this silences a warning during startup.  Change-Id: I94478327bbb259649500ef74a5b5c10d51e2a517 Signed-off-by:
	Felipe Balbi <balbi@ti.com> Reviewed-on:
	http://openocd.zylin.com/2612 Tested-by: jenkins Reviewed-by: Tom
	Rini <trini@konsulko.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-03-13  Felipe Balbi <balbi@ti.com>

	* : tcl: target: am437x.cfg: pass correct dbgbase Since commit ec9ccaa28849 (arm_adi_v5: make
	dap_lookup_cs_component() traverse subtables and handle multicore)
	AM437x devices can't be used with OpenOCD anymore. The reason is
	that dbgbase used to be set to zero before that commit and that just
	happens to work with AM437x devices.  A more robust solution is to pass correct dbgbase when creating the
	target, which this commit does.  Signed-off-by: Felipe Balbi <balbi@ti.com> Change-Id:
	Iaf2617804324de8094b25137943e08b84f14c75f Reviewed-on:
	http://openocd.zylin.com/2602 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Tom Rini
	<trini@konsulko.com>

2015-02-26  Mateusz Manowiecki <segmentation@fault.pl>

	* : jtag/drivers/ftdi.c: removed memory leak swd_cmd_queue buffer memory leak removed Change-Id: Iafcdf034d32a37d577b58b6256c8fd9b064ce228 Signed-off-by:
	Mateusz Manowiecki <segmentation@fault.pl> Reviewed-on:
	http://openocd.zylin.com/2563 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-03-08  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Add configuration for EFM32 Gecko boards with Segger J-Link.  Tested with Tiny Gecko.  Change-Id: Iddb87170b6aaaf7f15d3c4517c8661dd6394be8f Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2585 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-25  Angus Gratton <gus@projectgus.com>

	* : transport: make 'transport select' auto-select the first
	available transport if not set This should allow most of the existing configurations for older
	versions to remain compatible without forcing the user to change his
	or her config to explicitly select transport.  Also in some circumstances can remove the need to chain a "-c
	transport select X" when building custom configs on the command
	line, which seems like a common new user pitfall.  Change-Id: Ic87a38c0b9b88e88fb6d106385efce2f39381d3d Suggested-by:
	Petteri Aimonen <jpa@git.mail.kapsi.fi> Signed-off-by: Angus Gratton
	<gus@projectgus.com> Reviewed-on: http://openocd.zylin.com/2551
	Reviewed-by: Paul Fertser <fercerpav@gmail.com> Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2014-10-26  Paul Fertser <fercerpav@gmail.com>

	* : drivers/cmsis-dap: port to common SWD framework Valgrind-tested.  Comparison of flashing performance on an FRDM-KL25Z board running
	mbed CMSIS-DAP variant, 5MHz clock, old driver: wrote 28096 bytes from file demo.elf in 26.833590s (1.023 KiB/s)
	verified 27264 bytes in 1.754972s (15.171 KiB/s) this implementation: wrote 28096 bytes from file demo.elf in 3.691939s (7.432 KiB/s)
	verified 27264 bytes in 0.598987s (44.450 KiB/s) Also tested "Keil ULINK-ME CMSIS-DAP" with an STM32F100 target, 5MHz
	clock, results reading from flash, old driver: dumped 131072 bytes in 98.445305s (1.300 KiB/s) this implementation: dumped 131072 bytes in 8.242686s (15.529 KiB/s) Change-Id: Ic64d3124b1d6cd9dd1016445bb627c71e189ae95 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2356 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-03-10  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/kinetis: do not attempt mass-erase in place of a bank
	erase Many kinetis parts come in multi-bank configuration, so this
	optimisation here can't be performed safely.  Investigated and fixed by Richard Braun.  Change-Id: I2b56614b47951595c403a1a8edd3afe11b85679b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2594 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-09  Paul Fertser <fercerpav@gmail.com>

	* : armv7m: add generic trace support (TPIU, ITM, etc.) This provides support for various trace-related subsystems in a
	generic and expandable way.  Change-Id: I3a27fa7b8cfb111753088bb8c3d760dd12d1395f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2538 Tested-by: jenkins

2014-07-03  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : tcl: Add default hooks for STM32F3x Keep clocks running in low power modes. Stop watchdogs from
	interfering with the debug session. Set up PLL and increase clock at
	reset init.  Change-Id: I984d2018f7d47a1042f1e12894563154fa7b566c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2196 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-28  Andreas Frber <afaerber@suse.de>

	* : jlink: Add variant "J-Link Lite-XMC4000" Avoids "J-Link hw type unknown 0x10" on the Infineon Relax Lite Kit.  Change-Id: I3091623ead2e84b67ac20d9866307ccbb3f26f66 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2568 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* : server, target, cortex_m: add deinit_target to the API to free
	resources This should facilitate dynamic target creation and removal.  Currently it helps with getting 0 bytes lost report from Valgrind on
	exit (after talking to a nucleo board). However, 1,223,886 bytes in
	5,268 blocks are still reachable which means the app holds pointers
	to that data on exit. The majority comes from the jtag command
	queue, there're also many blocks from TCL command registration.  Change-Id: I7523234bb90fffd26f7d29cdd7648ddd221d46ab Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2544 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* : hla/hla_interface: call HLA layout API close() on quit This bug was exposed by Valgrind.  Change-Id: I2e2bc036b49ca3ff22f78f765ee4537763350096 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2543 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-11  Paul Fertser <fercerpav@gmail.com>

	* : target: fix timer callbacks processing Warning, behaviour change: before this patch if a timer callback
	returned an error, the other handlers in the list were not called.  This patch fixes two different issues with the way timer callbacks
	are called: 1. The function is not designed to be reentrant but a nested call is
	possible via: target_handle timer event -> poll -> target events
	before/after reexaminantion -> script_command_run ->
	target_call_timer_callbacks_now . This patch makes function a no-op
	when called recursively; 2. The current code can deal with the case when calling a handler
	leads to its removal but not when it leads to removal of the next
	callback in the list. This patch defers actual removal to
	consolidate it with the calling loop.  These bugs were exposed by Valgrind.  Change-Id: Ia628a744634f5d2911eb329747e826cb9772e789 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2541 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Andreas Frber
	<afaerber@suse.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-02-15  Paul Fertser <fercerpav@gmail.com>

	* : stlink: avoid null pointer dereference in stlink_usb_close() Otherwise it happens if stlink can not be opened on start.  Change-Id: I7088f10e61508dae230eccfe576a51498c92f5b8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2550 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Stian Skjelstad <stian@nixia.no>

2015-01-29  Paul Fertser <fercerpav@gmail.com>

	* : armv7m: do not access FPU registers when not present This is runtime and valgrind tested with l0, l1 and f3 hla boards.  Change-Id: I49b0b042253d5f3bf216997f0203583db319fe23 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2516 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-31  Paul Fertser <fercerpav@gmail.com>

	* : jimtcl: update to 0.76 release version It makes sense to use the latest released version to ensure
	compatibility.  Change-Id: I0957f927d825fa6fb6a1594ca17bcca46ee6c1a6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2522 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* : target/cortex_a: remove dead assignment Found by clang static checker.  Change-Id: I77b0dc18188328fdb28d07b9e5c52e06182d9e2b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2561 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-26  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/sim3x: remove dead assignment Found by clang static code checker.  Change-Id: Ic1370f8d7a48f08da6514afec5aacde38af7dfb6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2559 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-19  Karl Palsson <karlp@remake.is>

	* : contrib: itmdump: fix incorrect format printf Change-Id: I29100e4b284e031613586a66daa74987d86ac9e1 Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2449
	Tested-by: jenkins Reviewed-by: Uwe Bonnes
	<bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-03  Marian Cingel <cingel.marian@gmail.com>

	* : rtos: Freescale MQX rtos support ARMv7E-M (CortexM4) architecture - fix position offset of r2,r3 registers on exception stack - switch 'calloc' arguments - remove prototypes of internal function and typedefs - add NULL check for alloc functions - remove last line of license "Franklin Street, Fifth Floor"   because of 'checkpatch' validation - environment: jlink + twrk60n512 Change-Id: I70840ded15b17dd945ca190ce31e2775078da2d9 Signed-off-by:
	Marian Cingel <cingel.marian@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2353 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-29  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32l1.cfg: Add ID Code of Cat.2 devices.  Change-Id: I4eb5020858c1896e294d633213f3df3fa45b6250 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2517 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-02-24  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : lpc2000: Add LPC407x/8x flash size auto detection This patch adds auto flash size detection for LPC407x/8x series.  Tested on below listed chips.  LPC4088 LPC1788(regression test) Change-Id: I82f62678a04eac9b84658bd6d1cfdf45be64c931 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2555 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Jens Bauer <jens@gpio.dk>

2015-01-05  Mateusz Manowiecki <segmentation@fault.pl>

	* : Added system signal handling to Linux version (with http://www.cons.org/cracauer/sigint.html in mind) Change-Id: I15f559bc1122a408c3fb9338ba55c16fab3187e1 Signed-off-by:
	Mateusz Manowiecki <segmentation@fault.pl> Reviewed-on:
	http://openocd.zylin.com/2443 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-09-25  Arne Wichmann <arnew@rasentrimmer.org>

	* : target & board: AT91SAM7A2 and Olimex SAM7-LA2 Initial Support for AT91SAM7A2 on Olimex SAM7-LA2 board.  The board
	seems not to be able to reset into halted mode, as srst is connected
	to NRESET of the cpu (configured srst_pulls_trst).  JTAG RCLK is
	connected to CLK.  Tested with
	interface/ftdi/olimex-arm-usb-ocd-h.cfg.  Change-Id: I2bdd67e3683e45f1119c5850bad294aa107891d8 Signed-off-by:
	Arne Wichmann <arne.wichmann@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2318 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-28  Theodore A. Roth <troth@openavr.org>

	* : nrf51: Update known devices table.  Added new entries to the nrf51_known_devices_table array. New
	entries are documented in the "nRF51 Series Compatability Matrix
	V1.0" found on the Nordic Semi web site. Reordered entries to match
	the order found in the document.  Also added an entry for an undocumented hwid discovered while
	flashing the PCA10031 and PCA10028 dev boards.  Change-Id: Icca7da103d437dc28e651f27ab937fe953b9aac9 Signed-off-by:
	Theodore A. Roth <troth@openavr.org> Reviewed-on:
	http://openocd.zylin.com/2514 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-16  Paul Fertser <fercerpav@gmail.com>

	* : cfg: add board and target configs for TI SimpleLink Wi-Fi CC3200
	LaunchPad Change-Id: I4396ee737c1dad380aa23894bbd1faf75f26d072 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2465 Tested-by: jenkins

2015-01-19  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target|board: add configs for Alphascale asm9260t This adds configs for Alphascale asm9260t ARM based SoC and
	Evaluation Kit based on this chip.  Change-Id: Id8d3a1ef204e3ae84540c2693e3d62650ba82f73 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2515 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-02-12  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cfg: Fix Kinetis kwikstik/kx config The flash definition belongs in the target cfg. Add some working
	area and suitable reset_config.  Make kx.cfg more similar to klx.cfg.  Disable rclk as it is dead slow and a fixed 1MHz clock seems to
	work.  Change-Id: I8328f179c3a33be64403da93616abb48651bdfe6 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2227 Tested-by: jenkins Reviewed-by: Tomas
	Vanek <vanekt@fbl.cz> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-12-11  Jean-Christian de Rivaz <jc@eclis.ch>

	* : Add SWD protocol support to bitbang This is based on the initial work by Paul Fertser with addition of
	the switch sequences and new ACK handling.  In case of WAIT
	response, the sticky bits are cleared and the last operation is
	repeated. The ACK handling is based on the interpretation of the 8
	February 2006 ARM Debug Interface v5 Architecture Specification Change-Id: Id50855b1ffff310177ccf9883dc9eb0d1b4458c8 Signed-off-by:
	Jean-Christian de Rivaz <jc@eclis.ch> Reviewed-on:
	http://openocd.zylin.com/2437 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-02-13  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* :  cortex_m: Add Cortex-M0 identification to ROM-table display.  Change-Id: Id7715a83ba9793844475629aaffd10a81ce586b6 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2549 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Stian Skjelstad
	<stian@nixia.no>

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* : doc: stellaris driver supports Tiva C too Change-Id: I3b77bf0617c0bbba85cfd678adece57aa7d03e32 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2509 Tested-by: jenkins

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* : README, doc: add mrvlqspi flash driver information Change-Id: I7a270cdaf3d9119aa75285a8d1e063c2fe2a31b7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2510 Tested-by: jenkins

2014-08-22  Andrej Kazmin <funnyfish@funnyfish.botik.ru>

	* : flash/nor/at91samd: add small delay before checking nvm status OpenOCD's SWD subsystem doesn't currently have a consistent WAIT
	handling (i.e. it doesn't ever retry, just returns an error), so
	right after a row write a small delay is needed as AHB access is
	stalled during the flashing operation.  The issue was exposed with a samd20 using ftdi SWD transport.  Change-Id: I07d99d3a96845cc689c3904a41f4d41344f200aa Signed-off-by:
	Andrej Kazmin <funnyfish@funnyfish.botik.ru> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2268 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* : server: shutdown command should lead to exit without evaluating
	the rest Currently openocd -c "echo a1; shutdown; echo a2" outputs both "a1" and "a2" and only then shuts down. This patch
	fixes it by making shutdown command throw an exception, so unless
	it's caught the shutdown will behave as expected.  Change-Id: I764268b3a9046ff3e9717d04095ea0673f1d755a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2511 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : xscale: Use the correct method to access registers Change-Id: I900a0787812cb24d1f74ca50eb6bb4f85375a353 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2478 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: Use the correct method to access registers Convert the DWT register store to use a byte array and fix the byte
	order bug uncovered by that. Also fix an incorrect access of the PC
	value.  Change-Id: Idb5acab71bdf5a96895c358324b05c335e4d32ca Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2476 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-26  Antony Pavlov <antonynpavlov@gmail.com>

	* : mips32: add gdb target description support This commit is inspired by     commit 1255b18fc650193094666ba8afd2018089cc9794     Author: Spencer Oliver <spen@spen-soft.co.uk>     Date:   Fri Sep 13 09:44:36 2013 +0100         armv7m: add gdb target description support Change-Id: I75c3971fd0599d34ed49fb73975378b57f2a4af0 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Signed-off-by: Salvador
	Arroyo <sarroyofdez@yahoo.es> CC: Spencer Oliver
	<spen@spen-soft.co.uk> CC: Oleksij Rempel <linux@rempel-privat.de>
	CC: Paul Fertser <fercerpav@gmail.com> CC: Gregory Fong
	<gregory.0xf0@gmail.com> Reviewed-on: http://openocd.zylin.com/1972
	Reviewed-by: Paul Fertser <fercerpav@gmail.com> Tested-by: jenkins

2015-02-09  Anton Kuzmin <anton.kuzmin@cs.fau.de>

	* : tcl/interface/ftdi: correct LED config for BusBlaster KT-Link Configure the LED to be off by default, blink on activity.  Change-Id: I8515ee66c49bddf866268b85811be15c2dbc086c Signed-off-by:
	Anton Kuzmin <anton.kuzmin@cs.fau.de> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2539
	Tested-by: jenkins

2014-06-27  Angus Gratton <gus@projectgus.com>

	* : nrf51 - Add async loader. Performance on nrf51822QAA/stlink-v2
	from ~3.5KiB/s to ~19.5KiB/s.  Change-Id: Ib0bf41a0cec85f0bd5728551f8ad7f6255e4ea04 Signed-off-by:
	Angus Gratton <gus@projectgus.com> [spamjunkeater@gmail.com: Cleanup
	buffer allocation, detect -1 for unknown pages] Signed-off-by: Erdem
	U. Altunyurt <spamjunkeater@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2204
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-01-31  Joerg Fischer <turboj@gmx.de>

	* : J-Link serial number config option Add serial option to jlink config commands, handy when there is more
	than one adapter connected.  To select adapter 0123456 for OpenOCD, use jlink serial 0123456 Change-Id: Ib29ce3f0c4975e1169211721a4531bf4db61f1ee Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/2521 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-27  Paul Fertser <fercerpav@gmail.com>

	* : README: mention "transport select" in quickstart section Change-Id: I027635c3c8632efcf58cf979b9cb2f99e9e7f046 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2512 Tested-by: jenkins Reviewed-by: Uwe
	Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-02-04  Paul Fertser <fercerpav@gmail.com>

	* : doc: document the OCL (on chip flash loader) driver Change-Id: I8afe870c7a16b04473f4822c2df9a7607f0480e7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2529 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-30  Oleksij Rempel <linux@rempel-privat.de>

	* : tcl/target|board: add config Atheros ar9331 Add configs for Atheros ar9331 MIPS based WiSoC and board based on
	this chip: TP-LINK TL-MR3020 Change-Id: I9e99719bce4bbb28311f6e9cddb32288db6e7b91 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/2519 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-12-06  Pawel Si <stawel+openocd@gmail.com>

	* : mini51: support for Nuvoton NuMicro M051 series flash memory adds flash support for Nuvoton M052, M054, M058, M0516
	microcontrollers into the mini51 driver, patch also adds support for
	programing LDROM, flash data and flash config.  I've tested it on a M0516LBN microcontroller using an ST-LINK/V2: 1. removing security lock:    openocd -f interface/stlink-v2.cfg  -f target/m051.cfg -c "init ;
	   halt ; mini51 chip_erase; exit" 2. flashing:    openocd -f interface/stlink-v2.cfg  -f target/m051.cfg -c
	   "program file.hex" Change-Id: I918bfbb42461279c216fb9c22272d77501a2f202 Signed-off-by:
	Pawel Si <stawel+openocd@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2426 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2015-01-17  Ed Beroset <beroset@ieee.org>

	* : em357: added target files for em357 and em358 This patch adds support for Silicon Labs (formerly Ember) EM357 and
	EM358 chips and derivatives.  Change-Id: Ie63aed95a2f4ef1a6b955e301a51b4de1b3a5462 Signed-off-by:
	Ed Beroset <beroset@ieee.org> Reviewed-on:
	http://openocd.zylin.com/2470 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-01-12  Heinz Schweiger <openocd@htl-steyr.ac.at>

	* : cfg: TI Tiva C dk-tm4c129x Evaluation Kits New Texas Instruments Tiva C Series Boards
	http://www.ti.com/tool/dk-tm4c129x Change-Id: I44f96982e91786b977b3d29e0f4c7053d584a703 Signed-off-by:
	Heinz Schweiger <openocd@htl-steyr.ac.at> Reviewed-on:
	http://openocd.zylin.com/1867 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-09-08  Tomas Vanek <vanekt@fbl.cz>

	* : psoc4: support for Cypress PSoC 41xx/42xx family New NOR flash driver was derived from stm32lx.  Procedure
	ocd_process_reset_inner is overriden in psoc4.cfg to handle reset
	halt and system ROM peculiarities.  Change-Id: Ib835324412d106ad749e1351a8e18e6be34ca500 Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2282 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-24  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32lx: use 0 base to autodetect second bank location Change-Id: I3c296b3e276fcd4d92e4180fc0d2133eebfcc240 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2503 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32l: unify waiting for busy flag functions Change-Id: I5e6daff8232bb4807dd13a1951fbf335529661d4 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2491 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-20  Paul Fertser <fercerpav@gmail.com>

	* : configure: define WIN32_LEAN_AND_MEAN early to make it effective This macro makes windows builds faster and helps with the old
	"#define interface struct" issue as the word "interface" is part of
	libusb-0.1 API. However, defining it in replacements.h is too late,
	as windows.h gets included by that time from somewhere else.  This solution is provided by Ray Donnelly from the MSYS2 team.  Change-Id: I376a5fb3d106786515d7e1ba44dbd751e4dcdb1b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2486 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-23  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32f2x: add new revisions of STM32F4x parts Change-Id: I7585ccbe12fe079e960ce9e33d9a143672a6a08c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2493 Tested-by: jenkins Reviewed-by: Rmi
	PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-12-11  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Add more STM32F3 IDs in target/stm32f3.cfg.  Change-Id: I4c4462aa025639c4d20e6fa23c8845a69e60afc5 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2435 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2015-01-15  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target: add lpc8xx.cfg This adds a trivial config for LPC8xx chips based on the already
	existing infrastructure in lpc1xxx.cfg.  Change-Id: I7384df1f3c2e3e8ab767319728db5c4f8149480f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2464 Tested-by: jenkins Reviewed-by:
	Andreas Frber <afaerber@suse.de> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp>

2015-01-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : armv4_5: Continue the change from uint32_t to uint8_t[4] for
	regs Also remove an unrelated no-op cast.  Change-Id: Ibeb6c72e5b0b0347abb568947a05a179661faf2d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2473 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins

2015-01-16  Jens Bauer <jens@gpio.dk>

	* : stm32f2x: Fix byte order bug.  Do not use buf_set_u32 on integers; they're not buffers.  If using
	buf_set_u32 on integers, bytes will be exchanged on Big Endian
	targets.  In this particular case, FLASH_OPTCR was incorrectly
	written, causing it to often contain one of these values:
	0x00aaaae1, 0x00aaffef, 0x00ffabe1 or 0x00abffe1.  This
	write-protected the device before flash-programming, causing this
	command...  flash write_image erase unlock myfile.elf ... to fail,
	complaining about write-protection.  Repeating the above command
	would change the OPTCR register each time.  After applying this
	patch, the OPTCR remains "unchanged".  Change-Id: I73d510fcc2e81a01973ad5c6e1aa22715ebd2743 Signed-off-by:
	Jens Bauer <jens@gpio.dk> Reviewed-on: http://openocd.zylin.com/2466
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2015-01-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jtag: Rewrite TAP verification/auto-probe logic Enable auto-creating additional discovered TAPs even if some TAPs
	are predefined, avoiding initialization failure when it's not
	necessary.  Also, drop the arbitrary limit on the number of predefined TAPs.
	Still, don't auto-create any if there are more than 20 TAPs already,
	to stop a noisy connection from creating unlimited TAPs.  Create auto-probed TAPs with less noise.  Reduce code duplication between verification and auto-probing.  Change-Id: I82a504d92dbcc0060206e71f10c5158256b5f561 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2236 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2015-01-21  Jaakko Kukkohovi <jkukkohovi@gmail.com>

	* : jtag/drivers/cmsis-dap-usb: fix cmsis_dap_serial Previously the serial wasn't actually used in hid_open() call, which
	meant that the first device with matching vid:pid was opened
	irrespective of the actual serial number.  Change-Id: I45216ae5d9e0798e97be693c30e2f03c89b9a02b Signed-off-by:
	Jaakko Kukkohovi <jkukkohovi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2487 Tested-by: jenkins Reviewed-by: Jrg
	Wunsch <openocd@uriah.heep.sax.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target/stellaris: Snowflake supports SYSRESETREQ too Change-Id: If4bf472ab8867c54a976bdb5803f7e4f79f350a8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2461 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Ed Beroset
	<beroset@ieee.org>

2015-01-17  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/stlink: demote the output of available speeds to
	DEBUG Change-Id: If0afb6fb1cb2f39619e4e614573065c145255c3e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2469 Reviewed-by: Jens Bauer <jens@gpio.dk>
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2015-01-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f07/9: Both devices have 256 kByte Flash Maximum.  See RM0091, Rev.7. page 56.  Change-Id: I9a98094d49739686f93e26a5112eb0a2a8a7c883 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2458 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-09  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f09x: Print info in get_stm32x_info.  Change-Id: I5f9b765fe04906e124e2c95ff6bf7193be9d4ce2 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2456 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-10  Paul Fertser <fercerpav@gmail.com>

	* : cfg: add srst_nogate to the supported targets, remove from board
	configs It depends on the particular target whether it can work with SRST
	asserted or not, so this belongs to the target config rather than
	the board config.  Also, this allows for simple openocd -f myboard.cfg -c "reset_config connect_assert_srst" command to be used whenever a user feels a need to connect to an
	unresponsive target.  Change-Id: I3d8da9ae47088fc0c75a20bfdd20074be1014de0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2459 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : stm32f0/nucleo: Use only one configuration for all stm32f0
	nucleo boards.  Change-Id: Ib2ddcd7a92c0d7ad503ef8e953f2bc304241a9f0 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Reviewed-on:
	http://openocd.zylin.com/2396 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-12-09  Karl Palsson <karlp@remake.is>

	* : target/stm32xx: Endian is not configurable.  So remove it from all the configs, it's misleading, and leads to
	cargo culting of config files.  Change-Id: I2b77e60d5e96f9759c7c9fc91b20e73be2e95d9a Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2446
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-12-19  Karl Palsson <karlp@remake.is>

	* : contrib: itmdump: fix multi byte decoding Incorrect byte manipulations.  Change-Id: Id8c3f457b39f4b2b75613076d403359c4972a69d Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2448
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-12-15  Andreas Frber <afaerber@suse.de>

	* : tcl/board: Add TI TMDX570LS20SUSB board config It is derived from ti_tmdx570ls31usb.cfg, using a different TAP ID.  Change-Id: I2d911995c76ea4f75a780cc230d61f4959825809 Signed-off-by:
	Andreas Frber <afaerber@suse.de> Reviewed-on:
	http://openocd.zylin.com/2440 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : hla: add ability to change adapter speed (if supported) As a note we need to cache the requested speed setting, as the hla
	interface may not be ready when the first adapter_khz is called.  Change-Id: I2fa6807d5f0bd3f0365cf178bd10a230c39415a7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2334 Tested-by: jenkins

2015-01-07  Paul Fertser <fercerpav@gmail.com>

	* : jtag/hla: output possible idcode candidates in case of mismatch Output a similar message to what we have on low-level JTAG adapters
	to avoid confusing users. Reported on IRC by chickensk.  Change-Id: I96d58410ef715b966e32d79c0aacf38596c5eb3f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2451 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2015-01-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update bug tracker URL Change-Id: I6a362020a29ccb9222f7909b5b34e5c35a02ed4b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2454 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-10-14  Alexander Stein <alexander.stein@systec-electronic.com>

	* : cortex_a: Add support for A7 MPCore A7 MPCore needs unlocking the debug registers same as with A15
	MPCore.  Found out by hacking on the code.  Change-Id: I613cb4fb35007b85b4a9a401577b47768bc1a08b Signed-off-by:
	Alexander Stein <alexander.stein@systec-electronic.com> Reviewed-on:
	http://openocd.zylin.com/2344 Tested-by: jenkins Reviewed-by: Kamal
	Dasu <kamal.dasu@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-12-08  Tomas Vanek <vanekt@fbl.cz>

	* : ChibiOS: struct ChibiOS_params_list[] should not be const Procedure ChibiOS_update_memory_signature() sets struct member
	signature.  Change-Id: I45adbd14fa7cda99413fd0b516d45b3fb55e322d Signed-off-by:
	Tomas Vanek <vanekt@fbl.cz> Reviewed-on:
	http://openocd.zylin.com/2427 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix kinetis driver typos Change-Id: I0a4557f08507c61cb8ab33b38d2b6b069c344c09 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2385 Tested-by: jenkins

2014-10-11  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : avoid segfaulting when attempting to set an unavailable type of
	breackpoint For example "bp 0x20000000 8 2" makes openocd segfaulting on a
	stm32f4x Discovery board.  Change-Id: I1ddd46b1fa9ade78db2234ed975ccefb72539331 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/2342 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-02  Paul Fertser <fercerpav@gmail.com>

	* : swd: handle various failure conditions When communication with target fails for whatever reason, it makes
	sense to do JTAG-to-SWD (in case the target got power-cycled or the
	DAP method was reset anyhow), SWD line reset sequence (part of
	JTAG-to-SWD already) and the mandatory IDCODE read. Schedule that to
	be performed on the next poll.  Fix the return values for ftdi and jlink drivers to be consistent
	with OpenOCD error codes and remove ad-hoc calls to perform DAP
	method switching (as it's now done from the upper layer
	automatically).  Change-Id: Ie18797d4ce7ac43d8249f8f81f1064a2424e02be Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2371 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mateusz
	Manowiecki <segmentation@fault.pl>

2014-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : rtos: free gdb packet allocated memory compile tested only.  Change-Id: I3bc06c212967a3ce44a875f802b554c178537d1d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2382 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jtag: Remove unnecessary global variable Change-Id: I96e5f13b12da2970eafc5fca24b7952d427eeca9 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2235 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-11-21  Karl Palsson <karlp@tweak.net.au>

	* : stm32l: split l0/l1 support no jtag, different HSI settings L0 is cortex m0+, so different id codes, SWD only, different
	addresses for the clock speedup.  It has no endian options, no
	boundary scan.  Removed all L0 specific portions from L1 files, and renamed files to
	clarify their purpose.  The deprecated stm32lx_stlink.cfg is kept as
	is, as it is only around for backwards compatibility with prior
	releases.  Tested on STM32L053 Discovery and STM32L151 Discovery.  Has _not_ been tested with jtag on L1.  Change-Id: I8eea890d2f92a302d9e9c8a8832d218ee1b6bcfc Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2405
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Juha Niskanen
	<juha.niskanen@haltian.com>

2014-11-18  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : tcl/target/stm32f4: ramp up JTAG speed, HSI is 16MHz there Since all F4 parts have an internal HSI providing 16MHz, it's safe
	to use 2MHz JTAG frequency by default.  Change-Id: I2702d5a1d642d4acd4af2db54c028949132c6900 Signed-off-by:
	Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de> Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2383 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-30  Grigori Goronzy <greg@chown.ath.cx>

	* : lpc2000: ignore status of part ID IAP command The IAP firmware won't return a proper status with some versions.
	This happens on my CCC r0ket board and others have seen it as well
	[1]. So just ignore the status code and do a (weak) consistency
	check instead.  [1]

	http://www.lpcware.com/content/forum/lpc1343-iap-read-part-identification-commandChange-Id: I0daa779d520a540629677c56857bbc20d6db422d Signed-off-by:
	Grigori Goronzy <greg@chown.ath.cx> Reviewed-on:
	http://openocd.zylin.com/2364 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-10-10  Antony Pavlov <antonynpavlov@gmail.com>

	* : or1k: remove address of the Free Software Foundation The FSF address has changed; The FSF site says that address is   Free Software Foundation   51 Franklin Street, Fifth Floor   Boston, MA 02110-1301   USA (see http://www.fsf.org/about/contact/) Instead of updating it each time the address changes, just drop it
	completely treewide.  Change-Id: I27199f7625901f677d8105d1e8876cff00147b71 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2340 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-07  Antony Pavlov <antonynpavlov@gmail.com>

	* : mips32: fix typos Change-Id: Ibb98fe3da68bf670a5bb83600bb49647db8a4163 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2338 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-24  Christian Gudrian <christian.gudrian@gmx.de>

	* : Added FPU support for ChibiOS/RT When an enabled FPU is detected we now use an appropriate stacking.  Change-Id: I1b0f43ec22e1c55c4f10e2ffa97d4aaa77bca5ee Signed-off-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-on:
	http://openocd.zylin.com/2354 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-10-25  Paul Fertser <fercerpav@gmail.com>

	* : rtos: allow symbols to be optional for a particular RTOS Default to non-optional.  Change-Id: Ifc9ddb1ab701a19c3760f95da47da6f7d412ff2e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2355 Tested-by: jenkins Reviewed-by:
	Christian Gudrian <christian.gudrian@gmx.de> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2014-10-31  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/jlink: implement register command to fix SWD Some J-Link fw versions require registration to be performed before
	SWD operation is possible. It doesn't harm anyway, vendor's
	utilities do it unconditionally.  Thanks go to Segger for providing the necessary information.  Change-Id: Iabd76c743eca86e2c817a97cb93c969fec3f7ac6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2331 Tested-by: jenkins

2014-10-27  Anders <anders@openpuma.org>

	* : flash/nor/lpcspifi.c: fix bug that prevented clean reset after
	flash write After SPI flash was written by the assembly language stub, the last
	SPI command was not terminated by raising CS.  This left the SPI
	device in a hung state that prevented the flash from being read by
	the M4 SPIFI controller, even after the M4 was fully reset. To
	access the flash via SPIFI, it was necessary to completely power
	cycle the board.  This fix adds the missing instructions to raise CS and terminate the
	SPI command after the last byte. This allows the M4 to be resumed or
	reset cleanly after flashing. The SPIFI memory is now immediately
	accessable at address 0x1400 0000 after flashing is complete.  Change-Id: I4d5e03bded0fa00c430c2991f182dc18611d5f48 Signed-off-by:
	Anders <anders@openpuma.org> Reviewed-on:
	http://openocd.zylin.com/2359 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-20  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : lpc2000: Added LPC1500 series flash programming support.  This patch adds flash programming support for LPC1547/8/9 and
	LPC1517/8/9.  Tested on LPC1549(LPC1549 LPCXpresso Board with
	CMSIS-DAP firmware).  Change-Id: Ic95b4d62055bb9fdc2ca484696a38ccaf49ad951 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2304 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Grigori G
	<greg@chown.ath.cx>

2014-10-29  Jim Paris <jim@jtan.com>

	* : nrf51: verify that UICR needs erasing before triggering an error
	about it If the UICR is already empty, there's no reason to return an error
	just because it can't be erased again.  This happens, for example,
	when flashing UICR from GDB after a "monitor nrf51 mass_erase".  Change-Id: Ia6d28c43189205fb5a7120b1c7312e45eb32edb7 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2363
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-10-28  Jim Paris <jim@jtan.com>

	* : nrf51: fix UICR region size The UICR region is actually 0x100 bytes in size.  Besides making the
	full region accessible, having the right value is important because
	GDB rounds flash addresses to the nearest multiple of the block size
	when determing which flash blocks to erase.  Change-Id: I416c391cbfc7be41a03a9b9c6e42326c87391f38 Signed-off-by:
	Jim Paris <jim@jtan.com> Reviewed-on: http://openocd.zylin.com/2361
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Tested-by: jenkins

2014-10-26  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi/swd-resistor-hack: clarify and add schematic
	diagram Change-Id: I8600ee983de85e4225430ae508a50cd938122d89 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2357 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : cmsis-dap: refactor HID PID/VID check loop In preparation for adding serial number support.  Change-Id: I3c9fb411b79d54a4d2de067039255436ba6708c7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2328 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-10-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: remove incorrect execute permissions Change-Id: I0ba9dfdf876bc99df4e2d1f1f3bc0c9ccc6c98c2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2333

2014-09-24  Rmi PRUD'HOMME <prudhomme.remi@gmail.com>

	* : stm32: Add config file for a new board STM32L052 dsicovery this board use STLink-V2-1, the STM32L1xx use the STLink-V2.  Change-Id: Ie58f45affcb1e9a6fed711b48c3c03b5035ab2b2 Signed-off-by:
	Rmi PRUD'HOMME <prudhomme.remi@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2317 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-08-21  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stellaris: implement protection statuses and
	procedures This should make protection work as expected on all stellaris
	families, including the latest Tiva C Snowflake.  Run-time tested on TM4C123x (Blizzard).  Change-Id: Ia017edb119bec32382b08fc037b5bbc02dd9000c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2267 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stellaris: actually enable protection and unprotection
	with ICDI This is still limited to pre-Snowflake parts and the first 64K of
	flash.  Change-Id: I9ca872ada3d1a87dba6261464b2a72a15eda5ecf Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2264 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-10  Paul Fertser <fercerpav@gmail.com>

	* : interface/ftdi/olimex-arm-usb-ocd-h: fix nTRST control
	definition According to my inspection of an Olimex ARM-USB-OCD-H adapter ACBUS0
	is connected directly to an SN74LVC2T45 buffer input B2, and the
	corresponding output A2 is connected directly to the JTAG connector.
	It seems the information in the Olimex flyer is incorrect for the -H
	version and TRST can't be tri-stated, ACBUS2 is unused.  The older ARM-USB-OCD device has SN74AC244 for an output buffer and
	ACBUS2 controls its !2OE, ACBUS0 connected to 2A1 (2Y1 is nTRST), in
	accordance with the information flyer.  Change-Id: I22828b7b959b6f62c3f51367feb8fab9705641e5 Reported-by:
	Tim Sander <tim@krieglstein.org> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2286
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Tim Sander <tim@krieglstein.org>

2014-10-01  Anders <anders@openpuma.org>

	* : jtag/drivers/libusb1_common: avoid device reset when reselecting
	configuration According to [1], we shouldn't reselect an already active
	configuration to avoid needless device reset. This is known to cause
	issues with e.g. LPC Link2 with JLink firmware.  [1] http://libusb.sourceforge.net/api-1.0/caveats.html#configsel Change-Id: I3568ada77780a521548c450090db7173f8d0b2dd Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Anders Oleson
	<anders@openpuma.org> Reviewed-on: http://openocd.zylin.com/2288
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: constify structures Change-Id: I875cfab8dec4ade72ed9c9cd7d52baaca182a1ef Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2295 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: constify driver data structures Change-Id: Ia5c3de48119f036e1d7a41be62a672a6fb37e59b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2293 Tested-by: jenkins

2014-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : nuc1x: fix typos Change-Id: Ia67b55ccb2bea71a99daa176def82960f487ca9f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2291 Tested-by: jenkins

2014-08-06  Andrey Yurovsky <yurovsky@gmail.com>

	* : at91samd: add erase/secure commands, minor fix Reference code for the SAMD2x disables caching in the NVM controller
	when issuing NVM commands.  Let's do this as well to be consistent
	and safer.  Add a "chip-erase" for the Atmel SAMD targets that issues a complete
	Chip Erase via the Device Service Unit (DSU).  This can be used to
	"unlock" or otherwise unbrick a chip that can't be halted or
	inspected, allowing the user to reflash with new firmware.  Add a "set-security" command which issues an SSB.  Once that's done
	and the device is power-cycled, the flash cannot be written to until
	a "chip-erase" is issued.  The chip-erase cannot be issued by
	openocd at this time because the device will not respond to a
	request for the DAP IDCODE.  Change-Id: I80122f0bbf7e3aedffe052c1e77d69dc2dba25ed Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2239 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-29  Paul Fertser <fercerpav@gmail.com>

	* : doc/openocd.texi: add SWD to the transports supported by jlink Since 67332532194b16b99f0535a41b4179ca5df349b0 jlink adapter driver
	supports SWD in addition to JTAG.  Change-Id: I9376aa02d9281f3e2734d8f127cd42162633d95b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2324 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-21  Jon Burgess <jburgess777@gmail.com>

	* : cortex_m.c: Use two byte breakpoint for 32bit Thumb-2 request When GDB requests a breakpoint on a 32bit Thumb-2 instruction it
	sends a length of 3 which the current code rejects. Using the
	existing two byte breakpoint for this case appears to work fine.  The use of length==3 for this case is mentioned in a few places:
	https://sourceware.org/gdb/onlinedocs/gdb/ARM-Breakpoint-Kinds.html
	http://sourceforge.net/p/openocd/mailman/message/30012280/ Change-Id: I59cd69ba4d1bc9a37b86569738c6bb2a67c3eb7a Signed-off-by:
	Jon Burgess <jburgess777@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2312 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-24  Karl Palsson <karlp@tweak.net.au>

	* : tcl/board: add TI Tiva C ek-tm4c1294xl config Change-Id: Iab070fe4c0f03ecc0db035b16dfb64105b0841be Signed-off-by:
	Karl Palsson <karlp@tweak.net.au> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2063
	Tested-by: jenkins

2014-09-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Remove "-variant" argument Remove this underutilized feature. Despite the fact that a lot of
	configs specifies a arbitrary "variant", only the xscale target
	actually defines any.  In the case of xscale, the use of -variant is dubious since 1) it's used as a redundant irlen specifier, 2) it carries a comment that it doesn't really need it and 3) only two xscale configs even specify it.  If there's a future target that needs a variant set, a target
	specific option could be added when needed.  Change-Id: I1ba25a946f0d80872cbd96ddcc48f92695c4ae20 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2283 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-04  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : flash/nor/tcl.c: Do not double probe banks Previous to this version the code of handle_flash_probe_command
	would probe a bank twice: first time by auto-probe through a call to
	flash_command_get_bank and second time by calling the probe function
	directly. This change adds a flash_command_get_bank_maybe_probe wich
	is a more generic version of the flash_command_get_bank, that would
	allow commands to decide whether auto-probing should be performed or
	not.  Change-Id: If150ca9c169ffe05e8c7eba36338d333360811e3 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2093 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-04  Mahavir Jain <mjain@marvell.com>

	* : flash/nor: add mrvlqspi flash controller driver This patch adds support for QSPI flash controller driver for
	Marvell's Wireless Microcontroller platform.  For more information
	please refer,

	https://origin-www.marvell.com/microcontrollers/wi-fi-microcontroller-platform/Following things have been tested on 88MC200 (Winbond W25Q80BV flash
	chip): 1. Flash sector level erase 2. Flash chip erase 3. Flash write in normal SPI mode 4. Flash fill (write and verify) in normal SPI mode Change-Id: If4414ae3f77ff170b84e426a35b66c44590c5e06 Signed-off-by:
	Mahavir Jain <mjain@marvell.com> Reviewed-on:
	http://openocd.zylin.com/2280 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-09-18  Austin Phillips <austin_phillips@hotmail.com>

	* : Support hla_serial command for ST-LINK adapters.  The hla_serial command allows for a programming device serial number
	to be specified in addition to USB VID/PID.  This allows for
	multiple ST-LINK/V2 programmers to be attached to a single machine
	and operated using openocd.  Change-Id: I350654bf676eb26ba3a90450acfa55d2a5d2d791 Signed-off-by:
	Austin Phillips <austin_phillips@hotmail.com> Reviewed-on:
	http://openocd.zylin.com/2198 Tested-by: jenkins Reviewed-by: Martin
	Glunz <mg@wunderkis.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-09-07  Anders <anders@openpuma.org>

	* : flash: added new Spansion S25FL116K, S25FL132K, and S25FL164K
	devices The new FL1-K family is replacing the FL-K family. The data from all
	three was based on the datasheet. In addition the 8MB S25FL164K was
	tested successfully with OpenOCD on a custom board.  Change-Id: Idafeed86da12a481c0db92cc0de7ba28f50c2252 Signed-off-by:
	Anders <anders@openpuma.org> Reviewed-on:
	http://openocd.zylin.com/2281 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-09-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: Check return value from cortex_m_dcc_read.  Caught by clang.  Change-Id: I26d2b845aca431612862ef432b217ca397d9b893 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2279 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-20  Paul Fertser <fercerpav@gmail.com>

	* : tcl/board/sheevaplug: add adapter_khz setting This combination is known to work properly with 2MHz JTAG clock.  Change-Id: Ie5ec3d3b415efbb13faee7d34e0c7f862b78350c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2266 Tested-by: jenkins

2014-02-20  Vanya Sergeev <vsergeev@gmail.com>

	* : cfg: refactor lpc1xxx targets onto one base config Since now auto-detection for flash size works nicely, there's no
	reason to keep numerous configs around.  Change-Id: If0cbc37985abf17ef7c1f7d0688e76500fac228f Signed-off-by:
	Vanya Sergeev <vsergeev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1960 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2014-08-18  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : stm32f2x: added STM32F411xx series support.  Added STM32F411xx series to flash driver.  Tested on NUCLEO-F411RE board(STM32F411RET6).  Change-Id: Id7d1f2858c09815a013e0590e65ad193fb039157 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2258 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stellaris: add all Tiva C parts IDs Luckily, TI's website has predictable URLs for the datasheets, so it
	was trivial to download all the pdfs corresponding to the currently
	available 71 TivaC devices. Then they were processed with pdftotext
	and parsed by this script: BEGIN { capture = -1 } /^Device Identification 0 \(DID0\)$/ { state
	= "waitingclass0" } /^Device Identification 1 \(DID1\)$/ { state =
	"waitingpartno0" } /^CLASS$/ { if (state == "waitingclass0") state =
	    "waitingclass" else if (state == "waitingclass") capture = 4 }
	/^PARTNO$/ { if (state == "waitingpartno0") state = "waitingpartno"     else if (state == "waitingpartno") capture = 4 } (FNR == 3) {
	family = $2 } {     if (capture >= 0) {         if (capture == 0) {             if (state == "waitingclass")                 class = $0             else if (state == "waitingpartno")                 partno = $0         }         capture--     } } END { print "{" class ", " partno ", \"" family "\"}," } Change-Id: I6820c409fe535f08394c203276b5af4406fe8b92 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2262 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-24  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi: add kt-link config (with SWD) for DP
	BusBlaster Change-Id: Icbeca8c0c3845c0b777fb2e4c81b17e7b7cc5ff8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2269 Tested-by: jenkins Reviewed-by: Ben
	Gamari <bgamari@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-08-15  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target/imx6: add yet another SJC tapid This is for mx6q TO1.1.  Change-Id: Id6af2ed232fc19be9bf49eb6d2df0004c6668698 Reported-by:
	Fabio Estevam <fabio.estevam@freescale.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2253 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-19  Paul Fertser <fercerpav@gmail.com>

	* : jtag: always configure enabled tap parameter appropriately Commit f701c0cb seems to have introduced a regression for non-JTAG
	transports as the newly created "tap" (DAP actually) ended up being
	disabled, thus resulting in total lack of functionality.  This was exposed by a debug log demonstrating ftdi SWD transport
	connection to mdr32f9q2i, the target wasn't examined on init and
	couldn't be reset.  Change-Id: If53cbe800d4adc177aa3ac3219860e7fa15b3e49 Reported-by:
	  <eldar.khayrullin@mail.ru>
	Signed-off-by: Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2261 Tested-by: jenkins Reviewed-by: Angus
	Gratton <gus@projectgus.com> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-10  Andrey Yurovsky <yurovsky@gmail.com>

	* : stm32lx: refactor and add support for STM32L0xx This adds initial support for the STM32L0 family, specifically the
	ID code 417 variant.  The 'L0 has 128B rather than 256B pages as
	well as a different number of pages per sector.  It also has several
	key registers and register sets in different locations from the
	STM32L1xx parts.  This change therefore takes the opportunity to reorganize part
	information into a const table (it was previously determined by a
	set of control statements) and abstracts away some of the low-level
	details to make them generic for L1 and L0 parts.  We also include the first bank's size (for dual bank parts) in the
	new device information table (and correct that size for the 0x437
	variant which is 256 rather than 192KB).  The 'L0 parts will not use the built-in loader/helper for Flash
	writing.  Tested on STM32L053 (dicovery board and Nucleo board) and STM32L152
	(discovery board).  Change-Id: I57f7a8ab02caee266de71b31ae82a50d85728a0b Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2200 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-18  Andrey Yurovsky <yurovsky@gmail.com>

	* : flash: samd: add missing ID for SAMD20E18A This was somehow missed in the chip ID table and of course that's
	exactly the one on my board (as such, tested on hardware).  Change-Id: I212d7c729d979e0357f1d4635f40935e25fe6ff3 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2260 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : jlink: add variant "J-Link Lite-ADI" Fitted to various Analog Devices ADuCM36x dev boards.  Change-Id: Ib3691704c0ecd2f8cba1abba284aee695d6bc135 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2244 Tested-by: jenkins

2014-08-14  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32f1x: add STM32F302x6/8 IDs, clarify STM32F302xB/C Change-Id: I22afbe30f32b0ea9b59c3de8d15ce14bdc4763cc Reported-by:
	Luis Rodrigues <lfrodrigues@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2249
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-08-15  Paul Fertser <fercerpav@gmail.com>

	* : transport: emit a warning when a user tries to reselect a
	transport Even though changing transport is impossible, reselecting it should
	be harmless.  Change-Id: I6c1c2786134e826f47f848b590e6d712b6fd2206 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2251 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-17  Eldar Khayrullin <eldar.khayrullin@mail.ru>

	* : tcl/board/stm32ldiscovery: fix breakage Change-Id: I450ea82c27009be6bad6a7814969d81964ff44d8 Signed-off-by:
	Eldar Khayrullin <eldar.khayrullin@mail.ru> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2255 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-22  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_m4k.c: D or I breaks only if they supported.  For example Realtek RTL8186 (Lexra LX5280 core) don't support break-
	and watchpoints.  Change-Id: Ie00102da4bf13a8c42a9ad05910c66884f297cfd Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1933 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-21  Oleksij Rempel <linux@rempel-privat.de>

	* : mips32.c: fix IB and DB bits check for EJTAG v2.0 Change-Id: I4e28dddc1d5d9c2b923ae17beacdd7f73591b1d0 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1931 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-08-14  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_ejtag.c|h: use version specific IMPs and make version specific debug log Change-Id: I17f7ff757cfa1264a1dadbfe20c5e21de62ef87a Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1929 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-16  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : tcl/board: Add board configuration for nRF51822-mKIT Add board configuration for Nordic's nRF51822-mKIT devkit, available
	here: http://mbed.org/platforms/Nordic-nRF51822/ Change-Id: Ib9329307147b1e7be061a5060b4eec8256fe2bd4 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> [gus@projectgus.com: Minor
	tweaks, model number] Signed-off-by: Angus Gratton
	<gus@projectgus.com> Reviewed-on: http://openocd.zylin.com/2116
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-07-01  Angus Gratton <gus@projectgus.com>

	* : nRF51822: Add workaround for PAN-16 where not all RAM blocks
	reliably enabled on reset According to Nordic Semiconductor Product Anomaly Notice (document
	NRF51822-PAN), item 16, some revisions of nRF51822 sometimes reset
	without all RAM blocks enabled. This was noted on NRF51822-QFAA rev
	CA/C0, only 8KiB of memory was accessible.  This patch turns on all RAM following a debugger induced reset
	(matches specified behaviour.) Change-Id: I4f8be4ec3d1271da7fe5bc9a084fdcb2968535bb Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/2202 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-28  Paul Fertser <fercerpav@gmail.com>

	* : Allow transports to override the selected target (hla configs
	unification) This should allow to share common configs for both regular access
	and high-level adapters.  Use the newly-added functionality in stlink and icdi drivers, amend
	the configs accordingly.  Runtime-tested with a TI tm4c123g board.  Change-Id: Ibb88266a4ca25f06f6c073e916c963f017447bad Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> [gus@projectgus.com:
	context-specific deprecation warnings] Signed-off-by: Angus Gratton
	<gus@projectgus.com> [andrew.smirnov@gmail.com: additional nrf51.cfg
	mods] Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com>
	Tested-by: Andrey Skvortsov <andrej.skvortzov@gmail.com>
	Reviewed-on: http://openocd.zylin.com/1664 Tested-by: jenkins
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-08-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : interface/ftdi: Mark flyswatter.cfg as tested - Flyswatter + Proxmark3 (Atmel AT91SAM7S256) - works - Flyswatter + Tiva Launchpad (EK-TM4C123GXL) - works Change-Id: I615e0ff9262be6ae1064fb2de8e6e810775e7db4 Tested-by:
	Ondrej Mikle <ondrej.mikle@nic.cz> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2237 Tested-by: jenkins

2014-07-19  Paul Fertser <fercerpav@gmail.com>

	* : drivers/jlink: fix SWD speed config, and set it before sending
	anything During the initialisation a driver might need to communicate with
	the target (e.g. sending jtag2swd sequence), so when doing so it
	should honour the user-specified speed.  Change-Id: If84fea6057fda9edcf2c0a653edfbab2500e3cdd
	[andrew.smirnov@gmail.com: fix khz/hz confusion] Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2224 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-07-28  Paul Fertser <fercerpav@gmail.com>

	* : tcl/board: fix all the remaining boards that were sourcing
	ft2232 configs This was reported in
	https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=751372 .  Change-Id: I258f3d40593ff2966ce3ca61c13a23699d1b162f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2230 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-11  Paul Fertser <fercerpav@gmail.com>

	* : Provide od+sed replacement for the bin2char helper Using custom build-time tools is always more problematic, especially
	for cross-compiling.  This alternative implementation assumes "od" (IEEE Std 1003.1-2001)
	and sed are available which should be the case for any reasonably
	modern system.  Change-Id: I0208f475648c78e7dca127ff4bab60d314b2bf53 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2139 Tested-by: jenkins Reviewed-by: Fatih
	Ac <fatih.asici@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-06-23  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target/stm32l: restore slow clock on reset Change-Id: I63eafaa38b188fe50c13ab966be44a3eaa2006b0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2188 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-24  Masaki Muranaka <monaka@monami-ya.com>

	* : drivers/cmsis_dap_usb: Return with ERROR_FAIL if no CMSIS-DAP
	device is found.  Even if it does not return, the initialization will be failed.  But
	it is better to show why the error is caused.  Change-Id: I399c7c94a7156be22723a9715e594061bb414a7e Signed-off-by:
	Masaki Muranaka <monaka@monami-ya.com> Reviewed-on:
	http://openocd.zylin.com/2189 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-07-03  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cfg: Rename leftover cortex_a8 -> cortex_a Change-Id: Id11d89ae2fb78854da4284afb7f14d8a892a2e49 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2197 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-29  Kamal Dasu <kdasu.kdev@gmail.com>

	* : cortex_a: target implementation renames cortex_a8 to cortex_a A previous commit changes the target name used by tcl scripts.
	commit d9ba56c295f057e716519a798bf9cdb4898c24f4 target: rename
	cortex_a8 to cortex_a The current change renames target functions and definitions in the
	implementation from cortex_a8 to cortex_a.  This prepares the
	implementation to support Cortex-A8, A9, A15-MPCore in one place.  Change-Id: I73b5a38a92c12ba5bd3b806fbbb664817575a6d7 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1599 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-16  Fatih Ac <fatih.asici@gmail.com>

	* : vsllink: Add SWD support Tested with stm32f1x, stm32f4x and kl25 targets using SWD transport.  Change-Id: I118d07371b53f402ea9ac73f874460a309c05100 Signed-off-by:
	Fatih Ac <fatih.asici@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1947 Tested-by: jenkins

2014-06-25  Paul Fertser <fercerpav@gmail.com>

	* : drivers/cmsis_dap_usb: restructure init sequence a bit This fixes the issue of improper initialisation sequence and in
	particular makes "cmsis_dap_vid_pid" config specification
	functional.  Not really elegant but it's in line with the ftdi driver and so can
	be reworked in a uniform way later when the internal API is changed.  Change-Id: Ief9fc64ad0ac24e1c66727153f383e4f30a830c7 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2192 Reviewed-by: Andrey Yurovsky
	<yurovsky@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-20  Kamal Dasu <kdasu@broadcom.com>

	* : Openocd: svf: Add ability to ignore svf_check_tdo errors Added Openocd commandline argument to ignore_error when the read
	back TDO does not match to expected value specified with TDO after
	masking with what is specified in MASK. This allows to continue to
	play entire SVF file ignoring errors.  Error logs clearly show the
	failure reason and prints read back TDO value.  Change-Id: I324f476fc16a003b35e6f2c5b63976431f49d54a Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2129 Tested-by: jenkins Reviewed-by: Franck
	Jullien <franck.jullien@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-06-22  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/ftdi: do not touch unavailable reset signals If the current reset_config doesn't specify availability of nTRST or
	nSRST, just leave them alone, do not try to deassert them ever
	(asserting would be prevented by the upper layer).  Change-Id: I90123c666e05a1c26f1e164625e82d766a3e3744 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2186 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi: add SWD configs for kt-link, olimex, rowley
	and resistor hack Resistor hack is runtime-tested, other configs are based on
	schematics.  Change-Id: I8daffa0434cd41d142fbec7c230a302284f7aa31 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2184 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-06-20  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/ftdi: declare standard JTAG signals on SWD init Unfortunately, this means they're available for config files only
	after selecting swd transport.  Change-Id: Ia2afc1f3bfdba8d81efbb8ab964b174c0f7e2811 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2182 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-06-19  Paul Fertser <fercerpav@gmail.com>

	* : Auto-select JTAG transport when appropriate I looked through all the target configs after stripping comments and
	such from them with sed to see what jtag-specific commands can
	appear first, and it looks like all the meaningful combinations
	should be covered.  Change-Id: I8d543407b7f4ac8aca7354ecd50e841c8a04d5f3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2179 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cfg: Add SWD support to JTAG-lock-pick Tiny 2 Change-Id: I61eac507fa6861b7daf603ebca58e8bf3cc699c1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2136 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-05-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : transport: Constify the transports vector Change-Id: I0c874b5d4c97cf781d83bd381d701f770e069f72 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2135 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-02  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5: Make sure all bit masks are unsigned and wide enough.  Also align them with spaces instead of tabs.  Change-Id: I1c01412a3ea77b29e8e133f5c92d05ed79d7c0f3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2133 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-05-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : swd: Fix park bit polarity according to ADIv5.1 Supplement Change-Id: I27293defd3f3c3bf37c9662f88689e85ba593d86 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2131 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-06-18  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : adi_v5_cmsis_dap.c: Simplify debugging output Name of the function is already a part of the LOG_DEBUG macro, so
	there's no need to include it in the string itself.  Change-Id: I18c3d5b746e9106d55104e490ccf5bc5e85cc380 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2138 Tested-by: jenkins

2014-06-18  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : adi_v5_cmisis_dap: Separate ABORT from clearing sticky errors We don't need to do full blown AP ABORT in case of CMSIS-DAP errors,
	and the code that was in place was not doing that(issuing AP ABORT)
	anyway.  Change-Id: Ide83b1f8875d725da6cb0d53aae8229f8c6316b3 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2112 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com>

2014-03-01  Paul Fertser <fercerpav@gmail.com>

	* : tcl: introduce using_(jtag|swd|hla) helpers and use them in
	reset handler Barely tested with plain SWD transport.  Change-Id: I48b59136bf4294ffed737dba01f1b30ef83aa86b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2003 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5_swd: Separate sticky error clearing from AP abort Swd_queue_ap_abort should set DAPABORT, not only clear sticky
	errors.  However, DAPABORT should not be set as soon as there is a
	single FAULT/WAIT response. It's an "emergency only" operations for
	use only when the AP have stalled the transfer for a long time. So
	these need to be separate functions.  Change-Id: I37618447884faad54d846c2b07fa668ad505919d Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1956 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : adi_v5_swd: Read RDBUFF once after a sequence of AP reads Increases performance by a factor of two for long reads.  Change-Id: I81a7a83835058560c6a53a43c3cc991100f01766 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1954 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-14  Fatih Ac <fatih.asici@gmail.com>

	* : adi_v5_swd: Improve SWD support Fix bug in parity calculation macro.  Cache and update the selected DP bank when necessary.  Add aborts when the Ack code signals a failure (we should really
	only clear the sticky bits, but this will do for now).  Change-Id: I38a4da136ba1d9e989b33c1875a80c0b1b2be874 Signed-off-by:
	Fatih Ac <fatih.asici@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1950 Tested-by: jenkins

2014-06-12  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/jlink: better diagnostics for RCLK problems The JLink protocol description doesn't really specify it for
	JTAG-level commands but the real life evidence is that 0x01 error
	code means "Adaptive clocking timeout" as it does for e.g.
	WRITE_MEM_ARM79.  Change-Id: I4e3b568742814271919f92d202713968c8fcccfb Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2169 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-04  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target/fm3.cfg: use a CHIPNAME known by the flash driver fm3 flash driver needs to know which chip variant is used.  This fixes "unknown fm3 variant: mb9bf500.cpu" error if the config
	is used as is.  Change-Id: I500fcfb413f23ee246678cec5bd19d14139a28e2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2160 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-30  Franck Jullien <franck.jullien@gmail.com>

	* : openrisc: add support for JTAG Serial Port Change-Id: I623a8c74bcca2edb5f996b69c02d73a6f67b7d34 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2162 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-04  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/tcl.c: fix formatting in "rejected" error message The error message (with the usage field unpopulated) looks like
	this, obviously missing at least a space before Usage: Error: 'fm3' driver rejected flash bank at 0x00000000Usage (null) Change-Id: I2a625676e784d02942823f972a201f7f4f810c68 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2161 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-21  Tom Rini <trini@ti.com>

	* : tcl/target/am335x.cfg: Drop gdb-attach stanza This isn't needed nor a recommended practice now, was a simple
	copy/paste from amdm37x.cfg anyhow.  Change-Id: I064226dc859d7563cfad945b577279fc37448645 Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/2068
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-05-06  Seth LaForge <sethml@google.com>

	* : cortex_a: fix lockup when writing to high address On a processor with caches, when you write data to memory OpenOCD
	invalidates the cache lines affected. If you write to an address
	within 64 bytes of UINT32_MAX, then the for loop control variable
	wrapped around resulting in an infinite loop. Change control
	variable to be an offset from the address involved. We should never
	be asked to write 2^32 bytes, so wraparound should not be a problem.  Change-Id: Ibfe654113eff71684862ff651e7a1cd05ccc6760 Signed-off-by:
	Seth LaForge <sethml@google.com> Reviewed-on:
	http://openocd.zylin.com/2126 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-06-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : stm32f1x: add STM32F33x support.  Added STM32F33x series to flash driver.  Tested on NUCLEO-F334R8
	board(STM32F334R8T6).  Change-Id: I2fe70d40eb7613a7a3cfa63d25fa83f7bc055fb4 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/2174 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-05-29  Marco Cruz <marco.caratuva@gmail.com>

	* : tcl/board: add Atmel SAM4E-EK Change-Id: I07d7e0528ed4e88b070ba4e7598a193ec8e9e37d Signed-off-by:
	Marco Cruz <marco.caratuva@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2158 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Alexandre Pereira da
	Silva <aletes.xgr@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-05-17  Paul Fertser <fercerpav@gmail.com>

	* : README.OSX: mention Gentoo Prefix and clarify other options Change-Id: I431bfb9acf7dd6ad61b9e8f5c20568be22e9f39d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2146 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-23  Paul Fertser <fercerpav@gmail.com>

	* : tcl/target/kl25.cfg: add maximum speed specification Maximum frequency wasn't tested on hardware but the docs seem to be
	quite explicit and do not mention any restrictions for that.  Change-Id: Idcf58df5358d06525e683f07c76eedad8f0b292d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2120 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-29  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/osbdm: downgrade init message severity, fix wording Change-Id: Iacf874b0fe9fbf840e82e6b63f1c97031f4720de Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2156 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-29  Cosmin Gorgovan <cosmin@linux-geek.org>

	* : Flash/LPC2000: Add support for LPC11(x)xx, LPC13xx LPC11(x)xx and LPC13xx devices are mostly compatible with the
	lpc1700 variant of the LPC2000 driver, but use a fixed flash sector
	size of 4KB.  Change-Id: I033515f4ff6bc61d3b9babd27096f78c99cea927 Signed-off-by:
	Cosmin Gorgovan <cosmin@linux-geek.org> Reviewed-on:
	http://openocd.zylin.com/2071 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-04-06  Alex Ray <a@machinaut.com>

	* : Disable multiprocessor-id read on ARMv7-R cores ARMv7-R cores are largely uniprocessor-configured, and when they are
	multiprocessor-configured the format of the MPIDR register isn't
	compatible with ARMv7-A cores.  Change-Id: I024ec514496fbab5075c6fb34b6acd870e68e1fc Signed-off-by:
	Alex Ray <a@machinaut.com> Reviewed-on:
	http://openocd.zylin.com/2096 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-23  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/stlink: allow to reconnect seamlessly after polling
	failure If the communication with the target was failing (either because of
	an intermittent connection or the target was rebooted), this is
	needed to reestablish operational state.  Reported-by: Tim Sander <tim@krieglstein.org> Tested-by: Tim Sander
	<tim@krieglstein.org> Change-Id:
	I91ea2e2b2b5ef8eb27dfe9bae95ef2a919f67e4e Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2152 Tested-by: jenkins Reviewed-by: Tim
	Sander <tim@krieglstein.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : adi_v5_cmsis_dap: Fix logging order of appearance Move logging for cmsis_dap_queue_ap_read/write to happen after a
	call to cmsis_dap_ap_q_bankselect so that that SWD operation would
	appear in the log in the same sequence they happen on the bus.  Change-Id: Ic046bc753e661da7924b019c9100d6932fb686bf Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2087 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-04-03  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : arm_adi_v5: Add convenience "atomic"" function for DP reads Add convenience "atomic"" function dap_dp_read_atomic_u32() Change-Id: Ic9ebb58959d2f14bbf03be42a26b0fe58ecfeddb Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2085 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-05-23  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/stm32f1x: add support for F04x parts Ref. RM0091 Rev.6.  Change-Id: I13bcdb1741edc59712e4fa1849fff38d17709fa7 Reported-by:
	efuentes@irc.freenode.net Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2150
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-05-12  Paul Fertser <fercerpav@gmail.com>

	* : target/mips32_pracc: fix C99 format specifiers Warnings exposed by arm-none-eabi build.  Change-Id: Icdaf168d7aaa1a62bdfd41a64e43ef94816d3721 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2140 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-19  Aurelien Jacobs <aurel@gnuage.org>

	* : lpcspifi: setup a valid stack pointer before calling ROM code
	using stack The spifi_init_code blob is calling the spifi_init() function from
	the ROM.  This ROM function is making use of the stack. So if the
	stack pointer is invalid, trying to execute this code leads to a
	double fault and the target_run_algorithm() call return with an
	error.  This patch simply ensure that the stack pointer is properly
	setup before calling the spifi_init() ROM function.  Change-Id: I42a2163cfc2c6dfe5ada97ae8eb2bb6d2e283ff7 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/1836 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : kinetis: Revise CPU un-securing code Old version of the code had several problems, among them are:  * Located in a generic ADI source file instead of some Kinetis    specific location  * Incorrect MCU detection code that would read generic ARM ID    registers  * Presence of SRST line was mandatory  * There didn't seem to be any place where after SRST line assertion    it would be de-asserted.   * Reset was asserted after waiting for "Flash Controller Ready" bit    to be set, which contradicts official programming guide AN4835  * Mass erase algorithm implemented by that code was very strange:    ** After mass erase was initiated instead of just polling for the       state of "Mass Erase Acknowledged" bit the code would
	      repeatedly initiate mass erase AND poll the state of the "Mass
	      Erase Acknowledged"    ** Instead of just polling for the state of "Flash Mass Erase in       Progress"(bit 0 in Control register) to wait for the end of
	      the mass erase operation the code would: write 0 to Control       register, read out Status register ignoring the result and
	      then read Control register again and see if it is zero.   * dap_syssec_kinetis_mdmap assumed that previously selected(before    it was called) AP was 0.  This commit moves all of the code to kinetis flash driver and
	introduces three new commands: o "kinetis mdm check_security" -- the intent of that function is to
	  be used as 'examine-end' hook for any Kinetis target that has that
	  kind of JTAG/SWD security mechanism.  o "kinetis mdm mass_erase""  -- This function removes secure status
	  from MCU be performing special version of flash mass erase.  o "kinetis mdm test_securing" -- Function that allows to test
	  securing fucntionality. All it does is erase the page with flash
	  security settings thus making MCU 'secured'.  New version of the code implements the algorithms specified in
	AN4835 "Production Flash Programming Best Practices for Kinetis K-
	and L-series MCUs", specifically sections 4.1.1 and 4.2.1.  It also
	adds KL26 MCU to the list of devices for which this security check
	is performed. Implementing that algorithm also allowed to simplify
	mass command in kinetis driver, since we no longer need to write
	security bytes. The result that the old version of mass erase code
	can now be acheived using 'kinetis mdm mass_erase' Tested on accidentally locked FRDM-KL26Z with KL26 Kinetis MCU.  Change-Id: Ic085195edfd963dda9d3d4d8acd1e40cc366b16b Signed-off-by:
	Andrey Smrinov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2034 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-12-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32: cleanups in legacy pracc code This is the first patch
	intended to make a more precise pracc check when running in legacy
	mode (code executed by mips32_pracc_exec()).  It only makes some
	cleanups, mostly due to unnecessary code.  With the last cache
	optimizations for processor access (pa for short) all the pracc
	functions generate the code following some rules that make pa more
	        easily to check: There are no load instructions from dmseg. All the
	        read pas are instruction fetches. PARAM_IN related stuff is not
	        needed.  Registers are restored either from COP0 DeSave or from
	        ejtag info fields. PRACC_STACK related stuff is not needed any more.          The code starts execution at PRACC_TEXT and there are no
	        branch or jump instruction in the code, apart from the last
	        jump to PRACC_TEXT.  The fetch address is ever known.          For every store instruction to dmseg the function code sets         the address of the write/store pa.          The address of every store pa is known.  Current code ends
	execution when reading a second pass through PRACC_TEXT.  This
	        approach has same inconveniences: If the code starts in the delay
	        slot of a jump it makes a jump to PRACC_TEXT after executing the
	        first instruction. A second pass through PRACC_TEXt is read and the
	        function exits without any warning.  This seems to occur sometimes
	        when a 24kc core is halted in the delay slot of a branch.          If a debug mode exception is triggered during the execution
	        of a function the core restarts execution at PRACC_TEXT.
	        Again the function exits without any warning.          If for whatever reason the core starts fetching  at an
	        unexpected address the code now sends a jump instruction to
	        PRACC_TEXT, but due to the delay slot the core continues fetching at
	        whatever address + 4 and a second jump instruction will be send for
	        execution. The result of a jump instruction in the delay slot of
	        another jump is UNPREDICTABLE. It may work as expected (ar7241), or
	        let the core in the delay slot of a jump to PRACC_TEXT for example.
	        This means the function called next may also fail (pic32mx).  Change-Id: I9516a5146ee9c8c694d741331edc7daec9bde4e3 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1825 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-08-24  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: load fast data transfer handler code with
	mips32_pracc_write_mem() Currently the code is loaded calling
	mips32_pracc_write_mem_generic().  Cache synchronization is not
	performed.  If configured as write back cache there is no chance to
	execute the handler. If configured as write through cache and the
	cache lines written to are not cache resident (I-side cache miss)
	may work.  The patch makes possible to execute the handler in a
	cached active memory segment (mainly from KSEG0), but nothing else.
	The data is still loaded without performing cache synchronization,
	code loaded may not be executable.  Performance may not be faster.
	At start, for example, the code resides in main memory, not in
	cache, and the core must transfer code from memory. We can really
	modify the code to force a wait for the first transfer like we do
	with start and end addresses, making sure the code is cache resident
	for the rest of the queued transfers.  This can also may happen if
	we execute code (greater than the I cache size) and the handler code
	is evicted from the cache.  Code tested on ar7241.  Change-Id: Iffdb4dae108b872fef0e7bacc5ea99649cdc1630 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1564 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-01-18  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips32: optimized cache code for pracc access Follows the the same rules of optimization used by all pracc
	functions.  Solves some bugs in previous code and adds support for
	write through caches.  Change-Id: If88c6738ca8c8197f327f22b766120a24f71b567 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1557 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2014-05-08  Paul Fertser <fercerpav@gmail.com>

	* : README.OSX: recommend XCode 5 as that's the current version Using current "Command Line Tools" with XCode 4 is known to provoke
	issues (the build "hangs"), see e.g.
	http://stackoverflow.com/questions/18667916/xcrun-lipo-freezes-with-os-x-mavericks-and-xcode-4-xThis fixes https://sourceforge.net/p/openocd/tickets/70/ .  Change-Id: I511b347b9388e0e3f1d136b566915021c4b5fbde Reported-by:
	n321203 <n321203@users.sf.net> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2128
	Reviewed-by: Xiaofan <xiaofanc@gmail.com> Tested-by: jenkins
	Reviewed-by: Freddie Chopin <freddie.chopin@gmail.com>

2013-12-03  Kamal Dasu <kdasu.kdev@gmail.com>

	* : svf: Fix debug and error messages that print hex buffer Added SVF_BUF_LOG macro to properly print the hex buffer of parsed
	string for SIR, SDR, TDI, TDO and MASK. The original debug and error
	logs with respect to printing real values were misleading and also
	had endianess issues. All the bits are printed now instead of just
	u32 values.  Change-Id: Ie89902403bdb61ff458418446c2ca1253ea2a63f Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1964 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2014-03-20  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : generalplus: Add configuration file for General Plus GP326XXXA
	series Add configuration file for General Plus GP326XXXA series. Tested on
	GP326833A on GPC-1737B board.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	I1ad0e22598b01317bbc823870a7a262e9192c595 Reviewed-on:
	http://openocd.zylin.com/2058 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-28  Paul Fertser <fercerpav@gmail.com>

	* : Fix some C99 format specifiers As exposed by arm-none-eabi build, fix the wrong modifiers.  Change-Id: Ia6ce7c5c1d40e95059525c3e5d81b752df2fea7c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2122 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-04-27  Paul Fertser <fercerpav@gmail.com>

	* : Restore normal development cycle Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : nrf51: remove dereference of null pointer found by clang 3.4.  Change-Id: Id499b546f65acd7a719498bc97e33b21d1ba565a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2119 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Andrey Smirnov <andrew.smirnov@gmail.com>

2014-04-15  Paul Fertser <fercerpav@gmail.com>

	* : Restore -dev suffix Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-04-14  Paul Fertser <fercerpav@gmail.com>

	* : NEWS: minor fixes for rc2 Change-Id: Iba04baae4f3278db8b36283574a82c077d28bb4a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2113 Tested-by: jenkins

2014-04-01  Seth LaForge <sethml@google.com>

	* : cortex_a: fix endiannes issues on  TI TMS570 The TI TMS470 and TMS570 series of processors are BE-32 processors,
	despite BE-32 not being supported by ARM in the Cortex-R4 core. TI
	hacked in BE-32 support, which requires odd swizzling in OpenOCD to
	make memory reads and writes function correctly. In particular,
	without this change, OpenOCD word reads and writes had the bytes
	reversed, and halfword and byte packed reads were reading garbage.
	In my testing, this change fixes these problems.  Change-Id: I21dd30f4b9003f20fcc85f674ab833407bb61f74 Signed-off-by:
	Seth LaForge <sethml@google.com> Reviewed-on:
	http://openocd.zylin.com/2064 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-04-12  Paul Fertser <fercerpav@gmail.com>

	* : mips32, dsp563xx: fix segfault on Gdb attach Since c6216201b249e6a97fcc085e413e3d34e0de6fb7 gdb target
	description generation support is enabled by default and it counts
	on checking "feature" pointer in reg_list. Both mips32 and dsp563xx
	neither used calloc nor explicitly set feature (as it was a newly
	introduced struct field).  This patch changes all targets to use calloc for consistency.  Change-Id: I9eceadef8b04aacb108e24ae23cb51ca3009586f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2102 Tested-by: jenkins Reviewed-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-06  Paul Fertser <fercerpav@gmail.com>

	* : jtag/drivers/remote_bitbang: use sizeof to determine maximum
	unix socket path length Different *nix systems use different constants, so sizeof should be
	used instead. This fixes the build on OS X (as sun_path length is
	hardcoded to 104 on Darwin).  Change-Id: I1df611383dedcfc6d153ec59b453a895c7d84e94 Reported-by:
	Xiaofan Chen <xiaofanc@gmail.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2095
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Xiaofan <xiaofanc@gmail.com>

2014-04-06  Lee Bowyer <lee@sodnpoo.com>

	* : tcl: bcm6348 target config, BT HomeHub v1 board config Also add the board to the firmware recovery script.  Change-Id: I4f9c895dae171df7249e3b1c0563b288518b9fe0 Signed-off-by:
	Lee Bowyer <lee@sodnpoo.com> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2097
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-01  Paul Fertser <fercerpav@gmail.com>

	* : openocd.rules: match CMSIS DAP devices by product string Since the standard requires to have "CMSIS-DAP" somewhere in product
	string, use that to automatically match all the compliant adapters.  Change-Id: I1e2ac088333a7d69a136af825248914339debdd8 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2082 Tested-by: jenkins Reviewed-by: Jrg
	Wunsch <openocd@uriah.heep.sax.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-04-07  Paul Fertser <fercerpav@gmail.com>

	* : target/cortex_a: check gdb_service before dereferencing in
	update_halt_gdb If gdb was disconnected by the moment the target entered halted
	state, update_halt_gdb would segfault.  Change-Id: I67477e9199c1df097be83a49e38602f975c083f5 Reported-by:
	Younes REGAIEG <younes.regaieg@imag.fr> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/2098
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* : Makefile.am: fix build for libftdi1, pass CFLAGS where
	appropriate Change-Id: I9d8afa6ae32fc01e69ec434b5bc9d71524d386a2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2079 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2014-03-30  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/at91sam3: remove sam3_page_write_opcodes Apparently this helper was never actually used, and current clang
	produces an unused const variable warning, so it's breaking the
	build.  Change-Id: Ib088bef5e9c0a48942c1d417d46f738469ee7e28 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2076 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2014-03-29  Paul Fertser <fercerpav@gmail.com>

	* : The openocd-0.8.0-rc1 release candidate Signed-off-by: Paul Fertser <fercerpav@gmail.com>

2014-03-29  Paul Fertser <fercerpav@gmail.com>

	* : Makefile.am: fix adding contrib directory for dist With extra / the directory was getting added as a subdirectory of
	itself.  Change-Id: I5a3d5635f3c949f39d88b34a2ddab8244643f560 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2070 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-10  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : at91smad: Fixes to 'samd_protect' Some fixes to 'samd_protect' including:      - Fix a bug in which the value of 'set' parameter passed into
	     the function was ignored so it was impossible to remove flash      protection once it was set.       - Check the protection status of the sector via 'is_protected'      field of the  corresponding 'flash_sector' structure to see if      any actual HW manipulations needs to be done.       - Change the way the errors during protection activation are      handled. Now even in the case of error in the middle of      protecting a number of sectors the subroutine would still
	     update the state of the sector protection in sectors array so
	     as to avoid cases where openocd thinks that the sector is not
	     protected while it actually is.  Change-Id: I4cc6445a98ec13bdd94c89f0711c17840738a215 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2027 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-08  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : at91samd: Bail early if trying to write to protected sector Bail early if trying to write to protected sector also mark the
	sector we are writing to as dirty.  Change-Id: I892f83461792e1cc2dcccade7aa65717831a6805 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2025 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-22  Paul Fertser <fercerpav@gmail.com>

	* : tcl: introduce init_target_events and use it for gdb flashing
	events This introduces a new global Tcl procedure that is run just after
	init_targets and before init_boards.  Its default behaviour is to assign gdb-flash-erase-start and
	gdb-flash-write-end to reasonable defaults.  The rationale for doing "reset init" before gdb erases and flashes
	memory is that all flash drivers are written in assumption that they
	can safely be used only after chip reset (plus chip-specific
	configuration in the init handler if any). The need to use "reset
	halt" after flashing is because a user expects running firmware
	after loading to be the same as running it from power-on-reset.  Change-Id: I9ddc4047611904ca4ca779b73376d2739611948a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2062 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove memory leaks Found by clang.  Change-Id: Ifb25dca52f8d9e8e46a35f0947a7239f26eb3757 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2067 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Jrg
	Wunsch <openocd@uriah.heep.sax.de>

2014-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove handle_profile_command memory leak COMMAND_PARSE_NUMBER may return, thus any memory allocated may not
	be freed, simple reorder fixes the issue.  Change-Id: I0ce444a5b032f5c49b6d33a03a8c0b71cad49c8c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2065 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : Add all of contrib/ to dist, not just loaders Change-Id: I467e21de6805ea9f23ae483317d602e9d81e1148 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1909 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : Add rlink speed table sources and everything related to dist GPL requires providing sources for any derived work. I do not see
	any reason to not include the rlink stuff into release tarballs.  Change-Id: I686ab88994030312aca5bdfe731a72f10803b5c3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1907 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : Add previous NEWS* files to dist Change-Id: I2f814e01c7b5aa9cd76e8e63c9c4a1ebbf3dd2ea Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1905 Tested-by: jenkins Reviewed-by: Luca
	Bruno <lucab@debian.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-27  Paul Fertser <fercerpav@gmail.com>

	* : doc: add "manual/" directory in its entirety to dist Change-Id: I750c2938ab207012a6488bf34f55d784e5e26b6e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1903 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : rtos: fix xml register support regression Seems that when xml register support was added the rtos code was not
	updated to match. This then caused gdb to return the following error
	when rtos support was enabled - "Remote 'g' packet reply is too
	long".  Change-Id: I7429c4b1efed120e2e690678d55f3d6e87ee1ff1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2054 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-03-17  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : nrf51: Remove unnecessary explicit type casting Change-Id: I523e81645434760649ea2c00e6f80c2b08d08d94 Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2055 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-02-28  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : nrf51: Add a known devices table and simple chip type detection
	code Unfortunately due to my oversight, the original version of the
	nrf51_probe function contained useless code that read the contents
	of DEVICEID[0] an DEVICEID[1] registers and did nothing about
	it(those registers had nothing to do with the device type
	information anyway).  This commit fixes that code by changing its behavior to read the
	HWID field of CONFIGID register and looking up the corresponding
	device information in the know devices table. This information is
	useful when choosing the versions of SDK and SoftDevice for the chip
	using "nRF51822 compatibility matrix".  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	Ibd80b35460df4278e86e0c2500b7dcc876eec10c Reviewed-on:
	http://openocd.zylin.com/2012 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-19  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : armv7m: Do not ignore 'value' parameter in armv7m_write_core_reg Ignoring the value parameter in that function makes its code rather
	misleading. Also the only caller of it, armv7m_restore_context
	already does the whole "buf_get_u32" conversion business, so using
	'value' also removes the waste of doing the conversion twice.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	I515979c314d9b59ee1065c55b5bb5747c7e93f01 Reviewed-on:
	http://openocd.zylin.com/2057 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-12  Angus Gratton <gus@projectgus.com>

	* : AT91SAM4L: Fix bug when writing to flash at a non-zero offset,
	add debug output for flash page writes The offset wasn't being considered in the "full page" write
	codepath, so any writes at an offset were actually written out
	starting from page 0.  Change-Id: I5e70a1f35f144b3edd1ce6d9df9af9b5da6cf194 Signed-off-by:
	Angus Gratton <gus@projectgus.com> Reviewed-on:
	http://openocd.zylin.com/1965 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-03-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Support for sam3n0a sam3n0b sam3n00a sam3n00b Change-Id: I70a04f5f9b0b20d42a677ea8781130e44be758d3 Signed-off-by:
	Stefan Arnold <sarnold@sh-sw.de> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2042 Tested-by: jenkins Reviewed-by: Stian
	Skjelstad <stian@nixia.no> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-02-28  Felipe Balbi <balbi@ti.com>

	* : cfg: add TI am43xx devices This adds support for the am43xx SoC and the AM437x GP EVM and
	AM438x ePOS EVM.  Change-Id: I09cbb09072f38e0e08fdd520dedb6e67d45056be Signed-off-by:
	Felipe Balbi <balbi@ti.com> Signed-off-by: Tom Rini <trini@ti.com>
	Reviewed-on: http://openocd.zylin.com/2047 Tested-by: jenkins
	Reviewed-by: Paul Fertser <fercerpav@gmail.com>

2014-01-27  Oleksij Rempel <linux@rempel-privat.de>

	* : mips_ejtag.c: disable DMA for all platforms DMA seems to be broken in many ways. Don't trust it! Change-Id: I7e28608f299abdf78d02a967c62849b6b2ce5985 Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1936 Tested-by: jenkins Reviewed-by: Antony
	Pavlov <antonynpavlov@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2014-03-05  Jens Hoffmann <jehoffma@gmail.com>

	* : cfg: Added st nucleo board configs.  This patch adds board configs for Nucleo FXXX boards.  Change-Id: I25bfd7d63f734bad710917efa67bc6096aa60ef8 Signed-off-by:
	Jens Hoffmann <jehoffma@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2022 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-06  Paul Fertser <fercerpav@gmail.com>

	* : tcl/interface/ftdi: add Digilent JTAG-SMT2 config Tested on ZedBoard by Tim Sander.  Change-Id: I4316d9b4d36f01bbe91a46c78ea8bca22efb1a5a Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2029 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-14  Jrg Wunsch <openocd@uriah.heep.sax.de>

	* : CMSIS-DAP: print a debug message when the USB product string
	cannot be read As suggested by Stian Skjelstad in a comment in: http://openocd.zylin.com/#/c/2044/ if the USB product string cannot be read, provide a debug message so
	users might get aware of a potential permission problem when looking
	at the debug output.  Fix style bug found by Jenkins.  Change-Id: I6acb1c6261fec6f2bee80e4be513a5c5e29eff79 Signed-off-by:
	Jrg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2048 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-14  Jrg Wunsch <openocd@uriah.heep.sax.de>

	* : All Atmel-provided CMSIS-DAP devices use 512 byte packet size The existing CMSIS-DAP driver matches the USB VID/PID against 0x3eb
	(Atmel VID) and 0x2111 (Atmel EDBG embedded CMSIS-DAP debugger), and
	then bumps the packet size from its default of 64 to 512.  However,
	it turned out that *all* Atmel-provided CMSIS-DAP devices (EDBG with
	PID 0x2111; JTAGICE3 with firmware version 3.x, PID 0x2140; new
	Atmel-ICE [successor of JTAGICE3], PID 0x2141) require a 512-byte
	packet size.  Obviously, all run the same USB implementation inside
	their custom microcontroller.  Thus, it seems best to simply assume
	that *all* Atmel CMSIS-DAP devices use this packet size, and don't
	check the PID at all.  This has also been filed as Trac bug #68: https://sourceforge.net/apps/trac/openocd/ticket/68 Change-Id: I942af93060fdf265fca3961841638caa6182f877 Signed-off-by:
	Jrg Wunsch <openocd@uriah.heep.sax.de> Reviewed-on:
	http://openocd.zylin.com/2045 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Andrey Yurovsky
	<yurovsky@gmail.com>

2014-03-09  Jens Hoffmann <jehoffma@gmail.com>

	* : stm32f2x.c: Add STM32F401xE device id.  Nucleo F401 board uses STM32F401RE chip with new device id and got
	more flash than existing devices (512K). This patch adds new the
	identifier to probe functions so flashing will now work.  Change-Id: Ibe9c047c79244db0cfbb06610da9d84987b9f85a Signed-off-by:
	Jens Hoffmann <jehoffma@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2037 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/kinetis: Fix bug in odd byte count padding Change-Id: Ic5cfd880f2b49e3a96c408cf868db622bfe698a1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2039 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Don't poll until the target is examined.  The timer callback is started on target init, but it makes no sense
	to poll until the target is fully setup.  Change-Id: I118201e125e39be3d0a920e3ef9a3f68a2035f39 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2041 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-03-09  Paul Fertser <fercerpav@gmail.com>

	* : tcl/board: add config for DP Bus Blaster reconfiguration Reported and tested by Gracana on IRC.  Change-Id: If0524d2d627d566e8b5e1d00784dd7556f44b125 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2036 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-03-04  Bartosz Bielawski <bartosz.bielawski@gmail.com>

	* : stlink_usb.c: add support for STLink V2-1 The new version of STLink (V2-1) has a different USB endpoint
	layout.  As the PID of the device also changed it's possible to
	change EPs used by OpenOCD in runtime. The patch adds three new
	fields to stlink_usb_handle_s and assigns right EP numbers in
	stlink_usb_open().  Parts of the code inspired by and used with
	consent of Jens Hoffmann.  Change-Id: I93b69fb889f15317e9bf864905f435905db39745 Signed-off-by:
	Bartosz Bielawski <bartosz.bielawski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/2019 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-03-03  Tom Rini <trini@ti.com>

	* : interface/ftdi/xds100v2.cfg: Add another VID/PID, drop desc The XDS100v2 is often embedded in a number of platforms using the
	VID/PID of 0x0403/0x6010 and a generic FTDI device description.  Add
	this VID/PID combination and remove the description line.  Change-Id: I370e6199ac24f802426e9541e19ee38f18f1209a Signed-off-by:
	Tom Rini <trini@ti.com> Reviewed-on: http://openocd.zylin.com/2016
	Tested-by: jenkins Reviewed-by: Paul Fertser <fercerpav@gmail.com>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-28  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : nrf51: Fix format string bugs in nrf51_info Additional information string appended to the 'flash info' output
	used incorrect offsets and was missing a couple of fields.  Signed-off-by: Andrey Smirnov <andrew.smirnov@gmail.com> Change-Id:
	If131be021295cab6adfca7da03c2f0fb8dca7d42 Reviewed-on:
	http://openocd.zylin.com/2011 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Kamal Dasu <kdasu.kdev@gmail.com>

	* : cortex_a: Fix endianess issues in cortex_a8_*_apb_ab_memory Make the APB-AB memory read routines handle endianess order when
	running on big endian host. cortex_a8_read_apb_ab_memory is also
	called by cortex_a8_write_apb_ab_memory and was breaking both APB-AB
	read and write functions. Also fixed bug in write function in
	calculating the offset of end of buffer data. The change aslo fixes
	the read issues with all combinations of aligned unaligned memory
	access found by 'test_mem_access' cmd.  Tested with target "test_mem_access 4000", also size 1-9, 'mdb/h/w'
	'mwb/h/w' cmds and equivalent gdb 'x' 'set' cmds.  Change-Id: Ia927c60c4837617f5342a9beb6fdab1f061855fe Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1781 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2013-07-22  Brad Riensche <brad.riensche@gmail.com>

	* : target: "dap info" command cosmetic output changes This makes the listing easier to read, imho. The tab indentation
	technique causes the base address to precess as the parser proceeds
	through the subtables, and can easily wrap.  Change-Id: Iea5e678255e6314a9d532e4b222a2572b5394390 Signed-off-by:
	Brad Riensche <brad.riensche@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1518 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-24  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Rename and sort udev rules file Also add missing entries for JTAG-lock-pick Tiny 2, Xverve
	Signalyzer LITE and default FTDI VID:PIDs.  Change-Id: I41b4f15409642298d1cf134d1f8014dc8f003005 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1969 Tested-by: jenkins

2014-03-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdbserver: fix duplicate declaration commit da0d1e37 did not merge correctly, causing the build to fail.  Change-Id: I3f525054bb38b7ee29bf27309bb2e6a5bb8329c7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/2020 Tested-by: jenkins

2014-02-25  Jens Bauer <jens@gpio.dk>

	* : CMSIS-DAP: Fix build errors on Mac OS X Rename the argument variable 'wait' to 'delay', as 'wait' conflicts
	with an API function declared in system header
	/usr/include/sys/wait.h on Mac OS X.  Change-Id: I5742da6e5def6e5ec197e774c3844e4bf0424569 Signed-off-by:
	Jens Bauer <jens@gpio.dk> Reviewed-on: http://openocd.zylin.com/1973
	Tested-by: jenkins Reviewed-by: Andrey Yurovsky <yurovsky@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2014-02-14  Christian Eggers <ceggers@gmx.de>

	* : Constify received GDB packet v2: - Split work into separate patches The received packet will not be altered in any of the processing
	functions.  Some it can be made "const".  Change-Id: I7bb410224cf6daa74a6c494624176ccb9ae638ac Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1919 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-03  Christian Eggers <ceggers@gmx.de>

	* : Remove unneeded zero termination of received packet v2:   removed curly braces around single statement if-block packet[] has already been zero terminated in gdb_input_inner() This
	change is necessary in order to make packet[] "const".  Change-Id: I978bbe52d151a63574db77fb747f596da256d377 Signed-off-by:
	Christian Eggers <ceggers@gmx.de> Reviewed-on:
	http://openocd.zylin.com/1922 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-01  Christian Eggers <ceggers@gmx.de>

	* : RTOS: Unify wipe-out of thread list Each RTOS implementation uses it's own (similar) code to free the
	thread list. There are some additional issues: <---> if (pointer != NULL)         free(pointer); <---> This is not necessary, free(NULL) is
	perfectly ok.  <---> free(rtos->thread_details); rtos->thread_details = NULL;
	rtos->thread_count = 0; <---> The 3rd line has been missing for all
	RTOS but ChibiOs. There are paths in the code where
	rtos->thread_count is never set to NULL, which can lead to null
	pointer dereference of rtos->thread_details.  Change-Id: I6f7045c3d4518b925cb80dd5c907a566536b34ad Signed-off-by:
	Christian Eggers <ceggers@gmx.de> --- Changelog: v7: - rtos_wipe_threadlist() --> rtos_free_threadlist() - removed non related changes in gdb_server.c from this patch v3: - Removed world "topic" from first line of commit message v2: - typo: "whipe" --> "wipe" Reviewed-on:
	http://openocd.zylin.com/1916 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-11  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : fm3: fix erase flash fail on using High Level Adapters.  This fix can "erase flash" on using High Level Adapters by running
	algorithm.  Because fm3 flash commands must need true 16-bit memory
	access, but High Level Adapters(ST-Link/TI-ICDI) can 8/32bit access
	only.  Tested on MB9BF618T and MB9AF112K with STLink/V2.  Change-Id: I849a8a8e8ae2b3e77717de04f7522cf718c915d7 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1944 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-07  Andrey Smirnov <andrew.smirnov@gmail.com>

	* : nrf51: Implement the support for Nordic's nRF51 devices Add support for Nordic's nRF51 chip series. Tested with nRF51822.  Change-Id: Id70f6fd76888cc595a353aefb84d25c4cd325d7d Signed-off-by:
	Andrey Smirnov <andrew.smirnov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1945 Tested-by: jenkins Reviewed-by: Andrey
	Yurovsky <yurovsky@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-04  Paul Fertser <fercerpav@gmail.com>

	* : tcl/drscan: handle invalid syntax with a conditional, not assert When "drscan" command is used improperly, such as in: drscan
	stm32f1x.cpu -endstate drpause there're no fields to scan, and so
	the assert leads to a segfault. This should be treated like any
	other syntax error instead.  Change-Id: Id1743f5d641038e1e3754c6f3097aabc5d1916b9 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1927 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-15  Paul Fertser <fercerpav@gmail.com>

	* : drivers/ftdi: warn the user if he tries to use undefined reset
	signals It is really an error to try to use a reset_config that doesn't
	match adapter's capabilities, however OpenOCD has no way to specify
	them.  Using wrong reset_config might lead to very confusing behaviour, so
	I think LOG_ERROR is justified here.  Change-Id: I1c6dcfa7c0d78829229a850189cad646b565dd66 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1948 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-02-16  Fatih Ac <fatih.asici@gmail.com>

	* : cfg: Make stm32f4x usable with SWD transport Change-Id: Ib8f3b414ec3c31cf8a112e75efe003e2237c59bb Signed-off-by:
	Fatih Ac <fatih.asici@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1951 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Nemui Trinomius
	<nemuisan_kawausogasuki@live.jp>

2014-01-30  Paul Fertser <fercerpav@gmail.com>

	* : arm926ejs: fix write memory operations with caches enabled Perform proper ICache flush operations on memory writes. This should
	fix inability to use software breakpoints for debugging with caches
	enabled.  This patch is only compile-time tested.  Commit 1137eaedaf6498f3448cdedf6f93076d9b3fd58a fixed the same issue
	for arm920t. Among all the arm7_9_common targets only arm926ejs
	seems to be broken in the same way.  Change-Id: I575306ac4319a69fc637b42f7c958f4595c5e81f Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1912 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-02-06  Pete Batard <pete@akeo.ie>

	* : doc: update README.Windows with new Zadig download URL As the old SF repository indicates, newer downloads have been moved
	to an alternate server, and 3 new releases of Zadig have already
	occurred there.  Change-Id: I8ff967fd834e9c8dd2cce9dcbbe07e03d2b33e4a Signed-off-by:
	Pete Batard <pete@akeo.ie> Reviewed-on:
	http://openocd.zylin.com/1940 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2014-02-03  Kuldeep Singh Dhaka <kuldeepdhaka9@gmail.com>

	* : nor/flash/stm32f1x: add stm32f07x support Added configuration to work with stm32f07x.  Tested on
	stm32f072discovery with libopencm3 stm32f0 blink example.  Change-Id: I63cdc9bf1f28f5951d6b4faac871cfde331c9c78 Signed-off-by:
	Kuldeep Singh Dhaka <kuldeepdhaka9@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1921 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2014-01-22  Anton Kolesov <anton.kolesov@synopsys.com>

	* : gdb_server: Fix confusing warning when entering noack mode Comment in gdb_server code mistakenly attributed constant warnings
	about unexpected acknowledgement to the ACK packet sent by GDB when
	establishing connection. However that is not the case, OpenOCD
	gdb_server is handling this packet correctly without an warnings.
	This warning instead was caused by the ACK packet which GDB sends
	right after going into noack mode. Because OpenOCD gdb_server is
	already in noack mode at this state, it emits warning about it. This
	is a documented GDB behaviour

	(https://sourceware.org/gdb/onlinedocs/gdb/Packet-Acknowledgment.html)so there is no reason to scare users with warnings in this case.  This patch basically introduces two-level noack mode: after
	receiving QStartNoAckMode gdb_server will set noack_mode to 1, then
	it will receive this last ACK packet, but instead of printing a
	warning, noack_mode will be increased to 2. Should there be any
	other ACK packets after that, they will be properly reported by
	warning. All other code that relies on noack_mode checks it for "!=
	0", so there will be no difference if it is 1 or 2.  Change-Id: I0e9c57fd93293bfe010390db2f3f161528b11d86 Signed-off-by:
	Anton Kolesov <anton.kolesov@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/1895 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* : flash/nor/mdr.c: fix uninitialised variable warning Caught (actually, it's breaking the build) by clang 3.3.  Change-Id: Ife6fabf8a57e6c90ab45aaaf75557c984ac6772c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1875 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* : target/nds32_disassembler: fix format specifiers warnings According to the standard every operation returns at least an
	integer, so PRIu8 format specifier is not suitable for these values
	as is.  This breaks build on OS X (x86_64-apple-darwin13.0.0) with "Apple
	LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)".  Fix by adding appropriate casts. In fact there's plenty of room (and
	I'd say necessity) for factoring out common code in there, but it's
	too invasive for a non-maintainer.  Change-Id: I7d2182eb1d2f86fa22c882fbbaa6cfadf1c3e8fc Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1878 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Hsiangkai Wang
	<hsiangkai@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* : rtos: fix uninitialised variable warning Breaks build with clang 3.3. This "addr" variable is actually always
	ignored by next_symbol() when cur_symbol is an empty string but
	clang can't (and probably shouldn't) prove that automatically.  Change-Id: Id030f1aa34b9d40b5fa20a422031511520e52669 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1876 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2014-02-02  Paul Fertser <fercerpav@gmail.com>

	* : interface/ftdi: add TUMPA Lite config TUMPA Lite is a cheap FT232H-based breakout board, without any
	buffering. It also lacks series resistors so for some targets
	(especially when not using ridiculously short wires) one needs to
	add about 47 Ohms in series on every high-speed line.  The SRST line is connected directly to the FT232H too.  Real-life tested (including SRST and TRST).  Change-Id: I5ed4f88d8d20384e9c52efe2ff0c290e2650d43e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1918 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: update CMSIS-DAP info to match default driver behaviour By default the driver will now auto detect attached adapters, it
	does not use an internal list any more. Update docs to match this.  Change-Id: I62a9d243cd236a8cf54cbd9d088c4837a8df31bf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1902 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2014-01-25  Antony Pavlov <antonynpavlov@gmail.com>

	* : top .gitignore: ignore .dirstamp files Just after succesfull build you can see some untracked files in the
	'git status' output:         src/jtag/drivers/versaloon/.dirstamp         src/jtag/drivers/versaloon/usbtoxxx/.dirstamp This commit fixes the problem.  Change-Id: I1674eb4423e97c5f0a47f216981eaffdc351f784 Signed-off-by:
	Antony Pavlov <antonynpavlov@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1898 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-08-22  Luca BRUNO <lucab@debian.org>

	* : Add GDB remote target description support for ARM4 This commit adds support for passing the ARM4 target description to
	GDB when enabling gdb_target_description, in order to expose all
	banked registers.  Change-Id: Id618bc6226f00fe83397ea28888a84b64b09cafd Signed-off-by:
	Luca BRUNO <lucab@debian.org> Reviewed-on:
	http://openocd.zylin.com/1810 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-15  Andrey Yurovsky <yurovsky@gmail.com>

	* : flash: samd: declare const data Make the chip information lookup tables const (thanks to Spencer
	Oliver for pointing this out).  Also fix spacing on one macro.  No
	functional changes.  Change-Id: I053c4951c2626b8aa4541a79673b500394ef08e8 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1874 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-17  Paul Fertser <fercerpav@gmail.com>

	* : Add CMSIS-DAP information to the READMEs.  Change-Id: I8c87d559adf07b0f0702fe9d388f26bf046bcb8b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1880 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Retire jtag_add_dr_out The out only version of jtag_add_dr_scan smells like a bogus
	optimization that complicates the minidriver API for questionable
	gain.  The function was only used by four old ARM targets. Rewrite the
	callers to use the generic function and remove all implementations.  Change-Id: I13b643687ee8ed6bc9b6336e7096c34f40ea96af Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1801 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add Freescale FRDM-KL46Z Board Change-Id: Ib585728f13a380eeeb2ada095f3e1a1c2aaf44cb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1866 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortexm: use Cortex-M rather than cortex-m3 for dwt registers Change-Id: I28e3a8c65ccc4a4e3ec94e41c846e6a263c165e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1865 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2014-01-13  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Grammatical cleanup to Tcl Scripting chapter of User's Guide Changes solely to the Tcl Scripting API chapter of the UG: * Some grammatical cleanup * Fix formatting issues (@example and @verbatim formatting) * Add references to missing OSes OpenBSD, NetBSD and eCos.  Change-Id: I3ec1a192a0b1e0a207dceb76fd39008d01e287a5 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1872 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: Avoid unnecessary saving and restoring of DCRDR This is used for the emulated DCC channel which is only maintained
	as long as target->dbg_msg_enabled is set. Skip the saving and
	restoring if not enabled to save one dap_run() per core register
	access.  Note that we could've probably queued all core register accesses in
	the same transaction if the armv7 register framework hadn't required
	synchronous register accesses.  Change-Id: I4fe6d713261ee5db42422203eb63035fdcc48891 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1848 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: Fix possible endianness problem in emulated DCC
	channel Change-Id: If7104464a8c65085f3ceac445e9c9be8446f2da9 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1846 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-27  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : lpc2000: fix LPC810 programming support IAP commands fail on programming LPC810 because it has only 1kByte
	of SRAM.  This patch is fixing cmd51_max_buffer suitable size for
	LPC810,LPC811 and other LPC1000 series.  Tested on a
	LPC810,LPC812,LPC11u14,and LPC1114(DIP28).  Change-Id: Iecec9fd963cb63bdff4a7bd3bbf4f8b1a7c60fbd Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1843 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-11  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Remove obsolete tip referring to 2010 removal of TAP numbers.  Remove a tip describing the discouraged use of TAP numbers, and how
	these numbers would be removed by mid-2010.  Change-Id: Iebe7e2e4a0f8e1f18a91d7935588dd9ced2b398d Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1862 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-09  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Some minor URL fixes and typo fixes, no functional changes.  Change-Id: Ib262d9e6330c35d26868942b821de7b53e00b854 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1859 Tested-by: jenkins Reviewed-by: Bill
	Traynor <btraynor@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-19  Andrey Yurovsky <yurovsky@gmail.com>

	* : add support for Atmel SAM4L NOR Flash This adds a new NOR Flash driver, "at91sam4l", which supports the
	built-in Flash on Atmel's low-power SAM4L family of Cortex M4 MCUs.
	Parts and their geometry are detected automatically using the Chip
	ID and lookup schemes described in document 42023ESAM07/2013.  Tested on AT91SAM4LC4CA via the SAM4L XPlained Pro development kit.  Change-Id: If73499dee92cc8ce231845244ea25c6984f6cecd Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1639 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add stm32 cmsis-dap compliant config Change-Id: I3cfb21fdcef830e22b03bf4b5d58993728cc7475 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1543 Tested-by: jenkins

2014-01-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : command: Fix formatting for empty usage string Introduced by requirement in 54d6330b.  Change-Id: If3dba057127b54b15ca7f364f37c6286d34f77e0 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reported-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1858 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-30  Paul Fertser <fercerpav@gmail.com>

	* : tools: add firmware recovery helpers This adds a set of helper functions with the aim to make it possible
	to flash mass-market devices without RTFMing altogether (i.e. to
	obsolete GPL-violating proprietary tjtag and other similar
	software).  Real-life tested on an RT-N16 and WRT54GL.  Change-Id: I197a9b28a5f386803f081057c4b4ebf2f9c447b1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1850 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-30  Paul Fertser <fercerpav@gmail.com>

	* : tcl: add bcm47xx config and Asus RT-N16 board using it This adds the bcm47xx config with the special undocumented trick to
	put it into standard EJTAG mode from the mystic "LV mode".  The RAM setup is not done as it would require considerable efforts
	without much practical gain.  The only issue I noticed so far is that "reset" doesn't actually
	reset the chip.  Unfortunately, it's unclear how to make it work properly with SRST
	as OpenOCD asserts it in MIPS-specific code so the device will enter
	LV mode again but the LV tap is already disabled by that time, so
	it's not possible to send the magic command again.  Anyway, this config is more than enough to "recover" any RT-N16
	provided the hardware is not damaged.  Change-Id: I0894e339763e6d20d1c93341c597382b479d039b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1849 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2014-01-08  Robert P. J. Day <rpjday@crashcourse.ca>

	* : Update URLs and names in amdm37x.cfg, no functional changes.  * openocd.berlios.de -> openocd.sourceforge.net * Update link to AM/DM37x Technical Reference Manual (ver R) *
	"ICEpick" is properly spelled "ICEPick" according to TI Change-Id: Ie04458e82c97ef766ec03bd9b9f27edadf5d1cb2 Signed-off-by:
	Robert P. J. Day <rpjday@crashcourse.ca> Reviewed-on:
	http://openocd.zylin.com/1856 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-29  Franck Jullien <franck.jullien@gmail.com>

	* : jtag_vpi: make the server address configurable Change-Id: I58e89c789b79ffb0b54ef94d208be876c271ddf7 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1840 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-12-28  Steve Moorby <steve.moorby60@gmail.com>

	* : topic: Added Spansion S25FL128S and S25FL256S spifi devices.  S25FL256S device tested on mbest LPC4357 EVM, S25S128S untested but
	from the same data sheet.  Change-Id: Idf58416aab08671fe29d22c3c34c2118b25a9d45 Signed-off-by:
	Steve Moorby <steve.moorby60@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1844 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-11-10  Mathias K <kesmtp@freenet.de>

	* : stlink: remove stlink_api command Remove stlink_api command.  Change-Id: I8f7885d3756fec462f9ebbee2ed285a98a51366c Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1760 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Add %APPDATA%\OpenOCD to script search path on win Change-Id: I01e9715fe064f3ff41e41a59a4764d6474f82183 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1797 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-20  Alex Murray <alex.murray@cohdawireless.com>

	* : target/imx6: Fix typo in setting _SJC_TAPID from SJC_TAPID
	variable The set command was missing the $ prefix on the SJC_TAPID variable
	and so would fail if SJC_TAPID was set Change-Id: Ib9af58f5188bd8a2bc3f888309f203d624476c27 Signed-off-by:
	Alex Murray <alex.murray@cohdawireless.com> Reviewed-on:
	http://openocd.zylin.com/1811 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Vladimir Zapolskiy <vz@mleia.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-10-30  Mathias K <kesmtp@freenet.de>

	* : build: remove hard coded ftdi and usb libraries This patch remove the hardcoded libraries. Also a check for libftdi1
	installations was added. This check fix an issue with gentoo and
	maybe other systems.  Change-Id: Ieff9ec4d66ee0f3e6b22261a10e4cab9f26b6b51 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1759 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-07  Paul Fertser <fercerpav@gmail.com>

	* : target: add kl25z HLA (stlink) config Based on Nemuisan Tokusei's. Untested, but original config was
	reported to work ok.  Change-Id: Ic991dce55bfca266880081fe2bbd9e6e263b0fc0 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1803 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-17  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : cfg: Add new BSTAPID for STM32F42xxx and STM32F43xxx series STM32F42xxx & STM32F43xxx series boudary scan TAP-ID are differ from
	STM32F405xx/07xx & STM32F415xx/17xx.  And Section number was also
	fixed for RM0090 rev5.  Tested on a STM32F427IIT6 and STM32F429ZIT6.  Change-Id: Ie9c54c55b97b9c396ace752d94ea2ad916cc8479 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1808 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-11-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : versaloon: Finish support for serial number matching Add a command to specify the serial string and pass it to the find
	helper.  Actual matching was already supported for both serial and
	product but was using hard coded string indices. Instead use the
	indices from the device descriptor.  Change-Id: I17c7538e5ad301ef41eace1ee70a202adab23bb4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1816 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-25  Paul Fertser <fercerpav@gmail.com>

	* : ftdi/neodb.cfg: mark as tested Working against openmoko gta02 target, including TRST and SRST (the
	stupid samsung chip fully resets under trst, so it's actually of
	little use here).  Change-Id: I831124659fc12efbccef536f07d15509c2112f92 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1814 Tested-by: jenkins Reviewed-by:
	Vladimir Zapolskiy <vz@mleia.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-12-10  Andrey Yurovsky <yurovsky@gmail.com>

	* : stm32lx_dual_bank.cfg: fix typo in file path s/stm32l1x/stm32lx ...this makes tm32lx_dual_bank.cfg work again.  Change-Id: I04dc617523caa6b46c675fe9b700d1bbe88170e6 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1832 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-22  Luca BRUNO <lucab@debian.org>

	* : NULL check before dereferencing Check reg_list[i]->feature for NULL pointers before checking
	feature->name in order to avoid NULL access.  Change-Id: If20401a6c5aa5e1e29f0fcf9bb95585b49658832 Signed-off-by:
	Luca BRUNO <lucab@debian.org> Reviewed-on:
	http://openocd.zylin.com/1809 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se> Reviewed-by: Jens Bauer <jens@gpio.dk>

2013-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Add byte-swap helpers Change-Id: I970616bb0e2bbc693165a0d311840febbd9134f1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1798 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com>

2013-10-24  Per Ekman <pekenator@gmail.com>

	* : kinetis : Add flash read support to the kinetis nor flash
	driver.  The default_flash_read() function seems to work ok.  Change-Id: Ia34c4642405f669ff63310fa8c641098b771a401 Signed-off-by:
	Per Ekman <pekenator@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1763 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-24  Mathias K <kesmtp@freenet.de>

	* : hla: Make consistent parameter naming Rename fd to handle.  Change-Id: I98615aed1546976d00b0f20856d4e8e75f83c575 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1761 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-04  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ulink: Fix libusb include changed since pkg-config merge Change-Id: I1556aaf117f99de046e3c16d5386faaaefdfefd8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1795 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2013-11-01  Andrey Yurovsky <yurovsky@gmail.com>

	* : stm32l flash: add another device ID Add device ID 0x437, a dual-bank part with 512KB total.  This one
	used the Medium+/HD flash size register to read the flash size in Kb
	rather than the 0/1 code in the Medium+ parts.  Signed-off-by: Andrey Yurovsky <yurovsky@gmail.com> Change-Id:
	I870fe3bb1b473939b7211c3b2edb44b4b3643648 Reviewed-on:
	http://openocd.zylin.com/1790 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-11-04  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : fm3: fix Fujitsu MB9Ax family support Some MB9Ax (especially few internal SRAM model) fails programming
	because of wrong SRAM basic-address on running algorithm.  Default
	SRAM basic-address must be 0x20000000.  This patch is fixing default
	SRAM basic-address and ramcode offset.  Tested on a MB9BF618T and
	MB9AF112K.  Change-Id: Ibda9aceb4c317bcae0dcce9f6d0fd1c4b5d81952 Signed-off-by:
	Nemui Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-on:
	http://openocd.zylin.com/1793 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-31  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : lpcspifi: Fix byte order bug Found by grepping for pointer casts.  Change-Id: I42ef3ebcce9fc6391154888b48601ede8377c34e Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1771 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : smp: Fix byte order bug Found by grepping for pointer casts.  Also rewrite to reduce scope and allocate the few bytes needed on
	stack instead of on heap.  Change-Id: Ia2a369fb612e807b981ee60ebcfd9c09c2fbdf4c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1779 Tested-by: jenkins Reviewed-by:
	Mathias Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ioutil: Remove unnecessary casts and fix const-discarding Using the right parameter type, there's no need to resort to
	casting.  Change-Id: I8aec852431ead26e24793fd6fac8781353963bf2 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1777 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Jens Bauer
	<jens@gpio.dk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : str9x: Fix byte order bug Found by grepping for pointer casts.  Change-Id: Ie2d698310b077c3849266e81df8e6a808cbc6896 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1775 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f1x: Fix byte order bug and remove unnecessary cast Found by grepping for pointer casts.  Change-Id: Ibd8f22a9e9ca71459ba0bedc8447a3623d0e4184 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1773 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : lpc2900: Fix byte order bugs and remove unnecessary casts Found by grepping for pointer casts.  Change-Id: Ib94957a0c53ec7abcbd5787d8c70e20c9eedc4b7 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1770 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ftdi: Remove unnecessary cast Also make sure future growth of the tap_get_tms_path() return value
	will get noticed.  Change-Id: Id859b463e5fdc819a4bc3b4845bf4363fbe713af Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1768 Tested-by: jenkins Reviewed-by:
	Mathias Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : nand/mx*: Remove unused host endianness flag Probably shouldn't depend on that anyway.  Change-Id: Ic27ead4cb82cff1ab187696439da4b93941e09d8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1766 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Clean up const usage to avoid excessive casting Don't use const on pointers that hold heap allocated data, because
	that means functions that free them must cast away the const.  Do use const on pointer parameters or fields that needn't be
	modified.  Remove pointer casts that are no longer needed after fixing the
	constness.  Change-Id: I5d206f5019982fd1950bc6d6d07b6062dc24e886 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1668 Tested-by: jenkins Reviewed-by:
	Mathias Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-30  Paul Fertser <fercerpav@gmail.com>

	* : Clean up many C99 integer types format specifiers This eliminates most of the warnings reported when building for
	arm-none-eabi (newlib).  Hsiangkai, there're many similar warnings left in your nds32 files,
	I didn't have the nerve to clean them all, probably you could pick
	it up.  Change-Id: Id3bbe2ed2e3f1396290e55bea4c45068165a4810 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1674 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-26  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: treat jenkins as valid email This is needed to avoid checkpatch barking on already committed
	patches.  Change-Id: Ic2b4cfa04c8230d45c68bbf6b370841f682b32d6 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1785 Tested-by: jenkins Reviewed-by: Jens
	Bauer <jens@gpio.dk> Reviewed-by: Mathias Kster
	<kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-26  James G. Smith <jsmith@ecoscentric.com>

	* : hla/stlink: Re-order trace parameters to allow trace output file
	to be optional Re-order the "trace" parameters to allow the raw capture (log) file
	to be an optional feature. The clock frequency for calculating the
	"Async Clock Prescalar" is always required when enabling trace
	processing and is now the first "required" parameter.  The ST-Link driver is updated to use the (required parameter)
	"trace_source_hz" non-zero value as the indicator of trace being
	required, rather than the now optional output file descriptor being
	non-NULL.  Background: This patch is groundwork for extending the OpenOCD SWO
	capture to implement other (OpenOCD built-in) ITM/DWT processing
	where the core trace support is required, but there is no
	requirement to store raw trace data to a configured host file. By
	itself this patch is almost a functional NOP, since without the
	other processing in place there is no reason NOT to specify a
	capture file.  Change-Id: Ibc385dd0a7adaf9bd652bceded27262fef35fd59 Signed-off-by:
	James G. Smith <jsmith@ecoscentric.com> Reviewed-on:
	http://openocd.zylin.com/1660 Tested-by: jenkins Reviewed-by:
	Mathias Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-06-22  Paul Fertser <fercerpav@gmail.com>

	* : tcl: add memory testing functions for board diagnostics This is a tcl implementation of public domain tests by Michael Barr,
	http://www.barrgroup.com/Embedded-Systems/How-To/Memory-Test-Suite-C The initial porting is done by Shane Volpe and posted to the mailing
	list:

	http://www.mail-archive.com/openocd-development@lists.berlios.de/msg16676.htmlThis patch includes some cosmetic amendments plus hardcodes 32bit
	word size (as the code depends on memread32/memwrite32 anyway) which
	fixes original code's issue of testing only the first quarter of the
	specified nBytes.  Change-Id: I5f3a66f1f16fc4082c7a5a6aba338430646ed21c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1455 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Kster
	<kesmtp@freenet.de>

2013-10-18  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* : hla_interface: init trst, srst variables.    There is an remark in jtag_srst and jtag_trst variables
	  declaration: /*    * JTAG adapters must initialize with TRST and SRST de-asserted    * (they're negative logic, so that means *high*).  But some    * hardware doesn't necessarily work that way ... so set things    * up so that jtag_init() always forces that state.     */   but in hla_target such forsing is missed and both variables
	  remains uninitialized until "reset" command issued, It prevents
	  target polling when connecting to running target.  Change-Id: Ia620d8794cca8ba1403f5c5f24767e730033748a Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1698 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Kster
	<kesmtp@freenet.de>

2013-10-09  Greg Ungerer <gerg@uclinux.org>

	* : armada370: initial support for Marvell Armada 370 family Initial support for using the jtag interface to the Marvell Armada
	370 family of SoCs.  Change-Id: Id823a567e8805ac622c3c330bc111297c1dae37e Signed-off-by:
	Greg Ungerer <gerg@uclinux.org> Reviewed-on:
	http://openocd.zylin.com/1690 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-12  Gatan Carlier <gcembed@gmail.com>

	* : flash: mxc nfc(v1) : fix incorrect address in spare area for
	biswap command For NFC v1 (i.MX27), swapping must be done between offset 464 of
	Main buffer and offset 4 of Spare buffer.  Change-Id: I09c2036e88770032da87d5846cd2094847f47b46 Signed-off-by:
	Gaetan Carlier <gcembed@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1692 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : lpc288x: Can now use target_write_buffer() Use the preferred code path according to the comment.
	Target_write_buffer() now simply uses suitably aligned
	target_write_memory calls, so from this pov, they should be
	equivalent.  Change-Id: I77f51ec3ac9faa822cf428708a1aecb67c77830c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1687 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-07  Sergey A. Borshch <sb-sf@users.sourceforge.net>

	* :     hla_target: Update target state when polling     Polling target does not change stste information     except if new state is TARGET_HALTED.      Connecting to the runing target result in target->state     not updated with retrieved value and remains "UNKNOWN"     until 'halt' command issued.  Change-Id: I803d6c0207f7f8699e648779d1df342c9ee7315a Signed-off-by:
	Sergey A. Borshch <sb-sf@users.sourceforge.net> Reviewed-on:
	http://openocd.zylin.com/1680 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-13  Franck Jullien <franck.jullien@gmail.com>

	* : openrisc/tap_vjtag: fix IR setting Change-Id: I2b1f057dc9777ff263d6cefa4ff5958e85607a22 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1694 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-14  Paul Fertser <fercerpav@gmail.com>

	* : checkpatch: add logging functions It's commonly considered that user-visible strings should not be
	split to different lines in the sources to ease grepping for them.
	Hence, checkpatch traditionally makes an exception for logging
	functions, lines having them can be of arbitrary length.  OpenOCD uses different (from Linux, the kernel) names, so they need
	to be added to avoid false positives.  Change-Id: I1198c1ffc62b5403d97efa41e665c81a5b6bb3a3 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1696 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-03  Franck Jullien <franck.jullien@gmail.com>

	* : jtag_vpi: fix path move function Change-Id: I82bf6f733e0d9cb5c86553d0827c558fa98aa247 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1672 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-18  Paul Fertser <fercerpav@gmail.com>

	* : bcm2835gpio: use maximum drive strength According to the docs, the default drive strength for the GPIO pads
	is 8mA but they're capable of 16mA. Configure GPIO 0-27 to use the
	maximum (as they might be used on high enough frequency with JTAG).  Change-Id: I621737a1b0a855bb97b56ce2cc46c0e385b74f5d Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1633 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-10-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : str7x: Improve info text There's no way to print two lines, so let it wrap.  Change-Id: I1f6211358a58877c0b729d9fdefd5d3dea8cba00 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1643 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : stm32l: set default padded value The stm32l family has an erased value of 0x00, so overide the
	defaults used by OpenOCD.  Change-Id: I314bdef1f8482fbcbd43e0f413247d3a35af869d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1636 Tested-by: jenkins

2013-10-02  John David Anglin <dave.anglin@bell.net>

	* : flash: fix mini51 cygwin build issues Under certain versions of cygwin it appears PAGE_SIZE is already
	defined.  So change name to stop any possible build issues.  Change-Id: I6f0e0c352c06bb6118ac3a5b884ae8e93194b570 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1675 Tested-by: jenkins

2013-10-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f2x: Detect STM32F42x rev Y Change-Id: Iaf94f6dda0686cce56be77431bbb961bfd5e8d14 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1688 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-28  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : jtag/tcl: Remove no-op free And use calloc instead of malloc+memset.  Change-Id: Icc1ed6e34904972bb5d3728307dcae5c55b32fc3 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1666 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : gdb_server: Further cleanup of target desc functions Fix use of uninitialized pointer passed to xml_printf, caught by
	valgrind.  Make sure a failed gdb_generate_target_description frees all
	allocated memory and avoids touching its out argument.  Plug memory leak and check allocation in
	handle_gdb_save_tdesc_command.  Change-Id: I30e20f6760a6215b1b4496304acdf47347eed829 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1645 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Franck Jullien
	<franck.jullien@gmail.com>

2013-09-22  Paul Fertser <fercerpav@gmail.com>

	* : board: add TM4C123G LaunchPad config Almost the same as the LM4F120 LaunchPad but the chip is using the
	new naming scheme (Tiva C series), supports USB OTG and has some new
	PWM hardware blocks.  Change-Id: I6a7b2df76768766471f366cddaf64df3cc63f5f2 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1647 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: Call mem_ap_read/write directly Change-Id: I52e1d8babf7bf9fcde4094046d29b817c15c0562 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1659 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m: mem_ap access functions take number of bytes, not
	words Accessing one byte of memory using a 16-bit access is not well
	defined.  The current implementation is forgiving and rounds up, but
	it should not be relied upon.  Also, I suspect this code might fail if the byte order differs
	between target and host, but I have no way of verifying it so I left
	it as it is.  Change-Id: I8d6a511151a194ed419f141703201f0632d84fc8 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1657 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-22  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : arm_adi_v5: Fix packed and unaligned memory writes For packed and/or unaligned accesses, the write functions reordered
	the source buffer in place. Causing in the best case a segfault, in
	the worst case silent data corruption.  Rewrite the data fetching to directly match the byte lane mapping
	according to IHI0031C, without destroying the buffer.  Also slightly clean up variable usage and harmonize all the write
	functions.  Change-Id: I9a01cfc5578653f9ec02043ff6b61a7a20f90d67 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1646 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-23  Paul Fertser <fercerpav@gmail.com>

	* : Require Autoconf >= 2.64 m4_argn macro was introduced in v2.63b-34-g46e87de on the 22nd of
	Apr 2009.  Change-Id: Id01cc9f0ffdb46cf6dfd26c3bf3b5efa0ddd2984 Reported-by:
	Franck Jullien <franck.jullien@gmail.com> Signed-off-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1656 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Fix strange ordering in target_read_u8 It's been like this since the check was added, in 5aa93a5e.  Change-Id: Iaa0586e0cd1ce57ad92735dcc3e51108a133fe96 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1640 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: correctly terminate @xref @xref should be terminated by either a ',' or '.'.  Change-Id: I141335cd4e149992fc971c6f2c04f1dbe390c8f4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1637 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-14  Petri Laakso <petri.laakso@asd.fi>

	* : build: fix NetBSD build warning Seems NetBSD does like the name reboot, so rename to keep happy.  Change-Id: I60ada9d217c4a8386a8d1ff1c88db7335451794e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1623 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-09-18  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: remove usb timeout magic numbers Change-Id: I4ec4cb0bc344c4c1de9113fa12ed84e5e2e87b31 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1631 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-09-19  Paul Fertser <fercerpav@gmail.com>

	* : README.Windows: MinGW-w64 is known to work for building, regular
	MinGW is quirky The regular MinGW doesn't work properly because it doesn't try to
	provide C99 compatibility currently.  Change-Id: I27c1b9e1496a8c32032fab08a29cbe1124316edd Reported-by:
	Tom Voda <Voda.Tomas@seznam.cz> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1638
	Tested-by: jenkins Reviewed-by: Xiaofan <xiaofanc@gmail.com>
	Reviewed-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: cleanup gdb target description support Make sure we free any memory used for gdb_save_tdesc.  Change-Id: Ia226f6134318c8c6b0ac4fa20fe70a570a08d80d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1619 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: remove gdb register hacks Now that we support the target description format we do not need
	these hacks anymore, we can now tell gdb what registers we support.  Change-Id: Ie774231d296420b35efcf708bc4435475c87ff5e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1617 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-09-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Restore mwh/mwb functionality.  Half-word and byte writes using mwh/mwb has been completely broken
	since bf71e34cbf, because it dispatched all writes, regardless of
	access size, to target_write_buffer(), which uses as large accesses
	as possible.  Partially revert the commit by changing back to the correct write
	method.  Change-Id: I60731fc576bf4a076a7da02bee7879e121c21d17 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1628 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-18  Paul Fertser <fercerpav@gmail.com>

	* : README.Windows: pkgconfig-lite should go into MinGW, not MSYS As autoconf is part of MinGW, it uses its root to find m4 files,
	pkg-config should be installed accordingly.  Change-Id: I551797e61a3d044f751768bd7d57d8e26e7202cc Reported-by:
	Tom Voda <Voda.Tomas@seznam.cz> Signed-off-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-on: http://openocd.zylin.com/1630
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-09-06  Stephan Linz <linz@li-pro.net>

	* : configure: expand library search for libftd2xx Error was: checking for library containing FT_GetLibraryVersion...
	no configure: error: You appear to be missing the FTD2xx driver
	library.  Reason were two cases: Case one: The FTD2xx library uses clock_gettime() and in normal
	cases the linker will find the function in the libc library. Most (older) systems require the program be linked with the librt library
	to use these (see man clock_gettime: Link with -lrt).  Case two: You can rebuild the FTD2xx library (relink from the object
	files) against the primary (system wide installed) libusb-1.0.  So
	you avoid mixed code (GPL with proprietary code) in the FTD2xx
	library. In this case, the FTD2xx library provides no private
	(linked in) libusb-1.0 functionality and require the program be
	linked with the libftd2xx __AND__ the libusb-1.0 to resolve all the
	libusb-1.0 symbols.  Change-Id: Iaf9a35ab4257e37b98dccd47667378ad2a64b7ed Signed-off-by:
	Stephan Linz <linz@li-pro.net> Reviewed-on:
	http://openocd.zylin.com/1614 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-08-01  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : configure: Add libusb-1.0 header bug workaround Force the libusb-1.0 include dir to be treated as a system include
	path which suppresses the cast-align warnings otherwise failing the
	build on some platforms.  Change-Id: I738cfd793052b8772731d2feeef968ee893bd4bd Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1534 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-11  Paul Fertser <fercerpav@gmail.com>

	* : libusb: require pkg-config support An alternative approach to show how much cleaner the pure pkg-config
	way is.  This changes the discovery procedures for libusb-1.0 and libusb-0.1,
	making them depend on pkg-config being properly installed and
	configured, including the necessary build host configuration for the
	cross-builds (see

	http://www.flameeyes.eu/autotools-mythbuster/pkgconfig/cross-compiling.html)It should make it possible to compile OpenOCD without changes and
	extra effort on GNU/Linux, FreeBSD users would need to supply a .pc
	file for their libusb implementation or add LIBUSB1_LIBS and
	LIBUSB1_CFLAGS to the configure environment.  Change-Id: I826e378dd1e0d101a549a573b2c63212a7e00b64 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1467 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : flash: add Nuvoton NUC910 series support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: Ic3273e64fd99bffab16764b06227e09a05d07c8f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1510 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp>

2013-07-11  Hsiangkai Wang <hsiangkai@gmail.com>

	* : aice: add target name to nds command messages Change-Id: Ie6c786c6880fb554af54ed27f1c159326f60a701 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1583 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-11  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: Use DMA to access memory as no DCache As GDB uses file-I/O protocol to access memory, use DMA to access if
	no DCache.  This commit improves the performance of Andes Virtual
	Hosting.  Change-Id: I36bb2154b9f497fc4237625836cf8c7115330a60 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1580 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-10  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: support FreeRTOS Change-Id: I117b5541fb19388c0f5c2344ee42d9151c9a222e Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1577 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-10  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: change default value Change-Id: I0505bdc0e75543a3b205981339c5b9fa78a080ca Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1575 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-27  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: support Andes profiling function Change-Id: Ibc45ec5777d6841956c02de6b4ae8e74c2a6de37 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1585 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-26  Hsiangkai Wang <hsiangkai@gmail.com>

	* : target: add profiling interface Profiling could be target-specific.  Add .profiling interface to
	target_type.  Change-Id: Ic0eea9db742971db1350a474fbbb5ed24565922b Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1571 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-30  Hsiangkai Wang <hsiangkai@gmail.com>

	* : target: Correct profiling calculation 1. high_pc should be (maximum sample + 1) (Refer to gprof source
	code) 2. bucket index should be      sample offset     --------------- x (number of bucket)          sample range For example, if minimum sample is 0 and maximum sample is 5 and the
	number of bucket is 3.  a = sampled_address - 0 b = 3 c = 6 (a, b, c refer to source code variables) sampled_address = 0, => a = 0, => bucket_index = 0 sampled_address =
	1, => a = 1, => bucket_index = 0 sampled_address = 2, => a = 2, =>
	bucket_index = 1 sampled_address = 3, => a = 3, => bucket_index = 1
	sampled_address = 4, => a = 4, => bucket_index = 2 sampled_address =
	5, => a = 5, => bucket_index = 2 Change-Id: Ia9fa0e4d9c7183e3e9d7ceaf73e63729f07aa2ce Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1607 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-17  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: refine nds32_v2 implement Change-Id: I6e26ffbdcd426a15b34bff022964946f613f318c Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1569 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-13  Hsiangkai Wang <hsiangkai@gmail.com>

	* : aice: Always setup SDP basic mode Change-Id: I1c0c11c2b9097b25324da0591edf036af207dbe9 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1567 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-27  Anton Kolesov <akolesov@synopsys.com>

	* : gdb_server: Do not set gdb_con->sync to true for new connections In GDB connected to OpenOCD there is a command "monitor gdb_sync"
	which makes next stepi command to be ignored while GDB still will
	get an updated target state. This command sets gdb_connection->sync
	field to true to notify that stepi should be ignored. This field is
	set to true for all new connection and is set to false after first
	"continue" command. However if first resume command is stepi/nexti
	then it will be ignored and result will confuse GDB client, it will
	report that target received signal SIGINT. This patch sets this
	field to false for new connections, thus stepi/nexti will work
	properly when it is a first resume command.  Change-Id: I7c9ebd69c3dc35f3e316041aa99f4e9d3425c0b6 Signed-off-by:
	Anton Kolesov <akolesov@synopsys.com> Reviewed-on:
	http://openocd.zylin.com/1587 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-03-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Rewrite read/write buffer default implementations Rewrite the target_*_buffer_default to generate as large accesses as
	possible while maintaining natural alignment.  These versions are easy to extend to generate 8-byte accesses to
	support 64-bit targets, although it requires some conformity from
	all target implementations (i.e. they need to refuse unsupported
	access sizes with some defined error code, so we can try again with
	a smaller one).  Change-Id: I00ddcbb1d2fd33f9f8b99cb448cc93505a2421fc Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1221 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-10  Paul Fertser <fercerpav@gmail.com>

	* : sysfsgpio: fix a typo in the informational output Change-Id: I0c9bc281e4e913f9eacba3b8b60585217a1caf2e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1616 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-09-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: remove clang warning about global var 'match' remove clang warning - "Argument to free() is the address of a
	global variable, which is not memory allocated by malloc()".  Change-Id: I015273eafc9644207684b363434c6ae8149bfcde Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1613 Tested-by: jenkins

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : flash: add NXP LPC800 support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: I142fa6f29e66fd334baca14217aca97e1fc6c7d9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1509 Tested-by: jenkins

2013-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove unimplemented target_request_data implementations Change-Id: Ia9afa83752d17f0f56bdf3bd81f5c69d108aa5e9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1537 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove unimplemented soft_reset_halt implementations Let the default handler issue an unsupported warning rather than
	using empty handler routines that may/may not issue a unsupported
	warning.  Change-Id: Iafe3e45146981a4cfae39771c3ab7370ac86da48 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1535 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com>

2013-08-09  Cosmin Gorgovan <cosmin@linux-geek.org>

	* : mini51: support for Nuvoton NuMicro Mini51 series flash memory Adds a flash driver for Nuvoton MINI51, MINI52 and MINI54
	microcontrollers.  At the moment, it only supports the erase and write operations.  These microcontrollers have a 4 / 8 / 16 KB APROM for application
	code and a 2 KB LDROM for bootloaders. When the MCU has booted off
	the APROM, the LDROM isn't mapped in memory but can be programmed,
	and the other way around.  This means that the ARM core is typically
	rebooted for programming. After a successful write or erase
	operation, it is rebooted again, using the initial boot source.  This driver only supports programming the APROM.  This driver is a pure JTAG implementation, it doesn't use any SRAM.  I've tested it on a MINI54ZAN microcontroller using an ST-LINK/V2.
	With the microcontroller running at the default clock frequency of
	22.1184 MHz, speed seems to be around 1.1 KB/s.  Change-Id: I180889c55af9fb5614cd99a953b755baba14288a Signed-off-by:
	Cosmin Gorgovan <cosmin@linux-geek.org> Reviewed-on:
	http://openocd.zylin.com/1546 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-09-06  Franck Jullien <franck.jullien@gmail.com>

	* : jtag: drivers: Add JTAP VPI client driver This patch adds a driver for the jtag_vpi server [1]. This server is
	now part of the ORPSoC version 3 (OpenRISC Reference Platform SoC).
	The jtag_vpi server provides an interface between OpenOCD and a
	simulated core.  [1] http://github.com/fjullien/jtag_vpi Change-Id: I717b72cace4845f66c878581345074f99002e21a Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1609 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add RTOS Support info Currently we have very little info about the RTOS support. This
	should improve that.  We also add info about what symbols are required for each supported
	RTOS.  This can be a trap, certainly when trying to use FreeRTOS
	support.  Change-Id: Ie57858571daca97515292ff5738a5a5ef55655b7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1538 Tested-by: jenkins

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix stm32f1x dual bank detection Not all devices with devce id 0x419 have dual flash banks, only
	those with > 1024kB.  Change-Id: I197d2b87df7599cd0837e25648af48439f2f1e50 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1544 Tested-by: jenkins

2013-08-28  Hsiangkai Wang <hsiangkai@gmail.com>

	* : target: Remove error messages as no .get_gdb_fileio_info If target does not support semi-hosting function, it has no need to
	provide .get_gdb_fileio_info callback. OpenOCD will use default
	function target_get_gdb_fileio_info_default.  The default function
	just return ERROR_FAIL and gdb_server will treat every halted
	condition as normal halted and return "Txx" to gdb.  Change-Id: I9ddb2be3a1145eae2ef5b712bdea89eb2e0fbc20 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1586 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-08-20  Andrey Yurovsky <yurovsky@gmail.com>

	* : stlink_usb: remove gcc-specific constant Replace 0b10 with 0x02, 0b is a GCC extension and isn't supported by
	clang, for instance, so compiling on OS X will fail.  No functional
	changes.  Change-Id: Ie882be1563df03e7ad3da0bc9aee65a907a29549 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1560 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-08-15  Franck Jullien <franck.jullien@gmail.com>

	* : doc: Add gdb target description commands Change-Id: Ie74917082e894cfa8ee2258f7a8cdf7d58ee4a59 Signed-off-by:
	Franck Jullien <franck.jullien@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1552 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-08-13  Paul Fertser <fercerpav@gmail.com>

	* : interface/ftdi/tumpa: remove ftdi_device_desc as it's incorrect The end users on IRC report that actual USB device has different
	information in its descriptor so it doesn't match. Remove it
	altogether.  Change-Id: Id7841667390a514581e630e67b9283675803135b Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1548 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-22  Andrey Yurovsky <yurovsky@gmail.com>

	* : stm32lx flash: fix flash size for Medium+ devices Unfortunately the Medium+ density and 0x436 devices have their
	F_SIZE register at a different location: 0x1FF800CC instead of
	0x1FF8004C.  Fix this for the 0x427 Medium+ devices and also the
	0x436 devices.  Furthermore, for 0x436 devices the flash size is
	reported as a 0 or 1 code rather than the size in Kb.  Please see
	RM0038 r8 or newer for an explanation, as noted in the comments.  Change-Id: Ie03b1e119a61f2a854bc2ccc5f90ce3e8852e272 Signed-off-by:
	Andrey Yurovsky <yurovsky@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1522 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-08-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: remove mixed case typo Change-Id: Iae40c59ed21e72931d440814d112b3cd752aad9c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1540 Tested-by: jenkins

2013-07-29  Paul Fertser <fercerpav@gmail.com>

	* : mdr32fx: support for Milandr's MDR32Fx internal flash memory This adds example config and flash driver for russian Cortex-M3
	microcontroller model.  Run-time tested on MDR32F9Q2I evaluation board; the flash driver
	should be compatible with MDR32F2x (Cortex-M0) too but I lack
	hardware to test.  There're no status bits at all, the datasheets specifies some delays
	for flash operations instead. All being in <100us range, they're
	hard to violate with JTAG, I hope. There're also no flash
	identification registers so the flash size and type has to be
	hardcoded into the config.  The flashing is considerably complicated because the flash is split
	into pages, and each page consists of 4 interleaved non-consecutive
	"sectors" (on MDR32F9 only, MDR32F2 is single-sectored), so the
	fastest way is to latch the page and sector address and then write
	only the part that should go into the current page and current
	sector.  Performance testing results with adapter_khz 1000 and the chip
	running on its default HSI 8MHz oscillator: When working area is specified, a target helper algorithm is used:
	wrote 131072 bytes from file testfile.bin in 3.698427s (34.609
	KiB/s) This can theoretically be sped up by ~1.4 times if the helper
	algorithm is fed some kind of "loader instructions stream" to allow
	sector-by-sector writing.  Pure JTAG implementation (when target memory area is not available)
	flashes all the 128k memory in 49.5s.  Flashing "info" memory region is also implemented, but due to the
	overlapping memory addresses (resulting in incorrect memory map
	calculations for GDB) it can't be used at the same time, so OpenOCD
	needs to be started this way: -c "set IMEMORY true" -f
	target/mdr32f9q2i.cfg It also can't be read/verified because it's not memory-mapped
	anywhere ever, and OpenOCD NOR framework doesn't really allow to
	provide a custom handler that would be used when verifying.  Change-Id: I80c0632da686d49856fdbf9e05d908846dd44316 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1532 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-11  Hsiangkai Wang <hsiangkai@gmail.com>

	* : gdb_server: check target before executing event callback As debugging multi-targets, every target has its own gdb connection.
	If there are two connections, gdb_target_callback_event_handler will
	be registered twice.  Everytime event occurs, the registered
	callback will be executed twice.  If both targets are running, as
	user issues ctrl-c in one gdb client, both connections will send
	"stop reply" to GDB clients even TARGET_EVENT_GDB_HALT is caused by
	one of them.  The commit fix above problem as debugging multi-targets.  Change-Id: I1e12d4846927d7dcf1e3bb9aeb1affabc80df813 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1501 Tested-by: jenkins Reviewed-by: Sergey
	Borshch <sb-sf@users.sourceforge.net> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-01-02  Hsiangkai Wang <hsiangkai@gmail.com>

	* : gdb_server: support File-I/O Remote Protocol Extension The File I/O remote protocol extension allows the target to use the
	host's file system and console I/O to perform various system calls.  To use the function, targets need to prepare two callback functions: * get_gdb_finish_info: to get file I/O parameters from target * gdb_fileio_end: pass file I/O response to target As target is halted, gdb_server will try to get file-I/O information
	from target through target_get_gdb_fileio_info(). If the callback
	function returns ERROR_OK, gdb_server will initiate a file-I/O
	request to gdb.  After gdb finishes system call, gdb will pass
	response of the system call to target through
	target_gdb_fileio_end() and continue to run(continue or step).  To implement the function, I add a new data structure in struct
	target, called struct gdb_fileio_info, to record file I/O name and
	parameters.  Details refer to GDB manual "File-I/O Remote Protocol Extension" Change-Id: I7f4d45e7c9e967b6d898dc79ba01d86bc46315d3 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1102 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-07  Hsiangkai Wang <hsiangkai@gmail.com>

	* : gdb_server: support gdb target description * Add a parameter in .get_gdb_reg_list() to return different   register lists as generating target description.  * Modify STRUCT REG to let gdb generate target description   according to register information.  The modified structure of register is struct reg {         const char *name;         uint32_t number;  /* for regnum="num" */         struct reg_feature *feature;  /* for register group feature
	        name */ bool caller_save;  /* for save-restore="yes|no" */         void *value;         bool dirty;         bool valid;         bool exist;         uint32_t size;         struct reg_data_type *reg_data_type;  /* for type="type" */         const char *group;  /* for group="general|float|vector" */         void *arch_info;         const struct reg_arch_type *type; }; Change-Id: I2096b67adf94518ba0b8b23d8c6a9f64ad7932b8 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1382 Tested-by: jenkins Reviewed-by: Franck
	Jullien <franck.jullien@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-07-16  Nemui Trinomius <nemuisan_kawausogasuki@live.jp>

	* : flash: add Winbond w25q80bv spi support Not tested, adapted from
	http://tech.groups.yahoo.com/group/versaloon/message/391 Change-Id: Ibe87c617b3cdf70ee042112609ab46bea98a3e6d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1511 Tested-by: jenkins Reviewed-by: Nemui
	Trinomius <nemuisan_kawausogasuki@live.jp> Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-07-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : mpsse: Add missing read buffer checks These two unused functions added reads without checking for
	available space.  Change-Id: I17dbbe9988b057e5a3a1768f405fc9d1027d1c01 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1500 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add missing embKernel rtos arg to docs Change-Id: Ib304a2bf272d281f6cd124ffca95b32531d57899 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1529 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-07-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Fix out-of-tree build The current AX_CONFIG_SUBDIR_OPTION macro assumes that $srcdir is a
	relative path. If it is not, jimtcl/configure.gnu is generated such
	that an out-of-tree build will fail at the configure step unless the
	build dir is a sibling to the source dir.  Change the generated jimtcl/configure.gnu wrapper to use the same
	`dirname $0` trick as jimtcl/configure (which itself is a wrapper
	around autosetup).  Change-Id: I0fb19ae114ba37169b422b28313262f9bd83eb6f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1528 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-07-23  Paul Fertser <fercerpav@gmail.com>

	* : lpcspifi: assume flash is unprotected after probing Since the driver doesn't support any hardware flash protection, it
	doesn't make sense to report "protected" status after probing, as it
	requires extra commands to unprotect before flashing and might be
	confusing for the end-users.  Change-Id: I04d96790cc42412df5334951f39fb6723c972ced Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1525 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : rtos: issue warning on auto detect failure Currently if we fail to auto detect an rtos then no warning is
	given.  This can also be triggered if we only find some of the rtos
	symbols.  Change-Id: I215991bbce0909bc6af93560b0f55db13defd123 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1514 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-16  Paul Fertser <fercerpav@gmail.com>

	* : target: fix halt and wait_halt timeout units Documentation says they should be given values in milliseconds,
	DEFAULT_HALT_TIMEOUT matches that too.  Change-Id: Ic1a30fa90f75b412c43fe50ba187d01c3d0a5fba Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1504 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* : mips: add breakpoint support for EJTAG 2.0 EJTAG 1.5, 2.0 and 2.5 have different breakpoint register addresses.
	This patch add support of EJTAG 2.0, which is part some broadcom
	SoCs.  This work was testet on Broadcom BCM7401.  Change-Id: I4b0ee23871fa9205f9001b7c9165e7b6ebe9ccbf Signed-off-by:
	Oleksij Rempel <linux@rempel-privat.de> Reviewed-on:
	http://openocd.zylin.com/1464 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-20  Oleksij Rempel <bug-track@fisher-privat.net>

	* : mips32_pracc: jump to 0xff20.0200 if cpu reads wrong addr On some CPUs, like bcm7401 with EJTAG v2.0 we can have situation
	where CPU do not stops execution. For example, all CP0 commands will
	have this issue.  In this case we should some hove recover our
	session. Currently jump to 0xff20.0200 seems to be good option. If
	it brake some thing on newer EJTAG, then check for EJTAG v2.0 should
	be added.  Change-Id: Icd8841f38a1a85e0f7682b6dc358af8dfaae0744 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1353 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-18  Oleksij Rempel <bug-track@fisher-privat.net>

	* : do not wait forever on ejtag_dma_dstrt_poll Change-Id: I26adab09839795ecf363b7db912392bd5314cec5 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1344 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-15  Oleksij Rempel <bug-track@fisher-privat.net>

	* : mips_ejtag: remove memory protection bit before DM Change-Id: Id1564ae063cea4f056b350436d52df5381ca9608 Signed-off-by:
	Oleksij Rempel <bug-track@fisher-privat.net> Reviewed-on:
	http://openocd.zylin.com/1341 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-07  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : OpenULINK firmware: update firmware hex image This image has been re-compiled with SDCC 3.3.0 and achieves
	slightly better performance (50-100 Byte/s for STM32F103 flash
	write) due to new/improved compiler optimizations.  Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: I4329aa42f50461fa3719fd63d0054d8e86982727 Signed-off-by:
	Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1486 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-04  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : OpenULINK firmware: Use C99 designated struct initializers Recent versions of SDCC added support for C99 designated struct
	initializers.  This provides better code readability (no functional
	changes).  Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: Idfa35147d2c3043baaa21a811b926b3845c85f9b Signed-off-by:
	Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1484 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-07-04  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : OpenULINK firmware: fix name of USB Jump Table symbol Fix a case mistake in the name of the USB Jump Table
	("USB_jump_table" vs. "USB_Jump_Table") which led to an assembler
	error when attempting to build the firmware with recent SDCC
	versions, because the assembler now treats symbol names as
	case-sensitive.  Successfully tested with ULINK probe and STM32F103 (debug, erase and
	write flash).  Change-Id: I979667b9130efcdccc3ac73269c38f06e0590048 Signed-off-by:
	Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>
	Reviewed-on: http://openocd.zylin.com/1482 Tested-by: jenkins
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-06-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: use consistent halt timeout On slow targets we sometimes get false messages about timeouts due
	to poll using 1sec rather than the default 5sec timeout.  Change-Id: Icc81c78e0ca86cebf9eeb2f5307cf7a82f1f4ee8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1466 Tested-by: jenkins

2013-06-24  Robert Jarzmik <robert.jarzmik@free.fr>

	* : jtag/drivers: trivial variable renaming Rename ublast_sleep() time variable from ms to us as the unit is in
	micro-seconds.  Change-Id: I07ff9c36d302d5d59edb8a5faa73d78cdd6145a4 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1457 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : automake: Don't install libopenocd Regular users (and probably no-one else either) have no use for this
	library that is installed by default.  Change-Id: Ie94e1550cec33f26ef9b68e7ce4f46494f18e644 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1479 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-06-28  Marek Vasut <marek.vasut@gmail.com>

	* : ftdi/board: Add support for DENX M53EVK Add support for DENX M53EVK board and it's integrated on-board JTAG
	adapter using FT2232H.  Change-Id: I022dcafa7799bb84a7873ba67ed82f1e49094320 Signed-off-by:
	Marek Vasut <marek.vasut@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1461 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-07-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ftdi: Fix error in calloc retval check Found by clang.  Change-Id: Iaa952b063779f4d392d8bdc62a3e7ce9daef2740 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1498 Tested-by: jenkins Reviewed-by: Laszlo
	Papp <lpapp@kde.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/stm32*: Rewrite info functions Factor out common bit masking and printing code and use intermediate
	strings to avoid buffer size handling.  Change-Id: I7d8c12df11ade6cdca8c917b5524372daa498bf4 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1496 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-07-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add missing stm32l medium+ device id The device was correctly used in stm32lx_probe but missing from
	stm32lx_get_info.  Change-Id: If288b8df3210a945e727e4e27cfbdb948db32fc7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1491 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2013-07-08  Paul Fertser <fercerpav@gmail.com>

	* : target: remove double const specificator Double const is bogus and breaks the build on Clang 3.3.  Change-Id: I9f9394d17f66289ac74ae6dd48f3165483b72e9e Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1489 Reviewed-by: Laszlo Papp
	<lpapp@kde.org> Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>
	Tested-by: jenkins

2013-07-06  Paul Fertser <fercerpav@gmail.com>

	* : aice: fix FTBFS on ARM This fixes a bunch of errors like this: aice_usb.c: In function
	'aice_pack_htdc': aice_usb.c:63:4: error: cast increases required
	alignment of target type [-Werror=cast-align] Compile-tested only.  I think this can be seen as another justification for an ARM Jenkins
	build target.  Also, the aice code I've seen so far seems to be assuming it runs on
	a little-endian machine so probably there're some endianness issues
	hiding. Hsiangkai, please get an old PowerPC Mac (or at least some
	fast usb-equipped MIPS SOHO WiFi AP/router for which you can
	cross-compile OpenOCD with OpenWrt) and do some real-life testing
	for your code on Big-Endian. I propose it to be a requirement for
	any non-trivial code submitted by a commercial entity of reasonable
	size.  Change-Id: I45e05257687d0020d7172b26a8666ebc1950e00c Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1477 Tested-by: jenkins Reviewed-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-07-09  Laszlo Papp <lpapp@kde.org>

	* : ftdi/xds100v2.cfg: Remove the warning as it has been tested Change-Id: I3a8711867e247bc49caa79274ae882f07719d4ce Signed-off-by:
	Laszlo Papp <lpapp@kde.org> Reviewed-on:
	http://openocd.zylin.com/1492 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins Reviewed-by: Paul Fertser
	<fercerpav@gmail.com>

2013-07-07  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : usb_blaster: maintainer-clean Makefile.in Change-Id: I120fc13a353c63e12d89698869b30c8e751db074 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1480 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : doxygen: use inline jtag state maching image The currently used image is 404 so use an inline image instead.  Change-Id: I56a0d187fd06dc2c5c370e6532d89815ccec63d6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1451 Tested-by: jenkins

2013-06-23  Robert Jarzmik <robert.jarzmik@free.fr>

	* : target: xscale more human vector catching Replace hexadecimal masks for vector catching with words
	representing the caught exception, such as dabt for data abort, etc
	...  This way, the new xscale command is :  - xscale vector_catch    Reads back to the user the current vector catching status  - xscale vector_catch reset dabt pabt    Sets the caught vectors to data abort and prefetch abort    for example.  This is mostly taken from Cortex-M3 openocd code.  Change-Id: I66591d5796f0e07f0f31edc8d28722e1e48aa8c5 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1456 Tested-by: jenkins Reviewed-by: Marek
	Vasut <marek.vasut@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-27  Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de>

	* : at91sam3: Added support for at91sam3sd8a and b This update is untested due to missing hardware.  Change-Id: Ibe286b741ebbb1c8ae0bd3dea4b8f3e12320ab34 Signed-off-by:
	Ulf Wetzker <ulf.wetzker@eas.iis.fraunhofer.de> Reviewed-on:
	http://openocd.zylin.com/1423 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-19  IS2T <devel@is2t.com>

	* : Support for SST 39VF3201C NOR flash  * Add Thumb-2 code to write flash memories that don't support DQ5
	 polling * Make sure default values for unlock commands are set even if there
	 is no PRI information given by the flash * Add a fixup to disable DQ5 polling for the SST 39VF3201C Change-Id: Ib08cf20547d0f500d5f78241521e6b49050c3d40 Signed-off-by:
	IS2T development team <dev.is2t@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1449 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-02  Zied Guermazi <guermazi.zied@gmail.com>

	* : keep gdb aware of threads if RTOS is set but no threads are
	created if gdb server (openocd) answers qfThreadInfo with an empty string
	during boot, gdb will not request thread info anymore. to keep
	thread awareness in gdb, we have to answer with a non empty string,
	'l' indicates an end of list, and is a valid answer here.  Change-Id: I7870a5db1090c786f306db16a25871e69b8a9760 Signed-off-by:
	Zied Guermazi <guermazi.zied@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1432 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Allow autoscan up to 64 bit IR lengths Change-Id: Ib15ff67b57606fe6c7997f3f9bd90e096acd5f3d Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Signed-off-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/832 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-06-16  Robert Jarzmik <robert.jarzmik@free.fr>

	* : drivers/jtag: usb_blaster add pin controls Add pin controls (pin6 and pin8). These pins can be controled either
	 : - with a fixed value (0 or 1)  - by TRST or SRST reset signal (driven low when signal  activated).  Change-Id: Ie6a3e57fc6ba6a38fdb9a009c976e3febab8f578 Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Reviewed-on:
	http://openocd.zylin.com/1448 Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Tested-by: jenkins

2013-06-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nor/spi: add flash Micron n25q064 Change-Id: Ic39bb6d020767cece2eaa4e194071be8b002ece4 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1452 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f2x: Correct calculation of number of 128k sectors.  Fixes regression introduced in 9785f51f that caused write outside
	allocated memory during probe of devices with <1024K flash.  Reported-by: Alexander Pakhomov <ker0sin@yandex.ru> Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Change-Id:
	Ifba8833e436064624efbf678162538fd351a5702 Reviewed-on:
	http://openocd.zylin.com/1450 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix incorrect configure quotes Change-Id: I427035df1ab2bfb2ec6ac8fafc9683f7d3e3bf06 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1444 Tested-by: jenkins

2013-03-09  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : [RFC] mips: Enable bulk write optimization for all writes mips_m4k_bulk_write_memory was only called from target_write_buffer
	as an optimization when the word count was large enough.  Remove mips_m4k_bulk_write_memory from the target type, causing the
	default implementation to call the regular mips_m4k_write_memory
	instead.  Perform the dispatch to bulk write in mips_m4k_write_memory,
	enabling the optimization for target_write_memory() writes with size
	4, in addition to target_write_buffer() writes.  It also enables making the choice of bulk write vs regular write
	specifically for the architecture and not relying on the generic
	target code to make a sensible decision.  Change-Id: I295f21a67ceaa195802403f2518ea2e0a025c1c7 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1215 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2013-06-09  Giuseppe Barba <giuseppe.barba@gmail.com>

	* : stm32w: add STM32w108xx generic configuration Add generic TCL configuration for STM STM108Wxx chips.  Change-Id: I981cdccb78833f442c3be4188c8c023064067e4e Signed-off-by:
	Giuseppe Barba <giuseppe.barba@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1439 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_a: remove memory leak on failure If mem_ap_sel_write_atomic_u32 fails then tmp_buff may not be
	released.  Detected by clang.  Change-Id: I3d5416bd47d0eea61f61ec02ac5e43c82f114108 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1433 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-06-11  Jim Norris <u17263@att.net>

	* : Change variable scope.  Change scope of the variable gdb_reg_list_idx from global to module.  Change-Id: Ib8273c0769c11c1d5a338e4711efbddb8e8a0243 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/1441 Tested-by: jenkins Reviewed-by:
	yvind Harboe <oyvindharboe@gmail.com>

2013-05-31  Paul Fertser <fercerpav@gmail.com>

	* : libusb1_common, ftdi: clarify libusb_open error message Print a user-friendly message when libusb_open() fails, e.g.  Error:
	libusb_open() failed with LIBUSB_ERROR_ACCESS when there's a
	permissions problem.  Also output a configure warning if libusb older than 1.0.9 is
	detected.  Change-Id: I800f71f06672fe06c0a98a4e469f853b5021bcfe Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1430 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-06-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix incorrect GPL address from last commit 962b3eb40cc5b69d9b3d6fcc4c5d56c4d204a307 included the old GPL
	address.  Change-Id: I7affbdc3fc1c9251ea90796ab9eeef4d56ba4308 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1440 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-06-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : update files to correct FSF address Change-Id: I429f7fd51f77b0e7c86d7a7f110ca31afd76c173 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1426 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-02-05  Hsiangkai Wang <hsiangkai@gmail.com>

	* : nds32: add new target type nds32_v2, nds32_v3, nds32_v3m Add target code for Andes targets.  Change-Id: Ibf0e1b61b06127ca7d9ed502d98d7e2aeebbbe82 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1259 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-04-14  Robert Jarzmik <robert.jarzmik@free.fr>

	* : drivers/jtag: rewrite usb_blaster driver Rewrite the Altera USB Blaster dongle driver :  - make extensive use of byte-shift mode, to improve JTAG    speed.     This is the main reason of the rewrite. It improves the    memory dumps with a factor 3 at least, and upload 100    times, from 1 kBytes/sec to 100 kBytes/sec with a    USB-Blaster connected to an Altera Virtual JTAG TAP +    OpenRISC CPU.   - split the low level API part (between FTDI and FTD2xx)  from core driver, so that in the future, if both libftdi  and ftd2xx can coexist, the driver will be able to switch  dynamically from one access to the other.  Change-Id: I2ee9cedf4a5eb27501f337993ee0cdee52517e7c Signed-off-by:
	Robert Jarzmik <robert.jarzmik@free.fr> Signed-off-by: Marek Czerski
	<ma.czerski@gmail.com> Tested-by: Franck Jullien
	<franck.jullien@gmail.com> Reviewed-on: http://openocd.zylin.com/467
	Tested-by: jenkins Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: Alexandre Becoulet
	<alexandre.becoulet@free.fr> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_a: fix FTBS on ARM due to alignment issues Native compilation on RaspberryPi with gcc (Debian 4.6.3-1) 4.6.3
	Target: arm-linux-gnueabi ends with error: cortex_a.c: In function 'cortex_a8_read_apb_ab_memory':
	cortex_a.c:2063:40: error: cast increases required alignment of
	target type [-Werror=cast-align] cc1: all warnings being treated as
	errors Also check for malloc failure.  This patch is compile-tested only.  Change-Id: I580c505424d03ac3a565de54182db22277c52ac1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1369 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-04-22  William M.A. Traynor <wmat@alphatroop.com>

	* : user guide: Update the ZY1000 description.  As per request from Peter at Ultimate Solutions, updated the
	description of the ZY100 Stand-alone JTAG probe.  Signed-off-by: Bill Traynor <wmat@alphatroop.com> Change-Id: Ia5c0b9a7261becd524a02aba1b22a98a2e09a4c9 Signed-off-by:
	William M.A. Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/1357 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-11  Paul Fertser <fercerpav@gmail.com>

	* : cortex_m, hla_target: do not try asserting SRST if it's not
	present This should cover all the cases when RESET_SRST_NO_GATING is set
	without RESET_HAS_SRST. This might happen when RESET_SRST_NO_GATING
	is automatically set by a target code (and not from tcl).  However, there're some other places (mips_m4k, arm7_9_common) where
	adding RESET_SRST_PULLS_TRST would lead to trying to use SRST even
	if it's not present. Currently it's impossible for the user to
	enable that flag without enabling SRST.  Change-Id: Ib1c6f68feed0b8057d55afd5f260bb22ab332ced Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1405 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-23  Paul Fertser <fercerpav@gmail.com>

	* : targets: fix target_type name for Cortex-A targets Commit d9ba56c295f057e716519a798bf9cdb4898c24f4 did a bunch of
	renaming of cortex_a8 to cortex_a, including the names in config
	files. However that introduced a regression as the name in
	target_type struct remained unchanged.  This adds the last missing bit: actual renaming of the target name
	as understood by OpenOCD.  Also change the (hopefully) last instance of using it in the
	supplied config files, namely from imx6.cfg.  Change-Id: Ib9289fc6d946630133ec6e36c20015ccb50acf61 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1420 Tested-by: jenkins Reviewed-by: Chris
	Johns <chrisj@rtems.org> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-05-05  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : remote_bitbang: Convert to use getaddrinfo() Since gethostbyname() is deprecated and inconvenient, rewrite to use
	getaddrinfo() using an implementation more or less copied from its
	man page. This automatically enables support for IPv6.  This also fixes a FTBFS on ARM due to alignment issues.  Change-Id: I990a49506cac4b26faf77587937e506138371f7c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1379 Reviewed-by: Paul Fertser
	<fercerpav@gmail.com> Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-04-17  Ravaz <embkernel@gmail.com>

	* : Added: RTOS awareness for embKernel Change-Id: I98b60f50a5fc486bda83b83ad7ec73826ee11607 Signed-off-by:
	Ravaz <embkernel@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1334 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-03  Paul Fertser <fercerpav@gmail.com>

	* : telnet_server: support C-p, C-n for moving through history This modifies telnet server to allow using common readline
	combinations to move up/down history, without the need to touch
	cursor keys.  Change-Id: Ib659075883e91794b44f391f7c29bbdfdd679d10 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1376 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-05-03  Paul Fertser <fercerpav@gmail.com>

	* : sysfsgpio: do not try to initialise absent signals When e.g. SRST is not specified, the current code results in
	assigning 0 to srst_fd and subsequently a stray '1' is output on
	screen on reset.  Avoid this by not doing bogus initialisation.  Change-Id: Iadb847a384a927ae746124cf6e4e3c6cc8b11406 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1375 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-05-01  Hsiangkai Wang <hsiangkai@gmail.com>

	* : gdb_server: remove target_handle_event from gdb event callback In target_call_event_callbacks(), it will execute 1. target_handle_event (use Jim_EvalObj() to evaluate event    statements in config files) 2. call user registered callbacks Before calling user registered callbacks, target_handle_event has
	been executed.  So, there is no need to call target_handle_event()
	in gdb event callback.  It will execute event statements in config
	files twice.  Change-Id: I84629e324fa3eb909907badf2319b4138ba89f07 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1372 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-05-05  Freddie Chopin <freddie.chopin@gmail.com>

	* : The openocd-0.7.0 release.  Change-Id: I08157f47ac056e6d2089119dd2d6cbab11b521e8 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* : doc: Update list of interfaces, targets and boards Change-Id: If9481e061f09a37f9ee3c461a1a0ce4d382a9a0d Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1366 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-05-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: remove whitespace Change-Id: I20edbb50efc03711195102f4c6dc8bcfaf043d44 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1374 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-28  Freddie Chopin <freddie.chopin@gmail.com>

	* : Restore -dev suffix Change-Id: I26f49e02d228b59533237607fa8307ecc627409e Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-02-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: rename cortex_a8 to cortex_a Rename cortex_a8 target to use a more correct cortex_a name.  This
	also adds a deprecated_name var so that older scripts issue a
	warning to update the target name.  cfg files have also been updated to the new target name.  Change-Id: I0eb1429c9281321efeb444b27a662a941a2ab67f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1130 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* : Mention "lpc4300" (with "lpc1800" alias) flash drivers in manual Change-Id: I0bb28910b2c07b1ca5bd644e0d88b931d585d3e7 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1352 Tested-by: jenkins

2013-04-22  Christopher Kilgour <techie@whiterocker.com>

	* : kinetis: fix "SF1" parts to limit FlexRAM usage Ensure FlexRAM usage is limited to half the FlexRAM size when
	programming.  Assume the FlexNVM sector size is equal to half the
	FlexRAM.  Fix sector erase checking which had an error introduced
	  when the kinetis_ftfx_command( ) signature was changed.  Change-Id: I88edd9c7d4a4ba474cad7b00052feaeedfa8ced8 Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/1358 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : arm: fix arm reg regression Seems commit fc2abe63fd3cea7497da7be2955d333bd3f800b9 caused a
	regression in that the arm reg cmd no longer worked. The issue was
	caused because we changed the value of ARM_MODE_THREAD which was
	being checked in arm_init_arch_info.  Change-Id: Id571d4ab336d1b0e2b93363147af245d24b65ca5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1362 Tested-by: jenkins Reviewed-by: Luca
	Bruno <lucab@debian.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-23  Hsiangkai Wang <hsiangkai@gmail.com>

	* : gdb server: Fix bug. Parse 'M' packet error.  The format of 'M' packet is 'M addr,length:XX...'. The data follows
	':' immediately. No need to '+2' to SEPARATOR in unhexify(), because
	SEPARATOR points to data correctly.  Change-Id: I15b5758b540816cc727752e7bf68cd45e623f603 Signed-off-by:
	Hsiangkai Wang <hsiangkai@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1360 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-04-21  Freddie Chopin <freddie.chopin@gmail.com>

	* : Restore -dev suffix Change-Id: I3662c5993766a76d6dd62b919c56cc059c4e50d4 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add "lpc1800" alias for "lpc4300" flash driver Change-Id: I6d2bb9105cc778bd1d21580022529d684c3b21b0 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1351 Tested-by: jenkins

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* : Improve HACKING Reword info about creating SSH key - it's not required to add it to
	Github account. Mention adding created SSH key to Gerrit account -
	without this step it's not possible to access Gerrit in further
	steps.  Change-Id: Ibd81521fbe47d4b4beae0b77cdc9d939fd3ee20c Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1350 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com>

2013-04-19  R. Steve McKown <rsmckown@gmail.com>

	* : Support newer OSBDM firmware OSBDM: add new VID:PID implemented in OSJTAG/OSBDM firmware
	somewhere between versions 30.13 and 31.21.  PFLASH programming
	works with this patch, tested on a Freescale Kinetis TWR-K20D72M
	using its onboard OSBDM JTAG adapter.  Note: flash program testing required hacking kinetis_write() to
	force longword programming, as the FTFL program section commands
	formulated by kinetis_write() currently fail on this board's
	PK20DX256VLL7 processor.  Change-Id: Ib7b92ff2fe9ebf6158fb1489f554a19e96cd9651 Signed-off-by:
	R. Steve McKown <rsmckown@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1348 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: m4k alternate pracc code. Patch 4 Now all the functions with only fetch accesses are modified.  The
	same delay between scans has been added to
	mips32_pracc_fastdata_xfer(), it should work at the same scan rates
	as the other pracc functions, but it needs higher scan_delays to
	work.  Change-Id: Ifb31d8ea6de9d22674385782913d221a2494dbbf Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1196 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: m4k alternate pracc code. Patch 2 Each pracc function defines a variable ctx of type struct
	pracc_queue_info.  To simplify the code tree auxiliary functions are
	defined: pracc_queue_init(), pracc_add() and pracc_queue_free().
	The second parameter in pracc_add() is the store address if the
	instruction is a store at dmseg, otherwise it should be 0.  The code
	is executed by mips32_pracc_queue_exec(). If ejtag_info->mode is 0
	mips32_pracc_exec() is called and it should work like with current
	code.  To generate the delay between scans the number of clock ticks
	are calculated with the help of jtag_get_speed_khz(). Due to delays
	in the execution of each single ftdi instruction the number of ticks
	are higher as it should be, specially at higher scan rates.
	mips32_pracc_read_u32() should now work with the new code.  Change-Id: I471590a4fc89b56af10bd46c48767b4c64de154f Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1194 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-04-20  Freddie Chopin <freddie.chopin@gmail.com>

	* : Improve clone command in README Without the explicit dir at the end the repository will be cloned to
	"code".  Change-Id: Icd8b55b4ba74f23b214c3844e2fb785377768119 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1349 Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com> Tested-by: jenkins

2013-04-17  Ben Nahill <bnahill@gmail.com>

	* : topic: STM32W support added to em357 driver The em357 driver only supported one page configuration (192k in 96
	2048k) pages. This is fine for em357 chips since that's the size
	they have, but ST's STM32W chips (pretty much the same) have
	different flash configurations available (64, 128, 192, 256k). I
	can't find anywhere that would indicate the size of the chip
	anywhere in memory so the selection must be manual, using the 'size'
	parameter. For backwards compatibility, any size not known to be in
	use defaults to the 192k configuration. I don't have any em357
	devices to test, but I also found that I had to re-assert the FPEC
	clock enable before performing an erase. This is a single line and
	shouldn't break any configurations.  My testing so far has only been with a 64k device with 8k of RAM.  Change-Id: Ic0ac400a9696efaa09d1407dd4a4d456bc2c318b Signed-off-by:
	Ben Nahill <bnahill@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1336 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-04-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: fix connect under reset issues We need to make sure that srst is asserted before we attempt to
	switch into jtag or swd mode otherwise we receive a error (-9) -
	invalid device id.  Change-Id: I625166c751cfba8e8a5290f40122bb9afc9dbb39 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1315 Tested-by: jenkins

2013-03-19  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ft2232: remove ft2232_large_scan memory leak This is a very long outstanding issue see:

	http://lists.berlios.de/pipermail/openocd-development/2011-June/019404.htmlAs this driver is deprecated the fix is added to purely to reduce
	the warnings reported by clang.  Change-Id: I3a16a704e0e8db27efda50fdcfdd35abf5ebed0f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1278 Tested-by: jenkins

2013-03-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : jimtcl: update embedded jimtcl Update to latest jimtcl commit
	2c1eba991e21a6f0b531fb0f83e21f9e6ee7c515.  This fixes issues when
	building on certain versions of Mac OSX.  Change-Id: I551477752d7913c84e6deb60b889d0c14bd200a0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1311 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com>

2013-04-15  Peter Dietzsch <peter.dietzsch@ib-dt.de>

	* : flash: Added support for at91sam4sd32c Change-Id: I7223980602d7595a3dd7a3ceaac3f58d4f73f88d Signed-off-by:
	Peter Dietzsch <peter.dietzsch@ib-dt.de> Reviewed-on:
	http://openocd.zylin.com/1332 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-03-18  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : arm_adi_v5: fix for csw nonsecure access.  Add command to fix CSW_SPROT in register AP_CSW.  This solves dap
	apmem access in non secure access.  Change-Id: I7cfcb6434d75f5cfd4a2630a059901cdeea010ce Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/1276 Tested-by: jenkins Reviewed-by: mike
	brown Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2013-02-24  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: change in restoring debug working register In current devel code there are 3 functions (related to m4k code)
	that need to restore register 8 from pracc stack:
	mips32_pracc_read_u32() mips32_cp0_read()
	mips32_pracc_write_mem_generic() And mips32_pracc_read_mem() needs to restore regs 8 and 9 from pracc
	stack.  Values in this registers should be the same as read by
	mips32_pracc_read_regs() when entering debug mode and can be
	modified by mips32_pracc_write_regs() when leaving debug mode.
	There is no need to read their values from the processor registers
	every time.  The fields reg8 and reg9 are added to struct mips_ejtag to store
	these register values and the call to mips32_save_context() is
	shifted in mips_m4k_debug_entry() in order to store them before any
	other function needs to restore these registers.  For the same
	reason in function mips_m4k_step() the call to
	mips_m4k_set_breakpoint(), if needed, should be made after calling
	mips_m4k_debug_entry().  For single word write the number of pracc
	accesses are now 9 or 8, from 13 or 12 in current code, single word
	read takes now 10 instead of 12.  This patch is really the first in a set of patches for an alternate
	m4k pracc code much faster that current code. At least for me with
	pic32mx works fine.  Change-Id: Ibd9df5e8b9f78ce05a180949ba6a561c761b61d6 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1146 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-23  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : pic32mx: 0 wait state option By default pic32mx starts after any reset with 1 wait state for RAM
	access/exec.  It can be changed to 0 wait states by clearing the
	BMXWSDRM bit (bit 6) in BMXCON register.  With 0 wait states near
	doubles the execution speed. CRC check sum can be done much faster
	increasing verify_image speed. Fast data transfer also works with a
	bit higher scan rate, up to 1500 Khz.  This option can be set at any
	time with mww 0xbf882004 0x40 or cleared with mww 0xbf882008 0x40.
	Some numbers for FTDI/HS with current devel code and a elf file: Core clock / wait states                     verify_image speed
	------------------------------------|------------------------------         4 Mhz    /    1                            21 KiB/s         4 Mhz    /    0                            36 KiB/s         8 Mhz    /    1                            37 KiB/s         8 Mhz    /    0                            57 KiB/s Change-Id: I4092ad0f3753f72f77108718d0ed3a3ab84e3b23 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/1141 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2013-02-27  Henrik Nilsson <henrik.nilsson@bytequest.se>

	* : Added support for ARMv7-M in arm io.  Added support for ARMv7-M targets in arm_nandwrite and arm_nandread.  Change-Id: Iab1d78d401f735e191c6a8519f3619035a300fae Signed-off-by:
	Henrik Nilsson <henrik.nilsson@bytequest.se> Reviewed-on:
	http://openocd.zylin.com/1188 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-18  mike brown <theshed@mikebrown.org.uk>

	* : arm_adi_v5: fix mem_ap_read_buf_u32() JTAG nastiness..  Moved JTAG code out of transport-neutral file (arm_adi_v5.c) into
	transport specific file (adi_v5_jtag.c).  Added ap_block_read to
	dap_ops interface (arm_adi_v5.h) to support the move.  Change-Id: I796d3984f138aad052b97c77ac9c12ffd1158f74 Signed-off-by:
	mike brown <mike@theshedworks.org.uk> Reviewed-on:
	http://openocd.zylin.com/1277 Tested-by: jenkins Reviewed-by: Michel
	JAOUEN <michel.jaouen@stericsson.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-03-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : ti_icdi: add icdi_usb_query result check Change-Id: I0b40586677a77ee6ae46fe120a677616bde22d1e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1279 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-03-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: remove unnecessary whitespace Change-Id: I11bad3de145d941b61e9bd4920bc3281ece91ab3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1245 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-23  Thomas Schmid <thomas.schmid@gmail.com>

	* : at91sam3: Wrong PLLA frequency calculations The command 'at91sam3 info' ignores PLLA DIV values >1. This patch
	fixes it.  Tested on a SAM3S4C chip.  Change-Id: I051f41bb3dcefe1ac785fbcb48477a807daa16a2 Signed-off-by:
	Thomas Schmid <thomas.schmid@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1307 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2013-03-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: fix broken Cortex-R4 support This regression was caused due to the recent addition of R4 support
	and the removal of the bulk_write_memory handler.  Change-Id: Ide692737f235c0e9906becb6f3502ba52c5907aa Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1246 Tested-by: jenkins

2013-03-08  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Add default implementation of bulk_write_memory Remove dummy implementations from all targets except arm7_9 and
	mips, which are the only ones with real implementations. Replace
	with a single default implementation simply calling
	target_write_memory().  Change-Id: I9228104240bc0b50661be20bc7909713ccda2164 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1213 Tested-by: jenkins Reviewed-by:
	yvind Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-10-12  Evan Hunter <ehunter@broadcom.com>

	* : adi_v5: search for Debug and Memory AP support Adds dap_find_ap() function.  Change-Id: I6643025624009b12d4936de67a605da52c07be49 Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/909 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-06-05  Stefan Mahr <stefan.mahr@sphairon.com>

	* : jtag: add support for some probes that are mostly compatible
	with opendous This patch adds support for usbprog-jtag and usbvlab that are mostly
	compatible to opendous except for IN and OUT endpoints and usb
	transfer mode.  Change-Id: I44557c2449fe7473295038efa6ae4fc8d80ec7bf Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/687 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-03-12  Stefan Mahr <stefan.mahr@sphairon.com>

	* : jtag: parport: avoid freeing read-only memory section If command parport_cable is not executed, parport_cable points to
	const char array in read-only memory as default. On exit free() will
	try to free this read-only memory. This patch uses strdup to
	allocate memory when defining default setting.  Change-Id: I290e707ac6a37e9dc1b45c85ca51d8bd6aac6761 Signed-off-by:
	Stefan Mahr <stefan.mahr@sphairon.com> Reviewed-on:
	http://openocd.zylin.com/1223 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Remove read_memory_imp Change-Id: Idc6ef3b075ccbb5945df8fea746011cb17175d8f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1219 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-03-10  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: Remove soft_reset_halt_imp Change-Id: I12c907584ef73de570eba2dcfeb8477cabc6098f Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1217 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-27  Rodrigo Melo <rmelo@inti.gob.ar>

	* : interface: opendous_ftdi config file added This config file add support to the opendous cable based on the chip
	ft2232H, using the ft2232 interface driver.  Change-Id: I8171a0c475af8d61e081844ee86466a392138fb0 Signed-off-by:
	Rodrigo Melo <rmelo@inti.gob.ar> Reviewed-on:
	http://openocd.zylin.com/1096 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-10-08  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : doc: Added MIPS target document This document explains MIPS EJTAG operations implementations within
	OpenOCD.  Change-Id: Ieaf01f8bc5a97d7b0f2c847bac5fbb2ccf8ba088 Signed-off-by:
	Drasko DRASKOVIC <drasko.draskovic@gmail.com> Reviewed-on:
	http://openocd.zylin.com/904 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-03-02  Alex Austin <alex.austin@spectrumdsi.com>

	* : Kinetis: Symbolic names for Addresses and Commands Change-Id: I2165b66c37bd1608139b5dd00f48124161e13ef0 Signed-off-by:
	Alex Austin <alex.austin@spectrumdsi.com> Reviewed-on:
	http://openocd.zylin.com/1191 Tested-by: jenkins Reviewed-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2013-03-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : tcl: add flash programming helper This adds a program proc that simplifies using OpenOCD as a
	standalone programmer.  Change-Id: I6ece492cd878c170b734e8bb2e09fe8c4557d5a6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1199 Tested-by: jenkins Reviewed-by: Jrg
	Fischer <turboj@gmx.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2013-03-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: use stdio functions to convert parameters This reduces the number of gdb conversion routines we have to
	maintain.  Change-Id: Ia43d6cac86cbe4f76fe0875b9d9c16ac340296db Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1128 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-03-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: use doxygen keywords for formatting Rather than use bold fonts etc, use the correct keywords so doxygen
	formats better.  Change-Id: Id9d63f0fc3465665376d7a536c4d6da71998f40e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1210 Tested-by: jenkins Reviewed-by:
	yvind Harboe <oyvindharboe@gmail.com>

2013-02-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix stm32 failed probe using incorrect flash size This fixes an issue if the device is manually probed after the
	initial probe fails due to being unable to read flash size register.
	In this situation the driver assumes the user has overridden the
	flash size when infact this may not be the case.  It also seems on the older stm32f1 devices the flash register is not
	readable when locked, this does not seem to apply to the newer parts
	- f0, f3, f4.  Change-Id: I125f872fcb2d962ca6705f97b62d957e2b31303b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1187 Tested-by: jenkins Reviewed-by: Johan
	Almquist <johan.almquist@assaabloy.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-02-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : ti-icdi: catch failed icdi_send_cmd warnings detected by clang.  Change-Id: I1532bcc12a8ab7446646dfb2a7afa8894ff03679 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1180 Tested-by: jenkins Reviewed-by:
	Xiaofan <xiaofanc@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2013-02-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: use common target_name to access target::cmd_name member Change-Id: I203b89ef25a072c3b00b504483d5f2a83477fad6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1182 Tested-by: jenkins Reviewed-by:
	Mathias Kster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2013-02-27  Mathias K <kesmtp@freenet.de>

	* : Change reset configuration.  This patch change the default reset config from SYSRESETREQ to the
	working VECTRESET.  Change-Id: I21a9a74b9c0c68cfa3a6e6dac9b123acc98a93cb Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1186 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-25  Mathias K <kesmtp@freenet.de>

	* : Add the target name to debug output for better understanding and
	error identification.  Change-Id: I1054debea6cd3a6548aadeae2d84000a0039814e Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/1178 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-01-31  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdbserver: use common hexify/unhexify routines Change-Id: I9989b625666e9c60ec9867cf6f4d94f41c998c3f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1105 Tested-by: jenkins Reviewed-by:
	Mathias Kster <kesmtp@freenet.de> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2013-02-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: hla correctly use target events Because we were always running using target state TARGET_RUNNING
	target algorithm's were a bit verbose compared to other targets.  This brings the hla target inline with the other targets.  Change-Id: I3a257fdc878b87660fac8b5eca22b421eee5b349 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1134 Tested-by: jenkins

2013-02-19  Johan Almquist <johan.almquist@assaabloy.com>

	* : stm32: add support for stm32l1x 256k high density single bank
	devices Added support for new ST devices in the stm32lx portfolio, with
	device id 0x427. These have 256k flash, but in a single bank
	compared to device id 0x436 which is a dual bank flash.  Change-Id: Iafdfe990f24bd04b0d6e00385ee70690f3bf8d5f Signed-off-by:
	Johan Almquist <johan.almquist@assaabloy.com> Reviewed-on:
	http://openocd.zylin.com/1140 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2013-02-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : stm32: enable flash bank size override It has been seen on some stm32 targets that the flash size register
	that is probed by the driver may contain an invalid size.  This change enables the user to override the probed value.  Change-Id: I09359e59a96f9133d3d939670957d32a830a944e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1132 Tested-by: jenkins Reviewed-by: Johan
	Almquist <johan.almquist@assaabloy.com>

2013-02-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: use ARM_MODE_THREAD core mode for algoorithm's This makes sure we are using privileged mode when executing any
	loaders.  Change-Id: I18bf32ec92e1c76a66ab25e3712652bc3650b332 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1108 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2013-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: use generic arm read/write_core_reg Change-Id: I0c15acc1278d2972269d294078495e6b069c830b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/969 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : armv7m: remove unused armv7m_regtype This simplifies the armv7m_core_reg structure ready for the move to
	using the generic struct arm_reg.  Change-Id: I8edb9d77cc54965d49cd2e754568ebcea4cf6964 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/967 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : helper: hexify correctly handle signed chars The current implementation of hexify was not correctly handling
	signed chars.  This function is currently used by the ti-icdi driver and as such
	was causing random write issues.  As a note perhaps a better long term fix would be to change to using
	uint8_t buffers rather than char. This will require changes to the
	ti-icdi driver aswell.  Change-Id: I572e69ff2b99227a7d412de056458c0393794b03 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1124 Tested-by: jenkins Reviewed-by:
	yvind Harboe <oyvindharboe@gmail.com>

2013-01-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : rtos: do not use LOG_OUTPUT LOG_OUTPUT is not intended for general output so use the correct
	LOG_* functions instead.  Change-Id: I48d0fe765637024dbafc68f2ea08219d3ff42754 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1104 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: only change state if necessary All the other drivers will only change the state if required.  This
	brings all the other drivers inline with this behaviour.  The original issue relates to problems on xscale commit
	7989000e0969c1ccf69acbc3ce649a020bc1ee66 Change-Id: Ifc90ec2eef68a70a14f37c00931a07982bfa200c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1114 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2013-01-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : hla: enable DWT component and fix watchpoints The makes sure the DWT component is always enabled so that
	watchpoints work as expected.  This does need merging into the existing cortex_m logic, however at
	the moment this is non trivial.  Change-Id: Ic6cccd1badb51f70a2ca8ea9ab6923788a94c1bf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1122 Tested-by: jenkins Reviewed-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-12-07  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: reduce stm32lx loader timeout Waiting 20secs is a bit much excessive, we could probably reduce to
	5.  Change-Id: Iffb97adb99c2541a075fe78dbc88a53ddf340214 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1009 Tested-by: jenkins

2012-12-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update stm32f1x/stm32f2x driver info As we use the two ST flash drivers for multiple stm32 variants
	update the docs as to which targets use which driver.  Change-Id: I84943ff45482a22b3d3dd8491bb4242d79415939 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/990 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32f2x flash lock/unlock cmds Change-Id: I35344cc47fa4f0a49c034455c5abf479faa0344a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/988 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2013-01-18  Roman D <me@iamroman.org>

	* : flash: EFM32 GG/LG page size detection fix Fixed flash page size detection according to EFM32 GG/LG errata.
	MEM_INFO_PAGE_SIZE register containts invalid value in devices with
	revision number lower than 18 and should not be used.  Change-Id: Idb2832246efcbbec2fd98a5c458f72a36df386fb Signed-off-by:
	Roman D <me@iamroman.org> Reviewed-on: http://openocd.zylin.com/1116
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-01-10  Roman D <me@iamroman.org>

	* : flash: EFM32 flash implementation Limited (no page unprotect, no block writes) implementation of EFM32
	flash support. Verified with EFM32 development kit and STLink V2
	adapter using SWD.  Change-Id: I3db2054d9aa628a1fe4814430425db3c9959c71c Signed-off-by:
	Roman D <me@iamroman.org> Reviewed-on: http://openocd.zylin.com/1106
	Tested-by: jenkins Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2013-01-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : hla: support setting DCB_DEMCR on resume This is only minimal support to enable use to catch a Hard Fault in
	the stm32l flash bootloader.  Change-Id: I21d6a11893e2f1d173ebff1a651d6f52bf6eec32 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1103 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: use correct stm32f1x option read mask Make sure we do not mask out the BFB2 boot bank bit, as this is used
	on the larger XL devices.  Change-Id: Iacfdf874140e409e0c4ca9b9aee8f5c2f90dc9be Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/991 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : stm32f1x: preserve user option byte data The user is able to use 2bytes of the options byte data for whatever
	purpose they wish. Make sure we preserve this during an option
	erase/write.  Change-Id: Ibf951b11c59a148e671b1eb47fdc9b4f49ccae15 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/983 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-12-29  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : doc: Clarify the topic field in the commit comment template Change-Id: Iea1f3b665b011ca3748800048039d3f6b33d7756 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1101 Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Tomasz CEDRO <cederom@tlen.pl>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk> Tested-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-12-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: increase stm32l-discovery working area This part has 16k ram so make it all available.  Change-Id: Ifeb7bc850bfe4f68d0affb8f6a0931b4327e7257 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1006 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-12-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: enable stlink stm32l HSI Switch to using the internal HSI when a reset init is called, this
	also matches the std stm32l cfg.  Read (verify) speed is increased from 17 to 120 KiB/s.  Change-Id: Ic94ba85949ffdefa17b7be45eef14e30f941d107 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/1004 Tested-by: jenkins Reviewed-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com>

2012-11-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: format stm32f2x driver defines Change-Id: Ie903996368a8d4313df87839d5ba3f2a102796a3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/987 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add generic open error routine Change-Id: I1cd18896ab2a37255471a2d160befed8dd8fb544 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/979 Tested-by: jenkins

2012-11-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: fix correct shutdown when using pipes 50d5441e2a615fb2c44b41a777e4373901f7a2e6 commit added a regression
	when using pipes with GDB, OpenOCD would appear to hang when exiting
	GDB.  This fixes that behaviour so we shutdown correctly.  Change-Id: I9b337c2bdd41b1966de1c7631118257afcbfa6bd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/993 Tested-by: jenkins

2012-11-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: replace luminary with TI urls's Change-Id: Ic8a768f5a498e78b96421c6137238593c159fd72 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/970 Tested-by: jenkins

2012-11-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : icdi: add TI icdi interface This is the new proprietary interface replacing the older FTDI based
	adapters.  It is currently fitted to the ek-lm4f232 and Stellaris
	LaunchPad.  Change-Id: I794ad79e31ff61ec8e9f49530aca9308025c0b60 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/922 Tested-by: jenkins

2012-10-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : hla: fix watchpoints not being set Watchpoints were not being enabled when the hl adapter target was
	resumed.  This effects both stlink and icdi interfaces.  Change-Id: Ia9f8a9415be97a467cd099b63b6bc9f7f37d0c0d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/931 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: rename stlink cmd names As part of the switch to using the hla for the stlink interface we
	rename the cmds to a more generic name.  Update scripts to match new names.  Also add handlers for deprecated names.  Change-Id: I6f00743da746e3aa13ce06acfdc93c8049545e07 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/921 Tested-by: jenkins

2012-10-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: print version info Print stlink info always rather than just when debug log enabled.  Change-Id: I2a29ef046925200e1c94624280c0b252fab5219a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/925 Tested-by: jenkins

2012-11-15  Muranaka Masaki <monaka@users.sf.net>

	* : flash: fm3 mb9bfxx7 mb9bfxx8 support Patch submitted by Trac #55 Change-Id: I08b0d79d24fe9108ca0bbfbc9b45c60359b6d180 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/981 Tested-by: jenkins

2012-12-10  Kamal Dasu <kdasu.kdev@gmail.com>

	* : mips_m4k: Fixed mips_m4k_resume code for smp targets Fix for bug introduced in in mips smp support code in the  resume
	logic that is checking for wrong return value.  Change-Id: Ice3e0069f936b556fecc338ccc12ddba38deeaf6 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/1048 Tested-by: jenkins Reviewed-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2012-11-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: fix reset_config copy/paste error As the other arg checks do not OR, it is assumed this is a
	copy/paste error from the original code author.  Change-Id: I7dfc7396254a6f558887def951c57dfd4a0e6c2c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/997 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: enable connect under reset Currently if the target supports srst_nogate we wait until target
	assert_reset until we get a chance to assert the srst.  However
	sometimes we will not get this far if the target has already failed
	the jtag_examine_chain.  This has been tested on targets that support this behaviour (STM32
	and STR9).  Change-Id: Ibcf7584b137b472f31ba6ddd5cd99d848c5508d1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/971 Tested-by: jenkins Reviewed-by: Paul
	Fertser <fercerpav@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-11-02  Evan Hunter <ehunter@broadcom.com>

	* : cortex_a: Fix target entry state route.  If target is disabled at init, then is examined using 'arp_examine',
	it can get to cortex_a8_poll with the target state being unknown.  Change-Id: Ifffb345bf971d275d2eb1912648b29f0a75f6ccc Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/954 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-17  Kamal Dasu <kdasu.kdev@gmail.com>

	* : mips_ejtag: Adding EJTAG 4.x and 5.x as valid versions This is a minor change to log EJTAG version 4.x and 5.x as valid
	versions when debug log is enabled.  Change-Id: Ie20458d033c6d22842cb4a31b56765d4ba2ff123 Signed-off-by:
	Kamal Dasu <kdasu.kdev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/936 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-30  Aymeric Vincent <vincent.aymeric@gmail.com>

	* : Make NetBSD a recognized system Change-Id: I7fcb540553da7833a8b6a82335a7296539a8f491 Signed-off-by:
	Aymeric Vincent <vincent.aymeric@gmail.com> Reviewed-on:
	http://openocd.zylin.com/998 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: format src defines Change-Id: I7c3fd6e84681e007f1983ad9b8c85369cf9f3ba1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/978 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-11-11  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: patch mips32_pracc_exec_write() No function writes to MIPS32_PRACC_PARAM_IN addresses and probably
	has no much sense.  Any attempt to write to those addresses should
	be an error.  Change-Id: Iebea5fa9954e2cd56ad34976dd7d25009c6e6388 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/975 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-03  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: optimize mips32_pracc_write_regs() code.  All the the loads are done with lui and ori instructions, there is
	no need to save any register, they will be overwritten.  Like in the
	previous patch, for speed optimization in write code, same
	instructions can be saved if the lower half word or the upper half
	word is 0.  If the lower half word is 0, it can be loaded with only
	a lui instruction.  If the higher half word is 0 it can be done with
	an ori instruction with register 0.  This code saves 10 pracc
	accesses at a minimum, and 40 at a maximum, obviously if register 2
	to 31 are 0 or a half word is 0 Current code needs 91 pracc
	accesses.  Change-Id: I892c5b440191d0c7a474c96845d41c373b7fc637 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/957 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2012-11-02  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: optimize read code for speed Really nothing new that not explained in previous patches.  The code
	is expanded as needed, there are no loops in pracc code.  For the
	first value pracc accesses are reduced from 39 to 16 and for
	aditional values from 10 to 3.  dump_image should work around 3x
	faster.  Change-Id: I37c9b13395c09eb52a91f10cdb6cbaedef8ab98b Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/955 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-01  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: optimize CP0 read/write code MIPS32_PRACC_BASE_ADDR is defined as 0xFF200000. Now is possible to
	load the base address with a lui instruction and only one pracc
	access.  Offsets to the pracc code addresses are defined to simplify
	the code and probably make it a bit more readable or self-explained.  Change-Id: I853dd2d7fad52745931cc6e6be68c0ae156d897e Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/951 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins

2012-10-30  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : mips: optimize mips_ejtag_step_disable() code The code is a bit large compared to mips_ejtag_step_enable().  With
	the mips32 xori instruction the code can be reused.  The number of
	pracc accesses are reduced from 18 to 7.  Change-Id: If3974ebd64da4461c22b089796646990e68e1b72 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/944 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : doc: update to new sourceforge git url The new sourceforge platform also supports http access, so use that
	rather then repo.or.cz.  Change-Id: Ica89d9475847a2095c179b240053145795549802 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/982 Tested-by: jenkins

2012-11-10  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Fix error in reading the current thread in ChibiOS/RT Commit c4ab127b4069e20e introduces a copy&paste error which affects
	the detection of the current thread.  As a result, the stack of the current thread won't be detected
	correctly in most cases.  Change-Id: Ib46b8f64be8053d7e9103f427c66796963214419 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/974 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-22  Karl Kurbjun <kkurbjun@gmail.com>

	* : ARM v4/v5 target files: mrc and mcr help information is
	incorrect.  The order of the mrc/mcr command matches the ARM Architecture
	Reference Manual.  This patch corrects the help information for
	mrc/mcr.  Change-Id: I1f0e6a628a3644124591a6aa291b8a58cfd93b44 Signed-off-by:
	Karl Kurbjun <kkurbjun@gmail.com> Reviewed-on:
	http://openocd.zylin.com/914 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-08  Peter Horn <peter.horn@bluewin.ch>

	* : cortex_m: Fix single stepping will not return to debug mode
	sometimes This occurs when stepping past a breakpoint on a even address with
	maskisr option set to auto With -d3 the following log message appears in this case: "Debug : Interrupt handlers didn't complete within time,  leaving target running" Cause : Given a breakpoint is set on the lower half word and the PC
	is on the upper half word. When another breakpoint is now set on the
	current PC then resuming the core will not result in a break on the
	newly set breakpoint. This has been observed on a STM32F1x, STM32F2x
	(CM3) but not on a STM32F0x (CM0). It's not clear if this is a
	STM32F1/F2 only or a general CM3 problem.  Change-Id: I384813f3bfdf935373b5e23cdb2d7f243c70cc00 Signed-off-by:
	Peter Horn <peter.horn@bluewin.ch> Reviewed-on:
	http://openocd.zylin.com/864 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-25  Gianluca Renzi <gianlucarenzi@eurekelettronica.it>

	* : Generic LPC1850 board w/ SPIFI flash.  This config file is intended as an example of how to use the
	lpcspifi flash driver, but it should be functional for most LPC1850
	boards utilizing SPIFI flash.  Change-Id: I855854282336701fd210134497ce014017f3aaec Signed-off-by:
	Gianluca Renzi <gianlucarenzi@eurekelettronica.it> Reviewed-on:
	http://openocd.zylin.com/929 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-11-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : cortex_m: fix define formatting Change-Id: Ibdec882b2afc7e16f2361f86715463e030a54964 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/963 Tested-by: jenkins

2012-11-05  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Add FPU detection to ChibiOS/RT The stacking of ChibiOS/RT depends on the usage of an FPU. If the
	FPU is enabled the FPU registers are also saved on context switch.  This patch adds automatic detection of FPU for armv7m targets.  Note: With this patch, openocd will only output an error message       warning that the FPU is enabled.        For further FPU support, the correct stacking information       also needs to be added.  Change-Id: I0984cbd9180f247ba2fa610e74a6413cc54239ea Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/961 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-19  Sergey Borshch <sb-sf@users.sourceforge.net>

	* : fix memory leaks if add_connection() fails, memory allocated in
	copy_command_context() is lost.  Signed-off-by: Sergey Borshch <sb-sf@users.sourceforge.net>
	Change-Id: I91a2757f29612038031eb8953100faa3b850d3a6 Reviewed-on:
	http://openocd.zylin.com/836 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-28  Peter Stuge <peter@stuge.se>

	* : mpsse: Always perform a general reset of the MPSSE in
	mpsse_open() Per AN_135 FTDI MPSSE Basics Version 1.1, section 4.2 step 7.

	http://www.ftdichip.com/Support/Documents/AppNotes/AN_135_MPSSE_Basics.pdfThis allows to stop and restart OpenOCD reliably, without needing to
	power cycle the interface.  Change-Id: Ibeafe5ecfe7b2f6f82712cbc85116904407ddb36 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/939 Tested-by: jenkins

2012-10-28  Peter Stuge <peter@stuge.se>

	* : ftdi/flyswatter2.cfg: Fix the signal layout Change-Id: If6612af25fa3562f49e9c8ccff01b6ef0af5ceb0 Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/938 Tested-by: jenkins

2012-10-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: fix broken qCRC packet handling The rtos layer was incorrectly handling a qCRC packet as a qC
	packet.  Make sure we check for the qCRC packet and return unhandled
	so the gdb server gets a chance to handle it.  This packet is used in the gdb compare-sections cmd.  Change-Id: I21f8e5fa7225fccd13d65cf9e40186895065a7e3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/933 Tested-by: jenkins Reviewed-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-18  Edgar Grimberg <edgar.grimberg@gmail.com>

	* : ioutil: make the file compile on MacOS The meminfo command cannot exist if the malloc.h header is not
	present.  Cannot get the mac address without sys/ioctl.h and
	SIOCGIFHWADDR defined Change-Id: Ifc0fb98c3a60c53ad2e19473e08b34c460529d0b Signed-off-by:
	Edgar Grimberg <edgar.grimberg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/912 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-23  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: fix gdb qC command answer rtos->current_thread is of type int64_t. All other commands already
	respect this.  Change-Id: I9951946ff2a09c53cd78c6ab882c80cdd2ab7ac6 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/917 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-10-27  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Fix wrong allocation in linux_get_symbol_list_to_lookup linux_get_symbol_list_to_lookup allocates to few memory. On 64 bit
	systems the error did not show due to char* being twice its size,
	leaving accidentally enough space.  This patch makes linux_get_symbol_list_to_lookup behave identical to
	all other RTOS.  Change-Id: I290ea241fb20b65585c8be14609a92fdbd2a307d Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/934 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-18  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: mention extended-remote support Change-Id: Idd7cc0364856082cbbfee5015e49cd7d237d68ef Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/913 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-10-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb: fix extended-remote restart Seems versions of gdb > 6.8 require an W stop reply after receiving
	a kill packet.  Without this we receive the following error from gdb:
	gdb/thread.c:72: internal-error: inferior_thread: Assertion `tp'
	failed.  Change-Id: I86765a321f0429c9b517fe13ded0ee2dbd4b2f87 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/911 Tested-by: jenkins Reviewed-by: Joel
	Bodenmann <joel@unormal.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-10-06  Freddie Chopin <freddie.chopin@gmail.com>

	* : Fix serious bug in LPC2xxx/LPC17xx flash algorithm.  Flash algorithm for LPC17xx/LPC2xxx was trying to "reuse" previously
	allocated working area on next flashing which is not possible -
	working areas are freed automatically on reset. This caused all but
	first flashing attempts to fail. As there is no point in storing
	pointer to working area, it was converted to local variable.  Change-Id: I939946325ff9eecc4861c0f51ab0f73871a3d7b9 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/860 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-05  Matthias Blaicher <matthias@blaicher.com>

	* : rtos: Add ChibiOS/RT support This patch adds ChibiOS/RT support. This patch requires at least
	ChibiOS/RT development version starting from SVN revision 4734.  Note, that the Thread structures depend not only on the target but
	also on the ChibiOS configuration at build time.  To correct this
	ChibiOS includes a new "memory signature" which specifies the
	offsets.  Special thanks go to Peter Stuge and Spencer Oliver for their
	continous input and feedback to this patch.  Change-Id: I842bf7ba6c2309a4efe93d29ea6cd0784a8b22a3 Signed-off-by:
	Matthias Blaicher <matthias@blaicher.com> Reviewed-on:
	http://openocd.zylin.com/901 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-09-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: update stellaris flash data to latest dev package 9453 Change-Id: I16107a093d4ed7342583f5c32ad16aa98f81d122 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/856 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-17  Paul Fertser <fercerpav@gmail.com>

	* : rtos: support FreeRTOS over stlink Since stlink is a special case it presents the same CPU core under a
	different name, so copy the configuration to account for that.  Change-Id: I9febf79b388301bde6211d185b5b8161cdadb9ff Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/652 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : dsp5680xx_flash: Remove unused flash bank structure Change-Id: I947b6730b3741a71303e440daefa4fcf583cb9cf Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/867 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-09-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash/nor/stellaris: Remove unnecessary write_algorithm check The pointer must be non-null here since we returned if allocation
	failed.  Change-Id: I9b75099ed3b3870c815d1df5760ed1f3fe1d20d6 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/866 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : readme: update missing configure args Change-Id: I495a4557f161290f8f99788de27958f7dc08d6f6 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/900 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-10-04  Peter Stuge <peter@stuge.se>

	* : rtos: Rewrite rtos_qsymbol() and fix auto-detect false positive Matthias Blaicher submitted a patch at
	http://openocd.zylin.com/#/c/891/ to fix the false positive; when no
	RTOS was detected OpenOCD used the last RTOS in the list.  While reviewing the code affected by Matthias' patch a rewrite
	seemed appropriate, to make the code readable.  Matthias has abandoned his change and this change also fixes the
	false positive.  Change-Id: Ic3327ccd036da52ba0a7e21ef93018205e74149c Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/895 Reviewed-by: Matthias Blaicher
	<matthias@blaicher.com> Tested-by: jenkins

2012-10-04  Peter Stuge <peter@stuge.se>

	* : rtos: Rewrite rtos_create() for readability The new code is almost functionally equivalent to the old; besides
	error handling the only difference is that the code is now readable.  Many thanks to Matthias Blaicher for pointing out an iteration error
	in the rtos_try_next() change, which also affected this change.  Change-Id: If38b87439e9de2303b220b3a7e3200ceaa8391da Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/893 Tested-by: jenkins Reviewed-by:
	Matthias Blaicher <matthias@blaicher.com>

2012-10-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix broken ftd2xx bus blaster If configure is executed without --enable-ft2232_ftd2xx then the bus
	blaster or presto will fail to build with unresolved external
	ftd2xx_status_string.  Make sure we run the ftd2xx build test if
	--enable-usb_blaster_ftd2xx is enabled.  Change-Id: I09d270d6fcd083d77f6785b8969d9acb3dfef11d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/892 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: cortino tested and working Change-Id: I13534742c76ebbb05b47bf98768c997068da747a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/851 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: ftdi icdi enable srst open drain config Change-Id: I21a115121f167dc88cd9bf2d1ca1ac9f3e1110d7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/848 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: lm3s811ek config tested and working Change-Id: I5402b5521d6e1ef0a569f5cad02c003681f5444b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/847 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: stm32-performance stick config tested and working Change-Id: I9852d11e369e501af240a2b8e9f74306aee4e4a0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/845 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: enable local structs in doxygen output Change-Id: I9c811d49690524f1ce5372326de67ec4ac7b09f4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/858 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add ti ek-lm3s9d92 config Change-Id: Ib09ca3e57de363a24d704b184ba8546bad08f56f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/853 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : sysfsgpio: remove ignoring return value build warning fixes following gcc warning: error: ignoring return value of write,
	declared with attribute warn_unused_result Change-Id: I96ea6649078449208a77690caea2cb237c388e6e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/854 Tested-by: jenkins Reviewed-by: Marc
	Reilly <marc@cpdesign.com.au> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add STM32F3-DISCOVERY board support Change-Id: I4a02e0504fc04ffc1238d9bb77ec05c1f781e7e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/810 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins

2012-09-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: fix incorrect str9-comstick reset config The str9-comstick uses a direct srst connection rather than via any
	buffer.  As a result this fixes issues with the newer ftdi driver.  Change-Id: I0968e8459997a6a2b7bf0c46e89662cd57b4f496 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/842 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-24  Spencer Oliver <spen@spen-soft.co.uk>

	* : ftdi: correct ftdi_initialize error text Change-Id: If230c0b5b3a18fd273106b743404079d0cbc9ddc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/840 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: fix incorrect stm32f3 TAPID Change-Id: Id66d4e03a77c47a49086ee753bed01b3944064e1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/855 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: remove libftdi enum-compare warning See Trac #52 for details.  Change-Id: Idb509ead2b51bfcceeb00d0224a4d1c395b28a04 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/801 Tested-by: jenkins Reviewed-by: Olivier
	Schonken <olivier.schonken@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-16  George Harris <george@luminairecoffee.com>

	* : Added SPIFI flash driver, algorithms, and docs Added a flash driver designed to allow program/erase of
	memory-mapped SPI flash chips for LPC43xx/LPC18xx family micros.
	This driver includes three algorithms - erase, write, and SPIFI
	peripheral initialization (to allow memory-mapped access after a
	reset). The driver has been added to the flash driver table
	(drivers.c), and the OpenOCD documentation has been updated to
	include the flash driver configuration command.  Change-Id: I79f4ff8f1f07de4e5f2fe4f8c23aeb903f868514 Signed-off-by:
	George Harris <george@luminairecoffee.com> Reviewed-on:
	http://openocd.zylin.com/783 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-20  Marc Reilly <marc@cpdesign.com.au>

	* : drivers: new jtag bitbang driver using sysfs gpio This driver implements a bitbang jtag interface using gpio lines
	exported via sysfs.  The aim of this driver implementation is to use system GPIOs but to
	avoid the need for an additional kernel driver.  A config suitable for RaspberryPi is included.  Change-Id: Ib2acf720247a219768d1cbfeebd88057ed2d7b8b Signed-off-by:
	Marc Reilly <marc@cpdesign.com.au> Reviewed-on:
	http://openocd.zylin.com/762 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-07  Freddie Chopin <freddie.chopin@gmail.com>

	* : The openocd-0.6.0 release.  Change-Id: I72eeabfc704d2a979ac0b4492771690631d2300f Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-09-02  Chuen Chou <zhouquan27@gmail.com>

	* : flash: fix sam3 page read/write address computation error In at91sam3.c for Atmel SAM3 flash support, there are arithmetic
	errors in the functions sam3_page_read() and sam3_page_write().
	Address locations are computed incorrectly due to an extra addition
	operation. This leads to memory locations being skipped during flash
	writes and reads.  Smaller programs are written successfully into flash, with memory
	gaps, while larger programs of legitimate size fail because the
	skipped memory is not utilized and therefore unavailable.  The changes address this condition, and have been tested with an
	Atmel SAM3X-EK evaluation board.  Change-Id: I9ea3b9ed0130b71cbc32b2294e31a6a2bc71b47a Signed-off-by:
	Chuen Chou <zhouquan27@gmail.com> Reviewed-on:
	http://openocd.zylin.com/806 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-09-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add user mailing list and irc info Change-Id: I7000b5ab2967f8dc4cea8983978fce824ea1f98e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/807 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-29  Freddie Chopin <freddie.chopin@gmail.com>

	* : Restore -dev tag.  Signed-off-by: Freddie Chopin <freddie.chopin@gmail.com>

2012-08-25  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : Pic32mx: make row programming work with any offset In function pic32mx_write_block() if the parameter offset is not a
	multiple of row size the row offset (offset % row_size) will be
	ignored by the flash controller, shifting the code to the beginning
	of the row.  Word programming gets it right.  Change-Id: I134913e3d533688f791bbcb0c6e8983524197f3c Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/796 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: fix typo Change-Id: I5fe7b695b00faef966e7621614bbd60b6e694a4f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/800 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-23  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : ftdi: fix overflow if last field of a scan is empty The last bit of a scan is clocked during TAP movement so it's
	necessary for the last field to have at least one bit. Strip
	trailing empty fields and make sure the TAP is not affected if
	there's nothing to scan. Clients probably shouldn't add empty fields
	so add a debug message to be able to track and fix them.  Change-Id: I27552568bc11146570b9b99ed8a1ae81b5fb2c50 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/794 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-28  Spencer Oliver <spen@spen-soft.co.uk>

	* : adapter: remove superfluous line breaks Change-Id: I8e68b9d6f571ef7715a2f4cad0aa78fe4e3b48e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/798 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-17  Freddie Chopin <freddie.chopin@gmail.com>

	* : Update NEWS Added some missing items to NEWS file prior to final 0.6.0 release.  Change-Id: I69255c85fa8f4b6f06eae7c56f78072e3ec2d6f8 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/784 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-08-17  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add another scripts search path for Windows builds Add single "scripts" folder to search path for Windows OpenOCD
	builds that don't use cygwin bin/openocd.exe
	scripts/interface/dummy.cfg scripts/target/at91eb40a.cfg Do some refactoring of current code (thx to Andreas).  Change-Id: Idbb08d1368b06f25da44f4f9ab1511db992b1724 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/785 Tested-by: jenkins

2012-07-07  Christopher Kilgour <techie@whiterocker.com>

	* : kinetis: ensure flash writes are not truncated The number if longwords or "sections" (Freescale term) written for a
	Kinetis flash write (4, 8, or 16 bytes depending on the part
	density/granularity) are now rounded up to ensure there are no
	truncations when the desired write is not a multiple of the minimum
	write size.  Change-Id: I8db40a8769d8ac5393a46cbf4e5ff0df82faf916 Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/738 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-22  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : Patch: Make pic32mx unlock work at higher scan frequencies For example in a pic32mx220, pic32mx unlock don't work if
	adapter_khz is set to 5000 or more.  A short delay after asserting reset fix the problem.  Change-Id: I62e493edfcea585c36c8de77a969cebac7227b96 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/790 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: stlink_interface_init_target use hex prefix Change-Id: I782da74687bcf111c1f04c53b2c1120d6a034441 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/791 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-05  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : Severe bug in Pracc code The function  wait_for_pracc_rw() fails if Pracc bit is 0.  The
	variable ejtag_ctrl is loaded with the content of the control
	register in the first scan.  In the second scan Pracc bit is scanned
	out as 0, letting the proccesor go. The result is unpredictable.  All the strange data corruption when scanning at certain
	frequencies, or the strange delays needed when entering or leaving
	fasdata area are retated to this bug.  Now the code works at any scan frequency, tested up to 15000Khz and
	indepently of processor speed, tested at 31.25Khz and 4/8Mhz.  Change-Id: Iedfd81d06d6af4bc738a521f720e42323025b268 Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/769 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-14  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cfi: fix type-punning warnings in cfi_spansion_write_block Retest the condition when needed, instead of abusing the
	common_magic field as a flag. There are only two options here.
	Either it's an armv7m or it's another arm. is_arm(...) will return
	true even for armv7m, so it's imperative to check in the right
	order.  Change-Id: Ic227f19f7babf1b0b0fe075f9a3abc4eabc7d5f1 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/779 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: catch dap_lookup read error Issue found by clang-3.1 Change-Id: I2e922ec83117e75db5bec1e82edaa75a9e6e7464 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/778 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : tcl: fix potential memory leaks Reorder to allocate all memory after COMMAND_PARSE_NUMBER call.
	This removes a clang warning about un-released memory Change-Id: I8dbeb664a6467077157015bd879bc0aefc5e8614 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/776 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix FC_FLEX_RAM class code path If the flash class was defined as FC_FLEX_RAM then this would always
	drop through to the default handler.  This bug was found by clang, so untested.  Change-Id: I2d9fe6415dd216728a145519400f7b9ef1bd3c3a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/773 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Mathias Kster
	<kesmtp@freenet.de>

2012-08-07  Aurelien Jacobs <aurel@gnuage.org>

	* : ftdi: Olimex ARM-USB-TINY validated Flashing a CFI flash and debugging with gdb work fine.  Change-Id: Ib2578ee6f41c1003968198439033d00d805122f7 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/770 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-08-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: remove duplicate Olimex ARM-USB-OCD config This file is already included as olimex-arm-usb-ocd.cfg.  Change-Id: I0e66977c58e74ac93a0dc3a0c88a5e5af4992f8b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/780 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* : Restore "-dev" tag.  Change-Id: Ibb7669ea73872d75a5c2f32f2264e57b1d0f20c7 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com>

2012-08-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: add valid smp target check Check that the target is valid before calling any target functions.  Change-Id: I538fccc79d5ec89976e14beab02cb20490b299bb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/766 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-08-02  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add missing files (header and .txt) for release.  make distcheck is used to make packages with OpenOCD release, this
	command uses information from Makefile.am files to know which files
	should be included in the package and which can be left only in
	repository. This patch makes a few headers from recent JTAG drivers
	and one txt file with info about target tcl config files included in
	released packages.  Change-Id: I91202290633a30f53624a8c7d9a0ebf72c40772b Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/767 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-06-08  Alexander Osipenko <sipych@gmail.com>

	* : arm946e: cp15 command returns value to the script Not just print it.  This enables scripts to analyze valuable config options of arm946e-s
	cores, do internal BIST memory tests and more.  Be careful to flush caches before disabling it.  Do not forget that
	BIST test overwrites  memory.   - cp15 rewritten from COMMAND_HANDLER to jim_handler.  Change-Id: I734da0be6db0a3127c2daa94ed75efef94da8ceb Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/694 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-31  Alexander Osipenko <sipych@gmail.com>

	* : arm946e: don't use global variables for context Global variables 'dc' 'ic' had been used in the code to keep
	target's state of D-cache and I-cache on debug entry.  This may lead to incorrect operation in configurations with multiple
	cores and unequal cache states.  Fix: move cache state to the appropriate bits of the
	'cp15_control_reg' field (already present but unused).  Vaule of
	cp15 control register stored here on arm946e_post_debug_entry(), and
	analyzed later in arm946e_write_memory().  Change-Id: I71ef82be00c21d6fffb3726cec4974d1ece70dfe Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/692 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-25  Joerg Fischer <turboj@gmx.de>

	* : cfg: Add Hitex LPC1768-Stick using ftdi driver Add cfg files for Hitex LPC1768 Stick Website:
	http://www.hitex.com/?id=1602 This board has a FTDI2232D as JTAG interface, using the same layout
	as the Hitex STM32-PerformanceStick but with different USB PID.  Main MCU is a LPC1768 from NXP.  The interface config uses the ftdi driver instead of ft2232.  The
	corresponding ft2232 layout would be "stm32stick".  Change-Id: I1fd15588c5af35f7d51777d1ad958cc1dc72c6f7 Signed-off-by:
	Joerg Fischer <turboj@gmx.de> Reviewed-on:
	http://openocd.zylin.com/763 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-19  Freddie Chopin <freddie.chopin@gmail.com>

	* : cfg: Add config file variants using the ftdi driver instead of
	ft2232 part 4 - files that are currently untested Change-Id: Ic4a08fdefc99e7a9d50885c888c3fca60ffa39bd Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/750 Tested-by: jenkins

2012-07-20  Freddie Chopin <freddie.chopin@gmail.com>

	* : cfg: Add config file variants using the ftdi driver instead of
	ft2232 part 2 - files that are currently untested but assumed to work, as
	other configs using the same layout work fine Change-Id: Ifaa1904227ebdc394362ccaf3ad3c5384a716657 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/754 Tested-by: jenkins

2012-07-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : telnet: cleanup comments seems comments were mangled during the last cleanup.  Change-Id: If759f62032705c7baffd3973e9717eb7e8a5d17c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/752 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-06-07  Salvador Arroyo <sarroyofdez@yahoo.es>

	* : Bugfixes in mips32_pracc.c When testing a pic32mx220f032b with different values for adapter_khz
	and cpu clocks i was getting a lot of corrupted data from the chip.
	From time to time openocd fails with segmentation faults or is
	aborted due to memory corruption.  Change-Id: I134743f75c477b3d55dc74ae4474598e153b4a4a Signed-off-by:
	Salvador Arroyo <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/690 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash: reduce code duplication in stm32 flash probe Remove a lot of the repetitive code in stm32f1x flash probe by
	converting the large if-selector to a switch, moving the common
	checks outside it and concentrating the failure handling to a single
	point.  Do the same with stm32f2x and stm32lx for consistency.  Change-Id: Ic0ecfb1533c49f5d2108cda5fd20c8372d7c71ef Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/746 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: handle zero when reading stm32 flash size reg Some variants read 0 for the flash size register, rather than
	failing lets assume we have max flash fitted.  Change-Id: Ie1fb4e73606f49268a6fd5921c3aef75bc4790d3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/744 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32l Revision X support Revision X is not mentioned in the latest RM0038 rev5, however it
	has been confirmed correct by ST using ST-LINK Utilty.  Change-Id: I65210e512ea25818a1d0d3b223502ebd7535b29d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/742 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-07-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cfg: remove deprecated stm32 target configs These were deprecated in commit 69ac20a.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Change-Id: I047872f8cd61b42aaca6588ab75566219e4a3f5d Reviewed-on:
	http://openocd.zylin.com/741 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-07-11  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : flash: don't write to FLASH_CR in stm32x_write_block It's unnecessary and prevents reusing this function to fix option
	byte writes.  Also try to disable flash writing after an error.  Change-Id: Ib5a7b768a1523e6b8da1555126fef4c1e60ab083 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Signed-off-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/479 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-07-20  Alex Austin <alex.austin@spectrumdsi.com>

	* : Revert "When calling openocd from a shell like this:" This reverts commit e8641695c634109ebf5f1149923971770da1d28a Original premise was wrong. Proper command is "shutdown", not
	"exit".  Change-Id: I07f5fe0dda9c24abe53628da986bfda0e406bb4a Signed-off-by:
	Alex Austin <alex.austin@spectrumdsi.com> Reviewed-on:
	http://openocd.zylin.com/757 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-07-17  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add config file for Lattice LC4032ZE CPLD (ispMACH 4000ZE
	family) Change-Id: Iefec12b30ff737317c454b472200fd7e7edde619 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/748 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-01-30  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : Add FTDI JTAG driver using MPSSE layer Based on ft2232.c but uses the MPSSE layer for low-level access,
	greatly simplifying the JTAG logic. Remove all libftdi/FTD2XX code
	and all layout specific code. Layout specifications are instead
	handled in Tcl.  Use a signal abstraction to enable Tcl configuration files to define
	outputs for one or several FTDI GPIO. These outputs can then be
	controlled using the ftdi_set_signal command. Special signal names
	are reserved for nTRST, nSRST and LED (for blink) so that they, if
	defined, will be used for their customary purpose.  Depending on the type of buffer attached to the FTDI GPIO, the
	outputs have to be controlled differently. In order to support
	tristateable signals such as nSRST, both a data GPIO and an
	output-enable GPIO can be specified for each signal. The following
	output buffer configurations are supported: * Push-pull with one FTDI output as (non-)inverted data line * Open drain with one FTDI output as (non-)inverted output-enable * Tristate with one FTDI output as (non-)inverted data line and
	  another FTDI output as (non-)inverted output-enable * Unbuffered, using the FTDI GPIO as a tristate output directly by   switching data and direction as necessary The data and output-enables are specified as 16-bit bitmasks,
	corresponding to the concatenation of the high and low FTDI GPIO
	registers. To specify an unbuffered output, use the same bitmask for
	both data and output-enable.  The adapter configuration file must also specify default values for
	the FTDI data and direction GPIO registers, and the channel being
	used (if different from 0).  Change-Id: I287a41d4c696cf5fc74eb10d5e63578b0dc7f826 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/452 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-06-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: Cortex-M use consistent arm dap access Purely cosmetic but use the same style as Cortex-A target, this
	makes searching refs easier.  Change-Id: I732ad9701f561e2312c5d191f5aaffd3a2f2393d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/731 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-07-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32f3x support add support for the new stm32f3x family from stmicro:
	http://www.st.com/stm32f3 Change-Id: Icd1db95bb2767d9c0ecef24deefa92b4fdaa4f14 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/735 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-06-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: detect correct Cortex-M tar auto increment size The ADIv5 spec guarentees that tar_autoincr_block will be 10bits.
	Make this the default for Cortex-M family until we detect a
	Cortex-M3/M4, we then change autoincrement to 12bits.  Change-Id: Ie8c89134aa036879bdd8a3c312cee9715dbc6913 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/730 Tested-by: jenkins Reviewed-by: simon
	qian <simonqian.openocd@gmail.com> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-02-18  Stian Skjelsad <stian@nixia.no>

	* : When calling openocd from a shell like this: openocd -f board/sheevaplug.cfg -c init -c exit the calling shell will believe that openocd exited with an error due
	to exitval will be non-zero This is not tested against incomming telnet Change-Id: I63d15715a7b46f39a7de261a45039f8c3cad7a98 Signed-off-by:
	Stian Skjelstad <stian@nixia.no> Reviewed-on:
	http://openocd.zylin.com/470 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Bill Traynor
	<wmat@alphatroop.com> Reviewed-by: Mathias Kster
	<kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-05-24  Vandra Akos <axos88@gmail.com>

	* : target/target.c, jim_target_md refractored  - Added a few lines of comment before the function explaining the
	 usage and the output generated by the command  - Added a few lines of comment in the body explaining what is
	 happening to improve code readability  - Renamed a few variables to improve readability:     * a -> addr     * b -> dwidth     * c -> count  - Added a new variable, named byte to contain the number of bytes
	 to read, instead of overwriting the count parameter, to avoid
	confusion between the two values.  Change-Id: I5828ec0f5aadaa39becec7b84f198756bb2c3d41 Signed-off-by:
	Vandra Akos <axos88@gmail.com> Reviewed-on:
	http://openocd.zylin.com/665 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-29  Mike Crowe <mpcrowe@gmail.com>

	* : topic: flash: description/id added for ATSAM3SD8C New flash description for ATSAM3SD8C used on SAM3S-EK2 development
	boards.  Name used is "at91sam3sd8c" and chipid is 0x29ab0a60.
	Mirrors description of other similar parts.  Change-Id: I7fc4b82e7969451645ab067223663f08b76d866b Signed-off-by:
	Mike Crowe <mpcrowe@gmail.com> Reviewed-on:
	http://openocd.zylin.com/684 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-06-04  Olivier Schonken <olivier.schonken@gmail.com>

	* : Changed SAM4S Erase for effective Sector erase In the previous iteration, the page counter for erases would not be
	updated with the erase size.  This patch keeps the page counter
	synced with the sector counter.  Signed-off-by: Olivier Schonken <olivier.schonken@gmail.com>
	Change-Id: I95e56a3257b2ad8301c9f28167b842fa6466334f Reviewed-on:
	http://openocd.zylin.com/686 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-23  Christopher Kilgour <techie@whiterocker.com>

	* : kinetis: update support for all program flash granularities Updates the Kinetis NOR flash support to handle all known block and
	sector sizes.  Previously only 2kiB sectors were hard-coded, now all
	four known combinations non-volatile sector sizes are supported.  The premise of separating Kinetis Program Flash (PFLASH) from
	FlexNVM is also introduced.  This means each "block" of flash (in
	Freescale terms) is treated as a bank in OpenOCD.  Correspondingly,
	the existing board configuration for the TWR-K60M512 eval system is
	updated to recognize two banks instead of one.  A board config for the TWR-K60F120M is also added.  Bank and sector erase and programming has been checked with both of
	the mentioned eval boards.  Change-Id: Iae2d10ebf8f548d0a3698df5430bbbe1ccadc58a Signed-off-by:
	Christopher Kilgour <techie@whiterocker.com> Reviewed-on:
	http://openocd.zylin.com/663 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Jan Dakinevich
	<jan.dakinevich@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-28  Alexander Osipenko <sipych@gmail.com>

	* : JLink: added jlink_usb_io() function jlink_usb_io() function added for basic communication, since
	jlink_usb_message() is more specific to JTAG transactions.  To verify the patch issue "jlink config" command.  Change-Id: Id7d10bd5e8985d4c77f2e0ca47fb6033db2877bf Signed-off-by:
	Alexander Osipenko <sipych@gmail.com> Reviewed-on:
	http://openocd.zylin.com/679 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-29  Liviu Ionescu <ilg@livius.net>

	* : docs: J-Link commands added to the manual The J-Link related commands and configuration commands were added to
	the "8.2 Interface Drivers" section of the manual.  (previously they
	were enumerated as comments).  The 'jlink pid' was marked as Config
	all other as Command.  A draft of a compatibility note was added,
	but probably a table would be more appropriate.  Change-Id: Ifbe230706815196aaad4e3729ed5089d5088b769 Signed-off-by:
	Liviu Ionescu <ilg@livius.net> Reviewed-on:
	http://openocd.zylin.com/680 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-06-22  Mirela Tauciuc <mirela.tauciuc@gmail.com>

	* : AT91SAM7 Flash: fixed redundant assignation warning Change-Id: Iffacdce9ce90c4ea7e0c8647860a0056b952f387 Signed-off-by:
	Mirela Tauciuc <mirela.tauciuc@gmail.com> Reviewed-on:
	http://openocd.zylin.com/691 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-05-29  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: update interface support in README Change-Id: Id4b982ee426dedc85b643a71c1cdba67d0dd0ffd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/682 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: remove src file execute permission Change-Id: I42a250cdfcd03424a63cd1a255f9cf4a3c6e3ccd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/671 Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: fix segfault in arm7_9 8/16bit read Seems I5347352e7595686634bd0de13fcf6de6e55027b0 introduced an issue
	when reading 8/16 bit data - the in buffer was always set to 32bits.  Change-Id: Ife2bb6a20fcb3ec0e486655512164f25ae9196b4 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/660 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de>

2012-05-09  Mathias K <kesmtp@freenet.de>

	* : board: Add Sony Ericsson J100I Phone This patch add the Sony Ericsson J100I Phone to the board
	configurations.  Change-Id: I083ddf067c8ecdfdda0404fe9e9df980dbb86fe8 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/631 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-22  Bill Traynor <wmat@alphatroop.com>

	* : jtag: fix osbdm.c typo Fixing up tiny spelling error of "receive" vs. "recieve".  Change-Id: Ib143d7fdb24ac1f2b7bd4ae90cadaf2e12760ff7 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/659 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Peter Stuge <peter@stuge.se>

2012-05-22  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: remove opendous clang warnings Change-Id: I0285c99507931e7d13aad36f4fc559c29a52faca Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/655 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: target.h typo and comment cleanup Change-Id: Ib751803754672bf556f4f65bd3f5621f6bbb7f0c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/654 Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: enable TARGET_EVENT_RESUME_* events Change-Id: I7d8378f9f34c6674db8c8b29d1a961389578e921 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/640 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: remove duplicate target events Change-Id: Iba9ae441f3e6d48a7dfafe59ed093fef56a34723 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/633 Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com> Tested-by: jenkins Reviewed-by: Bill
	Traynor <wmat@alphatroop.com>

2012-05-15  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Updated list of supported interfaces, boards, and
	targets.  User Guide: Chapter 6 'Config File Guidelines'.  The directory
	listings of interfaces, boards, and targets has been brought up to
	date.  Change-Id: I53f218a94cb81c5e90298b367259e833192af5f3 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/646 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : NEWS: add headline items Change-Id: Ie78b0a171af76cf647deef501245caf54209d9f8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/639 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add myself to copyright header Change-Id: I39e23b38ee630b80bccb5ff6b5819efa0fcb120a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/651 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : contrib: enable cortex-m0 and cortex-m4 libdcc support Change-Id: Ib8ff645d1e5b8baca02de8ea95b629d88b203969 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/644 Tested-by: jenkins

2012-05-17  Alexander Osipenko <sipych@gmail.com>

	* : remote_bitbang: missed closing brace in macro
	REMOTE_BITBANG_RAISE_ERROR Change-Id: I591308bd98810ef6361106c207c55b83c3a83890 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/647 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add initial target rtos support info Change-Id: Idd39ce17922602aedd4626496ed8f5422bb76e07 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/641 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add armv7m stlink handling This enables us to better handle some of the low level functions
	that the stlink does not support. It also enables us to share a few
	more of the standard cortex_m3 functions if necessary.  Change-Id: I7a2c57450122012ec189245d8879d8967913e00e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/637 Tested-by: jenkins

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix protect check for pic32mx1x/2x family Change-Id: Ib2692d8b79e52cd40f429008047494aa7f552984 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/612 Tested-by: jenkins Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: fix stlink api2 single step This makes the newer v2 api behave as per the v1 api, eg. single
	stepping masks all interrupts.  A better long term solution is to use same behaviour as a cortex-m3
	target, see CORTEX_M3_ISRMASK_AUTO.  Change-Id: Iaf9f9adf225cf274faaac938050bb996582aa98f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/621 Tested-by: jenkins

2012-05-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: stlink/v1 use v2 api if supported The api v2 is supported on the stlink/v1 if it has a least v11
	firmware.  Change-Id: Idfdb5a7f5a5881326017451ae9b6004eeaa46a96 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/616 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Xiaofan
	<xiaofanc@gmail.com>

2012-05-01  Freddie Chopin <freddie.chopin@gmail.com>

	* : Use hardware reset and connect under reset on boards with
	ST-LINK/V2, as now it is supported.  Change-Id: Id3b2ca9a2270974a5f453323f9057ecece400c94 Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/609 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: support connecting under reset Some targets support connecting while the target's srst is asserted.
	Tested on stm32 family.  Change-Id: I1197dd721a1e1cbf95ee77dfd8e1082b165b22a9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/607 Tested-by: jenkins

2012-05-08  Aurelien Jacobs <aurel@gnuage.org>

	* : cfi: fix write_bank segfault with spansion flash on armv7m cfi_spansion_write_block() passes an arm_algorithm struct to
	target_run_algorithm() which in turn calls armv7m_start_algorithm()
	which expect an armv7m_algorithm struct.  As armv7m_algorithm is
	bigger than arm_algorithm, when armv7m_start_algorithm() writes in
	the struct, it overrun the buffer, writting junk on the stack, which
	latter on generates a segfault.  This patch ensure we use a properly sized armv7m_algorithm struct
	when the target is an armv7m.  Change-Id: I4ab67c15ae4bb72454414a81b92a4231dcdb2239 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/623 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-05-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfi: check supported arch check that the cfi driver supports the current target arch.  Change-Id: I8a95908684de67bf1657d1956f2573662a641cc1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/614 Tested-by: jenkins Reviewed-by:
	Aurelien Jacobs <aurel@gnuage.org>

2012-05-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: add missing erase_check loader src Change-Id: I1534c1ea1606fda9eb6ffa6a11a708f8c8a3d46a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/605 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-11  Spencer Oliver <spen@spen-soft.co.uk>

	* : contrib: fix Neo1973 udev permission typo Change-Id: I6d5ad0cc28e0cb52104ead9e974b8b1ed92d9cdc Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/636 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: increase stm32f0discovery board working area Change-Id: Iea166ee27fc60bbfdeb851fdcf71509f3984f72f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/602 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-05-08  Bill Traynor <wmat@alphatroop.com>

	* : cfg: Deleted duplicate busblaster.cfg and renamed original.  The busblaster.cfg was contributed on April 23, 2012 and is a
	duplicate of dp_busblaster.cfg that was contributed on Oct. 23,
	2011.  Therefore, deleting the second version.  Also, renaming the
	original dp_busblaster.cfg to simply busblaster.cfg, as this name is
	more concise.  Change-Id: Iccb1f10f53dbbb248b1ff4c6295eaf67c32247c1 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/622 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-05-07  Bill Traynor <wmat@alphatroop.com>

	* : cfg: add default pid/vid pair to beaglebone board cfg.  The newer versions of BeagleBone boards use the default vid/pid pair
	for FT2232 debugging.  Please see the following README:
	http://beagleboard.org/static/beaglebone/latest/README.htm On
	 revision A3/A4 boards, the VID/PID were chosen to match the TI
	 XDS100v2 (0x0403/0xA6D0). On A5 and newer revisions when we've given
	the authors of CCS the chance to update their software, the generic
	FTDI VID/PID (0x0403/0x6010) will be used to simplify installation
	of drivers for systems already having those drivers.  Change-Id: I44228eb2029162f23d084eb05bcfef39e615668d Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/619 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: remove clang unused variable increments warnings Change-Id: Ib755474aa46f7233495fae1947bc27cd0b2d6b4f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/599 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: allow stm32discovery parameter override This enable the user or board config to override the parameters
	passed to stm32_stlink.cfg.  Required to fix a incorrect working area bug with the
	stm32vldiscovery.  Change-Id: I40a4f7913ff37d577d44b1f23befccf0317080a1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/597 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: support srst reset This adds the ability to support srst reset for the stlink/v2.
	stlink/v1 will fallback to using SYSRESETREQ which is a full reset -
	including peripherals.  To enable the use of the srst add the following to your cfg:
	reset_config srst_only Change-Id: I570de607c5f370fd6a4abf47360686c9be07bcdd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/581 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add hardware srst functions to stlink/v2 Change-Id: Ib82b6a1116b9f396f1933cc5526733334254fd62 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/579 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Mathias Kster
	<kesmtp@freenet.de>

2012-04-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: default to latest api available Change-Id: Ic04128f4020055587bb87250f41e5c804d9c2b01 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/577 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-04-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: support stlink api result The stlink api does support results for some functions - add
	support.  Change-Id: I39cb495408c46af8bc343b198a1e0bd4c7aee6d8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/560 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-03-18  Olivier Schonken <olivier.schonken@gmail.com>

	* : topic: Added support for the SAM4S variants Atmel introduced 6 new Cortex-M4 processors on 2011-10-26 SAM4S16C -
	1024KB flash LQFP100/BGA100 SAM4S16B - 1024KB flash LQFP64/QFN64
	SAM4S16A - 1024KB flash LQFP48/QFN48 SAM4S8C - 512KB flash
	LQFP100/BGA100 SAM4S8B - 512KB flash LQFP64/QFN64 SAM4S8A - 512KB
	flash LQFP48/QFN48 The SAM4S processors still suffer from the "6 waitstates needed to
	program device" errata.  Other relevant changes are: 1. Address of flash memory starts at 0x400000.  2. EWP (Erase page and write page) only works for the first two 8KB
	"sectors" 3. Because of the EWP not working for all the sectors, normal page
	writes have to be used.  The default_flash_blank_check is used to
	check if lockregions should be erased.  4. The EA (Erase All) command takes 7.3s to complete. (Previous
	timeout was 500 ms) 5. There are 128 lockable regions of 8KB each.  Implemented default blank checking, and page erase for load_image
	scenarios.  This is to compensate for the EWP flash commands only
	working on the first 2 8KB sectors.  Change-Id: I7c5a52b177f7849a107611fd0f635fc416cfb724 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/528 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-24  Linus Tolke <linus@tigris.org>

	* : topic: Ignored TAGS files.  Allow use of TAGS.  Change-Id: I5e71e8986671642b49cc9a62d37cc8c0dfa37181 Signed-off-by:
	Linus Tolke <linus@tigris.org> Reviewed-on:
	http://openocd.zylin.com/595 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Fixing link to USBprog tool.  In section '2.8 USB Other' updated the link to the USBprog tool:
	http://shop.embedded-projects.net/ Change-Id: I7fa453934ac6a7889e01b22b7e0cb07f42ee168d Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/591 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Fixed link to Wiggler2 project.  In section '2.9 IBM PC Parallel Printer Port based' fixed link to
	the Wiggler2 project and removed the alternate URL text to retain
	style consistency with the other URLs in the document:
	http://www.ccac.rwth-aachen.de/~michaels/index.php/hardware/armjtag Change-Id: I879db1c6eaf683ca6475a0f466f987087c9d60d0 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/593 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-22  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Fixing two typos.  In Section 2.7 USB ST-LINK based made these two changes: "they only
	works with" to "they only work with" "following method's" to
	"following methods" Change-Id: Idfe6c11c3fa6f2157d01697cd7f480a9d495c8e2 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/590 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-15  Uwe Hermann <uwe@hermann-uwe.de>

	* : Split olimex_stm32_h107.cfg.  Use one board file per eval board, so that the filename matches the
	exact board the user has / wants to use. Merging different boards
	into one file is confusing.  Change-Id: I7c50233924a87a913723d7215c4851039c2971bc Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/566 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Update Section 2.3 USB FT2232 Based Updated the link for the usbjtag project to the correct URL:

	http://elk.informatik.fh-augsburg.de/hhweb/doc/openocd/usbjtag/usbjtag.htmlAdded a NOTE to indicate the axm0432_jtag as no longer being
	available from the axman.com page.  Change-Id: I70727303dad58d9dc0c5f9b7cce219288b762042 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/583 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-19  Bill Traynor <wmat@alphatroop.com>

	* : UserGuide: Fixed link to USB-JTAG project.  Updated the URL to Kolja Waschk's USB-Blaster compatible adapter:
	http://ixo-jtag.sourceforge.net/ Change-Id: If9d2875b5ba5d3bfaaf524cd253a5fab53e05371 Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Reviewed-on:
	http://openocd.zylin.com/585 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-18  Bill Traynor <wmat@alphatroop.com>

	* : HACKING: Fix instruction for git pull --rebase When following the Patch Guidelines step by step, an error occurs at
	step 6.  "git pull --rebase origin/master" results in the error: fatal: 'origin/master' does not appear to be a git repository Removing the / seems to fix this.  Change-Id: I4e2fa23c60654abeaebd3b25a8c8375aa07b0abd Signed-off-by:
	Bill Traynor <wmat@alphatroop.com> Signed-off-by: Peter Stuge
	<peter@stuge.se> Reviewed-on: http://openocd.zylin.com/574
	Reviewed-by: David Anders <danders.dev@gmail.com> Tested-by: jenkins

2012-04-18  David Anders <danders.dev@gmail.com>

	* : pandaboard: add initial TCL support for pandaboard-es add initial TCL support for the pandaboard-es which is based on the
	omap4460 from Texas Instruments.  Change-Id: Ic63588721487feb95e7cb3d41cfaab0d2f181766 Signed-off-by:
	David Anders <danders.dev@gmail.com> Reviewed-on:
	http://openocd.zylin.com/573 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-04-18  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add stm32f0discovery board config Change-Id: I4fccdbd4e0a3bc70cd425c910ad1007519098e20 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/570 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-04-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: correctly format printed hex addresses Change-Id: I4a139989927249bb5e9dcc4804965c85c37cc09b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/559 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-04-04  Stephane Bonnet <bonnetst@hds.utc.fr>

	* : ft2232: Support for Digilent HS1 USB adapter * Added support to the FT2232 driver for the FT2232H-based   Digilent HS1 adapter.  Change-Id: Iab6cc15f299badaf115615b5d4d785ecb2273c27 Signed-off-by:
	Stephane Bonnet <bonnetst@hds.utc.fr> Reviewed-on:
	http://openocd.zylin.com/558 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-27  Wjatscheslaw Stoljarski (Slawa) <wjatscheslaw.stoljarski@kiwigrid.com>

	* : cfg: add imx53loco board config Add board config for iMX53QSB (loco) Change-Id: I8659dcd71a56d5fe855eaf62be0a415198b558c5 Signed-off-by:
	Wjatscheslaw Stoljarski (Slawa)
	<wjatscheslaw.stoljarski@kiwigrid.com> Reviewed-on:
	http://openocd.zylin.com/542 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-04  Simon Widmer <simonxwidmer@gmail.com>

	* : Support for KaRo TX25 CPU Module on a StarterkitV base board This patch adds support for the KaRo TX25 module on a StarterkitV
	base board.  For board details, check
	http://www.karo-electronics.com/tx25.html Change-Id: I2c80c5467bc476955b55196728aa3c37c8185e6c Author: Simon
	Widmer <simonxwidmer@gmail.com> Signed-off-by: Mark Vels
	<mark.vels@team-embedded.nl> Reviewed-on:
	http://openocd.zylin.com/557 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-04-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : doxygen: remove warnings Change-Id: I020845a8df7b67f3b6c1a233b3ee07a5d14fa685 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/556 Tested-by: jenkins

2012-04-02  Salvador <sarroyofdez@yahoo.es>

	* : Minor bug fixes in Mips32 code Now the the "Fast" version for memory blank check in pic32mx.c can
	be called: default_flash_blank_check()  instead of the "fallback"
	default_flash_mem_blank_check().  The command "verify_image", without working area, now don't show:  checksum mismatch - attempting binary compare when there are no
	real errors in flash.  Change-Id: I256e8ae949289634e1de5c1c2861e4c4c4b7fdce Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/549 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: remove unused primer ref we already have a link to the patch primer in the main index.  Change-Id: Ib90ade76a17f5d99da8fe481d8f87c68eca38f1c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/546 Tested-by: jenkins

2012-04-02  Uwe Hermann <uwe@hermann-uwe.de>

	* : Initial config for the Voltcraft DSO-3062C.  This is a digital oscilloscope which uses a Samsung S3C2440
	internally.  http://randomprojects.org/wiki/Voltcraft_DSO-3062C Signed-off-by: Uwe Hermann <uwe@hermann-uwe.de> Change-Id:
	I5e28c3a8f30665a162e34c831294e4e658a16ebb Reviewed-on:
	http://openocd.zylin.com/548 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-03-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : jimtcl: update to version 0.73 Change-Id: I9c943abb3ec5148b9cb24d0823f7787066948201 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/536 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-03-15  Mathias K <kesmtp@freenet.de>

	* : stm32: Update register read/write to the register definition.  This patch fix the register index on read/write register.  Change-Id: I7b52a927a48259d6f497ac0f474aff7ff1529e9a Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/525 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: correctly quote m4 parameters Change-Id: I8fbef892caa78dba5324a8bc28d2a4a4854b1f48 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/544 Tested-by: jenkins

2012-03-26  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add STM32F4x and STM3241G-EVAL config files This adds support for the STM32F4 target and the STM3241G Eval
	Board, in both standalone and using the onboard STLINK.  Change-Id: I62f8908b5880568b2b36c78a78f94c40861ff335 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/540 Tested-by: jenkins

2012-03-06  Olivier Schonken <olivier.schonken@gmail.com>

	* : Added tcl config scripts for SAM3A/X targets and devboard The SAM3A/X processors that were released thus far is either a
	SAM3A/X(4) - 256K, or a SAM3A/X(8) - 512K device.  Thus the config
	files are per variant, and not per device.  Signed-off-by: Olivier Schonken <olivier.schonken@gmail.com> Change-Id: I84d26d044e810eb428b1d6287907ea3bf8364c73 Signed-off-by:
	Olivier Schonken <olivier.schonken@gmail.com> Reviewed-on:
	http://openocd.zylin.com/522 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : tools: update release scripts to use configure.ac we have already updated autoconf to use configure.ac instead of
	configure.in, so update release.sh to use the new name.  Change-Id: I2dc2beaf2f85058c4627183bc093052677ccba1b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/537 Tested-by: jenkins

2012-03-08  Chris Morgan <chmorgan@gmail.com>

	* : Create a init_board procedure for the ea dev board.  Signed-off-by: Chris Morgan <chmorgan@gmail.com> Change-Id:
	I082b0d3092c7f3b2ee6b68af64d48c78b31f1dbf Reviewed-on:
	http://openocd.zylin.com/510 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-17  Salvador <sarroyofdez@yahoo.es>

	* : Bug in src/target/mips32_pracc.c The bug shows up with the command "mdw addres count" and only if
	count>1024 (count>0x400).  The first 1024 values shows as expected,
	but the rest of the values  are wrong.  Name of variable  bytesread"
	is changed to "wordsread" to reflect what really does.  Change-Id: Iad79393e72da2637551c5ae6e829e3873605c520 Signed-off-by:
	Salvador <sarroyofdez@yahoo.es> Reviewed-on:
	http://openocd.zylin.com/527 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-15  Mathias K <kesmtp@freenet.de>

	* : gdb_server: Simple close the connection and not exit openocd.  This patch let openocd running and only close the gdb connection on
	error.  Change-Id: Ifb88e16834b51207cc4c82210eab904ed8d30b71 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/523 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-14  Paul Fertser <fercerpav@gmail.com>

	* : rtos: add sanity checking for FreeRTOS's quantity of priorities On operating systems with opportunistic malloc() (e.g. default
	setting in GNU/Linux) malloc can sometimes allocate a huge memory
	region but later the process will get killed on the first attempt to
	use this memory, so checking for malloc's return value is not enough
	to prevent a crash.  This patch is compile-tested only.  Change-Id: I5e21663115c8e9a0ca9f3d71f7ba4bd09e5c3bb1 Signed-off-by:
	Paul Fertser <fercerpav@gmail.com> Reviewed-on:
	http://openocd.zylin.com/521 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-24  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : stlink: fix alignment build warning The {read,write}_mem32 interface functions was asking a 32 bits
	buffer but they don't need 32 bits alignment.  This will change the
	interface to a 8 bits buffer to remove the alignment mismatch
	warning. This was causing build errors on platforms with strict
	aliasing rules.  Change-Id: I338be8df5686f07a64ddb4f17c1bb494af583999 Signed-off-by:
	Alexandre Pereira da Silva <aletes.xgr@gmail.com> Reviewed-on:
	http://openocd.zylin.com/483 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-13  Mathias K <kesmtp@freenet.de>

	* : armv7m: Add a dummy register at the end of the register list.  Signed-off-by: Mathias K <kesmtp@freenet.de> Change-Id:
	I0bfad091bd8adabd949fc0a74ef3a08a514eb307 Reviewed-on:
	http://openocd.zylin.com/519 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2012-03-12  Mathias K <kesmtp@freenet.de>

	* : stm32: determine all cpu types and use common examine This patch determine all cpu types and not only the cortex M3 and
	the stm32 target use the common target examine function from the
	cortex_m sources.  Change-Id: If689dd994b3855284b927fc4b206f420cf32b6c7 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/511 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-08  Mathias K <kesmtp@freenet.de>

	* : Automatically prepend v1 mass storage protocol.  This patch prepend the v1 mass storage protocol to the command
	buffer and simplify the usb read/write handling.  Change-Id: I709602600e93cd1eb5848fa9f4d15659ba85eb35 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/506 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-03-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: correct pic32mx config typo's Change-Id: Ibe5b6b0efefc7cfc75d789eb7e9c7ee239526ae2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/508 Tested-by: jenkins

2012-02-28  Jan Dakinevich <jan.dakinevich@gmail.com>

	* : jtag: basic support for P&E Micro OSBDM (aka OSJTAG) adapter This driver provides support for the P&E Micro OSBDM adapter
	(sometimes named as OSJTAG), mounted on the Freescale TWRK60N512
	bord. Thus, it provides a quick start when working with this board.
	The driver doesn't use BDM commands, but work with OSBDM adapter
	using only JTAG commands.  Change-Id: Ibc3779538e666e07651d3136431e5d44344f3b07 Signed-off-by:
	Jan Dakinevich <jan.dakinevich@gmail.com> Reviewed-on:
	http://openocd.zylin.com/492 Tested-by: jenkins Reviewed-by: Tomas
	Frydrych <tf+openocd@r-finger.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-03-08  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: add stm32 dual bank example Change-Id: I1dfe134e2c7694fc978d14b4b21bdf9c82ca4b16 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/507 Tested-by: jenkins

2012-03-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: retire unused eCos flash driver even the AT91EB40a's flash is covered by CFI and nobody ever
	submitted any other drivers based on eCos code. It's just possible
	that this idea was missing documentation and "marketing", but it's
	in git if somebody wants to resurrect it.  Change-Id: I66449aa6e0997301f9d67f28098789bfc891d6e9 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/502 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-02-25  Szymon Modzelewski <szmodzelewski@gmail.com>

	* : flash: stm32f1x: add a couple missing stm32x_get_flash_reg Change-Id: I163de2c1bd962e7ea9ca6c741c1c62224c210677 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/486 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com> Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-29  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: fix incorrect pc console output target_call_event_callbacks needs to be called after debug entry
	otherwise we will get a console pc mismatch.  Change-Id: I278137736d5e85ca9662c306f6ac81336d8eb6cf Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/499 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-02-28  Attila Kinali <attila@kinali.ch>

	* : SAM3: Remove unused reference to SUPC registers The SUPC (Supply Controller) registers are on different base
	addresses on different SAM3 chips: SAM3U: 0x400e1210 SAM3N:
	0x400e1410 SAM3S: 0x400e1410 This creates a problem with the sam3_reg_list array which is const,
	but would need to be changed at runtime to account for this
	variability. As this register is not used anywhere, it's simplest to
	just remove it.  Change-Id: I987eb371648d826aa6d5e9de18d38c7bb66d6fca Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/495 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-28  Attila Kinali <attila@kinali.ch>

	* : SAM3S: correct flash sector sizes.  Lock region count and sector sizes did not match datasheet.  (see
	6500C-ATARM-8FE11 "SAM3S Series Datasheet", Table 7-1) Change-Id: Ic511802f96ed03856467a24a6736349205a0576a Signed-off-by:
	Attila Kinali <attila@kinali.ch> Reviewed-on:
	http://openocd.zylin.com/493 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-21  Szymon Modzelewski <szmodzelewski@gmail.com>

	* : stlink-v1: fix memory writes implement stlink_usb_send and use it to fix stlink_usb_write_mem using two calls to stlink_usb_recv is inappropriate since each call
	issues a SG command on stlink-v1, resulting in errors Change-Id: I24ef9f2dda284e041dc4a532b59968a77eebe702 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/498 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-21  Szymon Modzelewski <szmodzelewski@gmail.com>

	* : stlink-v1: code cleanup This patch moves the bulk of the stlink read/write code into the
	stlink_usb_xfer set of functions and implements stlink_usb_recv in
	terms of the generic stlink_usb_xfer stlink_usb_xfer will be needed to implement stlink_usb_send without
	code duplication stlink_usb_xfer: -sends the stlink command -performs a read or write
	(as requested) -checks the status (v1 only) Change-Id: I0137d52620bd4883d46c9977a9e73f67622000a1 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/477 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32lx High Density Devices Change-Id: Ieed9de4b078e1ebf659054a758b4f69acdf5b83e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/466 Tested-by: jenkins

2012-02-21  Szymon Modzelewski <szmodzelewski@gmail.com>

	* : stlink-v1: fix memory writes implement stlink_usb_send and use it to fix stlink_usb_write_mem using two calls to stlink_usb_recv is inappropriate since each call
	issues a SG command on stlink-v1, resulting in errors Change-Id: I52ff9ee8f5d9ae0d47356477468eb98952205c99 Signed-off-by:
	Szymon Modzelewski <szmodzelewski@gmail.com> Reviewed-on:
	http://openocd.zylin.com/478 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-24  Neil Jensen <neil30al@gmail.com>

	* : cfg: Beaglebone/AM335x refactor Split out functions specific to the AM335x SOC into the target
	directory and simplified the board config file.  This should allow
	one to quickly create new configs for boards based on the TI
	processor family.  Change-Id: I0c3db97950dfa832f1f1918fc10c180f068bba74 Signed-off-by:
	Neil Jensen <neil30al@gmail.com> Reviewed-on:
	http://openocd.zylin.com/489 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : jtag: use correct tap -ignore-version mask when -ignore-version is used we should mask of the upper 4bits not
	8bits.  Change-Id: I9ffe24c2aeeb414677357a647609fdf018890194 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/473 Tested-by: jenkins

2012-02-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: add stm32f2x async flash loader This enable the stm32f2x flash driver to use the asynchronous
	algorithm support.  Speed increase is as follows: before - wrote 1048576 bytes from file
	stm32f4x.bin in 30.453804s (33.625 KiB/s) after - wrote 1048576
	bytes from file stm32f4x.bin in 23.679497s (43.244 KiB/s) This also fixes a bug that was in the old flash loader.  The old
	loader waited while bit16 of the status reg was 0, the new loader
	waits until this bit is 0 as stated in the flash spec.  Bizarrely
	this bug did not effect programming on any tested parts.  Change-Id: I3efc94d42cbe81283673a8f4203700638080af6e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/460 Tested-by: jenkins

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: add target async algorithm support Currently the stm32f1x flash driver uses an asynchronous algorithm
	as part of the block flash programming. This greatly speeds up flash
	programming as the target is always running.  Moving the async code to the target enable other targets to use this
	added functionality.  Change-Id: I8e53f094c2ef7848a7f86ddb9a35b6edbfc8454a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/402 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2012-02-18  Neil Jensen <neil30al@gmail.com>

	* : cfg: Beaglebone Support Added support for the Beaglebone board based on the am335x processor
	family.  After much trial and error, I was able to configure the
	Icepick-D and connect to the processor, halt execution, and run a
	sample program.  This is a unified config file (it doesn't use any
	include statements) and further work needs to be done to split out
	the icepick-d configuration to be more generic.  Change-Id: Ia1b8e9f01f56bd4f8c575ba3d0160c248583a15e Signed-off-by:
	Neil Jensen <neil30al@gmail.com> Reviewed-on:
	http://openocd.zylin.com/471 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-13  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: rewrite working area allocator The existing allocator couldn't reuse a freed allocation if the
	sizes didn't match exactly. That led to problems when for example a
	flash write routine had allocated all of the working area to speed
	up operation. A subsequent verify pass couldn't allocate space for
	the checksum algorithm even though all previous allocations had been
	freed.  This allocator is marginally more complex, but solves the above
	problem by splitting larger free areas to fulfill smaller requests
	and by merging released areas into adjacent free areas.  An initial free area, covering the entire specified address range,
	is set up on first allocation, and all allocations are split off
	from (and ultimately merged into) that one. It can also easily be
	adapted to support several disjoint working areas for the same
	target, by setting up several initial free areas and slightly
	modifying the merge code.  Change-Id: I6faaf9801312bb19a4fa4474694a0cd1c6e0ab54 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/445 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-21  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: support expected-id 0 This brings the stlink driver inline with the rest of OpenOCD.  If the user configures the tap as -expected-id 0 then the IDCODE
	will be treated as a wildcard and ignored.  Change-Id: I99160c69b2b40f5b1f608bb59ab6630894502fd8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/476 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de>

2012-02-18  Stian Skjelsad <stian@nixia.no>

	* : Sometime in the past, nand_fileio_finish started to return
	ERROR_OK (with the value of zero) on success.  Change-Id: Ifb743c1617e2a6071a87c901fae8165969efcdbf Signed-off-by:
	Stian Skjelstad <stian@nixia.no> Reviewed-on:
	http://openocd.zylin.com/468 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-17  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Fix Typo in cfg file Change-Id: Id91ef70988212185f9ec653cbf5dc4e1defb1b9e Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/464 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add arm semi-hosting support Change-Id: Ib275d451a9201580f08ced090e50cf45eb3ab3e2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/459 Tested-by: jenkins

2012-02-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: fix texinfo warnings A period or comma must follow the closing brace of an @xref.  Change-Id: I272f1e7fac8f1fee4844f485b0b8e2e4e9cf352d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/456 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-02-07  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Add stm32f0x target Change-Id: I4abfef4459b7e2780d17bdd7623fd1ef797cc8ea Signed-off-by:
	Jonathan Dumaresq <jdumaresq@cimeq.qc.ca> Reviewed-on:
	http://openocd.zylin.com/437 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-16  Mathias K <kesmtp@freenet.de>

	* : Add bootloader mode.  This patch add the bootloader define.  Change-Id: I280a8a35c3514910dd381de3ab8ad59c9bd74ca1 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/455 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-02-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: correct small typo Change-Id: I5e8bea591274b4032d3e04c4be7e9110138d5bc2 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/447 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-04  James Robinson <jmr13031@gmail.com>

	* : topic: Add support for i.MX28EVK Added the file imx28.cfg to the target directory Added the file
	imx28evk.cfg to the board directory Change-Id: I02a74a03f3773892f830d13660ffdded34f3261d Signed-off-by:
	James Robinson <jmr13031@gmail.com> Reviewed-on:
	http://openocd.zylin.com/428 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add revb ek-lm3s811 board config Add board config for older (revb) ek-lm3s811 Change-Id: I75aca1714de3e88b60d00fa0f99f2c4b076b569c Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/444 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-10  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add stm32ldiscovery board config Change-Id: I392fdc4c588783fda1c7d4d6413b86ae9aa3f6b9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/442 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2012-02-03  Freddie Chopin <freddie.chopin@gmail.com>

	* : Add init_board procedure executed after init_targets This adds init_board procedure that behaves exactly the same as
	init_targets - it can be overriden by "next level" scripts. This
	procedure is executed after init_targets, allowing common stuff
	(jtag chain, memory, flash, ...) to be configured in target script
	(via init_target) and leaving rest (like additional memory, reset
	configuration, reset-init handlers, ...) to be done in init_board.  This makes init_targets scheme more complete and easier to use -
	current board scripts will not need new init_targets, because
	everything can be "packed" in init_boards. Moreover it solves the
	problem of variables being set in init_targets (executed after
	init), which were not accessible by "linear" scripts (parsed before
	init). All that has to be done is to enclose all code in board
	config file in init_board procedure.  Change-Id: I0736b1ff9873a687966407d62b58ccf29a8e597b Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/427 Reviewed-by: Chris Morgan
	<chmorgan@gmail.com> Tested-by: jenkins Reviewed-by: Peter Stuge
	<peter@stuge.se>

2012-02-06  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add stm32vldiscovery board config Change-Id: I6343d1e61153ba71c71f8a473171972abb8e400d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/432 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2012-02-01  Freddie Chopin <freddie.chopin@gmail.com>

	* : Export _TARGETNAME from generic LPC2xxx script Make _TARGETNAME variable global so it could be used by scripts
	sourcing it.  Change-Id: Iaf1c3b53875734658b1b8f136c9bb958988b56bf Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/421 Tested-by: jenkins Reviewed-by: Chris
	Morgan <chmorgan@gmail.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2012-02-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/target directory Change-Id: Ia055b6d2b5f6449a38afd0539a8c66e7d7e0c059 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/430 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : checkpatch: remove __packed and __aligned checks These checks are specific to linux kernel.  Change-Id: Ia9b837b5609922a897822f1d55f96f04c0f1f838 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/424 Tested-by: jenkins

2012-02-02  Spencer Oliver <spen@spen-soft.co.uk>

	* : checkpatch: increase line length to 120 Change-Id: I963385d0a4880f2b1e55208c8dfe65c1870ac6e1 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/422 Tested-by: jenkins

2012-01-31  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/flash/nand directory Change-Id: I21bb466a35168cf04743f5baafac9fef50d01707 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/419 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/rtos directory Change-Id: I24bc62d12409dbfc20a0a986acf6b3f2c913e36d Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/416 Tested-by: jenkins

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : checkpatch: remove volatile check We may enable this again - but at the moment is causing extra issues
	with reformatting the codebase.  Change-Id: I5a2aaaa32ad784e011dff3079ff45501452c1819 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/414

2012-01-30  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/server directory Change-Id: I6410df28c5999f5cbee2d3bcaa02469a29ea4c15 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/412 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/xsvf directory Change-Id: I5325980b240fba841d8cce81985f4da369ad9052 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/410 Tested-by: jenkins

2012-01-27  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: cleanup src/pld directory Change-Id: I9edb027c76e5d7fe21d557a11e6a9691fa581e86 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/408 Tested-by: jenkins

2012-02-05  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: update uncrustify config This config has been updated for 0.59 Change-Id: If0dc87dd5de052c1228743a196a3198dbd4bc279 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/406 Tested-by: jenkins

2012-01-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f1x: fix bug in flash loader and restrict instruction set
	to armv6-m Correct the offset to the read pointer when clearing it on error.  Also restrict the instruction set to armv6-m so the flash driver can
	be used on Cortex-M0 parts with the same flash controller.  Change-Id: I380f9dabcc41fb6e4d43a7e02f355e2381913f39 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/399 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: Jonathan Dumaresq
	<jdumaresq@cimeq.qc.ca> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-23  Mathias K <kesmtp@freenet.de>

	* : STLINK: add stlink v1 configuration Change-Id: I6b9de16879ff928d60e3c4a64731449275291cc2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/397 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-25  Mathias K <kesmtp@freenet.de>

	* : STLINK: swd transport renamed and jtag+swim transport added This patch add jtag support to the stlink driver add two new
	transport types, JTAG and SWIM.  Change-Id: I7089d74250330be5c6a01c24066307641df7d11e Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/393 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-25  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix stellaris class regression for some reason the following commit was incorrect
	769064de4bd8fc59804c37a418b83fcdba6fd36f Only the Sandstorm and Fury class should write this register.  Change-Id: Ie18f1da6e9b59fb99cca47aa93c7f2fee447ccea Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/400 Tested-by: jenkins

2011-12-02  Fujitsu FM3 Application Team <openocd.fseu@de.fujitsu.com>

	* : flash: cleanup/reformat fm3 flash driver Signed-off-by: Fujitsu FM3 Application Team
	<openocd.fseu@de.fujitsu.com> Change-Id:
	Iaf0bacfa5438a0213a65a3d60e7d461965a5a1ac Reviewed-on:
	http://openocd.zylin.com/249 Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com> Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-17  Timo Ketola <timo@exertus.fi>

	* : i.MX25: Set OOB size (MXC NFC) SPAS register (OOB size) is left wrong after reset with respect to
	2KiB page NAND chip. That will lead to ECC errors after 'reset
	halt'.  Change-Id: If5a4685cb8d6be35879453951611ef1059da219c Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/384 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-20  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add missing Stellaris Blizzard info Change-Id: I1d6fb9a2ec8d87267a266f68c01ce032450e45d5 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/392 Tested-by: jenkins

2012-01-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: cleanup stellaris device class detection read the target class during probe and save for later use.  Change-Id: Ib3ad20edc7d206b7f434bdcc6b947e6a5f06dd1f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/388 Tested-by: jenkins

2012-01-13  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: enable cortex special reg writes Change-Id: I5aa02e8de6dd5ac5a6ca628ba4068decb200c689 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/378 Tested-by: jenkins

2012-01-19  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: print bank usage on failure This makes use of the newly introduced usage field in the flash bank
	structure.  Also remove the assertion if usage field is null and lets print a
	DEBUG_LOG message instead.  Change-Id: I384bf0e2c444fcc99deef73aec9ef01149a91c76 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/391 Tested-by: jenkins

2012-01-17  Timo Ketola <timo@exertus.fi>

	* : doc: Update patch procedure Change-Id: I3e50357b4ddaf483712bbac68b6427b31529f666 Signed-off-by:
	Timo Ketola <timo@exertus.fi> Reviewed-on:
	http://openocd.zylin.com/387 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : cmd: add missing usage vars we should have caught them all - hopefully.  Change-Id: I35435317fccaf5ad0216244d69f76db6857bb582 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/381 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-01-06  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : u8500: linux rtos config Change-Id: I21a9dcc5fb260095aed2217e467b74ebecb39afb Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/349 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos : create qsymbol interface and add str_to_hex interface Change-Id: I1b26f7efd3ad4a060f772dd12408e77a03d93cea Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/347 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos : ps command Change-Id: I1b00b6d72f425826c33b0df7dd63114ce642ce93 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/345 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos : current_threadid move to rtos context Change-Id: I49d9d6d64c418be601d8723cb3eea9c3716ecb6b Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/343 Tested-by: jenkins Reviewed-by: Evan
	Hunter <evan@ozhiker.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2012-01-03  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : rtos : remove unused parameter Change-Id: I98c9f28a0085bd4713b694181ab544777091eac6 Signed-off-by:
	Michel JAOUEN <michel.jaouen@stericsson.com> Reviewed-on:
	http://openocd.zylin.com/341 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-01-12  Mathias K <kesmtp@freenet.de>

	* : stlink: handle wrong initialization file if no layout was
	specified This patch remove the hardcoded default layout and return an error
	if no layout was specified in the configuration file.  Change-Id: I0e7833faa2dc194e727122840bcbdacd321cc4fd Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/369 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-12  Mathias K <kesmtp@freenet.de>

	* : stlink: add read/write 8bit memory This patch add layout api funtions and implementation to read/write
	8bit memory.  Change-Id: I8d145eb07e5afa9ce1830578e57d80a80d21e7dc Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/366 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2012-01-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: correctly signal stlink_interface_open failure give the user a error msg on open failure.  Change-Id: If4a57bac7f3e1746c2a05c7a96747a38da188041 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/368 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: detect stm32f4x device id errata This allows us to detect a device arrata where the device id
	returned is incorrect.  This issue only effects stm32f4x Rev A silicon.  Change-Id: Ic9f4985f9abf562f97322dcf484199f0a4eb01bb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/354 Tested-by: jenkins

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : stlink: add dummy speed handlers Change-Id: I0445be7867637728145941b06225dc0acc5380e8 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/355 Tested-by: jenkins

2012-01-10  Mathias K <kesmtp@freenet.de>

	* : optimize: replace while loop by memcpy There is no need to use a while loop here. This patch simple copy
	the last bytes with the system function.  Change-Id: Ibda72dca449746efeba5a1af2e45c5990f9cf347 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/364 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2012-01-10  Bruno FLEURETTE <bruno.fleurette@gmail.com>

	* : flash: pre-check flash unlock for stm32f2x add checking of the current flash lock status before performing the
	unlock sequence (which would fail in an unlocked state) Change-Id: I693294c9cd2f59e69cb5bf3338120052fd680b1e Signed-off-by:
	Bruno FLEURETTE <bruno.fleurette@gmail.com> Signed-off-by: yvind
	Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/363 Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de>

2012-01-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: fix missing semihosting return path bug nicely caught by clang.  Change-Id: I7abf0fdd76666fb3eb1c83e3edfd01e0da485ffe Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/359 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: use stm32f2x flash size register Use the flash size register to calculate flash info.  Change-Id: Ia230db8a08d440710c030a9e5001f20561c9f420 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/337 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de>

2012-01-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : contrib: add stlink udev rules Change-Id: I3f11de8abfaf8821311a7aa0fd237006de3c2792 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/333 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de>

2012-01-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: use consistent chipname Change-Id: I41e0788f830d5ece13e6231a99d5b4013c9c678f Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/331 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Freddie Chopin
	<freddie.chopin@gmail.com>

2012-01-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : rtos: fix bug in error handling checking for != ERROR_FAIL is broken.  Change-Id: Id7085afac653bb9c38d08928227a9ea402d8e6e9 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/351 Tested-by: jenkins Reviewed-by: Michel
	JAOUEN <michel.jaouen@stericsson.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-12-16  Mathias K <kesmtp@freenet.de>

	* : Change return value on error.  On wrong parameters a error is signalized to the calling function.  Change-Id: I484443fdb39938e20382edc9246d5ec546a5c960 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Signed-off-by: yvind Harboe
	<oyvind.harboe@zylin.com> Reviewed-on: http://openocd.zylin.com/282
	Tested-by: jenkins Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-12-28  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: introduce .usage field for nand and nor flash driver
	structure Change-Id: I47e7ec8fa8c70d2addc3aa52d7c97e9e1e7bb662 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/301 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-24  Mathias K <kesmtp@freenet.de>

	* : command: print BUG warning when usage is missing These error messages will prompt patches to be submitted for missing
	.usage or empty fields. All of the below must be resolved before
	next release.  The Jim defined commands are excluded from this checklist because
	the help text can be set later than during command registration.  strlen(.usage) == 0 means that the command expects no arguments.  Updates to this patch in Gerrit to fix problems below are most
	welcome. Anyone can push updated versions of a patch to Gerrit. If
	there are no further updates to this patch within a week, it will be
	pushed to the master branch to prompt more fixes.  These were caught by launching OpenOCD.  Error: BUG: command 'command' does not have the '.usage' field
	filled out Error: BUG: command 'script' does not have the '.usage'
	field filled out Error: BUG: command 'power_restore' does not have
	the '.usage' field filled out Error: BUG: command 'srst_deasserted'
	does not have the '.usage' field filled out Error: BUG: command
	'measure_clk' does not have the '.usage' field filled out Error:
	BUG: command 'exit' does not have the '.usage' field filled out
	Error: BUG: command 'shutdown' does not have the '.usage' field
	filled out Error: BUG: command 'gdb_sync' does not have the '.usage'
	field filled out Error: BUG: command 'interface_list' does not have
	the '.usage' field filled out Error: BUG: command 'target' does not
	have the '.usage' field filled out Error: BUG: command 'target init'
	does not have the '.usage' field filled out Error: BUG: command
	'flash' does not have the '.usage' field filled out Error: BUG:
	command 'flash init' does not have the '.usage' field filled out
	Error: BUG: command 'flash banks' does not have the '.usage' field
	filled out Error: BUG: command 'nand' does not have the '.usage'
	field filled out Error: BUG: command 'nand drivers' does not have
	the '.usage' field filled out Error: BUG: command 'nand init' does
	not have the '.usage' field filled out Error: BUG: command 'pld'
	does not have the '.usage' field filled out Error: BUG: command 'pld
	init' does not have the '.usage' field filled out Error: BUG:
	command 'mflash' does not have the '.usage' field filled out Error:
	BUG: command 'mflash init' does not have the '.usage' field filled
	out Error: BUG: command 'dummy' does not have the '.usage' field
	filled out Error: BUG: command 'dummy foo' does not have the
	'.usage' field filled out Error: BUG: command 'scan_chain' does not
	have the '.usage' field filled out Error: BUG: command 'jtag' does
	not have the '.usage' field filled out Error: BUG: command 'jtag
	init' does not have the '.usage' field filled out Error: BUG:
	command 'arm' does not have the '.usage' field filled out Error:
	BUG: command 'arm reg' does not have the '.usage' field filled out
	Error: BUG: command 'etm' does not have the '.usage' field filled
	out Error: BUG: command 'arm7_9' does not have the '.usage' field
	filled out Error: BUG: command 'at91eb40a.cpu' does not have the
	'.usage' field filled out Error: BUG: command 'at91eb40a.cpu arm'
	does not have the '.usage' field filled out Error: BUG: command 'arm
	reg' does not have the '.usage' field filled out Error: BUG: command
	'at91eb40a.cpu etm' does not have the '.usage' field filled out
	Error: BUG: command 'at91eb40a.cpu arm7_9' does not have the
	'.usage' field filled out Error: BUG: command 'target_request' does
	not have the '.usage' field filled out ^C oyvind@fierce:~/openocd$
	openocd -c "interface dummy" -f board/at91eb40a.cfg 2>&1 | grep -w
	BUG Error: BUG: command 'command' does not have the '.usage' field
	filled out Error: BUG: command 'script' does not have the '.usage'
	field filled out Error: BUG: command 'power_restore' does not have
	the '.usage' field filled out Error: BUG: command 'srst_deasserted'
	does not have the '.usage' field filled out Error: BUG: command
	'measure_clk' does not have the '.usage' field filled out Error:
	BUG: command 'exit' does not have the '.usage' field filled out
	Error: BUG: command 'shutdown' does not have the '.usage' field
	filled out Error: BUG: command 'gdb_sync' does not have the '.usage'
	field filled out Error: BUG: command 'interface_list' does not have
	the '.usage' field filled out Error: BUG: command 'target' does not
	have the '.usage' field filled out Error: BUG: command 'target init'
	does not have the '.usage' field filled out Error: BUG: command
	'flash' does not have the '.usage' field filled out Error: BUG:
	command 'flash init' does not have the '.usage' field filled out
	Error: BUG: command 'flash banks' does not have the '.usage' field
	filled out Error: BUG: command 'nand' does not have the '.usage'
	field filled out Error: BUG: command 'nand drivers' does not have
	the '.usage' field filled out Error: BUG: command 'nand init' does
	not have the '.usage' field filled out Error: BUG: command 'pld'
	does not have the '.usage' field filled out Error: BUG: command 'pld
	init' does not have the '.usage' field filled out Error: BUG:
	command 'mflash' does not have the '.usage' field filled out Error:
	BUG: command 'mflash init' does not have the '.usage' field filled
	out Error: BUG: command 'dummy' does not have the '.usage' field
	filled out Error: BUG: command 'dummy foo' does not have the
	'.usage' field filled out Error: BUG: command 'scan_chain' does not
	have the '.usage' field filled out Error: BUG: command 'jtag' does
	not have the '.usage' field filled out Error: BUG: command 'jtag
	init' does not have the '.usage' field filled out Error: BUG:
	command 'arm' does not have the '.usage' field filled out Error:
	BUG: command 'arm reg' does not have the '.usage' field filled out
	Error: BUG: command 'etm' does not have the '.usage' field filled
	out Error: BUG: command 'arm7_9' does not have the '.usage' field
	filled out Error: BUG: command 'at91eb40a.cpu' does not have the
	'.usage' field filled out Error: BUG: command 'at91eb40a.cpu arm'
	does not have the '.usage' field filled out Error: BUG: command 'arm
	reg' does not have the '.usage' field filled out Error: BUG: command
	'at91eb40a.cpu etm' does not have the '.usage' field filled out
	Error: BUG: command 'at91eb40a.cpu arm7_9' does not have the
	'.usage' field filled out Error: BUG: command 'target_request' does
	not have the '.usage' field filled out Change-Id: I2c3e529530a15d2295a1950ffc59e8f2fc661012 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Signed-off-by: Mathias K
	<kesmtp@freenet.de> Reviewed-on: http://openocd.zylin.com/299
	Tested-by: jenkins Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-17  Mathias K <kesmtp@freenet.de>

	* : Add STM32F2X/STLINK target config file.  Change-Id: I02161fa05da993b5b966c31a706667d1bd91935d Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/287 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-17  Mathias K <kesmtp@freenet.de>

	* : STM32 ST-LINK target initial release STM32 ST-LINK target  added.  Change-Id: Ibe2b7a3c0d5a8cf73d8680d6019adbdb62d68fa2 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/279 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-15  Mathias K <kesmtp@freenet.de>

	* : Make jim functions public accessible.  Change this 2 functions to make it accessible for other tcl
	interfaces.  Change-Id: Idee07fcc779941b037a05a40c021e3fb0b1a4a7a Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/277 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-01  Mathias K <kesmtp@freenet.de>

	* : add private data pointer to the tap interface This will give us the ability to add special data structures and new
	interfaces without rewriting the complete jtag engine.  Change-Id: I21a6e1daa96c5f4d111bbb734c7c1fbc2eaee227 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/244 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-23  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: fix mingw build issues 8901fca0270fec41b12c30c7dbd806d460548c5b broke the build under
	mingw, this fixes that.  Change-Id: I22b91e220dac3b68cc576b65a9f1b8711e64263a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/298 Tested-by: jenkins Reviewed-by: Freddie
	Chopin <freddie.chopin@gmail.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-12-14  Erik Ahln <erik.ahlen@avalonenterprise.com>

	* : Documentation for mxc NAND flash controller Change-Id: I9e552491e8b4737c01e4f8ae2b9a582b6ff2bc5d Signed-off-by:
	Erik Ahln <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/273 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-13  Erik Ahln <erik.ahlen@avalonenterprise.com>

	* : Added command to enable/disable/query BI-swap for MXC NAND Change-Id: Ifa3eb739afe0760a974b57c5a17cc3bf7704ba79 Signed-off-by:
	Erik Ahln <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/270 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-13  Erik Ahln <erik.ahlen@avalonenterprise.com>

	* : Added board type as a parameter to mx2 NFC as they have
	different base addresses.  Change-Id: I7bc326e9a8d9f6817f046a7faeebede567c53dd2 Signed-off-by:
	Erik Ahln <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/268 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-20  Ulf Samuelsson <ulf@emagii.com>

	* : Olimex-ARM-USB-OCD-H: Add udev rule Change-Id: Ifc9a1f7fa9445e05560c335b5bba3a33caeccc51 Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Reviewed-on:
	http://openocd.zylin.com/288 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-21  Ulf Samuelsson <ulf@emagii.com>

	* : git should ignore patches from format-patch Change-Id: Iafce872fa7559180834532ba80941dec3db7d079 Signed-off-by:
	Ulf Samuelsson <ulf@emagii.com> Reviewed-on:
	http://openocd.zylin.com/295 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-12-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: make caller always allocate buffer simplifies the API and there is only one remaining user at this
	point.  Is the implementation busted where the check does not actually
	happen now? Change-Id: I776a43766f5576a08df320f6fe41a2750d101bde Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/264 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: retire jtag_alloc_in_value32 API not needed, reduce area of interface and sharp edges to API.  Change-Id: I5347352e7595686634bd0de13fcf6de6e55027b0 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/262 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: libusb use AC_CHECK_HEADER use AC_CHECK_HEADER rather than AC_CHECK_HEADERS so that we do not
	generate a unrequired HAVE_LIBUSB_1_0_LIBUSB_H define.  Change-Id: I23a93d3813716dce797ca1514fdcb84533454c31 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/259 Tested-by: jenkins Reviewed-by: Mathias
	Kster <kesmtp@freenet.de>

2011-12-12  Spencer Oliver <spen@spen-soft.co.uk>

	* : build: correctly quote m4 parameters Change-Id: If7ccb52c107cb4ad7629ffcf237f9003f60e63d0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/257 Tested-by: jenkins

2011-12-13  Erik Ahln <erik.ahlen@avalonenterprise.com>

	* : Indentation and white space fixes.  Change-Id: Iffbaefea4f3d5e9b56b3c36496b44969d7c07e82 Signed-off-by:
	Erik Ahln <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/266 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-12-16  Spencer Oliver <spen@spen-soft.co.uk>

	* : checkpatch: fix false indent trigger we have changed the indent to 4 to match OpenOCD coding style.  Change-Id: I4870a3410eb20fc2f6df6a3e5891d4d4e598131a Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/285 Tested-by: jenkins

2011-12-15  Erik Ahln <erik.ahlen@avalonenterprise.com>

	* : Change checkpatch.pl tab expanding to 4 characters.  The C coding style guide says that tab width is 4 characters but
	checkpatch.pl expands tabs to 8 characters which produces false
	negatives.  Change-Id: Ibdabbb55269b7cf6bcd38042cccb8bd235e42ce2 Signed-off-by:
	Erik Ahln <erik.ahlen@avalonenterprise.com> Reviewed-on:
	http://openocd.zylin.com/275 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-12-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix crash in JTAG over TCP/IP disable asynchronous callbacks and reads as minidriver requires
	reads and callbacks to be synchronous.  Could possibly be fixed by some design work.  Change-Id: I7ca79a551085b2e8ba6928e1762d1baed6e95d4b Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/260 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Tested-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-12-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : HACKING: add explanation why we want cool-off times as long as a
	week or two Change-Id: I281e9145f43bc7ac173e02c4e209834f0deaae2b Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/254 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk> Reviewed-by: Mathias Kster
	<kesmtp@freenet.de> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-12-02  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: default one DDR chip Handle default case of single DDR chip Propagate global variable for
	multi DDR chip Change-Id: I315380f91ee7fcc2976437aa5836d88a7964fc9d Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/251 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-12-03  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : HACKING - checkpatch before pushing makes life quicker Change-Id: I4c3cde2aae7bdea138413e373ac986be3efd54de Signed-off-by:
	rodrigo_l_rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/252 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-12-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : gdb_server: use strndup to allocate debug messages Lets be consistent and use strndup to allocate the debug buffer.  Change-Id: I535ad270ebfeae6e09d28372ab3749c822971223 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/245 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Andreas Fritiofson
	<andreas.fritiofson@gmail.com>

2011-12-02  Peter Stuge <peter@stuge.se>

	* : Fix remaining incorrect reference to target/at91sam3uXX.cfg Commit 1794e5ee5452c83b5bef6d0a5a8a3f23d647e9c6 renamed the file to
	have all lowercase characters according to most references to the
	file, but the commit didn't change the existing reference to the old
	filename.  Change-Id: I380e52e947a8091d48cf010e3919bf2caed7fdff Signed-off-by:
	Peter Stuge <peter@stuge.se> Reviewed-on:
	http://openocd.zylin.com/248 Tested-by: jenkins

2011-12-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : binarybuffer: use strndup to allocate string Change-Id: I65d8f37b18d5b5a798406b956f50ab7bb550e172 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/246 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-29  Mathias K <kesmtp@freenet.de>

	* : target init sanity check Add a test if the pointer to the target_init function in the target
	struct is set before the function pointer is used.  Change-Id: Ie4ea542f64f35efce8c5bce2ced9b881bf283ec1 Signed-off-by:
	Mathias K <kesmtp@freenet.de> Reviewed-on:
	http://openocd.zylin.com/241 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-11-22  Evan Hunter <ehunter@broadcom.com>

	* : Fix unused variables error in amt_jtagaccel Change-Id: Ic64cf4e3b5cf8c1ea75a13577728b0cb0d70068e Signed-off-by:
	Evan Hunter <ehunter@broadcom.com> Reviewed-on:
	http://openocd.zylin.com/237 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-11-19  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - flash module clk to freescale cfg value the flash module clock was set according to a spreadsheet from
	freescale, now it's set according to the configuration file used by
	the Freescale Flash Programmer.  both work, but i think it's better
	to use the one used by a software that's made by Freescale (should
	be correct...) Change-Id: I382197a3eb43dd47ff4b9b83d5e05008d5613fc6 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/223 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-04  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - fix jtag debug request failure handling if JTAG debug request fails then halting with a reset should be
	attempted.  the failure was ignored previously.  Change-Id: Ibec08e2e97f962d164a110c21aaa80bfc17b7f1a Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/221 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-11-15  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - fix - flashing algorithm check now the flash algorithm running on the 568013 checks the
	buffer_empty bit (instead of the command_finished bit) before trying
	to write a new word to the flash mem.  this should speed up the
	flashing procedure. since it is open loop, this change may reduce
	the risk of failure. flashing will fail if JTAG speed is such that
	the flash module cannot keep up.  also, the USTAT register is only read once, as suggested in the flow
	chart provided by freescale (per. ref. manual @ 6-11) the last step of the flow chart, exiting after commands are
	complete, is not implemented.  the algorithm will stay waiting for
	more data. it is up to the PC side to *not* send more data.  Change-Id: I47fe4b50de7da85f80868f5986a89a7e2152616c Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/219 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - fix jtag status mask Change-Id: I17a0f22cbeb20e4f6ea4065236243f93d826ccf0 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/217 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-09-02  rodrigo_l_rosa <rodrigorosa.lg@gmail.com>

	* : dsp5680xx - error codes added logging of target error codes to enable automatic error
	handling from tcl.  the plan is to use a computer to execute a
	series of tcl commands, the changes allow simple parsing of return
	messages to detect errors.  Change-Id: Ia98d3bd036e1b6065b475ffff6c1d30baeaf7417 Signed-off-by:
	Rodrigo L. Rosa <rodrigorosa.lg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/215 Tested-by: jenkins Tested-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-11-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: fix name of included file Fix error introduced in recent commit.  Correct the name of the
	board file.  Change-Id: I46bca8329812fb24bc4f8d316be9e7cba9b56496 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/234 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL: Add board file for EVALSPEAr300 Initial support for SPEAr300 chip and for evaluation board named
	EVALSPEAr300.  Currently supports only those parts in common with
	SPEAr310.  Change-Id: I8075aa721cf3dfaac561ee51e5df4ce9a2992e3e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/230 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: move DDR activation in common code DDR controller activation should not be in DDR chip specific code,
	but in generic DDR controller part.  Change-Id: If1b178228352b48b0097d7b9b300005fb5bb4fb6 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/228 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-01-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: move device generic code The initialization of RAS enable and clock is required by all
	SPEAr3xx devices Change-Id: Iea4cd0902e4da219475d7f35b4c25fc87ec6b902 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/226 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2010-11-27  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: Add reference to ST Application Note ST-AN was mentioned but there was no reference Change-Id: Ie065f8faba94d63cf391a994ec895692d499394e Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/224 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-15  Spencer Oliver <spen@spen-soft.co.uk>

	* : usbprog: fix shadowed declaration warning see Trac #38 Change-Id: If86fda797391f10d745384794b68e60380ef0b21 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/204 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-16  Mauro Gamba <maurillo71@gmail.com>

	* : libusb-1.0 support The configuration script check for libusb-1.0 availability first and
	only if not found check for libusb-0. So if both libraries are
	installed on the system the build script will use libusb-1.0 It's
	possible to force compiling with libusb-0 with the --enable-libusb0
	switch.  If the driver support only libusb0 the script check anly
	for it.  Change-Id: I7eb045d4e2bd553abefad53f3f4023ff46b0f5f6 Signed-off-by:
	Mauro Gamba <maurillo71@gmail.com> Reviewed-on:
	http://openocd.zylin.com/33 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-18  Spencer Oliver <spen@spen-soft.co.uk>

	* : Revert "build: fix gcc 4.6.2 warnings" This reverts commit 0ef5a90d93c5a026bcf70132e60e957ae339d1e1 Causes older versions of gcc to break - need to look into a better
	fix.  This passed through the jenkins build as we originally did not build
	this module - we do now.  Change-Id: Iafeac8442b2249269ff45a52ccd3e2870920f635 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/214 Tested-by: jenkins

2011-11-14  Robert Pasz <kiurcher@users.sf.net>

	* : presto: fix tms_sequence short issue fix issue when using tms_sequence short see Trac #31 Change-Id: I22a9cd2af59eae4d8a276dae60b6a99d05af53bb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/201 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Philip Nye <philipnye@users.sf.net>

	* : gdb: fix multi core gdb issue gdb_memory_map() correctly calculates the target specific number of
	flash banks, but then uses the total number (all targets) instead of
	the target specific number to construct its GDB response, causing a
	crash.  Change-Id: I3f8639b3e90303a59753ebe140ce4fff96fd5db0 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/199 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: match stm32f2x loader src name Change-Id: I60523f809f2d9ec9c9283e0456746ce9a63576a7 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/196 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-17  Felix Ruess <felix.ruess@gmail.com>

	* : config: do not use deprecated stm32.cfg Change-Id: Id72d2d7f874043331ecb5586a3797d017606129e Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Signed-off-by: Felix Ruess
	<felix.ruess@gmail.com> Reviewed-on: http://openocd.zylin.com/212
	Tested-by: jenkins

2011-11-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : bitq: make private functions static Change-Id: I3fabbdbda4ba8ba6557d79b97444fe06f1710b58 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/209 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : bitq: remove the remaining static variables in_mask and in_idx are just another encoding of the same state
	information that is already kept in bitq_in_state.bit_pos so derive
	them from that instead of maintaining them separately.  Change-Id: I4ac6bbe923698a8c1090a785b8babcbb90f82931 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/207 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : bitq: remove a static variable in_buff is only ever set to field->in_value and that pointer is
	still available when the parsing is restarted so it could just as
	well be used directly, removing the need for the static variable.  Change-Id: I3dd7a8315ed5c5bdc3bfb74044f89492bca9816c Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/206 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-13  Tomas Frydrych <tomas@sleepfive.com>

	* : kinetis flash: use longword write when writing into pflash Check whether the destination is in the program flash or NVM
	regions, in the former case, use the normal longword mechanism, not
	the fast NVM write.  Change-Id: I7366b7c8919928ee690252df83b99701776aee82 Signed-off-by:
	Tomas Frydrych <tomas@sleepfive.com> Reviewed-on:
	http://openocd.zylin.com/194 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-17  Aurelien Jacobs <aurel@gnuage.org>

	* : at91sam7: ensure probed flash bank has a name (fix a segfault) Before this commit, openocd used to segfault when probing flash of
	an at91sam7x512 (which contains 2 banks of flash). This was due to
	the way it systematically insert a new flash bank without setting
	its name.  Then, when get_flash_bank_by_name_noprobe() is called, it
	is doing a strcmp() on the non-initialized bank->name.  This commit prevents allocation of second probed bank if it is
	already allocated (for example, if it is set in a target config
	file). If a new bank really needs to be allocated, it ensures that a
	default name is set.  Change-Id: I38d15bef1fda2ec746efad37171975136cf7b371 Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/171 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : image: remove assignments to local variables that is never read Change-Id: I1a5e968f165e060fd4aa7c023ad870a9e21bb5dd Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/191 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : svf: fix warnings Change-Id: Ib7f67612db3a865f9acc5ae349455da7ddcd3348 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/177 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-09  Spencer Oliver <spen@spen-soft.co.uk>

	* : docs: remove berlios related info Change-Id: I9593eb165fce51411f20fa068e324b3fd882cdb3 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/190 Tested-by: jenkins

2011-10-22  Kyle Manna <kyle.manna@fuel7.com>

	* : contrib: Add udev rules for TI xds100v2 debugger This corrects permissions on the FTDI chip on the xds100v2 debugger
	enabling normal users to access it.  Change-Id: I0f6618692ebdee6284eee28f9e612e68782c4d78 Signed-off-by:
	Kyle Manna <kyle.manna@fuel7.com> Reviewed-on:
	http://openocd.zylin.com/188 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : buspirate: add missing error propagation found by clang.  Change-Id: I80ea8e6afc8dcc1aa7edb6f63af0d94f6781b81c Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/182 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : em357: fix warning by removing unused local variables Change-Id: I9def63d36ed4fa8bf9cdeeedc18b1b25d0e487d6 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/184 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: update luminary device table add support for checking target against the device CLASS rather then
	just the PARTNO.  This change also adds the new LM4F family (Blizzard).  Change-Id: Ia9d1e33f1f1c2817c0039a2232ecf932fae072f9 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/161 Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-10-17  Aurelien Jacobs <aurel@gnuage.org>

	* : at91sam7: add a new target config file for at91sam7x512 The main difference with at91sam7x256 is the declaration of the
	second bank of flash.  Change-Id: I87a20dcbb639b797799139ccf46cc73934fa3b9e Signed-off-by:
	Aurelien Jacobs <aurel@gnuage.org> Reviewed-on:
	http://openocd.zylin.com/173 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : xsvf: add missing error propagation Change-Id: Ibc70deb980d6d18ceb376b72d9104e6180b16acf Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/176 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : str9x: explain compiler that a local variable will always be
	initialized Change-Id: I9ddb2793b4cdbf6acea6f69973531491e4ebcc5b Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/145 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : str7x: fix error propagation stick to convention of "retval" being used as error value to be
	propagated and use "flash_flags" local variable for flash flags read
	from how.  Change-Id: I63f1f2248b4f4538d6cd7634ae277f7c0aadc346 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/178 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : ecos: add missing error propagation Change-Id: Ib34815c9cf654517f22486a7c8001fdb7471338c Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/174 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : warning fix: add self-consitency check to remove warning verify promise of code that more code can be pasted with an assert
	at the end condition of the code passage that builds string.  Change-Id: I76a4e5f91b9142fff932e1493cb43c29eb6a0f80 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/143 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-11-04  Spencer Oliver <spen@spen-soft.co.uk>

	* : tools: fix permissions Change-Id: I9419138dd2972304daf215594ca917ac8eb7fcda Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-11-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : etm: fix warning by removing assignment that is immediately
	overwritten Change-Id: Ia3a83d3c1fc3a1707d69017fce6cf142a81babc4 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/165 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : dsp5680xx: add missing and broken error propagation found by clang.  Change-Id: Ie7e2ecad71bf0838ece93727e4778ad368b890ef Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/156 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : avr32_regs: add missing error propagation Change-Id: Ie8b141dd534d73eccfc045069d5f628bd1eea88e Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/166 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-02  yvind Harboe <oyvind.harboe@zylin.com>

	* : HACKING: all you need is http access Change-Id: I191c1da5126c4c9ea1ff8826576b6b24feaf9881 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/157 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-11-03  Spencer Oliver <spen@spen-soft.co.uk>

	* : tools: add checkpatch script Change-Id: I3579028fc1c6ee8bea58c82e5f0eecba7794d7cb Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-11-01  Spencer Oliver <spen@spen-soft.co.uk>

	* : cfg: add Stellaris LM4F232 Evaluation Kit config Change-Id: Ica754897bef6573a0738ed1afdfe1dfda07292fd Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/151 Tested-by: jenkins Reviewed-by: Andreas
	Fritiofson <andreas.fritiofson@gmail.com>

2011-11-01  Mark Vels <mark.vels@team-embedded.nl>

	* : tx27stk5: add board init support for KaRo TX27 CPU module This patch adds support for a KaRo TX27 CPU module on a StarterkitV
	base board.  The register settings have been extracted from a
	RedBoot distribution that is distributed along with the hardware by
	KaRo.  This setup has been tested with a JTAGKey. The testing has been
	focussed on loading a program into memory and start execution.
	Although the flash seems to be correctly detected, no effort has
	been put in testing the NAND programming yet.  Change-Id: Ib17763f1e3ecacd0eb9b5fdc32f8cba7a5e59be5 Signed-off-by:
	Mark Vels <mark.vels@team-embedded.nl> Reviewed-on:
	http://openocd.zylin.com/158 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a: add missing error propagation found by clang.  Change-Id: I50eac219d7540fd48d3285f3f213cb659492d0c0 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/153 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: print next address to debug fixes clang warning. Basically the next address pointer is not used
	for anything in the fn, except to be examined in debug.  Change-Id: I253519b8e49e54490bbe7da8ec3d2dd31f49052a Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/155 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-11-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: fix null pointer exception check if no target is selected and return error.  Change-Id: Ie8abb63c708d09572b45e88fc6766af108715077 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/148 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-31  Spencer Oliver <spen@spen-soft.co.uk>

	* : target: rename cortex_m3.[ch] to cortex_m.[ch] This rename is in preparation for cortex_m4 support.  Change-Id: Ic08c298ec6ed2aabc2c39db67191f68b3a51f550 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/147 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : warnings: null pointer check fix rewrite broken null pointer check code by reducing scope of
	variable.  Change-Id: I8254f6849b187e5c9cd083053cdc11973c6fe339 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/142 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-27  yvind Harboe <oyvind.harboe@zylin.com>

	* : bugfixes: tinker a bit with the targets command return error when target can not be found instead of ERROR_OK, split
	fn.  Change-Id: Iba5232d3862a490d0995c3bfece23685bd6856e3 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/131 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-30  Uwe Hermann <uwe@hermann-uwe.de>

	* : interface configs: Fix whitespace and other issues.  Change-Id: I98825c7fb9bdee75b69b06005ed12a3f64ec4db4 Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/139 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-29  yvind Harboe <oyvind.harboe@zylin.com>

	* : clang: fix warning by adding assert that shows that a variable
	is used Change-Id: I26e0ba9f1ae9d43c9a14c42c4225746782dc4d66 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/134 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-27  yvind Harboe <oyvind.harboe@zylin.com>

	* : bugfixes: numerous bugs in error propagation found by clang Change-Id: I784068325b422d1918e28c08544bc5a1332d712f Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/130 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-26  Jim Norris <u17263@att.net>

	* : Remove use of undefined variable.  Change-Id: Id8fd345438c360b2a42857525f05360ce2794d21 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/127 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2011-10-25  Jim Norris <u17263@att.net>

	* : Add configuration for ATMEL SAM3N-EK board.  Change-Id: I525f6c346cace4e54f47659c5a7aceb29ee4baf2 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on:
	http://openocd.zylin.com/125 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-25  Marti Bolivar <mbolivar@leaflabs.com>

	* : stm3220g_eval.cfg: fix CHIPNAME.  The STM3220G-EVAL board has an STM32F207IGH6. ("...H6", not
	"...T6").  Change-Id: Iaf3dae6830c5c0685a1dcd1588d391434bc51be7 Signed-off-by:
	Marti Bolivar <mbolivar@leaflabs.com> Reviewed-on:
	http://openocd.zylin.com/120 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-25  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : armv7a: make local functions static Also fix a spelling error and remove the declaration for a
	non-existent function from the header.  Change-Id: I13177e2d81aa167c05c1cc766f06924211e6d735 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/118 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  Freddie Chopin <freddie.chopin@gmail.com>

	* : Fix "Evaluate 'script' in the global scope" This fixes commit Evaluate 'script' in the global scope. It caused
	Windows builds behave differently than before because path was
	evaluated twice and backslashes from Windows' paths got unescaped
	and effectively wiped out.  Configs could only be passed with "-f
	../dir/config.cfg" or "-f ..\\dir\\config.cfg" instead of usual "-f
	dir/config.cfg" (or using backslash) as previously.  Change-Id: I13b4abac6dbe6d770cc11a4e61c9421ef340da83 Author: Steve
	Bennett <steveb@workware.net.au> Signed-off-by: Freddie Chopin
	<freddie.chopin@gmail.com> Reviewed-on: http://openocd.zylin.com/40
	Tested-by: jenkins Reviewed-by: Xiaofan <xiaofanc@gmail.com>
	Reviewed-by: Spencer Oliver <spen@spen-soft.co.uk>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : SERVER: fix clang warning The fix is inline with the Linux coding style that forbids
	assignment in if condition Change-Id: I0b9d0b419d9c8b7a8c755e048d5faf72d1658ba2 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/87 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CORE: fix clang warning The fix is inline with the Linux coding style that forbids
	assignment in if condition Change-Id: I10338a249bcfeff87d8596f7e17f209e26b41678 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/86 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/CFI: fix clang warnings Total of 5 warnings: 3x "Dead store": removed dead assignment to
	variable; 1x "Dereference of null pointer": this is not an error,
	   but a limited visibility of clang, since pointer erase_region_info    is initialized inside cfi_fixup_non_cfi(); 1x "Branch condition
	   evaluates to a garbage value": this is a real coding bug that could
	   issue SIGSEGV, since "goto cleanup" can be executed before
	   initialization of "source".  Change-Id: Id3c323c82bb15cbd3bb8fc04b23541f11145f109 Signed-off-by:
	Antonio Borneo <borneo.antonio@gmail.com> Reviewed-on:
	http://openocd.zylin.com/84 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : fm3: fix warning for superfluous assignment Change-Id: I4f8e8c2e676a2728ddc6227daf9ca6a7ceb3d505 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/46 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : tms470: remove dead assignment warning Change-Id: I21e7ac47f80d93c9c0d7b169f8848b929c664b20 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/45 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : clang: fix warning w/assert so that clang knows that there will
	be no division by zero Change-Id: I98ac62a22f21043bb535a667a4f1f1537ccde2a4 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/42 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-23  Edgar Grimberg <edgar.grimberg@gmail.com>

	* : tms470: removed unnecessary operations This should silence a warning.  Change-Id: Id91a9ebacae836083b1db2654a8e7bf24b2300e9 Signed-off-by:
	Edgar Grimberg <edgar.grimberg@gmail.com> Reviewed-on:
	http://openocd.zylin.com/52 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : buspirate: ignore return value and fix warning Perhaps we could do one better and propagate the error? Change-Id: Idc45f516c26f09de4ee01fe05e8d3475f4b80db3 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/43 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : server: remove warning due to dead assignment Change-Id: Idb08aef0c11b3fae92286e8fcea61ab09ab09e74 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/44 Reviewed-by: Peter Stuge
	<peter@stuge.se> Tested-by: jenkins

2011-10-20  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rtos: remove broken code for handling the deprecated qP packet Change-Id: Icca522c1e2a2877abb20665b171c61079b1d8f48 Signed-off-by:
	Andreas Fritiofson <andreas.fritiofson@gmail.com> Reviewed-on:
	http://openocd.zylin.com/37 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-10-19  Freddie Chopin <freddie.chopin@gmail.com>

	* : Unused variables Fix a few errors with set and unused variables detected by GCC 4.7.0 Change-Id: I59b748e18e514ee9f0cde7883b4ed5116198bd4a Signed-off-by:
	Freddie Chopin <freddie.chopin@gmail.com> Reviewed-on:
	http://openocd.zylin.com/36 Tested-by: jenkins Reviewed-by: Spencer
	Oliver <spen@spen-soft.co.uk>

2011-10-19  Uwe Hermann <uwe@hermann-uwe.de>

	* : TMPA900/910 MCUs are always little endian.  Signed-off-by: Uwe Hermann <uwe@hermann-uwe.de> Change-Id:
	I8839f2cf0faf1b5ba9f99901c5ee028b199fabd2 Reviewed-on:
	http://openocd.zylin.com/35 Tested-by: jenkins Reviewed-by: Peter
	Stuge <peter@stuge.se>

2011-09-19  Matt Reimer <mreimer@sdgsystems.com>

	* : xscale: fix bug in xscale_receive() The code in xscale_receive() that tries to skip invalid reads (i.e.
	reads that don't have the DBG_SR[0] 'valid' bit set) seems to be
	wrong, as it only looks at the first word's valid flag rather than
	each word's own valid flag. Am I reading the code correctly? If so,
	the attached patch should fix it.  If this looks correct, I'll generate a proper patch and commit
	message.  Matt Change-Id: I74ebe2ad7a36d340a9dd3b8487578b6ea7f3cf1e Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/32 Tested-by: jenkins Reviewed-by: yvind
	Harboe <oyvindharboe@gmail.com>

2011-10-17  Spencer Oliver <spen@spen-soft.co.uk>

	* : luminary: add peripheral reset script some luminary device classes require a reset script to emulate a
	hardware reset.  Change-Id: Id505c92451244b48b0238c2130aebab2df8d208b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/30 Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com> Tested-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-10-02  Karl Kurbjun <kkurbjun@gmail.com>

	* : ICEPick-C: Add support for warm reset through JTAG controller
	and provide finer detail functions.  This sets up simple functions that can later be used to provide
	additional ICEPick Operations.  Change-Id: I313b8679267696fad87d23f3692963e513f2fe21 Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk> Reviewed-on:
	http://openocd.zylin.com/22 Tested-by: yvind Harboe
	<oyvindharboe@gmail.com> Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-10-14  yvind Harboe <oyvind.harboe@zylin.com>

	* : target_request: add target_got_message() that can be used to
	improve DCC performance API change to allow implementing a back-off algorithm for polling
	hardware.  Change-Id: I6cbe8b4534c8dfeb8442305171ea96b5481c1f17 Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/26 Reviewed-by: yvind Harboe
	<oyvindharboe@gmail.com> Tested-by: yvind Harboe
	<oyvindharboe@gmail.com>

2011-10-14  Jim Norris <u17263@att.net>

	* : Add some more detail for setting up Gerrit account.  1) Add a couple more steps when setting up the Gerrit account.  Change-Id: I5d81feac4650d4d28653d14cfc0baf14270424c1 Signed-off-by:
	Jim Norris <u17263@att.net> Reviewed-on: http://openocd.zylin.com/28
	Reviewed-by: Peter Stuge <peter@stuge.se> Tested-by: Peter Stuge
	<peter@stuge.se>

2011-10-14  Spencer Oliver <spen@spen-soft.co.uk>

	* : flash: fix lpc2000 driver typo Change-Id: I3a759ed98a27fd186c12355b846d5e97dba86c5b Signed-off-by:
	Spencer Oliver <spen@spen-soft.co.uk>

2011-10-14  Uwe Hermann <uwe@hermann-uwe.de>

	* : Add a board file for the Glyn Tonga2.  This is a Toshiba TMPA900CMXBG (ARM9) based SO-DIMM CPU module with
	64MB DDR SDRAM, 256MB NAND flash, and on-board Ethernet.  The board file provides a tonga2_init function which sets up the
	PLL/clocks and memory (SDRAM and SRAM), which allows writing a
	boot-loader into RAM via JTAG.  Change-Id: I60522b97997bdf50e1f25aebab910d93a98522fb Signed-off-by:
	Uwe Hermann <uwe@hermann-uwe.de> Reviewed-on:
	http://openocd.zylin.com/19 Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk> Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-03  Michel Jaouen <michel.jaouen@stericsson.com>

	* : breakpoint : smp software breakpoint issue Change-Id: Iefe78bad71d4fdb38ae412ab8fe2f6282836c22e Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com> Reviewed-on:
	http://openocd.zylin.com/14 Tested-by: Spencer Oliver
	<spen@spen-soft.co.uk> Reviewed-by: Spencer Oliver
	<spen@spen-soft.co.uk>

2011-10-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : docs: update HACKING to point to Gerrit Change-Id: If79e86c731ac06aaefca1aebde40e7cb3de68e4d Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com>

2011-10-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: update project url's Change-Id: I54fc3aff722ed25143aad85e58d19b72fcecbba0 Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-10-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : replace berlios url's with sourceforge url's Change-Id: I1c9957bb64df87cee7c5e832f21453eb8934a5fb Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-31  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32f1x: use async algorithm in flash programming routine Let the target algorithm be running in the background and buffer
	data continuously through a FIFO. This reduces or removes the effect
	of latency because only a very small number of queue executions
	needs to be done per buffer fill. Previously, the many repeated
	target state changes, register accesses (really inefficient) and
	algorithm uploads caused the flash programming to be latency bound
	in many cases. Now it should scale better with increased throughput.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : cortex_m3: use armv7m's async algorithm implementation Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-15  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : target: add async algorithm entries to the target type On supported targets, this may be used to start a long running
	algorithm in the background so the target may be interacted with
	during execution and later wait for its completion.  The most obvious use case is a double buffered flash algorithm that
	can upload the next block of data while the algorithm is flashing
	the current.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: Formatting

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: Emit a warning if interface firmware version != 1.6

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: Provide armjtagew_speed_div() in order to fix
	interactive use of `adapter_khz'

2011-09-16  Simon Barner <barner@gmx.de>

	* : arm-jtag-ew: Fix setting interface speed (1/2) CMD_SET_TCK_FREQUENCY message length is 5, not 4 - Ticket: #34

2011-09-16  Clment Burin des Roziers <clement.burin-des-roziers@hikob.com>

	* : STM32L: Added flash driver and target Added the flash driver for the STM32L family, which highly differ
	from the STM32F family.  Added the TCL target file for JTAG access.

2011-09-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* : u8500 : config for L2 cache

2011-09-29  Steve Bennett <steveb@workware.net.au>

	* : jim-nvp is moving from jimtcl to openocd The jim-nvp code is specific to openocd, so it belongs in openocd,
	not in the core jimtcl.  Signed-off-by: Steve Bennett <steveb@workware.net.au>

2011-09-21  Mathias K <kesmtp@freenet.de>

	* : add target events, run algorithm and default r/w buffer api Target events are added to get better gdb support. The run algorithm
	functionality are implemented to support feature fast flash write
	functionality. The new r/w buffer api is now used to support the
	special memory address handling. The output of the md command was
	fixed.

2011-09-17  Mathias K <kesmtp@freenet.de>

	* : kinetis cpu flash driver Initial release of the freescale kinetis cpu flash driver.

2011-09-12  Mathias K <kesmtp@freenet.de>

	* : kinetis auto mass erase on secured devices This is a proof of concept to get access to the debug port of a
	secured kinetis cpu. On full flash erase the cpu is automatically
	secured and the debug port is not accessible.  To get this to work
	the srst line is needed and the necessary configuration should be
	added to the configuration file.

2011-09-01  Uwe Bonnes <bon@elektron.ikp.physik.tu-darmstadt.de>

	* : Add definition for the STEVAL-PCC010 board with the STM32F207

2011-08-31  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Remove typedefs in ulink.c Signed-off-by: Martin Schmlzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Remove typedefs in OpenULINK firmware USB
	descriptor structures Signed-off-by: Martin Schmlzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : static for some functions made two functions into static, since they are not required by
	anything external

2011-08-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : commit 353362651fc28c1f1d823659cde36dd31d1aede6 Author: Martin
	Schmoelzer <martin.schmoelzer@student.tuwien.ac.at> Date:   Tue Aug
	23 17:22:53 2011 +0200

2011-08-04  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Add '-lm' linker flag when building this driver
	(required for correct calculation of JTAG TCK speed setting) Signed-off-by: Martin Schmlzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Implement variable TCK frequency in OpenULINK
	firmware Also, speed up jtag_clock_tck() significantly (150 kHz -> 375 kHz) Signed-off-by: Martin Schmlzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-23  Martin Schmoelzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Implement JTAG_PATHMOVE command Signed-off-by: Martin Schmlzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Implement command to manually force downloading
	firmware image from arbitrary location Signed-off-by: Martin Schmlzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-07-04  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : ULINK driver: Properly propagate return values in
	ulink_execute_queue() Signed-off-by: Martin Schmlzer
	<martin.schmoelzer@student.tuwien.ac.at>

2011-08-31  simonqian.openocd <simonqian.openocd@gmail.com>

	* : vsllink driver compile fails with'vsllink_debug_buffer' defined
	but not used USB communication is handled by code under versaloon directory.  So
	_DEBUG_USB_COMMS_  should not be used in vsllink.c.  Attachment is
	the patch.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : fix enter debug mode for locking added an alternative way to enter debug mode, which does not require
	restarting the chip.  this will not always work, but in general it
	will (failure 0.3%), and failure is not a dramatic issue, simply
	have to use the full sequence.  the user can only access "halt",
	which uses the full sequence, so the user should not have any
	problems.  restarting the chip requires reconfiguring the flash
	module. the doc is very poor, so i'd rather have the two methods,
	and live with the 0.3%.

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : fix debug mode,lock,unlock got new info regarding setting the chip to debug mode, and
	locking/unlocking flash memory.  the newer implementation is a bit
	slower, but always works.  the previous implementation would
	randomly (as once every 25k-70k times) get the chip into a state
	where the freescale tool would be necessary. this is fixed now.  added functions to play around with the jtag state machine. they are
	not the happiest, but are necessary to be able to execute the
	halting/locking/unlocking sequences.  Conflicts:         src/target/dsp5680xx.c

2011-08-30  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : optional crc for flash writing crc check was always performed on newly flashed data, now it is
	optional flash mem can be locked by writing a specific word to a
	specific address in flash.  to verify flash, target must be halted,
	and this will (when the new halt sequence is implemented) require
	reseting the chip. if the target is reset after writing the lock
	words, then it will lock, hence the CRC will fail because it is not
	possible to read stuff from the target.  also added a function that resets the jtag state machine.  this is
	not used yet, but will be soon.  it is implemented to allow strict
	control over JTAG state machine, necessary to implement to halt and
	unlocking sequences.

2011-08-15  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : dsp568013 disable polling by default

2011-08-26  Evan Hunter <ehunter@broadcom.com>

	* : Fix off by one bug in FreeRTOS

2011-08-24  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : This will add the Value Line HD of stm32 devices.  This has been tested on STM32F100VE

2011-07-18  Evan <evan@evan-VirtualBox.(none)>

	* : Add suspended task list to FreeRTOS support

2011-08-22  Jim Paris <jim@jtan.com>

	* : Fix redbee config files Currently the board/redbee-*.cfg files incorrectly include the
	interface definition.  Move the interfaces to interface/, and create
	a single board/redbee.cfg that is common to both boards.  Intended
	  usage is now: openocd -f interface/redbee-econotag.cfg -f
	board/redbee.cfg

2011-08-20  olivier Schonken <olivier.schonken@gmail.com>

	* : Fix Sam3u flash bank 1 issue

2011-08-17  Jie Zhang <jie.zhang@analog.com>

	* : remove white space before TAB

2011-07-12  SimonQian <simonqian@simonqian.com>

	* : versaloon driver update Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: rename configure.in to configure.ac configure.ac is the correct name to use with modern autotools.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-15  Jie Zhang <jie.zhang@analog.com>

	* : show git commit number even when cross-compiling AC_CHECK_FILE will die when cross-compiling. So don't use it to test
	the existence of guess-rev.sh.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-08-10  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fix potential alignment error

2011-08-10  Stefan Mahr <stefan.mahr@sphairon.com>

	* : target: add helper functions to get/set u16 or u32 array from/to
	buffer

2011-08-10  Jie Zhang <jie.zhang@analog.com>

	* : remove useless pxref to SMP subsection

2011-08-11  Steve Bennett <steveb@workware.net.au>

	* : Evaluate 'script' in the global scope Scripts sourced via 'script' should evaluate in the global scope to
	make it easy to set and reference global variables.  Signed-off-by: Steve Bennett <steveb@workware.net.au>

2011-08-05  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : renamed for clarity i had started my code from dsp5683xx, i renamed a bunch of stuff to
	names i consider to be better.  i believe no one is using this code,
	so nobody should be affected. (it's not too late to do this change)

2011-07-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rlink: simplify and optimize queue fill level checks Add a helper function for running the queue if it would overflow
	otherwise.  Use it to simplify the queue fill level checks and
	optimize in a few cases that would previously run the queue
	prematurely.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rlink: remove duplicated code After the reply_index handling is fixed, there's no need to special
	case the out scan.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-16  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : rlink: more indentation fixes Remove unnecessary block scopes to reduce indentation level.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2011-07-25  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips32 : Fixed memory byte access Function mips_m4k_write_memory() does endianess byte swap, but this
	procedure break one byte access (temporary array overwrites content
	in buffer).  As a fix, this endianess swap and buffer affecting is
	preformed only on hword and word accesses (not on byte access).

2011-07-07  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips32: Added CP0 coprocessor R/W routines This patch adds MIPS32 CP0 coprocessor R/W routines, as well as
	adequate commands to use these routines via telnet interface.  Now is becomes possible to affect CP0 internal registers and
	configure CPU directly from OpenOCD.

2011-07-05  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips32: Removed Unnecessary JTAG Queue Flush jtag_execute_queue() is executed as a part of
	mips_ejtag_drscan_32().  No need for this to be done before -
	removed for optimisation.

2011-08-09  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : fix return error msj retval was not correctly propagated

2011-08-09  yvind Harboe <oyvind.harboe@zylin.com>

	* : Revert "dsp5680xx: disable for now, it generates warnings" This reverts commit d567df02b9f3e7d2e7e78b3c2907ecad9aa4bbd4.

2011-07-19  Rodrigo L. Rosa <rodrigorosa.LG@gmail.com>

	* : dsp5680xx fix FM clk before doing anything with the flash module (FM) the clock divider
	must be set.  if erase_check was the first thing done with the FM
	after reset then an error would be generated because the clk divider
	was not set.  now erase_check sets the clk divider.

2011-08-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : Archive and recreate NEWS file.  Archive released NEWS file as NEWS-0.5.0.  Create new NEWS file from
	release script template.

2011-08-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : The openocd 0.5.0 release.  Remove '-dev' version tag: 0.5.0-dev -> 0.5.0

2011-08-03  Luca Bruno <lucab@debian.org>

	* : Automatically generate ChangeLog from git log for release
	tarball make dist should use git2cl to generate ChangeLog from git history,
	populating the placeholder file in released tarball.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-08-01  Jie Zhang <jzhang918@gmail.com>

	* : etb: fix incorrect previous patchset This corrects two issues found with openocd.
	d7f71e7fe9645fa8c3f88cf6fc9ad438aa6708f3 removed some code that was
	being used.  The above then caused even more code to get removed by commit
	1cfb2287a67c1f78b76583b2e5ed83ca3560b0d5.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: remove obsolete luminary target info The lm3s variant is not required as this is handled in the target
	script - see tcl/target/stellaris.cfg.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: update scripts to use new stm32 driver names Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: update stm32 driver names Use consistent names for the stm32 family flash drivers, eg.  stm32x
	-> stm32f1x stm32f2xxx -> stm32f2x this makes it easier to add support for newer stm32 families.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : doc: add Fujitsu FM3 flash driver info Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-21  Jie Zhang <jie.zhang@analog.com>

	* : Update doc about Jim since it's not a single .C file and a
	single .H file any more Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Michael Hunold <michael@mihu.de>

	* : CPU name in TMPA900 config file should obviously be TMPA900 (not
	TMPA910).  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : jimtcl: update to support --disable-install-jim Update jimtcl version to commit
	6233a6c5d39928f1bfafa8f41cb1ddf0c5a83de0 This enable to to build
	jimtcl as a submodule but not install it.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-09  Luca Bruno <lucab@debian.org>

	* : Do not append git info to version string when building from
	released tarball When building official releases from tarball, git commit info is not
	available in the building environment. Thus, automake should not try
	to append the git commit to the version string.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : busblaster: Fix warnings when building against D2XX The default is -Werror, so warnings become errors.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Steve Bennett <steveb@workware.net.au>

	* : ftdi: update for latest libftdi 1.0.4 For libftd2xx1.0.4, which uses a different directory structure than
	libftd2xx0.4.16 Without this fix the build fails with version 1.0.4
	of the driver.  Note that this does not fix --with-ftd2xx-lib=shared Signed-off-by: Steve Bennett <steveb@workware.net.au> Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips_m4k and arm7_9 : Fix soft bkpt endianess for 16-bit
	instructions The patch fix comparison of target data on the host by using
	target_buffer_get_u16() to transform current_instr to _host_
	endianess before comparison.

2011-07-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : Revert "cortex_m3: add auto maskisr" This reverts commit ff640f197a9a343b2f3ed10e9174e35282334e8c.  Original patch reverted as Author's name was incorrectly set.

2011-06-29  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : jimtcl: update to 0.71 based release The actual release is 411e92fea9621630eb350e0c2bb43543e553b84f as we
	had a few issues relating to its use within openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-28  yvind Harboe <oyvind.harboe@zylin.com>

	* : mips4k: fix big-endian hosts and host alignment problems the code was making assumptions about the endianness of the host.

2011-06-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cortex_m3: add auto maskisr This patch extends the cortex_m3 maskisr command by a new option
	'auto'.  The 'auto' option handles interrupts during stepping in a
	way they are processed but don't disturb the program flow during
	debugging.  Before one had to choose to either enable or disable interrupts. The
	former steps into interrupt handlers when they trigger. This
	disturbs the flow during debugging, making it hard to follow some
	piece of code when interrupts occur often.  When interrupts are disabled, the flow isn't disturbed but code
	relying on interrupt handlers to be processed will stop working. For
	example a delay function counting the number of timer interrupts
	will never complete, RTOS task switching will not occur and output
	I/O queues of interrupt driven I/O will stall or overflow.  Using the 'maskisr' command also typically requires gdb hooks to be
	supplied by the user to switch interrupts off during the step and to
	enable them again afterward.  The new 'auto' option of the 'maskisr' command solves the above
	problems. When set, the step command allows pending interrupt
	handlers to be executed before the step, then the step is taken with
	interrupts disabled and finally interrupts are enabled again. This
	way interrupt processing stays in the background without disturbing
	the flow of debugging. No gdb hooks are required. The 'auto' option
	is the default, since it's believed that handling interrupts in this
	way is suitable for most users.  The principle used for interrupt handling could probably be used for
	other targets too.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: cleanup jimtcl generated configure.gnu We use configure.gnu to pass options to the jimtcl submodule.  Make
	sure a distclean removes any generated files Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-20  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add OpenULINK driver files generated by SDCC to .gitignore

2011-06-20  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Include ULINK driver in src/jtag/drivers/Makefile.am A new variable "nobase_dist_pkglib_DATA" is introduced to install
	the OpenULINK firmware image to
	$PREFIX/lib/openocd/OpenULINK/ulink_firmware.hex Also, the variable "EXTRA_DIST" is used to include the OpenULINK
	firmware source in the OpenOCD source distribution.

2011-06-20  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Include ULINK driver in configure.in

2011-06-20  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Include ULINK driver in src/jtag/interfaces.c

2011-06-20  Martin Schmlzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add source code for new ULINK driver

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: do not included generated files in distribution We have to use this method as automake seems to ignore nodist_ on
	libs.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: pass correct flags to jimtcl during make distcheck This is only for the case of a make distcheck.  During a normal
	release build these flags will be created by configure.gnu Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-16  Tomek CEDRO <cederom@tlen.pl>

	* : ADAPTER: Fixed transport selection mechanism to support
	transports other than jtag (if defined).

2011-06-15  Dale Lukas Peterson <hazelnusse@gmail.com>

	* : Added Olimex STM32 {H,P}107.cfg board

2011-06-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : HACKING: add tip on how to write comments

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : doxy more

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : fix protection behavior

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : flash speed improved

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : cleanup flash module command

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : fix read speed improved by queueing commands

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : Added minimodule (ftdi) interface

2011-06-06  Laurent Charpentier <laurent_pubs@yahoo.com>

	* : Added configuration file for stm32f2xxx.

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* : Fix "unused variable" warnings (errors) detected with GCC 4.7.0
	- leftover changes

2011-06-02  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : crc check on flashed data

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* : Fix "unused variable" warnings (errors) detected with GCC 4.7.0
	- dubious fixes

2011-06-02  Bear <jilingshu@gmail.com>

	* : uptech2410

2011-05-31  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fixup fastdata fixup fastdata

2011-05-31  Laurent Charpentier <laurent_pubs@yahoo.com>

	* : bootstrap: fix argument handling - no argument => run submodule init - "nosubmoudle" => do not run submodule - other values => error message

2011-05-29  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fix swapping if running on big endian host

2011-05-28  Damjan Marion <damjan.marion@gmail.com>

	* : Fixed values for Samung NAND chips

2011-05-23  Damjan Marion <damjan.marion@gmail.com>

	* : Reorganize NAND flash table - added manufacturer field - name moved to the end for better text alignment

2011-05-23  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Report actual current thread

2011-05-24  Stefan Mahr <stefan.mahr@sphairon.com>

	* : add support for spansion flash on mindspeed c300 eval board Signed-off-by: Stefan Mahr <stefan.mahr@sphairon.com>

2011-05-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : Fix build issue under cygwin cygwin does not define sleep, so use our internal win32 version.
	caused by commit 9d4aec6bda90ad39a140747ea270c6a09dd26440 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-05-03  Jie Zhang <jie.zhang@analog.com>

	* : Get register value if it's invalid in cache.

2011-05-17  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : flash support (only full erase/write) for 568013 and 568037

2011-05-11  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Correct stacking direction and use of address offset

2011-05-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : beagleboard: add support for various icepick versions The beagleboard icepick jtag tap id's vary.

2011-04-27  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Add support for the lpc2460 target

2011-05-03  Jie Zhang <jie.zhang@analog.com>

	* : Remove useless MIPS code in avr32_ap7k.c.

2011-04-28  yvind Harboe <oyvind.harboe@zylin.com>

	* : ecos: add 64 bit types for sprintf/sscanf

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* : gdb_server : 'R' command replied by OK

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* : smp : infra for smp minimum support

2011-04-24  SimonQian <SimonQian@SimonQian.com>

	* : add STM32F2 revY

2011-04-21  Damjan Marion <damjan.marion@gmail.com>

	* : buspirate: fix building on some OSes

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Fix non cfi x16 nor flash connected to x8 bus. The ids in the
	table should be masked before comparison.

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Make the LPC32xx slc nand driver the default

2011-04-14  Broadcom Corporation (Evan Hunter) <ehunter@broadcom.com>

	* : RTOS Thread awareness support wip - works on Cortex-M3 with ThreadX and FreeRTOS Compared to original patch a few nits were fixed: - remove stricmp usage - unsigned compare fix - printf formatting fixes - fixed a bug with overrunning a memory buffer allocated with
	malloc.

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* : Replace byte-access to memory with faster word-access Freescale iMX53 doesn't seem to like unaligned accesses to his
	memory mapped registers.  Anyway this patch makes
	dump_image/load_image 4X faster for every access through APB.  Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* : Add preliminary support for Freescale iMX53 Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a :apb mem read/write working with mmu_on Conflicts:         src/target/cortex_a.c

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a : use dap ref from armv4_5common

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add chip register definition and generic init support for  - pio  - pmc  - rstc  - wdt  - sdramc  - smc Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : add at91sam9261-ek support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: jlink_debug_buffer use inline function when
	_DEBUG_USB_COMMS_ not define Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-03  Ali Lown <ali@lown.me.uk>

	* : Add support for LED to USB Blaster code.

2011-04-05  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a : implement jtag console for cortex_a

2011-04-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : Corrected waiting on PrAcc in wait_for_pracc_rw(). Added
	necessary check that PrAcc is "1" before FASTDATA access.

2011-04-02  yvind Harboe <oyvind.harboe@zylin.com>

	* : pandaboard: use new -dbgbase option to workaround broken ROM
	table Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-04-01  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a: fix gaffe in first implementation of -dbgbase

2011-04-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : mips: fix gaffe in previous commit accidentally invoked return jtag_execute_queue() in the middle of a
	fn. Hmm.... I would have expected gcc or at least lint to catch
	this.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Phil <philip@evolution.com>

	* : Added s19 to (fast_)load_image documentation to match the online
	help.

2011-03-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : types: write memory now uses const Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : startup: fix bugs in cleanup upon errors during startup Importantly adapter cleanup will now happen upon startup failure.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : mips: mips_ejtag_get_impcode error propagation added Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : mips: fix error handling for jtag_execute_queue() Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-30  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex-a: use -dbgbase option Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-28  Olivier Schonken <olivier.schonken@gmail.com>

	* : at91sam3: Modified cidr comparisson to ignore version bits production processor versions increment, thus the version bits
	should be ignored for future proofing. e.g.  Engineering sample
	version == 0x00, production version 0x01

2011-03-29  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Clarify LPC32XX address cycles message Hi, This is a more descriptive message about LPC32XX error, when the
	nand chip needs 5 address cycles.  Thanks.

2011-03-28  Andrew Lyon <andrew.lyon@gmail.com>

	* : bugfix for step <address> mips_m4k The patch below fixes step <address> on mips_m4k.  Spencer Oliver <spen@spen-soft.co.uk>: The current code is used on all other arch's - is there a underlying
	issue with those aswell ?

2011-03-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a: rename cortex_a8.c/h to cortex_a.c/h Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a9: merge cortex a9 and a8 code better to keep this in a single file.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix bug in ir scan handling set cur_instr to BYPASS as optimisation code will rely on checking
	the cached value.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : dsp563xx_once: fix warning and potential bug I don't think dsp563xx_once_read_register() would ever be called
	with len==0, but it would have been broken in that case.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Mathias K <kesmtp@freenet.de>

	* : target: allow targets to override memory alignment Targets can implement read/write_buffer to handle alignment.

2011-03-17  Uwe Hermann <uwe@hermann-uwe.de>

	* : Fix a bunch of typos.  Fix a bunch of typos.  Most are in code comments, so nothing should break. UNKOWN_COMMAND
	and CMD_UNKOWN are not used elsewhere, so correcting the spelling
	should also not break anything.

2011-03-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : dsp563xx: fix bug in x buffer handling found by inspection.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix JTAG over TCP/IP performance problem only flush write queue just before waiting for more data, rather
	than when fetching more data from the buffer.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: clean up jtag_sleep, handle short sleeps correctly via
	usleep short sleeps are handled via usleep, longer sleeps we round up to
	nearest ms.  There was a bug in jtag_sleep() in that it would round *down* to
	nearest ms, thus making all <1ms sleeps 0. Found by inspection
	rather than symptom.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-03-10  Aaron Carroll <aaronc@ok-labs.com>

	* : omap4430: add Blaze config Signed-off-by: Aaron Carroll <aaronc@ok-labs.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: add Emulator configuration support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: use tap buffer as 2k as said in the datasheet Section 3.3.2 Organization of buffers All buffers are big enough to hold 2 KByte of data.  this will double the speed of download Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-03  Mathias K <kesmtp@freenet.de>

	* : ft2232: fix log message and change log output to debug

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9g10 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9263 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91sam9: factorise cpu support all at91sam9 are nearly the same except sram and soc name Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: switch commands to subcommands Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: add new PID and VID The default pid of the segger is 0x0101 But when you change the USB
	Address it will also pid = ( usb_address > 0x4) ? 0x0101 : (0x101 + usb_address) Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-24  yvind Harboe <oyvind.harboe@zylin.com>

	* : log: debug level is between silent and debug output levels It wasn't previously possible to silence the output.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-02-24  Mathias K <kesmtp@freenet.de>

	* : ft2232: fix possible read buffer overflow This patch fix a possible read buffer overflow in
	ft2232_execute_queue.  Also the correct read queue size for libftdi
	and libftd2xx was added and and tested.  In function ft2232_write a
	uninitialized value was initialized because we don't know if this
	value was set in the ftdi api call.

2011-02-21  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : add at91rm9200-ek board support tested with jlink sam-ice v5 while loading barebox (gdb) load Loading section .text, size 0x2f190 lma 0x21f00000
	Loading section .rodata, size 0x931c lma 0x21f2f190 Loading section
	.data, size 0x29e8 lma 0x21f384ac Loading section .barebox_cmd, size
	0x78c lma 0x21f3ae94 Loading section .barebox_initcalls, size 0x80
	lma 0x21f3b620 Start address 0x21f00000, load size 243360 Transfer
	rate: 26 KB/sec, 13520 bytes/write.  Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-20  Mathias K <kesmtp@freenet.de>

	* : dsp563xx: rudimentary gdb support This patch add rudimentary gdb support. The gdb register list order
	is corrected. All registers are now 32bit width. Events are send to
	signalize gdb the current target status. Resume and step function
	was corrected to consider a modified pc register. Read/write memory
	now support L memory type, this means a memory with alternating y/x
	memory words. The memspace variable, used by gdb, is now observed
	before a default memory access is initiated. Dummy functions for
	breakpoint and watchpoint are added.

2011-02-18  SimonQian <SimonQian@SimonQian.com>

	* : fix compile error under MinGW

2011-02-14  Luca Ellero <lroluk@gmail.com>

	* : arm_adi_v5: add/move apsel member in struct adiv5_dap This patch tries to make some order in "apsel" mess.  "dap apsel"
	command was quite useless (and broken) by itself.  With this patch
	we can use it to select between AHB or APB memory access (previous
	patch 05ab8bdb813acdcd74afa71d6656c2df816cb230 was somehow broken).  - moves member apsel (in struct adiv5_dap) to ap_current - adds apsel member this strange choice is made trying to keep coherence in "dap apsel"
	 command and to keep compatibility with other code (for example
	cortex_a8).  Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-17  Mathias K <kesmtp@freenet.de>

	* : dsp563xx_once: Correct wrong return value on jtag communication
	errors This patch change the return value on a jtag communication error to
	TARGET_UNKNOWN because this function should return the current
	target status and not a error code from the underlying api call.
	Also the validity of the jtag_status is extended to all static bits
	in this value.

2011-02-15  Bjarne Steinsbo <bsteinsbo@gmail.com>

	* : lpc32xx: Flash driver Based on the lpc3180 driver, but released as a separate driver for
	 two reasons: 1) I don't have an lpc3180 to test it against, so it might
	 unintentionally break compatibility.  2) It's using a different OOB layout than lpc3180.  Rewritten so that it no longer borrows code from the NXP CDL
	library.  Instead borrowing code from the u-boot port to lpc32xx,
	written by Kevin Wells.  Tested on lpc3250 (Hitex LPC3250-Stick).  OOB layout is compatible
	with LPCLinux.

2011-02-15  Mathias K <kesmtp@freenet.de>

	* : - add bulk memory write function - execute jtag queue at the end of
	the memory transfer

2011-02-13  Mathias K <kesmtp@freenet.de>

	* : ft2232: add functions for ft2232 set data bits high/low byte
	command reduce duplication. No change in behavior.

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : arm_adi_v5: add wrapping transfer functions with selection of ap Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: check if MMU is enabled on APB read/write memory Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: trivial fixes Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-09  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: implement read/write memory through APB-AP This patch adds read/write capability to memory addresses not
	accessible through AHB-AP (for example "boot ROM code").  To select AHB or APB, a "dap apsel" command must be issued: dap
	apsel 0 -> following memory accesses are through AHB dap apsel 1 ->
	following memory accesses are through APB NOTE: at the moment APB memory accesses are very slow, compared       to AHB accesses. Work has to be done to get it faster (for       example LDR/STR instead od LDRB/STRB) Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-08  Michal Demin <michaldemin@gmail.com>

	* : buspirate: Fix command parsing, fix errors to have more sense.  Signed-off-by: Michal Demin <michaldemin@gmail.com>

2011-02-07  Luca Ellero <lroluk@gmail.com>

	* : omap4430: Add JRC TAPID for PandaBoard REV EA1 (PEAP platforms) PandaBoard REV EA1 (Panda Early Adopter Program) has a different ID.
	This patch add alternate REV EA1 TAP id to configuration file Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-08  Luca Ellero <lroluk@gmail.com>

	* : cortex_a8/a9: fix some comments Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-01-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : stm32x: add support for STM32F20x ready for wider testing and comments on basic erase + programming.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-02-02  Mathias K <kesmtp@freenet.de>

	* : 24bit buffer support Hello, this patch add 24bit support to the target buffer functions and
	little/big endian functions.  Regards, Mathias

2011-02-02  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : cortex_m3: allow scripts to override reset If a handler for the reset-assert event it present, skip the usual
	reset handling.  This is needed, for example, for board-level
	resets.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-31  yvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: use ARM32 machine code on all CPUs but Cortex M3 ARM11 broke with aa61a3b3d8b6acad19050987835ec05f3d298bdb as the
	code only checked for arm 7/9.  CFI probably needs work for non-ARM targets but perhaps not adding
	working area memory to e.g. MIPS will give the default slow CFI
	support.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : cortex_a9: add source files for Cortex A9 support.  add target and build support for A9 Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : Add '-coreid' target option to support multiple cores per TAP.  ARM Cortex-A9 multi-core chips expose a single TAP/DAP which
	connects to both cores.  The '-coreid' option selects which core the
	target should connect to.  Note that at present, OpenOCD can connect to either core, but not
	both simulatenously, until ADI contexts can be shared.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-28  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : openocd.texi: minor fixes in Reset Configuration Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-26  Mathias K <kesmtp@freenet.de>

	* : - add xds100v2 configuaration file Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-26  Mathias K <kesmtp@freenet.de>

	* : add basic TI xds100v2 support Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-18  Eric Wetzel <thewetzel@gmail.com>

	* : stellaris: automatically generate and update device IDs Added a Perl script to contrib that uses the header files in
	StellarisWare complete Firmware Development Package provided by
	TI/Luminary to generate a new list of device IDs Used Perl script and revision 6734 of TI/Luminary StellarisWare to
	update device IDs

2011-01-13  Santeri Salko <santeri.salko@gmail.com>

	* : str9xpec: Find flash controller from the chain.  Find the flash controller by position since it is before the core,
	not after it.  This fixes the problem that str9xpec enable_turbo (or any other
	str9xpec command) did not work. (See my post in
	http://forum.sparkfun.com/viewtopic.php?f=18&t=25542) Signed-off-by: Santeri Salko <santeri.salko@gmail.com>

2011-01-13  simon qian <simonqian.openocd@gmail.com>

	* : transport: fix LOG_DEBUG gaffe LOG_DEBUG() arguments are only evaluated when DEBUG logging is
	enabled, do not use arguments that have side effects like foo++.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-01-05  Eric Wetzel <thewetzel@gmail.com>

	* : nit: more LOG_* \n fixes Remove extra \n from LOG_DEBUG, LOG_INFO, and LOG_WARNING messages Remove LOG_INFO_N LOG_INFO_N was only used once and had a \n at the
	end Change LOG_USER_N calls that end with \n to LOG_USER

2011-01-08  David Brownell <david-b@pacbell.net>

	* : present CM3 Trace agenda

2011-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: use safer arch detection Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-05  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Add the support for the armv7m arch.  Signed-off-by: Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

2011-01-05  Eric Wetzel <thewetzel@gmail.com>

	* : nit: do not add \n at end of LOG_ERROR Fixed in many other places, and submitted in response to yvind's
	invitation.

2010-12-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : target: change working area free data type We only use the struct working_area member 'free' as a true/false
	type so might as well use a bool data type.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : error handling: the error number is not part of the user
	interface Do not propagate error number to user. This is for internal
	programming purposes only. Error messages to the user is reported as
	text via LOG_ERROR().  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2011-01-02  Michael Schwingen <michael@schwingen.org>

	* : cfi_protect is not implemented on Spansion flashes (many do not
	even have protection bits). Demote from error to warning, so that
	common board code can use "flash write_image erase unlock"
	regardless of the flash type.  Signed-off-by: Michael Schwingen <michael@schwingen.org>

2011-01-02  Jon Povey <jon.povey@racelogic.co.uk>

	* : svf: implement sleep for RUNTEST min_time Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> min_time was effectively ignored, I needed it to program a Lattice
	MachXO which uses a RUNTEST to wait for an erase operation, amongst
	other things.  With this patch pauses happen and I can program the device with an
	SVF generated in LSC ispVM (with "Rev D Standard" checked to
	suppress nonstandard LOOP statements)

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/S3CXXXX: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/NUC910: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/MX2: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/DAVINCI: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/TCL: prepare for common "target" reference Every NAND driver keeps private copy of "target" structure.  Prepare
	infostructure to move private "target" copy in common/shared struct
	nand_device.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/CORE: Comment use of alive_sleep() Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nand: review NAND driver interface From struct nand_flash_controller : - remove unused field register_commands; - remove field controller_ready, exported but   never referenced.  Remove dead code pointed by controller_ready.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-29  Andrew MacIsaac <macisaac.andrew@gmail.com>

	* : Compilation Warnings on OS X 10.5 I received a number of "-Wshadow" related warnings (treated as
	errors) while trying to build on OS X Leopard.  In addition, there
	were two miscellaneous other warnings in the flash drivers.
	Attached are two patches which correct these issues and the commit
	messages to accompany them.  My system has the following configuration (taken from uname -a): Darwin 9.8.0 Darwin Kernel Version 9.8.0: Wed Jul 15 16:55:01 PDT
	2009; root:xnu-1228.15.4~1/RELEASE_I386 i386 === Werror_patch.txt Commit Message === compilation: fixes for
	-Wshadow warnings on OS X These changes fix -Wshadow compilation warnings on OS X 10.5.8 Compiled with the following configure command: ../configure --prefix=/usr/local --enable-maintainer-mode
	--enable-jlink --enable-ft2232_libftdi === flash_patch.txt Commit Message === compilation: fixes for flash
	driver warnings on OS X These changes fix two compilation warnings on OS X 10.5.8: ../../../../src/flash/nor/at91sam3.c:2767: warning: redundant
	redeclaration of 'at91sam3_flash'
	../../../../src/flash/nor/at91sam3.c:101: warning: previous
	declaration of 'at91sam3_flash' was here and ../../../../src/flash/nor/stmsmi.c:205: warning: format not a string
	literal and no format arguments Compiled with the following configure command: ../configure --prefix=/usr/local --enable-maintainer-mode
	--enable-jlink --enable-ft2232_libftdi === Andrew

2010-12-29  yvind Harboe <oyvind.harboe@zylin.com>

	* : warnings: use more 'const' for char * Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-12-24  David Brownell <dbrownell@users.sourceforge.net>

	* : initial SWD transport (SWD infrastructure #2) This piggy backs on JTAG so it's not yet pretty, but that seems
	unavoidable so far given today's OpenOCD internals.  SWD init and data transfer  are unfinished and untested, but that
	should cause no regressions, and will be addressed by the time
	drivers start using this infrastructure.  Checking in whould get the
	code working better sooner, and turn up any structural/architectural
	issues while they're easier to fix.  The debug adapter drivers will provide simple SWD driver structs
	with methods that kick in as needed (instead of JTAG).  So far just
	one adapter driver has been updated (not yet ready to use or
	circulate).  The biggest issues are probably   - fault handling, where the ARM Debug Interface V5 pipelining     needs work in both JTAG and SWD modes and   - missing  rewrite of block I/O code to work on both of our
	Cortex-ready transports (Current code is  hard-wired to JTAG);
	relates also to the pipelining issue.    - omitted support to activate/deactivate SWO/SWV trace (this is     technically trivial, but configuring what to trace is NOT.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net> ----  doc/openocd.texi        |   17 ++  src/jtag/core.c         |    3  src/jtag/interface.h    |    4  src/jtag/jtag.h         |    2  src/jtag/swd.h          |  114 +++++++++++++++++++  src/jtag/tcl.c          |    2  src/target/adi_v5_swd.c |  281
	 ++++++++++++++++++++++++++++++++++++++++++++++--
	src/target/arm_adi_v5.c |    8 +  src/target/arm_adi_v5.h |    3  9 files changed, 425 insertions(+), 9 deletions(-)

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: print flash bank name on flash info cmd The flash bank name is a required element in adding flash banks,
	however other than looking at the config file there is no way of
	getting the name used in openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: update option bytes for stm32xl family add supoort for xl family boot bank option.  The option byte
	handling will be cleaned up in a later patch.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-22  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: add dual flash bank support This patch adds the initial dual flash bank support for devices such
	as the stm32xl family.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : lpc2148: redo to the new target configuration scheme Define a proc which PCBs can easily override.  Also demonstrates how to add multiple TAP exepcted-id's using
	arguments.  Added 0x3f0f0f0f as expected TAP-id. Old LPC2148 silicon I happened
	to have on my desk? Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-12-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : bootstrap: by default the submodules are initialized use "nosubmodule" to skip setting up submodules.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* : tcl/interface/flashlink.cfg: Fix broken ST URL

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* : tcl/board: Fix ST URLs in stm32* eval board configuration files ST recently rewamped (screwed up) their web site and broke all
	links.  Also match the chip names with those on the web site product
	descriptions.

2010-12-16  Michael Trensch <MTrensch@googlemail.com>

	* : Add support for Hilscher netX controllers

2010-12-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL: fix non TCL comments End of line comments fixed with ';' before '#'.  Added few
	additional 'space' to keep indentation in multi-line comments.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-14  John Devereux <john@devereux.me.uk>

	* : Fix for compilation failure amt_jtagaccel.c Hi, I think there are errors in amt_jtagaccel.c I attach a small patch that I needed to make it compile.

2010-12-14  yvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: fix unprotect the unprotect fn in stm32 needs to unprotect more sectors than was
	requested aligned to some boundary.  Print warning when this happens.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : contrib: add source to the cfi flash loaders Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: add STM32E-EVAL external memory config script Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: allow optional buffer write support Some flash's do not support buffer writes, so we now check they are
	supported before trying to use them.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: prefix string hex output Add hex prefix so we know output is not decimal.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: whitespace and long line cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-04  Freddie Chopin <freddie_chopin@op.pl>

	* : remove srst_pulls_trst from LPC2xxx target scripts LPC2xxx do not require reset_config srst_pulls_trst. This can cause
	various "strange" problems when flashing the chip, because "reset
	halt" actually allows the chip to run for some short period of time
	and execute some code.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-12-06  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: getting the JTAG speed can fail If the JTAG speed has not been set, then it has no defined value,
	add code to propagate the error.  No change to actual behavior as no new failure paths have been
	introduced. This is a no-op patch to make subsequent patches
	smaller.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : lpc2478 target config: CCLK as (mandatory) parameter

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : Add board config for Embedded Artists LPC2478-32

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : Fix sector layout for 504-KiB LPC2000 devices

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : luminary: remove unused config cmds.  Due to commit e40aee2954d2beabe1d8c530d9ff1e564fb01f48 we now honour
	the targets 'reset_config' setting. Previously we ignored the srst
	setting for luminary targets.  Luminary targets have never supported using srst to reset into debug
	mode so remove the option from the target configs files.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : config: fix luminary jtag config When this config was updated in commit
	e3773e3e3d1f1ee0dbb0b69e8babe8419784d1c1 the old jtag declaration
	was not removed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : profile: use 100Hz as a default sampling frequency it's a lie that is somewhere in the vicinity of the truth. Certainly
	64MHz confuses gprof and produces zero output and no error messages.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-12-01  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : lpc2900.c: Add support for new device LPC2926

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* : Some cosmetic fixes to the Lisa/L layout support functions.

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* : Updated Floss-JTAG config file to support v0.3 and newer. Also
	added noeeprom version of the config file for older versions of
	Floss-JTAG.

2010-11-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: correct configure help message As we default to building jimtcl the help text should show that.  No
	change in functionality or configure args required.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: rename from spearsmi to stmsmi STMicroelectronics controller SMI is not SPEAr specific.  Rename it
	and change name to every symbol in the code.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/SPEARSMI: fix segfault If flash chip is not listed in the table, or if no flash is
	connected, pointer must be properly initialized.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: iterating over an address range now handles multiple
	banks e.g. flash erase_address now works across an address range that
	spans multiple flash chips.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: remove AC_CONFIG_AUX_DIR macro This was used during testing and should have been removed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: fix subconfigure parameter issue When passing CFLAGS for example through to the jimtcl subconfigure
	the quotes were not being preserved.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: prepend --with-jim-ext=nvp to jimtcl configure This allows us to add options to jimtcl configure.  The default
	autoconf AC_CONFIG_SUBDIRS does not currently support this.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: add common.mk Rather than specifying common makefile variables move them all to a
	common.mk.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file str9xpec.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file str7x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file stellaris.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file lpc288x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file avrf.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file at91sam7.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file spearsmi.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: Added Serial flash in board file Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : httpd: retire this server this never panned out and there are enough mistakes in the code that
	probably nobody used this.  Use the tcl server and implement a standalone http app instead works
	fine.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-11-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: fix occasional crash when flash probe failed Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-11-09  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_m3: report detected error condition in poll If the CPU crashed at some point, poll will discover this.  Previously the poll fn would clear the error and print a warning,
	rather than propagating the error.  The new behavior is to report the error back up, but still clear the
	error.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: replace "puts" with "echo" Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : JIM: Add "-n" option to "echo" With the new JIMTCL, "puts" only writes to stdout.  To write on
	telnet port too, "echo" must be used.  This patch gives to "echo"
	similar commandline option of "puts".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: return error when failing to read add missing error handling.  Output warning when assuming maximum flash size in the family when
	failing to read.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: sharpen error handling for timeouts delete lots of crud by handling this all in one spot.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-11-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: add support for ST SPEAr310 Initial support for ST SPEAr310 and for the evaluation board
	EVALSPEAr310 Rev. 2.0.  Scripts are split in generic for SPEAr3xx
	family and specific for SPEAr310. This should easily allow adding
	new members of the family.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-29  Marek Vasut <marek.vasut@gmail.com>

	* : CortexA8: Introduce Freescale i.MX51 variant This patch introduces support for Cortex A8 based Freescale i.MX51
	CPU. This CPU has the Debug Access Port located at a different
	address (0x60008000) than TI OMAP3 series of CPUs.  i.MX51 configuration file based on OMAP3 configuration file and an
	email from Alan Carvalho de Assis <acassis@gmail.com>.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-31  Marek Vasut <marek.vasut@gmail.com>

	* : ADIv5: Implement function to lookup CoreSight component This patch implements "dap_lookup_cs_component()", which allows to
	lookup CS component by it's identification.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-11-04  ddraskovic <ddraskovic@sequans.com>

	* : arm964e: Add support for ARM946E target.  So far most of the people have been using existing ARM966E in the
	place of ARM946E, because they have practically the same scan
	chains.  However, ARM946E has caches, which further complicates JATG handling
	via scan-chain. this was preventing single-stepping for ARM946E when
	SW breakpoints are used.  This patch thus introduces : 1) Correct cache handling on memory write 2) Possibility to flush whole cache and turn it off during debug, or
	just to flush affected lines (faster and better) 3) Correct SW breakpoint handling and correct single-stepping 4) Corrects the bug on CP15 read and write, so CP15 values are now
	correctly R/W

2010-10-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : jimtcl: 0.63 release as a git module.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-10-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : src: add loader src description  - add comment where to find the various loaders src files.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-28  yvind Harboe <oyvind.harboe@zylin.com>

	* : imx31pdk: use rclk w/1MHz fallback measure_clk indicates ca. 3-4MHz, so 1MHz should be safe.  Added self_test proc used to test that rclk worked.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-10-24  Peter Stuge <peter@stuge.se>

	* : Make systesetreq typos read sysresetreq instead Signed-off-by: Peter Stuge <peter@stuge.se>

2010-10-22  Michal Demin <michaldemin@gmail.com>

	* : buspirate: change handling of communication speed setting +
	create serial port open function Signed-off-by: Michal Demin <michaldemin@gmail.com>

2010-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: review handle_load_image_command() Collect variable definitions.  Report syntax error to command
	dispatcher.  Propagate error when unable to open file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-10  David Brownell <dbrownell@users.sourceforge.net>

	* : swj-dp.tcl (SWD infrastructure #1) Provide new helper proc that can set up either an SWD or JTAG DAP
	based on the transport which is in use -- mostly for SWJ-DP.   Also update some SWJ-DP based chips/targets to use it.  The goal is
	making SWD-vs-JTAG transparent in most places.  SWJ-DP based chips
	really need this flexible configuration to cope with debug adapters
	that support different transports, without needing new target
	configs for each transport or adapter.  For JTAG-DP, callers will use "jtag newtap" directly, as today; only
	one chip-level transport option exists.  For SW-DP (e.g. LPC1[13]xx or EFM32, they'll use "swd newdap"
	directly (part of an upcoming SWD transport patch).  Again, only one
	transport option exists, so hard-wiring is appropriate there.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-10-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: remove warn_unused_result errors Remove any build errors for strtol when building release version of
	openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : gdbserver: fix gdb_port memory leak Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-09-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add : port number syntax for tftp filing system Allows using non-standard port number. Default to port 69.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  yvind Harboe <oyvind.harboe@zylin.com>

	* : server: add support for pipes -p/--pipe is now deprecated. Use '-c "gdb_port pipe;log_output
	openocd.log"' instead. Warning logged.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  yvind Harboe <oyvind.harboe@zylin.com>

	* : server: read/write now goes through connection fn's depending on whether the connection is over a socket or pipe, the
	read is done differently.  pipes can return -1 when writing 0 bytes, make 0 byte writes a
	successful no-op. 0 byte writes falls out naturally of tcl server
	code.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-26  yvind Harboe <oyvind.harboe@zylin.com>

	* : server: rely on ctrl-c to stop openocd there was special support to support pressing 'x' to quit openocd.
	ctrl-c is sufficient. The main server loop is already complicated
	enough.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Luca Bruno <lucab@debian.org>

	* : Update ep93xx and at91rm9200 drivers ep93xx and at91rm9200 are conditionally built only on arm and were
	not updated to reflect changes in command registration handler.
	This patch makes them properly compile again, fixing a build failure
	experienced on Debian armel.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Zachary
	T Welch <zwelch@codesourcery.com>

2010-09-28  yvind Harboe <oyvind.harboe@zylin.com>

	* : fileio: refactor struct fileio to be an opaque structure Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: fix error handling memory leaks and missing check on memory allocation.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-24  Zachary T Welch <zwelch@codesourcery.com>

	* : Fix omap3_dbginit to write to physical memory.  Setting the OMAP3530 DBGEN bit must be done in physical memory, so
	update omap3_dbginit callback to use the new 'mww phys' command
	syntax.

2010-09-26  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: fix blank line at top snuck in at some point...  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: fix error handling sensible error must be reported at failure site Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: collect duplicated procedures TCL procedures mrw and mmw, originally in DaVinci target code, are
	duplicated in other TCL scripts.  Moved in a common helper file, and
	added help/usage description.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-09-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : helper: fix flaky capture command capture of progress output would get polling results. This will
	break in the example below where polling output would override the
	tcl return value.  capture {sleep 10000; set abc def} Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : logging: turn of stdout/stderr buffering with this buffering disabled fancier logging scripts will be able to
	process each line as it is output.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: build jtag first because it generates header files Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: split out configure option for eCos and JTAG master Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : tcl: remove incomplete unused tcl file Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-19  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: check that wp length does not exceed address Hi everyone, A while back I sent in a patch that adds support for watchpoint
	lengths greater than four on xscale.  It's been working well, until
	the other day, when it caused an unexpected debug exception.
	Looking into this I realized there is a case where it breaks: when
	the length arg is greater than the base address.  This is a
	consequence of the way the hardware works.  Don't see a work-around,
	so I added code to xscale_add_watchpoint() to check for and disallow
	this combination.  Some more detail... xscale watchpoint hardware does not support a
	length directly.  Instead, a mask value can be specified (not to be
	confused with the optional mask arg to the wp command, which xscale
	does not support).  Any bits set in the mask are ignored when the
	watchpoint hardware compares the access address to the watchpoint
	address.  So as long as the length is a power of two, setting the
	mask to length-1 effectively specifies the length.  Or so I thought,
	until I realized that if the length exceeds the base address, *all*
	bits of the base address are ignored by the comaparator, and the
	watchpoint range effectively becomes 0 .. length.  Questions, comments, criticisms gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-09-18  Karl Kurbjun <kkurbjun@gmail.com>

	* : AM/DM37x: Unify configuration scripts and add support for TI
	Beagleboard xM.

2010-09-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : breakpoints: fix error handling do not try to interpret "retval" into a string, just amend a bit
	about the context of the already reported error.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-13  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: fix sw breakpoints for thumb; set bp immediately Hi everyone, Version 2 of this patch.  Code added to breakpoints.c was removed
	from previous patch, and item 3 added, per discussion with yvind
	regarding error reporting.  Item 4 added, which I just noticed.  I tried to use a software breakpoint in thumb code on the xscale for
	the first time recently, and was surprised to find that it didn't
	work.  The result was this patch, which does four things: 1): fix trivial cut-n-paste error that caused thumb breakpoints to
	not work 2): call xscale_set_breakpoint() from
	xscale_add_breakpoint() 3): log error on data abort in
	xscale_write_memory() 4): fixed incorrect error code returned by
	    xscale_set_breakpoint() when no breakpoint register is available;
	added comment Item 2 not only makes the xscale breakpoint code consistent with
	other targets, but also alerts the user immediately if an error
	occurs when writing the breakpoint instruction to target memory
	(previously, xscale_set_breakpoint() was not called until execution
	resumed).  Also, calling xscale_breakpoint_set() as part of the call
	chain starting with handle_bp_command() and propagating the return
	status back up the chain avoids the situation where OpenOCD "thinks"
	the breakpoint is set when in reality an error ocurred.  Item 3 provides a helpful message for a common reason for failure to
	set sw breakpoint.  This was thoroughly tested, mindful of the fact that breakpoint
	management is somewhat dicey during single-stepping.  Comments and criticisms of course gratefully received.  Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com>

2010-09-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : helper: add stacktrace command that returns error stacktrace Ability to access the stacktrace from a script is quite handy.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : version command: make it scriptable you can now set a variable in a script like set version [version].  Also version takes an optional argument "git" to show git version of
	source. If git is not installed during the build, then this will
	yield an error that is ignored during the build and "version git"
	returns an empty string.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: random crash in cfi_probe() fixed for non_cfi cfi chips free() was invoked on rodata.  The mystery is why this bug has survived for so long.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-09-08  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: mark xscale registers invalid on debug entry Hi everyone, This simple patch fixes a problem I noticed on the xscale where
	incorrect values are sometimes reported by the reg command.  The
	problem can occur when requesting the value of registers in the
	xscale-specific register cache.  With a couple of exceptions, none
	of the registers in the xscale register cache are automatically
	retrieved on debug entry.  This is probably fine, as they are
	unlikely to be needed on a regular basis during a typical debug
	session, and they can be retrieved when explicitly requested by name
	using the reg command.  The problem is that once this is done, the
	register remains marked as valid for the remainder of the OpenOCD
	session, and the reg command will henceforth always report the same
	value because it is obtained from the cache and is never again
	retrieved from the debug handler on the target.  The fix is to mark all registers in the xscale register cache as
	invalid on debug entry (before the two exceptions are retrieved),
	thus forcing retrieval (when requested) from the target across
	resumptions in execution, and avoiding the reporting of stale
	values.  Small addition change by yvind: change 'i' to unsigned to fix
	compiler warning for xscale_debug_entry() fn.  Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : warning: fix silly -O3 warning Some versions of GCC don't pick up that local variables are set in
	all code paths.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-31  Wookey <wookey@wookware.org>

	* : Numonyx M29W160ET patch Someone called David Carne popped up on IRC and offered a fix (as
	he's not on this list so can;t post here). I am just passing it on.
	(thanx David)  10:54 < davidc__> Basically; the Numonyx M29W160ET has an incorrect
	             CFI PRI block; it describes the erase blocks backwards  10:54 < davidc__> the linked patch has a fixup for that part
	 [really trivial]:

2010-08-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: increase stellaris flash loader buffer This speeds up programming for targets with more working area, Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-08-27  David Brownell <dbrownell@users.sourceforge.net>

	* : bitq: unshadow pause() bitq.c: In function bitq_scan_field: bitq.c:224: error:
	declaration of pause shadows a global declaration
	/usr/include/unistd.h:429: error: shadowed declaration is here Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : mcb1700: Keil MCB1700 w/1768 config script Ca. 93kBytes/s flashing speed @ 10MHz JTAG clock Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-16  David Brownell <dbrownell@users.sourceforge.net>

	* : two NEWS updates Mention AVR32 AP7000 support.  Clarify ARM semihosting update was
	for V7M (not ARM9 etc).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-15  Oleksandr Tymoshenko <gonzo@bluezbox.com>

	* : avr32: basic target script

2010-08-15  Oleksandr Tymoshenko <gonzo@bluezbox.com>

	* : avr32: work-in-progress committed so as to ease cooperation and to let it be improved over
	time.  So far it supports: - halt/resume - registers inspection - memory inspection/modification I'm still getting up to speed with OpenOCD internals and AVR32 so
	code is a little bit messy and I'd appreciate any feedback.

2010-08-13  Catalin Patulea <cat@vv.carleton.ca>

	* : Fix typo in documentation of usb_blaster_vid_pid command

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* : Added support for the Lisa/L jtag LEDs.

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* : Added support for Lisa/L builtin JTAG interface.

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : jtag: fix handling of 'tap enable' error if a tap could not be _enabled_, the error message was 'failed to
	disable tap'. Fixed that. Also, display the failing tap's name.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : DM36x: Disable unused SYSCLKs Clear the enable bits for all clocks that are not set explicitly.
	This is done to increase robustness by removing pre-existing state.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-12  Fredrik Hederstierna <fredrik.hederstierna@securitas-direct.com>

	* : str9x: faster flash erase of entire chip The patch improves flash erase for STR9x in case of a full bank
	erase.  Then the chip erase command is used instead which improves
	speed significantly.  Also I think it might help if e.g. STR912 enters some state where
	flash banks are locked, and a chip erase command is the key for
	unlocking the flash.

2010-08-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : board: added at91cap7a stk w/sdram config scripts The strange thing here with this board is that 16MHz kinda works,
	but only 2MHz is really stable.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm: add missing error reporting when an unknown core mode is read from the target, report error. Can
	be communication failure.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-09  Ben Gardiner <bengardiner@nanometrics.ca>

	* : cfg: add omapl138 support and da850evm preliminary support This patch adds support for the omapl138 target and preliminary
	support for the da850evm. The target cfg file is based on the
	icepick routing done by the target/ti_dm6446.cfg file.  I have performed limited testing with this setup. I am posting this
	patch in the interest of sharing cfg files and in the hopes that the
	experts on this list can correct errors I have made or point out
	enhancements.  The testing I have performed is debugging uboot with gdb where I
	also use the following local.cfg and gdbinit files. Debugging
	appears to work in so much as 'ni' works.  local.cfg: gdb_memory_map disable gdbinit: target remote localhost:3333 set remote
	hardware-breakpoint-limit 2 set remote hardware-watchpoint-limit 2
	monitor poll on Comments welcome.  Best Regards, Ben Gardiner

2010-08-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: if polling fails, back off back-off algorithm for polling. Double polling interval up to 5000ms
	when it fails.  when polling succeeds, reset backoff.  This avoids flooding logs(as much) when working with conditions
	where the target polling will fail.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Mike Dunn <mikedunn@newsguy.com>

	* : xscale documentation: vector table handling Hi everyone.  I noticed some incorrect information in the user
	manual regarding how the vector table is handled on the xscale, so
	for your consideration, here's a short patch that corrects it, and
	adds a little more detail I thought might be helpful.  The documentation states that OpenOCD does not attempt to
	synchronize the vector tables in memory with those stored in the
	"mini instruction cache".  In fact, on each resume it does copy from
	memory to the cache all entries in the high and low tables that were
	not previously defined using the 'xscale vector_table' command. (In
	src/target/xscale.c, see xscale_update_vectors(), which is invoked
	by xscale_resume().)  I take advantage of this during Linux boot-up.
	The extra detail describes in general terms how I do this.  Corrections, comments are of course gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-08-02  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: use correct base clock when calculating speed divisor revc uses 60MHz and revb 64MHz, use this in calculations.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  yvind Harboe <oyvind.harboe@zylin.com>

	* : lpc1768: even if rclk "works", it isn't necessarily the correct
	clk rclk = 4MHz oon lpc1768, the correct JTAG clk is 666MHz(4MHz/6).  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: measure_clk debug proc It can be useful to get an approximate measurement of rtck frequency
	for debugging purposes.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : util: ms command to calculate length of operations This can be used to calculate approximate RTCK frequency for
	instance.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-08-01  Peter Stuge <peter@stuge.se>

	* : Remove srst_pulls_trst from LPC2148 target srst_pulls_trst is only true on some (broken) LPC2148 boards, a fact
	which is already documented in doc/openocd.texi, so it shouldn't be
	set unconditionally in the target tcl.  This patch was needed to reflash when an Abort exception occured
	very early after reset, before OpenOCD tried to halt the CPU.

2010-07-30  yvind Harboe <oyvind.harboe@zylin.com>

	* : lpc7168: make flash available upon reset init set user mode to avoid ROM being mapped at address 0 rather than
	flash.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-10  Michal Demin <michal.demin@gmail.com>

	* : Buspirate: fix shadow

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: remove algorithm exit_point address for supported targets For the above targets the exit_point is optional when used with
	run_algorithm, so remove it.  This makes updating the algorithm less error prone.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : armv7m: exit_point optional for armv7m_run_algorithm As the armv7m uses instruction breakpoints for algorithms we do not
	really need to check the pc on exit.  This now matches the behaviour of the arm4_5 codebase.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm11 error propagation fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm_dpm: error propagation fixes found by inspection Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm: error propagation of arm_jtag_set_instr Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm_adi_v5: mem_ap_write error propagation Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : mem_ap_read_u32 error propagation Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : debug: debug entry error propagation Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm: add error propagation for enable/disable mmu caches Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  David Brownell <dbrownell@users.sourceforge.net>

	* : more careful luminary init Set up more of the Luminary-specific signals, and stop cloning a few
	of the JTAG defaults.  More comments too.  Still leaves the "dap info 0" bugs unresolved (presumably coupled to
	this particular adapter family) where TPIU, ITM, DWT, and other
	debug modules wrongly display as extra NVICs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: add nuc910 nand driver This adds a nand driver support for the nuc910 target.  Note that
	ECC is not currently supported by this driver, although it is
	supported by the peripheral.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: update rsc-w910 script  - Only enable the FMI (NAND) and DMA clocks.   - Select NAND interface on the MFSEL.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: lots of error propagation fixes found by code inspection Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling for
	cortex_a8_dap_write/read_coreregister_u32() Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling for
	mem_ap_atomic_write_u32() Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  David Brownell <dbrownell@users.sourceforge.net>

	* : comments for Luminary ICDI layout Provide $defines for more of the signals involved in the Luminary
	ICDI hardware, and comment some of what's going on.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : debug-feature: jtagtcpip, improve jtag performance postpone callbacks until jtag execute queue time.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADI-V5: cleanup CID/PID addressing Use addition for offsetting, not masking.  Shorten some lines.  Make
	"component_start" print-only (unused otherwise; don't save).  Still doesn't resolve the issue where multiple components are
	wrongly displaying as NVICs on some Cortex-M3 parts because many
	PIDs appear to be zeroes ... maybe adapter related?? Signed-off-by: David Brownell <db@helium.(none)>

2010-07-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : fix warnings Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : debug feature: jtagtcpip, improve performance waiting for ZY1000 fifo to idle is now queued as an asynchronous
	command. This radically improves performance when waitIdle() is
	interspersed with writes as no readback is required over TCP/IP.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADI-V5: PIDs and CIDs are 8 bits Mask the upper bits after 32-bit reads.  Alsoo revert the ugly changes to use PRIx32; just cast to unsized
	integers when printing (two chars not eight).  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : jtag: fix shadow issues in adapter_init Use global jtag_only rather than local static.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: fix transport typo Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-09  David Brownell <dbrownell@users.sourceforge.net>

	* : transport selection tweaks * Bugfix and simplify legacy jtag-only defaulting * Make "dummy" declare its jtag-only nature * likewise update ft2232 * warn if selection is _required_ (multi-transport adapters), fixes the "only ft2232 works" bug for at least dummy, with other
	drivers going the "legacy" path (submit patches).  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : transport: fix segfault in transport select String compare against addresses in range 0 or so due to not
	checking if there was an active session first.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-07-05  sb-sf <sb-sf@users.sourceforge.net>

	* : gdbserver: incorrect memory map for multiple targets (bug #24) The gdb server incorrectly reports the memory map if we have
	multiple targets with multiple flash banks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-02  David Brownell <db@helium.(none)>

	* : Fix minor openocd.texi bug ::X Signed-off-by: David Brownell
	<db@helium.(none)>

2010-07-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ft2232: revert ft2232_read_scan changes Revert change made in commit
	dd88b461da1cb8642200dd5c96fb1ff384ca9f7b.  Caused segfaults when
	using ftdi driver under win32.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-06-17  Marc Pignat <marc.pignat@hevs.ch>

	* : ft2232: simplify ft2232_read_scan

2010-06-25  Olaf Lke <olaf@uni-paderborn.de>

	* : at91sam3s* support Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-23  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: fix gaffe in no-ack transfers The code did not transfer the last word in no-ack transfers.  The strange thing is that this did not lead to any observable
	errors.  This gaffe was introduced in commit 1f5883ea56cb058221f Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : am3517 evm: use physical write to memory while target is running Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: $_TARGET mdw now has a phys option just like the mdw command Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : xsvf: Fix shadow issues on Mac wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : flash: fix shadow issues on Mac Wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : gitignore: start list of emacs temp files to ignore Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add error propagation for poll/resume Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add error propagation for
	mem_ap_read/write_atomic_u32 Error propagation avoids e.g. infinite loops waiting for target to
	halt, etc.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : nand/mx2: review scope of symbols Add "static" qualifier to private variable.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd.c: review scope of symbols Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/avrt: review unused symbols Remove unused functions: - mcu_write_dr_u16 - mcu_write_dr_u8 - mcu_write_ir_u16 - mcu_write_ir_u32 Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/feroceon: review scope of symbols Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-eventloop.h: review unused definitions Remove unused typedef and define Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-eventloop: review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Remove empty definition of
	JIM_STATIC.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: do not use jtag_get_error() normal code should not call jtag_get_error(), but rather check the
	return code from jtag_execute_queue().  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling cortex examine was missing error handling.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: fix segfault for unexamined targets print error message instead of segfaulting for unexamined targets.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/dsp563xx: review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : don't add confusing source info to Jim When an interactive command fails, the Jim stack trace prints
	references to the line in "command.c" where the interpreter was
	invoked. Since that location has no relation to the actual command
	that failed, the information serves only to add confusion.  By not adding the useless source info to Jim the noise can be
	reduced, while still printing a useful trace for nested commands.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim: review scope of symbols Add "static" qualifier to private functions.  Function Jim_InterpolateTokens() is private, but has not been
	changed to "static".  This function is called only once, so compiler
	inlines it.  After inline, there is a warning for variable
	uninitialized.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* : mingw32: -Wshadow fixes in rlink.c (error: declaration of byte shadows a global declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/rpcndr.h:50: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* : mingw32: -Wshadow fixes in jim.c (error: declaration of boolean shadows a global
	declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/rpcndr.h:52: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : vsllink: fix -Wshadow warning Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix arm11 optimisation copy & paste error + added FIFO throttling to work around lockup bug
	in FPGA.  The arm11 optimisation was introduced post v0.4.0, so this is not a
	regression compared to previous release.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : nor/at91sam3: replace helper membuf Helper ./src/helper/membuf.c is only used in at91sam3.c 1) Replace membuf with LOG_* 2) The original code in sam3_GetDetails() invalidates    all the buffered output of sam3_GetInfo(). The new    code skips sam3_GetInfo() if its output should not    be printed.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : xsvf: -Wshadow warning fixes I think this fixed an error message where the error message would
	show the *previous* uc code rather than the current unsupported uc
	code.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : mflash: -Wshadow warning fix Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : nand: when verify failed, it didn't return an error when the verify failed, it didn't return an error, which breaks e.g.
	tcl scripts that rely on this for exceptions to work.  Found by -Wshadow Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : str9xpec: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : oops... backup file snuck in, remove it.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : stm32x: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : lpc2900: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : ecos flash: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: -Wshadow warning fix Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : mips32_pracc: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : mips32: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm11_dbgtap: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm920t: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : adi_v5_jtag: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm_simulator: -Wshadow warning fixes Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: -Wshdaow warning fix Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: -Wshadow warning fix Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : jim: -Wshadow warning fix Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  yvind Harboe <oyvind.harboe@zylin.com>

	* : jim: -Wshadow fixes this batch of fixes should be pretty straightforward rename of
	'index' and an 'i' local variable shadowing.  'index' conflicts with a global name.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  michal smulski <michal.smulski@ooma.com>

	* : arm1136 scripts Here is a patch to fix a startup in C100 (arm1136). Basically make
	sure that UART is configured before using it.  Michal Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  yvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: add LOG_ERROR() in case of unsupported intel erase
	algorithm found by code inspection. There are many other places in CFI where
	LOG_ERROR() should be called similarly...  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  yvind Harboe <oyvind.harboe@zylin.com>

	* : helper: fix -Wshadow warning in number parsing use obtuse local variable names in macros to avoid interfering with
	global name space Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: fix retval gaffe in mwX commands failure to write to memory was not propagated.  This is an interesting case of broken error handling: with
	exceptions we wouldn't have had this at all, and I also wonder if
	there is a GCC option to warn about these kinds of potential bugs.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: removed unsed parameter Parameter "type" of function armv4_5_mmu_translate_va() is now not
	used.  Remove the parameter and the "enum" listing its values.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/ARM920T: fix return value Function arm920t_write_memory() default return value should be
	ERROR_OK.  All cases of local errors are handled immediately and not
	further propagated.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: add error handling to get_flash_by_addr/name autoprobing can fail and this error has to be reported up the call
	stack.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix error propagation any read/write operation to memory can fail.  block write algorithm error propagation was broken in that it would
	continue after an error was reported writing data to ram or the
	algorithm failing.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-09  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: add error message if image is too big for flash replaced assert() w/error message if the image is too big.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix optimisation gaffe DCC optimisation was broken on targets w/multiple TAP's.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix GDB keep alive bug Long running CFI writes could cause GDB timeout.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-07  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb-server: fix error reporting bugs GDB and OpenOCD has two different error number spaces and no mapping
	exists between them.  If a specific error number is to be reported to GDB then this has to
	be done at the calling site, rather than as a generic routine that
	tries to map "retval" to GDB error number speak.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-06-01  gcembed <gcembed@gmail.com>

	* : stm32 : change returned value of mass_erase function Hello, "stm32x mass_erase" return ERROR_OK even if something goes
	wrong.  Here is a summary of changes : * in stm32x_mass_erase : return ERROR_FLASH_OPERATION_FAILED when
	error detected in FLASH_SR register; * in COMMAND_HANDLER(stm32x_handle_mass_erase_command) : return the
	returned value of stm32x_mass_erase().  I don't know if there is reason to always return ERROR_OK ? Gatan

2010-05-31  Jon Povey <jon.povey@racelogic.co.uk>

	* : etm: print something when trace buffer empty ETM analyze produced no output when the trace buffer was empty.
	This patch provides users with a clue.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: virtual driver update for get_flash_bank_by_name_noprobe Make sure we do not probe a flash when getting info.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: add pic32 virtual banks make use of the new virtual bank flash driver.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: fix memory leak; check malloc return value Every time command "flash probe #" is executed, memory structures
	are re-allocated without preventive free() of former areas, causing
	memory leak.  Also, memory allocation does not check return value,
	determining segmentation fault in case of out of memory.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* : All LPC2xxx chips are little endian and that cannot be changed -
	update config scripts Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* : Update "flash bank" helper comments for LPC2xxx chips Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : at91sam9260: use RCLK It might be possible to get this target going without RCLK, but it
	would require more careful analysis and usage of the reset events.  Enable fast memory accesses.  Tested on an at91sam9260 custom board w/external DRAM and flash.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : arm_adi_v5: correct ahbap_debugport_init mem-ap id (bug #23) We request a id register read at the end of ahbap_debugport_init but
	we never actually run the queue. In some cases this causes a
	segfault.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-20  gcembed <gcembed@gmail.com>

	* : nand : Add Freescale iMX27 nand flash controller support This patch add support of iMX27 nand flash controller. This is based
	on driver for imx31 nand flash controller.  OOB functionality is not
	fully working. As in mx31 controller, mx2 NFC has a bug that swap
	two bytes between SPARE and MAIN buffer.  I used this driver for
	several months and no problems appear.

2010-05-18  Gary Carlson <gcarlson@carlson-minot.com>

	* : target: slow targets could cause GDB to time out This second half of the patch is proposed to clean up some GDB keep
	alive issues on arm7_9 targets that start up with very slow clocks.
	If an attempt is made to write to key registers on the processor
	with a slow jtag speed, GDB timeout warnings appear on the console
	(at least mine) when "reset halt" or "reset init" commands are
	issued from the gdb client: *** BEFORE PATCH *** (gdb) monitor reset init fast memory access is disabled 2 kHz
	keep_alive() was not invoked in the 1000ms timelimit. GDB alive
	packet not sent! (1026). Workaround: increase "set remotetimeout" in
	GDB JTAG tap: at91sam9g20.cpu tap/device found: 0x0792603f (mfg:
	0x01f, part: 0x7926, ver: 0x0) target state: halted target halted in
	ARM state due to breakpoint, current mode: Supervisor cpsr:
	0x000000d3 pc: 0x00000000 MMU: disabled, D-Cache: disabled, I-Cache:
	disabled keep_alive() was not invoked in the 1000ms timelimit. GDB
	alive packet not sent! (1027). Workaround: increase "set
	remotetimeout" in GDB keep_alive() was not invoked in the 1000ms
	timelimit. GDB alive packet not sent! (1006). Workaround: increase
	"set remotetimeout" in GDB keep_alive() was not invoked in the
	1000ms timelimit. GDB alive packet not sent! (1006). Workaround:
	increase "set remotetimeout" in GDB keep_alive() was not invoked in
	the 1000ms timelimit. GDB alive packet not sent! (1006). Workaround:
	increase "set remotetimeout" in GDB keep_alive() was not invoked in
	the 1000ms timelimit. GDB alive packet not sent! (1004). Workaround:
	increase "set remotetimeout" in GDB RCLK - adaptive dcc downloads
	are enabled fast memory access is enabled NAND flash device 'NAND
	256MiB 3,3V 8-bit' found (gdb) I added additional keep alive steps in areas that troubleshooting
	revealed were causing problems.  I only did this however for
	non-fast write memory accesses.  I don't think most people would be
	using fast memory accesses to write to memory when the jtag and
	system clocks are slow anyway.  If you disagree with my feeling, think there is a more elegant way
	to handle the problem, or think the patch will cause other
	unforeseen problems with other targets, let me know.  As you can see
	below, the patch does eliminate the problem on my development
	station and I suspect that it will benefit others.  *** AFTER PATCH *** (gdb) monitor reset init fast memory access is disabled 2 kHz JTAG
	tap: at91sam9g20.cpu tap/device found: 0x0792603f (mfg: 0x01f, part:
	0x7926, ver: 0x0) target state: halted target halted in ARM state
	due to breakpoint, current mode: Supervisor cpsr: 0x000000d3 pc:
	0x00000000 MMU: disabled, D-Cache: disabled, I-Cache: disabled RCLK
	- adaptive dcc downloads are enabled fast memory access is enabled
	NAND flash device 'NAND 256MiB 3,3V 8-bit' found (gdb) Gary Carlson Gary Carlson, MSEE Principal Engineer Carlson-Minot Inc.

2010-05-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix false positive warning about unitialized local
	variable Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-17  Jon Povey <jon.povey@racelogic.co.uk>

	* : NAND/davinci: Fix segfault for hwecc4_infix reads Page reads using hwecc4_infix layout segfaulted for check_bad_blocks
	because the read assumed a valid data buffer, which check_bad_blocks
	does not use (it only passes a 6 byte buffer for the start of OOB).  This version copes with undersized or missing data or oob buffers
	and uses random read commands within the page to skip unwanted areas
	of data/OOB for speed.  NOTE: Running check_bad_blocks with this layout will be reading
	infix OOB locations, not manufacturer bad block markers. This means
	that if you check blocks written in infix layout they will appear
	good, but manufacturer- marked bad blocks may also appear good.  If
	you want to scan for manufactuer-marked bad blocks, you need to
	enable raw_access before running check_bad_blocks, or use the
	non-infix layout.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> CC: David
	Brownell <dbrownell@users.sourceforge.net>

2010-05-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : gdbserver: gdb cmds returning failure on success The gdb_memory_map cmd for example fell through and returned
	ERROR_COMMAND_SYNTAX_ERROR on success - behaviour is now as
	expected.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: minor code cleanup Remove few LOG_DEBUG() messages, together with code and variables
	required to build such messages.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR: add read() callback to struct flash_driver Final target is to force bus_width size during CFI flash read.  In
	this first step I need to replace default flash read with flash
	specific implementation.  This patch introduces: - flash_driver_read() layer; - default_flash_read(), backward compatible; - read() callback in struct flash_driver; - proper initialization in every flash_driver instance.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR: fix comment for Doxygen Either bus_width and chip_width are in bytes.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: use bus_width for memory access in cfi_write() During cfi_write(), head and tail of destination area could be not
	aligned to bus_width.  Since write operation must be at bus_width
	size, source buffer size is extended and buffer padded with current
	values read from flash.  Force using bus_width to read current value from flash.  Do not use
	cfi_add_byte() anymore, to allow removing this function later on.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: identify memory accesses not using "bus_width".  Since NOR flash devices does not handle "byte enable lanes", each
	read/write access involves the whole "chip_width".  When multiple
	devices are in parallel, usually all chips are enabled during each
	access.  All such cases are compatible with flash accesses at
	"bus_width" size.  Access at "bus_width" size is mandatory for write access to avoid
	transferring of garbage values to flash.  During read access the
	flash controller should take care, and discard unneeded bytes.
	Anyway, it is good practice to use "bus_width" size also for read.  Every memory access that does not respect "bus_width" size is marked
	with a "FIXME" comment.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: check "flash bank" command arguments Arguments chip_width and bus_width of command "flash bank" are not
	fully checked.  While bus_width is later on redundantly checked in
	several other parts (e.g. in cfi_command_val()) and generates
	run-time error, chip_width is never checked, nor related to actual
	bus_width value.  Added check to avoid: - (chip_width == 0), that would mean no memory chip at all,   avoiding also division by zero e.g. in cfi_get_u8(); - (bus_width == 0), that would mean no bus at all; - unsupported cases of chip_width or bus_width value not power   of 2; - unsupported case of chip width wider than bus.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-14  Jun Ma <sync.jma@gmail.com>

	* : missing pointer's declaration when enable macro
	-D_DEBUG_GDB_IO_.  reproducable when "./configure --enable-maintainer-mode
	CFLAGS=-D_DEBUG_GDB_IO_" Signed-off-by: Jun Ma <sync.jma@gmail.com> Signed-off-by: yvind
	Harboe <oyvind.harboe@zylin.com>

2010-05-13  Jon Povey <jon.povey@racelogic.co.uk>

	* : NAND: fix off-by-one error in erase command argument range The last_block argument to nand_erase() is checked against
	nand->num_blocks, but the highest valid block number is (total - 1),
	the test for invalid should be ">=" rather than ">".  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	yvind Harboe <oyvind.harboe@zylin.com>

2010-05-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: require unique flash bank name Make sure the flash bank name is unique Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000.cfg: gdb connect will fail first time without gdb-attach gdb-attach does a reset init to make sure that the CFI probe will
	succeed upon first gdb connect.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-10  Karl Kurbjun <kkurbjun@gmail.com>

	* : Fujitsu MBM29SL800TE flash support Hi, This is my first post to the list.  First, I would like to thank
	everyone for their work on OpenOCD, it is a great tool to work with.
	I have been using it to debug code on hardware for the Rockbox
	project (www.rockbox.org).  The target that I primarily work with has a Spansion/Fujitsu NOR
	flash (MBM29SL800TE).  I attached a patch that adds support for this
	flash.  I hope it can be included in the main repository.  If there
	is something that needs to be changed with the patch before
	inclusion please let me know.  -Karl Kurbjun

2010-05-11  Marc Pignat <marc.pignat@hevs.ch>

	* : Documentation : arm920t implements armv4 There is a small typo in the cpu list, arm920t is armv4.

2010-05-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : armv7m: 20 second timeout/megabyte for CRC check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: add stm32eval board configs Increase working area for stm3210e_eval.cfg.  Add new configs for
	the following boards: STM321000B-EVAL, STM32100C-EVAL,
	STM32100B-EVAL Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: stop caching protection state There are a million reasons why cached protection state might be
	stale: power cycling of target, reset, code executing on the target,
	etc.  The "flash protect_check" command is now gone. This is *always*
	executed when running a "flash info".  As a bonus for more a more robust approach, lots of code could be
	deleted.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix error handling for protect fn No error was propagated.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: connect will now fail if flash autoprobe fails This stops GDB from launching with an empty memory map, making gdb
	load w/flashing fail for no obvious reason.  The error message points in the direction of the gdb-attach event
	that can be set up to issue a halt or "reset init" which will put
	GDB in a well defined stated upon attach and thus have a robust
	flash autoprobe.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  Matthias Bode <papabaer.embedded@googlemail.com>

	* : Fixed bug in tcl-server No segmentationfault when sending commands to tcl-server.          modified:   src/server/server.c         modified:   src/server/tcl_server.c         modified:   src/server/tcl_server.h

2010-05-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: more flash write_image bugfixes Remove/fix lots of bugs in handling of non-contigious sections and
	out of order sections.  Fix a gaffe introduced in previous commit to src/flash/nor/core.c Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Marc Pignat <marc.pignat@hevs.ch>

	* : documentation typo Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : str71x: fix previous commit fix build issue with 70226c221f5879bb6126ff3f2ec9ae64c68d80d6 commit Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : str7x: fix bogus error messages Remove bogus error messages when trying to allocate a large chunk of
	target memory and then falling back to a smaller one.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: wait for srst to deassert make wait for srst deassert more long latency friendly (JTAG over
	TCP/IP), print actual time if it was more than 1ms.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-04-30  Tobias Ringstrm <tobias@ringis.se>

	* : STM32 flash erase timeout fix The current timeout for STM32 flash block erase and flash mass erase
	is 10 (ms), which is too tight, and fails around 50% of the time for
	me.  The data sheet for STM32F107VC specifies a maximum erase time
	of 40 ms (for both operations).  I'd also consider it a bug that the code does not detect a timeout,
	but just assumes that the operation has completed.  The attached
	patch does not address this bug.  The attached patch increases the timeouts from 10 to 100 ms.  Please
	apply.  /Tobias

2010-04-29  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: write_image would fail for certain images Fix a bug where write_image would fail if the sections in the image
	were not in ascending order. This has previously been fixed in gdb
	load.  Solved by sorting the image sections before running flash
	write_image erase unlock foo.elf.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-04-28  yvind Harboe <oyvind.harboe@zylin.com>

	* : nor: remove bogus output about padding sections padding of 0 bytes is actually no padding, do not output warning
	about padding in that case.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-04-26  Marek Vasut <marek.vasut@gmail.com>

	* : Add VPACLink interface definition This patch adds definition file for the Voipac VPACLink JTAG
	adaptor. The adaptor is combined JTAG/UART device.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-04-24  michal smulski <michal.smulski@ooma.com>

	* : telo: update configuration scripts to matched master branch Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-04-20  michal smulski <michal.smulski@ooma.com>

	* : docs: improve load_image docs add docs for missing args.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-04-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32x: allow flash probe on a running target If the flash has not yet been probed and GDB connects while the
	target is running, the flash probe triggered by GDB's memory map
	read will fail. In that case the returned memory map will be empty,
	causing a subsequent load from within GDB to fail. There's not much
	you can do from GDB to recover, other than a restart; a 'mon reset
	init' and manual 'mon flash probe' won't help since GDB has already
	made up its mind about the memory map.  It seems there's no reason to require the target to be halted when
	probing the flash. Remove the check to let a valid memory map be
	provided to GDB even when connecting to a running target.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2010-04-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: remove redundant code Arguments for "flash bank" command are already parsed and put in
	"bank" struct.  Removed code to parse them again.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-13  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: fix analyze_trace for trace data collected in wrap mode This patch fixes the xscale_analyze_trace() function.  This function
	was defective for a trace collected in 'fill' mode (hiccups with
	repeated instructions) and completely broken when buffer overflowed
	in 'wrap' mode.  The reason for the latter case is that the
	checkpoint registers were interpreted incorrectly when two
	checkpoints are present in the trace (which will be true in 'wrap'
	mode once the buffer fills).  In this case, checkpoint1 register
	will contain the older entry, and checkpoint0 the newer.  The
	original code assumed the opposite.  I eventually gave up trying to
	understand all the logic of the function, and rewrote it.  I think
	it's much cleaner and understandable now.  I have been using and
	testing this for a few weeks now.  I'm confident it hasn't regressed
	in any way.  Also added capability to handle (as best as possible) the case where
	an instruction can not be read from the loaded trace image; e.g.,
	partial image.  This was a 'TODO' comment in the original
	xscale_analyze_trace().  Outside of xcsale_analyze_trace(), these (related) changes were
	made: - Remove pc_ok and current_pc elements from struct xscale_trace.
	  These elements and associated logic are useless clutter because the
	  very first entry placed in the trace buffer is always an indirect
	  jump to the address at which execution resumed.  This type of trace
	  entry includes the literal address in the trace buffer, so the
	  initial address of the trace is immediately determined from the
	  trace buffer contents and does not need to be recorded when trace is
	enabled.  - Added num_checkpoints to struct xscale_trace_data, which is
	  necessary in order to correctly interpret the checkpoint register
	contents.  - In xscale_read_trace()   - Fix potential array out-of-bounds condition.    - Eliminate partial address entries when parsing trace (can occur
	  in wrap mode).  - Count and record number of checkpoints in trace.  - Added small, inlined utility function xscale_display_instruction()
	  to help make the code more concise and clear.  TODO:  - Save processor state (arm or thumb) in struct xscale_trace when
	   trace is enabled so that trace can be analyzed correctly (currently
	 assumes arm mode).  - Add element to struct xscale_trace that records (when trace is
	   enabled) whether vector table is relocated high (to 0xffff0000) or
	   not, so that a branch to an exception vector is traced correctly
	   (curently assumes vectors at 0x0).

2010-04-14  Anton Fedotov <AD.Fedotov@gmail.com>

	* : cortex-a8: more MMU support + virt2phys() can now convert virtual address to real +
	read_memory() and write_memory() are renamed to read_phys_memory()
	and write_phys_memory() + new read_memory() and write_memory() try
	to resolve real address if mmu is enambled than perform real address
	   reading/writing + if address is bellow 0xc000000 than TTB0 is used
	for page table dereference, if above - than TTB1. Linux style of
	user/kernel address separation    + if above fails (i.e address is unspecified) than mode is
	   checked whether it is Supervisor (than TTB1) or User (than TTB0) - Software breakpoints doesn't work. You should invoke
	"gdb_breakpoint_override hard" before you start debugging +
	cortex_a8_mmu(), cortex_a8_enable_mmu_caches(),
	cortex_a8_disable_mmu_caches() are implemented Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/TMS470: review scope of symbols Add "static" qualifier to private functions and data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/MIPS32_PRACC: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : HELPER/LOG: review unused symbols Remove unused functions: - log_catch - log_rethrow - log_try Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : OPENOCD: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : BINARYBUFFER: review scope of data and functions Add "static" qualifier to private data and functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/TCL: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/ARM_IO: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/MX3: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/AVRF: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/DRIVERS: review scope of functions Add "static" qualifier to private functions.  Remove unused "extern"
	in src/ecosboard.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : HELLO: review unused symbols Remove unused functions: - hello_register_commands Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ADI_V5_JTAG: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM_JTAG: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARMV4_5_MMU: review unused symbols Remove unused data: - armv4_5_mmu_page_type_names Remove prototype of not existing
	function: - armv4mmu_translate_va Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : EMBEDDEDICE: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: review scope of functions Add "static" qualifier to private functions.  Remove unused "extern"
	in src/ecosboard.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Restore deleted '!' character I'm not sure what caused this significant character to get deleted.
	it may be related to intermittent Editor or terminal flakes  I've
	been seeing lately (sigh).  This fix is trivial.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* : simplify and unconfuse target_run_algorithm() For some reason there are *two* schemes for interposing logic into
	the run_algorithm() code path...  One is a standard procedural
	wapper around the target method invocation.  the other (superfluous) one hacked the method table by splicing a
	second procedural wrapper into the method table.  Remove it:         * Rename its  slightly-more-featureful wrapper so it becomes           the standard procedural wrapper, leaving its added logic           (where it should have been in the first place.            Also add a paranoia check, to report targets that don't           support algorithms without traversing a NULL pointer, and           tweak its code structure a bit so it's easier to modify.          * Get rid of the superfluous/conusing method table hacks.  This is a net simplification, making it simpler to analyse what's
	going on, and then interpose logic . ... by ensuring there's only
	one natural place for it to live.  ------------ Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-28  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: fix trace buffer functionality when resuming from a
	breakpoint Problem: halt at a breakpoint, enable trace buffer ('xscale
	trace_buffer enable fill'), then resume.  Wait for debug exception
	when trace buffer fills (if not sooner due to another breakpoint,
	vector catch, etc).  Instead, never halts.  When halted explicitly
	from OpenOCD and trace buffer dumped, it contains only one entry; a
	branch to the address of the original breakpoint.  If the above
	steps are repeated, except that the breakpoint is removed before
	resuming, the trace buffer fills and the debug exception is
	generated, as expected.  Cause: related to how a breakpoint is stepped over on resume.  The
	breakpoint is temporarily removed, and a hardware breakpoint is set
	on the next instruction that will execute.  xscale_debug_entry() is
	called when that breakpoint hits.  This function checks if the trace
	buffer is enabled, and if so reads the trace buffer from the target
	and then disables the trace (unless multiple trace buffers are
	specified by the user when trace is enabled).  Thus you only trace
	one instruction before it is disabled.  Solution: kind of a hack on top of a hack, but it's simple.
	Anything better would involve some refactoring.  This has been
	tested and trace now works as intended, except that the very first
	instruction is not part of the trace when resuming from a
	breakpoint.  TODO: still many issues with trace: doesn't work during
	single-stepping (trace buffer is flushed each step), 'xscale
	analyze_trace' works only marginally for a trace captured in 'fill'
	mode, and not at all for a trace captured in 'wrap' mode.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR TCL: fix usage message The command "flash bank" has updated syntax.  Add the mandatory
	parameter <target> to the usage message that prints in case of
	error.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: dev tool first cut peek/poke over tcp/ip, used for debug/research purposes
	only. Long term JTAG over TCP/IP might be an offshoot. The
	performance is usable for development/testing purposes.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-25  Daniel Bder <openocd@eh-oh.de>

	* : change %x and %d to PRIx32 and PRId32 where needed for cygwin

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : telnet_server: review unused symbols Remove unused function Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-24  David Brownell <dbrownell@users.sourceforge.net>

	* : FT2232 Messaaging fix The init cleanup patch overlooked a message which was wrongly
	specific to the "usbjtag" layout.  Fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: review scope of functions and data Add "static" qualifier to private functions and data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-20  Mike Dunn <mikedunn@newsguy.com>

	* : fix software breakpoints on xscale This patch fixes xscale software breakpoints by cleaning the dcache
	and invalidating the icache after the bkpt instruction is inserted
	or removed.  The icache operation is necessary in order to flush the
	fetch buffers, even if the icache is disabled (see section 4.2.7 of
	the xscale core developer's manual).  The dcache is presumed to be
	enabled; no harm done if not.  The dcache is also invalidated after
	cleaning in order to safeguard against a future load of invalid
	data, in the event that cache_clean_address points to memory that is
	valid and in use.  Also corrected a confusing typo I noticed in a comment.  TODO (or not TODO...?): the xscale's 2K "mini dcache" is not
	cleaned.  This cache is not used unless the 'X' bit in the page
	table entry is set.  This is a proprietary xscale extension to the
	ARM architecture.  If a target's OS or executive makes use of this
	for memory regions holding code, the breakpoint problem will
	persist.  Flushing the mini dcache requires that 2K of valid
	cacheable memory (mapped with 'X' bit set) be designated by the user
	for this purpose.  The debug handler that gets downloaded to the
	target will also need to be extended.

2010-03-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232 init mess cleanup In the ft2232 driver, initialization for many layouts punts to a
	routine called usbjtag_init(), instead of a routine specific to each
	layout.  That routine is  a mess  built around a "what type layout am I"
	core.  That's a bad design ... in this case, especially so, since it
	bypasses the layout-specific dispatch which was just done, and
	obfuscates the initialization which is at least somewhat generic,
	instead of being specific to the "usbjtag" layout.  Split and document out the generic parts of usbjtag_init(), and make
	the rest of those layouts have layout-specific init methods.  Also,
	rename usbjtag_reset() ... that also was not specific to the
	"usbjtag" layout, and thus contributed to the previous code
	structure confusion.  (Eventually, all layout-specific code (and method tables) should
	probably live in files specific to each layout.  These changes will
	facilitate those and other cleanups to this driver.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: make out_value const Tightens up the jtag_add_xxx_scan() API Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  David Brownell <dbrownell@users.sourceforge.net>

	* : FT2232 comment tweaks Note that the FT4232 chips have four channels not two, and Elaborate
	on uses of the additional channels.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix bug in end state of DCC writes Introduced in latest commits, found by code inspection & GCC
	warning.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: remove jtag_get_end_state() usage Code inspection indicated what constant end states to use.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: remove unecessary usage of jtag_get_end_state().  By code inspection.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Mike Dunn <mikedunn@newsguy.com>

	* : Fix underlying problem with xscale icache and dcache commands Fix problem with the xscale icache and dcache commands.  Both
	commands were enabling or disabling the mmu, not the caches I didn't look any further after my earlier patch fixed the trivial
	problem with command argument parsing.  Turns out the underlying
	code was broken.  The resolution is straightforward when you look at the arguments to
	xscale_enable_mmu_caches() and xscale_disable_mmu_caches().  I
	finally took a deeper look after dumping the cp15 control register
	(XSCALE_CTRL) and seeing that the cache bits weren't changing, but
	the mmu bit was (which caused all manner of grief, as you can
	imagine).  This has been tested and works OK now.   src/target/xscale.c |   17 +++++++++++------  1 files changed, 11 insertions(+), 6 deletions(-) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-18  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 52a788e008ecf0ca6156f02de08a0f062d49a236 Author: David
	Brownell <dbrownell@users.sourceforge.net> Date:   Thu Mar 18
	11:56:17 2010 -0700

2010-03-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: retire one instance of jtag_get_end_state() usage Less global variables....  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : DOCS: update flash bank examples  - include the $_FLASHNAME in all flash bank examples.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: remove unused arg from mips_ejtag_set_instr This arg was never used and was just taken from the arm jtag code.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : linker error: fix problem with duplicate fn A fn was copied instead of moved to a new file. The linker can
	discard exact copies of fn's without warning.  This is a C++'ism.  However on my Ubuntu 9.10 machine, it fails.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: long running "monitor mww" now works w/gdb invoke keep_alive() to make sure that the default 2000ms timeout
	does not trigger.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: mdX/mwX on target were badly broken - incorrect parsing of arguments - mdX didn't display arguments correctly I don't think anyone ever used that code path :-) Did you know that "target mdw" and mdw are very different? for {set i 0} {$i < 256} {set i [expr $i+1]} {mwb [expr
	0x2000000+$i] $i}  mdw 0x2000000 0x10 0x02000000: 03020100 07060504 0b0a0908 0f0e0d0c
	13121110 17161514 1b1a1918 1f1e1d1c 0x02000020: 23222120 27262524
	2b2a2928 2f2e2d2c 33323130 37363534 3b3a3938 3f3e3d3c > zy1000.cpu mdb 0x2000000 0x20 0x02000000 00 01 02 03 04 05 06 07
	08 09 0a 0b 0c 0d 0e 0f ................  0x02000010 10 11 12 13 14
	15 16 17 18 19 1a 1b 1c 1d 1e 1f ................  > zy1000.cpu mdh
	0x2000000 0x20 0x02000000 0100 0302 0504 0706 0908 0b0a 0d0c 0f0e
	................  0x02000010 1110 1312 1514 1716 1918 1b1a 1d1c 1f1e
	................  0x02000020 2120 2322 2524 2726 2928 2b2a 2d2c 2f2e
	!"#$%&'()*+,-./ 0x02000030 3130 3332 3534 3736 3938 3b3a 3d3c 3f3e
	0123456789:;<=>? > zy1000.cpu mdw 0x2000000 0x20 0x02000000 03020100
	07060504 0b0a0908 0f0e0d0c ................  0x02000010 13121110
	17161514 1b1a1918 1f1e1d1c ................  0x02000020 23222120
	27262524 2b2a2928 2f2e2d2c  !"#$%&'()*+,-./ 0x02000030 33323130
	37363534 3b3a3938 3f3e3d3c 0123456789:;<=>? 0x02000040 43424140
	47464544 4b4a4948 4f4e4d4c @ABCDEFGHIJKLMNO 0x02000050 53525150
	57565554 5b5a5958 5f5e5d5c PQRSTUVWXYZ[\]^_ 0x02000060 63626160
	67666564 6b6a6968 6f6e6d6c `abcdefghijklmno 0x02000070 73727170
	77767574 7b7a7978 7f7e7d7c pqrstuvwxyz{|}~.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: add software reset support The PIC32MX does not support the ejtag software reset - it is
	optional in the ejtag spec.  We perform the equivalent using the microchip specific MTAP cmd's.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb_server: improved gdb load performance by ack'ing memory writes immediately and reporting either at next
	memory write or stepi/continue time. GDB will then send off a new
	packet that is ready by the time the previous packet has been
	written to target memory.  On faster adapters this can be as much as 10% improvement.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm7/9: remove unused post_restore_context Unused. If something should happen after context restore, then the
	calling code can just do it afterwards.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : bitbang: add jtag_add_tms_seq support Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: add Microchip Explorer16 cfg - add Microchip Explorer16 cfg using PIC32MX360F512L PIM.   - remove reset config from PIC32 target cfg.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-15  Bradey Honsinger <bradeyh@gmail.com>

	* : image loading: fix problem with offsets > 0x80000000 Fixes bug that prevented users from specifying a base address of
	0x80000000 or higher in image commands (flash write_image, etm
	image, xscale trace_image).  image.base_address is an offset from the start address contained in
	the image file (if there is one), or from 0 (for binary files). As a
	signed 32-bit int, it couldn't be greater than 0x7fffffff, which is
	a problem when trying to write a binary file to flash above that
	address. Changing it to a 64-bit long long keeps it as a signed
	offset, but allows it to cover the entire 32-bit address space.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* : rename jtag_nsrst_assert_width as adapter_nsrst_assert_width Globally rename "jtag_nsrst_assert_width" as
	"adapter_nsrst_assert_width", and move it out of the "jtag" command
	group ...  it needs to be used with non-JTAG transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* : rename jtag_khz as adapter_khz Globally rename "jtag_khz" as "adapter_khz", and move it out of the
	"jtag" command group ...  it needs to be used with non-JTAG
	transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  (We
	may want to update it to include a nag message too.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32MX: update cfg script The default config script will now dynamically setup the BMX
	registers in the reset init script.  This will also work if the user
	overrides the default working area.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-14  David Brownell <dbrownell@users.sourceforge.net>

	* : FT2232: lookup and save layout just once Streamline use of the layout:  have the "ft2232_layout" command look
	it up and save the result, instead of having a few different chunks
	of code looking it up later, and saving just its name (which is
	already part of the layout).  This    - is cleaner    - reports errors sooner    - facilitates earlier adapter-specific setup    - removes unused "default to "usbjtag" logic Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  David Brownell <dbrownell@users.sourceforge.net>

	* : versaloon cleanup patch Remove undesirable  - backslashes at end-of-line;  - initializations of BSS data to zero/NULL;  - overlong lines (80+ characters)  - whitespace issues  - brackets around single-line statements And other minor issues reported by the Linux "checkpatch" utility Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-08  Michal Demin <michaldemin@gmail.com>

	* : Add support for Bus Pirate as a JTAG adapter.  This includes a driver and matching config file.  This support needs
	to be enabled through the initial "configure" (use
	"--enable-buspirate").  Signed-off-by: Michal Demin <michaldemin@gmail.com> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2010-03-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: make fixed code arrays static const Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: add flash algorithm support Add flash algorithm support for the PIC32MX.  Still a few things
	todo but this dramatically decreases the programing time, eg. approx
	 programming for 2.5k test file.  - without fastload: 60secs  - with fastload: 45secs  - with fastload and algorithm: 2secs.  Add new devices to supported list.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STR7: flash loader cleanup - make algorithm array static const.   - increase algorithm buffer size to 32k.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ADUC702x: flash loader cleanup - make algorithm array static const.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  David Brownell <dbrownell@users.sourceforge.net>

	* : move a constant table to .rodata section The table of command registration functions shouldn't be in writable
	memory, where stray pointers can clobber it.  Also, it shouldn't be
	initialized at runtime; that just consumes needless code space.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: embedded ice dcc tweak How many bits to shift out before/after enabled tap not in bypass is
	calculated outside the loop. This is more of a demonstration of
	principle and to clarify code than a performance optimisation as
	such. Follows up a bit on the simplification work in jtag interface.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: jtag_add_ir_scan() now takes a single field In the code a single field was all that was ever used. Makes
	jtag_add_ir_scan() simpler and leaves more complicated stuff to
	jtag_add_plain_ir_scan().  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : CFI: review print of Voltage values JEDEC standard reports Vpp integer part encoded as 4 bit HEX value.
	To print it using decimal digits, %u is required.  Other voltage
	values are coded as BCD, so %x is appropriate.  Code already prints one nibble at a time, so no need for field width
	and precision in format string.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-05  David Brownell <dbrownell@users.sourceforge.net>

	* : README: update libftdi version The FT2232H really wants libftdi 0.17 or newer; some notable bugs
	got fixed in that version.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : minidriver: fix arm11 compilation problem Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: trim range in flash_driver_protect() When the beginning or end of the specified range of sectors already
	has the requested protection status, don't ask the flash driver to
	change those sectors.  This will among other things turn command sequences like this into
	the NOPs one would expect:         flash protect_check 0         flash info 0                 ... reports everything as unprotected ...          flash protect 0 0 1 off That speeds things up (by whatever work was just avoided).  Also, with Stellaris (which can't unprotect flash at  page level)
	this can eliminate some undesirable/false error reports.  (And
	finishes fixing a bug currently listed in our bug database...) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: stellaris message tweaks Give a more accurate failure message when trying to unprotect; don't
	complain about pages being write protected, just say that unprotect
	is not supported by the hardware ... referencing the new "recover"
	command, which is the way to achieve that.  Likewise, when trying to protect, talk about "pages" (matching
	hardware doc) not "sectors" (an concept that's alien to these
	chips).  Also make the helptext for the "recover" command mention that it
	also erases the device.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: use new DAP ops for AP read/write Make ADIv5 internals use the two new transport-neutral calls for
	reading and writing DP registers; and do the same for external
	callers.  Also, bugfix some of their call sites to handle the fault
	returns, instead of ignoring them.  Remove most of the JTAG-specific calls, using their code as the
	bodies of the JTAG-specific implementation for the new methods.  NOTE that there's a remaining issue:  mem_ap_read_buf_u32() makes
	calls which are JTAG-specific.  A later patch will need to remove
	those, so JTAG-specific operations can be removed from this file,
	and so that SWD support will be able to properly drop in as just a
	transport layer to the ADIv5 infrastructure.  (The way read results
	are posted may need some more attention in the transport-neutrality
	interface.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: use new dap_run() operation Make ADIv5 use one of the new transport-neutral interfaces: call
	dap_run(), not jtagdp_transaction_endcheck().  Also, make that old interface private; and bugfix some of its call
	sites to handle the fault returns, instead of ignoring them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : target_resume() doxygen Add doxygen for target_resume() ... referencing the still-unresolved
	confusion about what the "debug_execution" parameter means (not all
	CPU support code acts the same).  The 'handle_breakpoints" param seems to have resolved the main issue
	with its semantics, but it wasn't part of the function spec before.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: use right ID for Cortex-M3 ETM Correct a mistake made copying the ID of the Cortex-M3 ETM module
	from the TRM, so that "dap info" on a CM3 with an ETM will now
	correctly describe ROM table entries for such modules.  (They are
	included on LPC17xx and some other cores.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: faster jtag_add_ir_scan() Faster and simpler.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add jtag_add_tms_seq support Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : armv4_5: remove core_type check in mcr/mrc cmd core_type check is not required as the core function will be null
	for cores that do not support the mcr/mrc functions.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stellaris: recover_command use usleep rather than sleep windows api does not define a posix sleep, use usleep that has an
	openocd wrapper to the win32 native function.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : semihosting: add armv7m semihosting support do_semihosting and arm_semihosting now check the core type and use
	the generic arm structure.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : CortexM3: move disassemble cmd to arm cmd group Rather than using a Cortex disassemble cmd, we now use the arm
	generic version.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: add mips algorithm support  - add mips support for target algorithms.   - added handlers for target_checksum_memory and
	 target_blank_check_memory.  - clean up long lines Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Mariano Alvira <mar@devl.org>

	* : Add board/redbee-usb.cfg The Redbee USB is a small form-factor usb stick from Redwire, LLC (www.redwirellc.com/store), built around a Freescale MC13224V
	ARM7TDMI + 802.15.4 radio (plus antenna).  It includes an FT2232H for debugging, with Channel B connected to
	the mc13224v's JTAG interface (unusual) and Channel A connected to
	UART1.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  Mariano Alvira <mar@devl.org>

	* : Add target/mc13224v.cfg The MC13224V is a FreeScale ARM7TDMI based IEEE802.15.4 platform for
	Zigbee and similar low-power wireless applications. Using PIP
	(Platform In Package) technology, it integrates: an RF balun and
	matching network; a buck converter (only an external inductor is
	necessary); 96KB of SRAM; and 128KB of non-volatile memory.  It has an integrated bootloader and can boot from a variety of
	sources: external SPI or I2C non-volatile memory, an image loaded
	over UART1, or the internal non-volatile memory. The image loaded
	from one of these sources is executed directly from SRAM starting at
	location 0x00400000.  Open source development code at http://mc1322x.devl.org Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 DAP ops switching to JTAG or SWD modes Define two new DAP operations which use the new jtag_add_tms_seq()
	calls to put the DAP's transport into either SWD or JTAG mode, when
	the hardware allows.  Tested with the Stellaris 'Recovering a "Locked" Device' procedure,
	which loops five times over both of these.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* : interface: define TMS sequence command For support of SWD we need to be able to clock out special bit
	sequences over TMS or SWDIO.  Create this as a generic operation,
	not yet called by anything, which is split as usual into:  - upper level abstraction ... here, jtag_add_tms_seq();  - midlayer implementation logic hooking that to the lowlevel code;  - lowlevel minidriver operation ... here, interface_add_tms_seq();  - message type for request queue, here JTAG_TMS.  This is done slightly differently than other operations: there's a
	flag saying whether the interface driver supports this request.  (In
	fact a flag *word* so upper layers can learn about other
	capabilities too ...  for example, supporting SWD operations.) That approach (flag) lets this method *eventually* be used to
	eliminate pathmove() and statemove() support from most adapter
	drivers, by moving all that logic into the mid-layer and increasing
	uniformity between the various drivers.  (Which will in turn reduce
	subtle bugginess.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5 doxygen and cleanup Add doxygen for mem_ap_read_buf_u{8,16,32}() calls, and shrink a few
	overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-23  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5: rename more JTAG-specific routines Highlight more of the internal JTAG-specific utilities, so it's
	easier to identify code needing changes to become transport-neutral.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-09  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: allow minidrivers to implement inner loop of memory
	writes This allows minidrivers to e.g. hardware accelerate memory writes.  Same trick as is used for arm7/9 dcc writes.  Added error propagation for memory transfer failures in code
	rearrangement.  Also the JTAG end state is not updated until after the memory write
	run is complete.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232 table init cleanup Use labeled initializers in the table of layouts instead of
	positional ones.  This ls cleaner and less error prone, plus it
	simplifies patches which add members to these structure.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: relocate memacess_tck cycles When using an AP to access a memory (or a memory-mapped register),
	some extra TCK (assuming JTAG) cycles should be added to ensure the
	AP has enugh time to complete that access before trying to collect
	the response.  The previous code was adding these cycles *before* trying to access
	(read or write) data to that address, not *after*.  Fix by putting
	the delays in the right location.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ADIv5, deadcode cleanup I have no idea what the scan_inout_check() was *expecting* to
	achieve by issuing a read of the DP_RDBUFF register.  But in any
	case, that code was clearly never being called ("invalue" always
	NULL) ... so remove it, and the associated comment.  Also rename it as ap_write_check(), facilitating a cleanup of its
	single call site by removing constant parameters.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 clean up AP fault handling Pass up fault codes from various routines, so their callers can
	clean up after failures, and remove the FIXME comments highlighting
	those previously goofy code paths.   dap_ap_{read,write}_reg_u32()  dap_ap_write_reg()  mem_ap_{read,write}_u32()  mem_ap_{read,write}_atomic_u32()  dap_setup_accessport() Make dap_ap_write_reg_u32() just wrap dap_ap_write_reg(), instead of
	cloning its core code (and broken fault handling).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: keep a handle to the PC Keep a handle to the PC in "struct arm", and use it.  This register
	is used a fair amount, so this is a net minor code shrink (other
	than some line length fixes), but mostly it's to make things more
	readable.  For XScale, fix a dodgy sequence while stepping.  It was
	initializing a variable to a non-NULL value, then updating it to
	handle the step-over-active-breakpoint case, and then later testing
	for non-NULL to see if it should reverse that step-over-active
	logic.  It should have done like ARM7/ARM9 does: init to NULL.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: per-core options should not be global Address some FIXME comments by getting rid of globals, moving
	per-core parameters in the existing per-core data structure.  This will matter most whenever there are multiple ARM11 cores, e.g.
	ARM11 MPcore chips, but in general is just cleanup.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Open the merge window for the 0.5.0 release cycle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide mentions OS-specific installation Specifically the Linux issue of needing "udev" rules, and MS-Windows
	needing driver configuration.  Also, update the existing udev note to use the correct name of that
	rules file in the source tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-20  David Brownell <dbrownell@users.sourceforge.net>

	* : CSB337 board cleanup (quasi-regression) Get rid of new nasty warning: NOTE! Severe performance degradation without fast memory access
	enabled...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-16  Marc Pignat <marc.pignat@hevs.ch>

	* : atm920t : fix breakpoints and data cache handling Breakpoints did not work because the data cache was not flushed
	properly.  As a bonus add capability to write to memory marked as read only by
	the MMU, which allows software breakpoints in such memory regions.

2010-02-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : gpl: fix GPL startup message Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-14  Mathias Kuester <mkdorg@users.sourceforge.net>

	* : fix crash with DSP563XX When a DSP563xx-aware GDB asks OpenOCD for target registers, the
	result should be a GDB with register data ... not an OpenOCD crash.  (Note that mainline GDB doesn't currently support this core, so for
	now, this requires a GDB with FreeScale patches.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-13  David Brownell <dbrownell@users.sourceforge.net>

	* : Restore "-dev" version suffix (0.4.0-rc2-dev) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STR9xpec: issue warning when unlocking device Issue warning to user when unlocking or writing the option bytes.
	The new settings will not take effect until a target reset.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm720t: virt2phys callback added This is a copy and paste of arm926ejs. Not tested, but ready for
	testing at least. There is a good chance that it will work if the
	generic armv4_5 fn's are robust enough...  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-11  Viktar Palstsiuk <viktar.palstsiuk@promwad.com>

	* : target library: configuration files for openocd tested with
	Atmel SAM-ICE V6 JTAG.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: fix another infinite loop bug reset init would get stuck in an infinite loop when e.g. khz was too
	high. Added timeout. This is a copy of paste of a number of such
	bugfixes in the arm11 code.  Arm11 code reviewed for further such infinite loop bugs and I
	couldn't find any more. Xing fingers it's the last one...  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-09  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: add todo in target_write_memory() about alignment target_write_buffer() does not align "buffer" in host memory passed
	to target_write_memory().  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-06  David Brownell <dbrownell@users.sourceforge.net>

	* : Re-title Developer's Guide The Doxygen output was previously titled "OpenOCD Reference Manual",
	which was quite misleading ... the User's Guide is the reference
	manual which folk should consult about how to use the software.  Just rename it to match how it's been discussed previously, and to
	bring out its intended audience:  developers of this software.  As a
	rule, Doxygen is only for folk who work with the code it documents.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: complete zy1000_uart to jim command switch Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-02-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Documentation: mention bug database Have the User's Guide and BUG handling notes both reference the fact
	that we now have a bug database at SourceForge.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : CMD: duplicate cmd error msg When registering cmds we report duplicate attempts to register a cmd
	as a LOG_ERROR.  Some situations need this, such as when registering
	dual flash banks.

	http://www.mail-archive.com/openocd-development@lists.berlios.de/msg11152.htmlSigned-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-03  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : JTAG: fix bug when no interface connected  - fix coredump when OpenOCD is started without a jtag interface
	 connected.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-02  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: User's Guide updates Remove long-obsolete text about "erase_check" affecting "flash info"
	output.  Move parts of that text to "protect_check", where it's
	still relevant; and update the "flash info" description to mention
	the issue.  (This is still awkward.  It might be best to make "protect_check"
	mirror "erase_check" by dumping what it finds, so "flash info"
	doesn't dump any potentially-stale cache info.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : flash/str7x: After reset init the flash is unlocked The default state of the STR7 flash after a reset init is unlocked.
	The information in the flash driver now reflects this.  The information about the lock status cannot be read from the flash
	chip, so the user is informed that flash info might not contain
	accurate information.  [dbrownell@users.sourceforge.net: line length shrinkage] Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : Test cases ran on v0.4.0-rc1 Test cases ran on v0.4.0-rc1 for a number of targets: AT91FR40162
	LPC2148 SAM7 STR710 STR912 The goal of the testing session was to prove basic functionality of
	OpenOCD for different targets.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-31  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: more messaging cleanup, docs When the TAR cache was explicitly invalidated, don't bother printing
	it; the actual hardware status is more informative.  Provide some doxygen for the MEM-AP setup routine.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : telnet: fix strage blank spaces at beginning of telnet lines Sometimes we saw two strange blank spaces at the beginning of the
	telnet lines.  progress   ogress > This patch fixes this problem: progress progress > The code changes are *reasonably* clean, but perhaps it could be
	made a bit more elegant, but I didn't want to change things after I
	finished diagnosis/testing & submitting the patch.  The problem was that logging can send the text and the newline
	separately in two different requests and the telnet code would
	incorrectly remove the prompt from the end of a line.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-30  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 error checking for Tcl commands Reject invalid AP numbers (256+) as Tcl operation parameters.
	Shrink one of the overlong lines.  Add my copyright to the ADIv5 code (multiple contributions).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: cleanup, rename swjdp_transaction_endcheck() Make messages reference "DAP" if they're actually
	transport-agnostic, or "JTAG-DP" when they're JTAG-specific.  Saying
	SWJ-DP is often wrong (on most Cortex-A8 chips) and is confusing
	even if correct (since we don't yet support SWD).  Rename a JTAG-specific routine to jtagdp_transaction_endcheck() to
	highlight that it's JTAG-specific, and that identify DAP clients
	undesirably depending on JTAG.  (They will all need to change for
	SWD support.) Shrink a few overlong lines of code.  Copy a comment from code
	removed in a previous patch (for the ARMv7-M "dap baseaddr"
	command).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: cleanup driver decls Fix goofy struct indents.  Function names *are* their addresses.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  David Brownell <dbrownell@users.sourceforge.net>

	* : doc clarifications for server flags The "-f" is a shortcut for "-c" ... and providing any "-c" options
	means the "openocd.cfg" file isn't implicitly used.  Both the User's
	Guide and the manual page were weak on these points, which has led
	to some confusion.  Also update the manual page to include highlights of the search path
	mechanism, including the facts that it exists and that "-s" adds to
	it.  Stop saying only the current directory is involved; the OpenOCD
	script library is quite significant.  (Missing: complete manpage coverage of the search path, including a
	FILES section listing all components and saying where the script
	library is found.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ARM semihosting: win32 and cygwin fixes Cygwin would fail to reopen a previously written file if the mode is
	not given.  Simplified converting the open flags and made sure the win32
	O_BINARY bit is set.  Added define for systems that do not support O_BINARY.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: report lockup, and recover ARMv7-M defines a "lockup" state that's entered in certain double
	fault sequences which can't be recovered from without external help.
	OpenOCD has previously ignored this.  Issue a diagnostic saying the chip has locked up, and force exit
	from this state by halting the core.  It's not clear this is the
	best way to handle lockup; but there should now be less confusion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: debug messaging tweaks Make that "TODO" message say what needs to be done.  Say what part
	of examining failed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-26  David Brownell <dbrownell@users.sourceforge.net>

	* : cygwin buildfix isspace() parameter must be an integer, else a 'char' gets used as
	an array index (sigh).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-25  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : core arm11: Silence logs at level 3 if there is no activity If the target and openocd are idling, the log should normally be
	silent at level 3.  (Given no verbose logging options.) Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* : EmbeddedICE - fix Feroceon/Dragonite message The breakpoint/watchpoint message was wrong for Feroceon and
	Dragonite, which have only one working watchpoint unit.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fix breakpoints with GDB This fixes a bug whereby GDB's breakpoints weren't activated.  The
	root cause is a confused interface to resume().  Fix by almost
	ignoring the "handle breakpoints" parameter; it only seems related
	to the case of skipping breakpoint-at-PC.  Update a few coments to clarify what's happening.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide secton on target hardware setup Highlight the needs to properly jumper development boards; to make
	the OpenOCD configuration match the jumpering; and to have a usable
	"reset-init" method when debugging early boot code.  Specific mention of the "ATX Mode" that seems useful on many i.MX
	boards, forcing NAND boot.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: print reason why GDB halts If GDB halts unexpectedly, print reason: srst assert or power out
	detected.  If polling fails, then things are a bit trickier. We do not want to
	spam telnet or the log with polling failed messages.  Leave that
	case be w/a comment in a code for now.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : target: Fixed format problem for mdh Fixed format problem for mdh. It needs to display 4 chars.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : ecos: add missing PRId8 definition Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3 vector_catch testing support The "cm3-ftest.cfg" can be used to verify that OpenOCD handles
	certain faults correctly:  - Test #1: it ignores faults that it wasn't told to catch  - Test #2: if vector_catch is told to catch, it catches The "fault.c" generates ASM code to trigger faults, while the config
	script loads and runs pre-compiled code.  This covers most, but not all, of the vector_catch options.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* : gdb_server: correctly report flash sector sizes Report each region of same-size sectors separately, instead of
	incorrectly reporting that every sector has the same size.  This is a longstanding bug on NOR flash chips with non-uniform
	sector sizes.  It was largely hidden by other bugs in flash
	handling.  When some of those were recently fixed, this one was
	exposed as a regression on str710.  [oyvind.harboe@zylin.com: update the loop to behave on str7 ] Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : testing: fix str710 test case now builds Make the test case easily adjustable in size. str710 has very
	peculiar flash sector layout, nice for testing, but a larget
	test_rom.elf is required.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ARMV7M: handle bkpt instruction on resume/step Skip over a bkpt instruction if found on resume/step.  Only software
	breakpoints known to OpenOCD are currently handled.  So this handles the special case of either a user added bkpt or
	library added, eg. semi-hosting support.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-19  David Brownell <dbrownell@users.sourceforge.net>

	* : gdb_server -- subroutinize memory map logic Put the memory map logic into its own subroutine.  This will make it
	a bit easier to package bugfixes, and simplifies the query packet
	handling.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : update win32 script search path The default script search path on Windows is out of date with the
	current layout (from installation and documentation), which makes
	the standard script library not be found after a normal         ./configure && make && make install under msys/MinGW. The same should hold true for cygwin native builds
	(not verified).  Update search path to ../share/openocd/scripts not ../lib/openocd,
	relative to the openocd executable.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: flush jtag buffer before changing speed It is conceivable that there could be commands in the queue when a
	speed change request comes in. Flush the hw queue before changing
	speed. Not observed, found by inspection.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-19  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: add error messages upon incorrect arguments to flash
	iteration According to OpenOCD error handling rules the error is logged at
	where it occurs(same site where an exception would have been
	thrown).  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-18  yvind Harboe <oyvind.harboe@zylin.com>

	* : commands: allow scan_chain command to be executed during config Adding taps and then dumping them is quite reasonable thing to do in
	a config script.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-16  richard vegh <vegh.ricsi@gmail.com>

	* : NAND: lpc3180 crashes on LPC3250 The LPC3180 NAND driver was crashing on some large page chips.  Fix:  - Crash and related functionality (don't memset too much OOB data)  - Some debug messages  - Command handling now works [dbrownell@users.sourceforge.net: whitespace/linelength/message
	cleanup] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: disable some nyet-ready breakpoint code Until we manage breakpoints at runtime (patches not ready for 0.4)
	the only way this code should touch them is to disable them at
	server startup (a previous debug session may have left them active).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag.h whitespace/comment cleanup Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/ARM9: improved reset support Teach most remaining ARM cores how to use the "reset-assert" event.  Same model as elsewhere:  iff a handler is provided for that event,
	use that instead of trying to assert SRST (which may be unavailable,
	or inappropriate since it resets too much).  Else no change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  Laurentiu Cocanu <laurentiu.cocanu@zylin.com>

	* : str9x.c: remove optimization when erasing the whole bank Using the erase bank command will cause a time out error. Replacing
	this with the erase sector bank will provide a slower but safer and
	stable method to erase the flash.  Signed-off-by: Laurentiu Cocanu <laurentiu.cocanu@zylin.com>
	Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-14  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : GDB: change gdb_breakpoint_override to COMMAND_ANY  - enable gdb_breakpoint_override to be used within config script.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-13  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: add optional "flash erase_address" sector padding Add a NOR flash mechanism where erase_address ranges can be padded
	out to sector boundaries, triggering a diagnostic:   > flash erase_address 0x0001f980 16   address range 0x0001f980 .. 0x0001f98f is not sector-aligned   Command handler execution failed   in procedure 'flash' called at file "command.c", line 647   called at file "command.c", line 361   >   > flash erase_address pad 0x0001f980 16   Adding extra erase range, 0x0001f800 to 0x0001f97f   Adding extra erase range, 0x0001f990 to 0x0001fbff   erased address 0x0001f980 (length 16) in 0.095975s (0.163 kb/s)   > This addresses what would otherwise be something of a functional
	regression.  An earlier version of the interface had a dangerous
	problem:  it would silently erase data outside the range it was told
	to erase.  Fixing that bug turned up some folk who relied on that
	unsafe behavior.  (The classic problem with interface bugs!) Now
	they can get that behavior again.  If they really need it, just
	specify "pad".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm7/9: enable check that DCC downloads have been enabled Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: add check_reset hook Allow targets to run checks post reset. Used to check that e.g. DCC
	downloads have been enabled.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : debug: make logging of commands terser one line / command instead of one line per argument.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Vladimir Zapolskiy <vzapolskiy@gmail.com>

	* : Added Openmoko USB JTAG interface config file.  Added interface config file for JTAG/RS232 debug board originally
	integrated to Neo 1973 and Neo FreeRunner phones.  Adapter was
	tested with i.MX31, S3C2410 and AT91SAM9260 processors.  Signed-off-by: Vladimir Zapolskiy <vzapolskiy@gmail.com>

2010-01-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : reset: better error messages Use correct tcl syntax to throw exception.  the syntax is "return -code error" not "return -error" Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: reset bugfix flush JTAG FIFO before reset. Fixes RCLK problems observed
	w/lpc2148, but really fixes a wider range of problems.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : shutdown: more graceful shutdown Shutdown is not an error condition, do not return error from main.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-10  David Brownell <dbrownell@users.sourceforge.net>

	* : FreeBSD build fixes Based on notes from Tomek Cedro <tomek.cedro@gmail.com> and Steve
	Franks <bahamasfranks@gmail.com>.  In the User's Guide, sort the list of operating systems reported
	through Tcl with $ocd_HOSTOS ... and include FreeBSD.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag/tcl help/usage fixups The usual: expand several helptexts to be more correct and to use
	full sentences; make the usage messages use the same EBNF as the
	User's Guide; use function names for their addresses.  Also add a comment about that odd jtag_command_handlers_to_move[]
	thing.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag: presto, parport help/usage updates Presto: add doxygen file comment.  Parport: note a couple gaps in layout config.  Both: use the uniform EBNF for usage, bugfix helptexts, use function
	name as its address not "&name".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : parport (mostly) doc fixes The "parport_port" commands generally don't *require* a port_number;
	they're of the "apply any parameter, then print result" variety.
	Update the User's Guide accordingly.  Some of those commands are intended to be write-once: parport_port,
	and parport_cable.  Say so.  Use proper EBNF for the parport_write_on_exit parameter.  Parport address 0xc8b8 is evidently mutant.  Say so in the
	"parport.cfg" file, to avoid breaking anyone with that mutant
	config.  But update the User's Guide to include a sane example for
	the LP2 port.  Finally document the "presto_serial" command.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : src/flash/nor: usage/help/doc updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace; shrink a few overlong
	lines; fix some bad indents.  Add TODO list entry re full support for NAND/NOR bank names.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : src/server: usage/help/doc updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Specifically for the port commands, clarify that the number is
	optional, and omitting it causes the current number to be displayed.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace; shrink a few overlong
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : PLD: usage/help updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace, shrink a few overlong
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : Doc/examples: clarify usage messages Update/bugfix the "hello" example; emphasize using EBNF syntax,
	matching the User's Guide.  Correct the Texinfo style guide to say
	EBNF, not BNF.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : MFLASH: help/usage updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: add FIXMEs for writing ones It can invalidate ECC codes, and in general is not guaranteed to
	work.  (However on some chips it _appears_ to behave.)  Just don't
	do it; don't write in those cases.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM966: help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Fix the User's Guide to say where the magic CP15 bits are defined;
	and add comments in case someone provides mcr/mrc methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720: help/usage updates Deprecate the "pass an instruction opcode" flavor of cp15 access in
	favor of the "arm mcr ..." and "arm mrc ..." commands, which offer
	fewer ways to break things.  Use the same EBNF syntax in the code as for the user's guide.  Update User's Guide to say where to find those magic values (which
	table in the ARM920 TRM).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Uupdate some helptext to be more accurate.  Fix the User's Guide in a few places to be more consistent (mostly
	to use brackets not parentheses) and to recognize that parameter may
	be entirely optional (in which case the command just displays
	output, and changes nothing).  Also reference NXP, not Philips, for
	LPC chips.  Don't use "&function"; functions are like arrays, their address is
	their name.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines, remove some empties.  Add a couple comments about things that should change:  those extra
	TCK cycles for MEM-AP reads are in the wrong place (that might
	explain some problems we've seen); the DAP command tables should be
	shared, not copied.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : target misc: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines; remove some empties.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: change bulk_write_memory fallback msg to LOG_DEBUG Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: fastdata bulk write fallback If fastdata access fails, then fallback to default
	mips_m4k_write_memory Remove unnecessary fastdata loader verify
	check Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* : don't require 'openocd.cfg' to start Starting the daemon with with just a bare "openocd" I saw:         Can't find openocd.cfg That's not an error; don't treat it as if it were.  There may be an
	error later -- like, "no interface set up" -- but let messages only
	report real errors, not fake ones.

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add comments re DAP assumptions I think some of these assumptions are not well-founded.  Related,
	that swjdp_transaction_endcheck() is a bit iffy.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: enable ram execution add reset-init script to allow ram execution from reset, this is
	required for ejtag fastdata access.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : parport: output port as hex rather than dec Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: fix regression in gdb_port command The gdb_port command can be invoked during normal execution to
	report the port used for gdb, whereas it was listed as CONFIG stage
	only, which caused an error when excuting it to return the reported
	error.  Also in line with the grander goal of making more commands available
	during all "modes" (perhaps retiring config mode), there is no
	particular reason to limit gdb_port to the config stage.  Regression was introduced in: b3bf1d12b2fdfba1c1cbee3e1afbfbb27cbd1a26 aka v0.4.0-rc1-32-gb3bf1d1 Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2010-01-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-M:  use AP_REG_* symbol Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG/drivers: ft2232 docs Add doxyegen description for this driver.  Correct the helptext (configures *or* displays based on #params),
	and usage (use the same BNF as the User's Guide).  Remove superfluous #include Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: Amontec JTAG accelerater "rtck" is back The command processing conversion a while back lost the "rtck"
	enable/disable command; restore it.  NOTE that having such a command is wrong; there's a standard way to
	enable adaptive clocking ("speed 0").  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG/drivers: amt_jtagaccel fixes + cleanup Build fixes:  it failed abysmally with PPDEV enabled.  Swapped a
	build-time error with a FIXME comment in the affected macros.  Cleanup: remove "&" before function pointers, and excess indent, for
	the interface struct declaration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: dap info fix + tweaks Fix: don't print the BASE address except if it's a MEM-AP; that's an
	unlikely error, but there's no point getting it wrong.  Tweaks:
	comments, capitalization.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ADIv5 symbol and comment cleanup Instead of magic numbers, use their AP_REG_* constants.  Rename the
	ROM address symbol as BASE to match ARM's documentation.  Comment various other symbols in the header; add some missing ones.
	Remove an unused struct.  Add some doxygen for stuff including the
	DAP structure and initialization.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : streamline and document helptext mode displays Most commands are usable only at runtime; so don't bother saying
	that, it's noise.  Moreover, tokens like EXEC are cryptic.  Be more
	clear: highlight only the commands which may (also) be used during
	the config stage, thus matching the docs more closely.  There are  - Configuration commands (per documentation)  - And also some commands that valid at *any* time.  Update the docs to note that "help" now shows this mode info.  This also highlighted a few mistakes in command configuration,
	mostly commands listed as "valid at any time" which shouldn't have
	been.  This just fixes ones I noted when sanity testing.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-01  Dean Glazeski <dnglaze@gmail.com>

	* : Add the current command to the command information I wanted to make it so I can be ignorant of a commands invocation
	string, so I tried to use CMD_CURRENT (aka cmd->current) which is
	supposed to house a pointer to the current command. It turns out
	that this wasn't being set.  This patch adds the current command structure to the command
	invocation structure before sending it along to the command handler.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: warn about the forum Namely, that developers don't hang out; it's a users-only club.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM7_9: Fix segfaults Handlers for commands  - arm7_9 semihosting <enable | disable>  - $_TARGETNAME arp_reset assert 1 didn't check if target has
	already been examined, and could segfault when using the NULL
	pointer "arm7_9->eice_cache".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM9TDMI: Fix segfault.  The handler for "arm9tdmi vector_catch ..." did not check if target
	has already been examined.  Without this fix it segfaults when using
	NULL pointer "arm7_9->eice_cache".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add zy1000_ prefix to uart command less polution of the general namespace(preventive action, no
	problems reported).  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-29  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: reconfigure FPGA upon reset instead of just the CPU Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-25  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: less warnings use inline for static functions in header files to avoid warnings
	about fn not being used.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* : Added floss-jtag interface config file.

2009-12-28  Freddie Chopin <freddie_chopin@op.pl>

	* : stm32x commands get "usage" Add .usage fields to stm32x command_registration, so that "help
	stm32x" shows required parameters.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* : NOR: last_addr also needs correction when checking alignment Otherwise the new alignment checking algorithm thinks that the
	address is not aligned, because it is way beyond the last sector.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-27  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: make flash_write_unlock() pad to sector end Resolve a regression when using newish automagic "write_image"
	modes, by always padding to the end of affected sectors.  Also document some issues associated with those automagic options,
	in the User's Guide and also some related code comments.  We might need similar padding at the *beginning* of some sectors,
	but this is a minimalist fix for the problems which have currently
	been reported (plus doc updates).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  Dean Glazeski <dnglaze@gmail.com>

	* : Olimex SAM9-L9260 board configuration update.  This updates the board configuration for the SAM9-L9260 board with
	the configuration for the on-board NAND and dataflash.  Included are
	commands for configuring the AT91SAM9 NAND flash driver.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: update GDB info Advise leaving background polling enabled; fix broken URL; add
	simple program startup example.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: Allocate the right amount of memory Switch to calloc() to simplify review and initialization.

2009-12-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : PARPORT code cleanup: Align elements in array.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* : v0.4.0-rc1 milestone Winter Solstice, 2009.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Packaging fix Don't forget to list target/arm_opcodes.h Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-20  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: cleanup Misc:  - Introduce some "struct reg" temporaries, for clarity  - Shorten lines  - Add some missing whitespace  - Clean up comments  - Add notes about some fault handling issues  - Most of these errata workarounds are for *OLD* chip revisions Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm7_9: Support VINITHI signal Command "reset halt" checks if PC properly resets, issueing warning:
	"PC was not 0. Does this target need srst_pulls_trst?".  Checking PC
	against 0 is not always correct.  Removed PC value check, as suggested by yvind Harboe.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: U-PROPRIET-28D9DF\PROPRIETAIRE
	<PROPRIETAIRE@propriet-28d9df.(none)>

2009-12-09  Dean Glazeski <dnglaze@gmail.com>

	* : AT91SAM9 NAND flash driver.  This creates the TCL interface for configuring an AT91SAM9 NAND
	flash controller and implements the necessary functions to correctly
	work with a NAND flash device connected to the chip.  This includes
	updates to the driver list and the Makefile.am to support building
	the driver and also houses the documentation update in openocd.texi.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: add "etm trigger_debug" command In conjunction with manual register setup, this lets the ETM trigger
	cause entry to debug state.   It should make it easier to test and
	bugfix the ETM code, by enabling non-trace usage and isolating bugs
	specific to thef ETM support.  (One current issue being that trace
	data collection using the ETB doesn't yet behave.) For example, many ARM9 cores with an ETM should be able to implement
	four more (simple) breakpoints and two more (simple) watchpoints
	than the EmbeddedICE supports.  Or, they should be able to support
	complex breakpoints, incorporating ETM sequencer, counters, and/or
	subroutine entry/exit criteria int criteria used to trigger debug
	entry.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: start cleaning up ETM_CTRL bit handling Provide better comments for the ETM_CTRL bits; use the correct bit
	for half/full clock mode; and define a few more of the bits
	available from the earliest ETM versions.  The new bit defintions use ETM_CTRL_* names to match their register
	(instead of ETM_PORT_* or ETMV1_*).  For clarity, and better
	matching to docs, they are defined with bitshifting not pre-computed
	masks.  Stop abusing typdefs for ETM_CTRL values; such values are not
	limited to the enumerated set of individual bit values.  Rename etm->portmode to etm->control ... and start morphing it into
	a single generic shadow of ETM_CTRL.  Eventually etm->tracemode
	should vanish, so we can just write etm->control to ETM_CTRL.  Restore an "if" that somehow got dropped.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS: mention libftdi 0.17

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : Subject: flash fill[bwh] should use bulk i/o It's currently allocating a big buffer but writing it out in units
	of sizeof(host's pointer) ... sub-optimal.  Plus fix a couple minor coding style goofs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: better {read,write}_phys() We can actually do the right thing if the MMU is off; save the error
	message for the phys-but-MMU-enabled path, which is what isn't yet
	supported.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: update bulk flash writes Try to right-size the SRAM buffers, by not:  - using them for very small writes  - giving up when a large buffer isn't available  - allocating buffers much larger than their data Also don't:  - bother loading the code unless we allocate the writebuffer too  - be so verbose with messaging:     * be more concise     * reduce importance (e.g. DEBUG not WARNING)     * remove duplication The minimum buffer size is something of a guess.  It's eight times
	smaller than before, almost the same size as the code being
	downloaded.  It probably deserves some tuning.  Also, note an erratum affecting flash protection on some chips; and
	narrow many over-wide lines affected by the above changes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-17  Dean Glazeski <dnglaze@gmail.com>

	* : NAND read data page refactor.  Added a new function to encapsulate reading a page of data from a
	NAND device using either the read_block_data function of a NAND
	controller or to use direct reading of data from the NAND device.  This also adds some performance enhancements and uses the read_data
	function if the read_block_data function fails safely (because it
	can't allocate a buffer in the working area).  [dbrownell@users.sourceforge.net: fix fault handling, whitespace] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : Remove duplicate Olimex-"tiny" interface We already have tcl/interface/olimex-jtag-tiny.cfg and don't need a
	clone of it.

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: comments Someday revisit various issues:  Tempest parts support writing more
	than one word at a time; for some target firmware it might be
	necessary to save and restore flash IRQ configuration.  (The safest
	policy is likely to always reset after flash updates.) Plus swap some undesirable TAB characters with SPACE.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: remove needless code No point in reading and discarding a status value when fetching part
	description data.  Or having that needless "#if 0" code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: bugfix "flash fill[bwh] ..." helptext These commands don't have a "bank" parameter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : ecos: crisper implementation of timeval_ms() A crisper/faster implementation under eCos that makes profiling a
	tad easier.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  David Brownell <dbrownell@users.sourceforge.net>

	* : more tcl/{board,target} cleanup Remove more remnants of the old "jtag_device" syntax.  Don't [format "%s.cpu" $_CHIPNAME] ... it's needless complexity.  Remove various non-supported "-variant" target options; they're not
	needed often at all.  Flag some of the board files as needing to have and use target files
	for the TAP and target declarations.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: use all-ones for BYPASS, not five-ones PXA3xx has more than five bits in IR.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with command.h cleanup Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  yvind Harboe <oyvind.harboe@zylin.com>

	* : imx31: move srst delay into config script reset init/run now works again.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: disassemble STM correctly There is no "STMMIDA" instruction.  There is however "STMDAMI".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  Yegor Yefremov <yegorslists@googlemail.com>

	* : Common target file for Stellaris chips Common target.cfg file for LM3S CPU family [dbrownell@users.sourceforge.net: rename, generalize more] Signed-off-by: Yegor Yefremov <yegorslists@googlemail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag: add '-ignore-version' option Add a "-ignore-version" to "jtag newtap" which makes the IDCODE
	comparison logic optionally ignore version differences.  Update the "scan_chain" command to illustrate this by showing the
	"*" character instead of the (ignored) version nibble.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-13  David Brownell <dbrownell@users.sourceforge.net>

	* : target: further shrink Jim-awareness Don't include <helper/jim.h> from target.h ... not everything which
	touches targets needs to be able to talk to Jim.  Plus, most files
	include this header by another path.  Also, switch the affected files to use the classic sequence for
	#included files:  all <framework/headers.h> first, then the
	"local_headers.h".  This helps prevent growth of problematic
	layering, by minimizing entanglement.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: avoid pointless status returns For some routines that only returned ERROR_OK and where the caller
	never checked ... don't bother.  Remove some noise, and bugfix some
	comments.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  Zachary T Welch <zw@superlucidity.net>

	* : fix 'write_image' usage information The 'flash write_image' command erroneously listed the bank number,
	when it actually uses target addresses to do that lookup for the
	user.

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: disassembly fixes for LDC/STC/MRRC/MCRR Properly detect all of these, including the "2" variants; and bugfix
	parameter display for LDC and STC.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : server: add server_preinit which is called before config file is
	parsed.  This fixes the issue under native win32 of the socket interface not
	being enabled (via WSAStartup) before init is called from a script.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : gdb_server: use more local variables in inner loop of fetching
	packetstiny refactoring to allow optimisation of inner loops Some profiling information for arm7 16MHz GDB load operation shows
	gdb_get_packet_inner() near the very top.  Each sample counts as 0.01 seconds.    %   cumulative   self              self     total  time   seconds   seconds    calls  Ts/call  Ts/call  name  52.91      2.27     2.27
	 embeddedice_write_dcc 11.89      2.78     0.51
	  gdb_get_packet_inner 8.86      3.16     0.38
	  memcpy 3.26      3.30     0.14
	  idle_thread_main(unsigned int) 3.03      3.43     0.13
	cyg_in_cksum Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : optimisation: tiny optimisation for embedded ice use two shift operations instead of three to set embedded ice
	register.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  David Brownell <dbrownell@users.sourceforge.net>

	* : anotyer cygwin compile fix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: update arm_opcodes.h copyright I neglected to copy Magnus' copyright when I moved several
	declarations from the ARMv7-M header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* : Comment and doxygen fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  Rafael Campos Las Heras <methril@gmail.com>

	* : Fix compilation error with gcc 4.4.1 Signed-off-by: Rafael Campos Las Heras <methril@gmail.com>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove needless "extern"s Most of these happened to be in the target.h file.  Some of those are associated with symbols that could be removed at
	some point ... e.g. NVP_ASSERT/true and its sibling
	NVP_DEASSERT/false.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: cygwin complile fixes It's as if despite integers being 32-bits, GCC refuses to convert a
	"uint32_t" to one of them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : minidriver: fix inline capability of minidriver Low latency low CPU processing power systems(embedded) will benefit
	greatly from being able to inline certain jtag_add_xxx() fn's. The
	trick is that this has to be done in such a way as to allow
	implementing an OpenOCD API with a shared library(eventually) on a
	PC hosted OpenOCD.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-05  yvind Harboe <oyvind.harboe@zylin.com>

	* : build: add build/src to include path This allows including generated include files.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: list number of HW breakpoints/watchpoints When starting up, say how many hardware breakpoints and watchpoints
	are available on various targets.  This makes it easier to tell GDB how many of those resources exist.
	Its remote protocol currently has no way to ask OpenOCD for that
	information, so it must configured by hand (or not at all).  Update the docs to mention this; remove obsolete "don't do this"
	info.  Presentation of GDB setup information is still a mess, but at
	least it calls out the three components that need setup.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: don't clone arm_arch_state() code Have various ARM cores delegate to arm_arch_state() to display basic
	information, instead of duplicating that logic.  This shrinks the code, makes them all report when semihosting is
	active, and highlights which data are specific to this core.  (Like
	ARM720 not having separate instruction and data caches.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: use <target/arm.h> not armv4_5.h Move most declarations in <target/armv4_5.h> to <target/arm.h> and
	update users.  What's left in the older file is stuff that I think should be
	removed ... the old register cache access stuff, which makes it
	awkward to support microcontroller profile (Cortex-M) cores.  The armv4_5_run_algorithm() declaration was moved too, even though
	it's not yet as generic as it probably ought to be.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: move opcode macros to <target/arm_opcodes.h> Move the ARM opcode macros from <target/armv4_5.h>, and a few Thumb2
	ones from <target/armv7m.h>, to more appropriate homes in a new
	<target/arm_opcodes.h> file.  Removed duplicate opcodes from that v7m/Thumb2 set.  Protected a few
	macro argument references by adding missing parentheses.  Tightening up some of the line lengths turned up a curious artifact:
	the macros for the Thumb opcodes are all 32 bits wide, not 16 bits.
	There's currently no explanation for why it's done that way...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: disassemble two more v6+ instructions The SRS and RFE instructions speed exception entry/exit by making it
	easy to save and restore PC and SPSR.  This handles both ARM and
	Thumb2 encodings.  Fix minor PLD goofage; that "should never reach this point" can't
	happen, so remove it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : OMAP2420: define reset-assert event Behave like OMAP3530:  force global software reset.  Given the patch
	to teach ARM11 how to use these events, and use VCR to catch the
	reset vector, this works better than either the current reset logic
	or than using SRST.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* : add 'flash list', rewrite 'flash banks' Rename the existing 'flash banks' implementation as 'flash list',
	and replace the broken 'flash_banks' TCL wrapper with a new command
	handler.  Adds documentation for the new 'flash list' command in the user
	guide.

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* : fix NOR flash regression When factoring the bank setup command into flash_bank_add(), I
	forgot to include a call to the new helper.

2009-12-05  Mathias Kuester <kesmtp@freenet.de>

	* : NOR: add 29LV400BC flash device Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-05  Nicolas Pitre <nico@fluxnic.net>

	* : ARM semihosting: work with both low and high vectors Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : move remaining nand helper files Move remaining NAND implementation files into src/flash/nand/.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : split NAND driver handling into nand/driver.[ch] This work parallels the NOR directory, encapsulating the NAND
	drivers into a separate file.  This takes an extra step by
	encapsulating the type of data structure used to manage the drivers,
	allowing it to be changed from an array to a dynamic list in the
	future.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename armv4_5_build_reg_cache() as arm_*() Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: misc generic cleanup Remove an undesirable use of the CPSR symbol ... it needs to vanish.
	Flag mode-to-number stuff as obsolete; say why ... should also
	vanish.  Get rid of no-longer-used mode and state typedefs.  Comment a few of the implicit ties to "classic ARM".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: switch target_to_armv4_5() to target_to_arm() And remove that old symbol.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename armv4_5_mode_* AS arm_mode_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename ARMV4_5_STATE_* as ARM_STATE_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: basic watchpoint support Use the DPM watchpoint support; remove old incomplete stubs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : reorder build order of src directory Descend into the library modules in order, from bottom-to-top.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : split flash.h into into flash/nor/*.h Move the bulk of the flash.h file into flash/nor/core.h, leaving an
	empty husk that will be removed in the next patch.  The NOR driver structure is an implementation detail, so move it
	into its own private header file <flash/nor/driver.h> along with
	helper declaration for finding them by name.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : split NOR and NAND flash headers Moves common flash errors to <flash/common.h> to decouple these two
	mostly unrelated trees of code.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : add flash/nor/drivers.c Encapsulates access to the flash_drivers array, providing a base of
	operations for future dynamic driver module loading features.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: semihosting entry cleanup Clean up arm_semihosting() entry a bit, comment some issues and just
	which SVC opcodes are getting intercepted.  Microcontroller profile
	cores will need a new entry, since they use BKPT instead (and don't
	have either SVC mode or an SPSR register).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: more semihosting info List it in the concept index, in the section about target software
	changes a project might want to consider, and in the section about
	debug messaging.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : add flash/nor/core.[ch] The newly moved flash TCL routines access the internals of the
	module too much.  Fix the layering issues by adding new core NOR
	flash APIs: <flash/nor/core.h>:   - flash_driver_find_by_name() - self-descriptive <flash/nor/imp.h>:   - flash_bank_add()            - encapsulates adding banks to bank
	  list - flash_bank_list()           - encapsulates retreiving bank list This allows the externs in flash/nor/imp.h to be removed, and these
	mechanisms may now be re-used by other flash module code.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : separate Jim from jtag/core.c After previous efforts, only one Jim routine remained in
	jtag/core.c, and moving it to jtag/tcl.c painlessly finishes
	separating these layers.  The headers need separating, but the
	implementation is clean.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : check top-level command registrations When calling module_register_commands, the return value needs to be
	checked for failures.  Instead of duplicating code, use an array of
	function pointers to the identical registration functions to iterate
	over during startup.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : target: cygwin build fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Nicolas Pitre <nico@fluxnic.net>

	* : basic ARM semihosting support Semihosting enables code running on an ARM target to use the I/O
	facilities on the host computer. The target application must be
	linked against a library that forwards operation requests by using
	the SVC instruction that is trapped at the Supervisor Call vector by
	the debugger.  The "hosted" library version provided with
	CodeSourcery's Sourcery G++ Lite for ARM EABI is one example.  This is currently available for ARM9 processors, but any ARM variant
	should be able to support this with little additional work.  Tested using binaries compiled with Sourcery G++ Lite 2009q1-161 and
	ARM RVCT 3.0.  [dbrownell@users.sourceforge.net: doc tweaks, NEWS] Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : Make ARM NAND I/O operations aware of last op Updates the ARM NAND I/O code to look at and update the op field of
	arm_nand_data to reflect the last operation performed.  It uses this
	field to copy the correct code to the target in the case where the
	struct is used for reads and writes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Dean Glazeski <dnglaze@gmail.com>

	* : NAND page command refactoring.  Created a new function that handles sending a command and the
	address information for pages to a NAND device.  [dbrownell@users.sourceforge.net: tweaked line lengths, name
	'oob_only'] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: share debug reason logic No point in both ARM11 and Cortex-A8 having private copies of the
	logic sorting out e.g. DBG_REASON_WATCHPOINT.  Add and use a shared routine for this ... there's actually a bunch
	more debug entry logic that could be shared, this is just a start on
	that.  Note that this routine fixes a bug observed in the ARM11
	code, where some abort mode quirks were displayed as being an
	unknown debug reason; and also silences needless ARM11 chatter.  Likewise with private copies of DSCR ... add one to the DPM struct.
	Save it as part of setting DBG_REASON_* so later patches can switch
	over to using that copy.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: make DSCR bit defs sharable Move the symbols for these bits from "armv7a.h" to "arm_dpm.h",
	where they can be seen and used not just by Cortex-A but also by the
	ARM11 (armv6) code.  Change them from bit numbers to bit masks ... this matches the usage
	in ARM11 code, and also makes it easier to read.  Rename DSCR_EXT_INT_EN as DSCR_ITR_EN to match the docs; it's
	enabling ITR functionality, not external interrupts, so this changes
	the name to be less misleading.  (There *IS* a bit affecting
	interrupts, and this isn't it.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : fix double 'init' regression To prevent regression in the behavior of 'init', we allow it to run
	in any mode.  If provided with -c init and with -c noinit, then the
	second init at startup caused a spurious mode failure.  Let 'init'
	handle it.

2009-12-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: include files have moved about now compiles again after include files were moved about to reduce -I
	usage and stop using quotes but rather angle brackets for include
	files.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "../hello.h" to "hello.h" Before we can -I the top-level src/ directory alone, references to
	"hello.h" must be updated.  This is an internal header, so it does
	not need angle brackets.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "svf.h" to <svf/svf.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "svf.h" the following form should be used.          #include <svf/svf.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "telnet_server.h" to <server/telnet_server.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "telnet_server.h" the following form should be used.          #include <server/telnet_server.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "httpd.h" to <server/httpd.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "httpd.h" the following form should be used.          #include <server/httpd.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "s3c24xx_regs.h" to <flash/nand/s3c24xx_regs.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "s3c24xx_regs.h" the following form should be used.          #include <flash/nand/s3c24xx_regs.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "nand.h" to <flash/nand.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "nand.h" the following form should be used.          #include <flash/nand.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "flash.h" to <flash/flash.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "flash.h" the following form should be used.          #include <flash/flash.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "trace.h" to <target/trace.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "trace.h" the following form should be used.          #include <target/trace.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "target.h" to <target/target.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "target.h" the following form should be used.          #include <target/target.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "mips_ejtag.h" to <target/mips_ejtag.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "mips_ejtag.h" the following form should be used.          #include <target/mips_ejtag.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "mips32.h" to <target/mips32.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "mips32.h" the following form should be used.          #include <target/mips32.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "etm.h" to <target/etm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "etm.h" the following form should be used.          #include <target/etm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "breakpoints.h" to <target/breakpoints.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "breakpoints.h" the following form should be used.          #include <target/breakpoints.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv7m.h" to <target/armv7m.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "armv7m.h" the following form should be used.          #include <target/armv7m.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv4_5_mmu.h" to <target/armv4_5_mmu.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "armv4_5_mmu.h" the following form should be used.          #include <target/armv4_5_mmu.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv4_5.h" to <target/armv4_5.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "armv4_5.h" the following form should be used.          #include <target/armv4_5.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm_dpm.h" to <target/arm_dpm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm_dpm.h" the following form should be used.          #include <target/arm_dpm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm9tdmi.h" to <target/arm9tdmi.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm9tdmi.h" the following form should be used.          #include <target/arm9tdmi.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm7tdmi.h" to <target/arm7tdmi.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm7tdmi.h" the following form should be used.          #include <target/arm7tdmi.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm11.h" to <target/arm11.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "arm11.h" the following form should be used.          #include <target/arm11.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "minidriver.h" to <jtag/minidriver.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "minidriver.h" the following form should be used.          #include <jtag/minidriver.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "interface.h" to <jtag/interface.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "interface.h" the following form should be used.          #include <jtag/interface.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "types.h" to <helper/types.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "types.h" the following form should be used.          #include <helper/types.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "replacements.h" to <helper/replacements.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "replacements.h" the following form should be used.          #include <helper/replacements.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "log.h" to <helper/log.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "log.h" the following form should be used.          #include <helper/log.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "ioutil.h" to <helper/ioutil.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "ioutil.h" the following form should be used.          #include <helper/ioutil.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "configuration.h" to <helper/configuration.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "configuration.h" the following form should be used.          #include <helper/configuration.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "binarybuffer.h" to <helper/binarybuffer.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing:         #include "binarybuffer.h" the following form should be used.          #include <helper/binarybuffer.h> The exception is from .c files in the same directory.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : change autoconf #include in configure.in Updates "system.h" and "replacements.h" with <helpers/system.h> and
	<helpers/replacements.h> respectively.

2009-12-03  Nicolas Pitre <nico@fluxnic.net>

	* : feroceon.c should be part of ARM7_9_SRC The Feroceon and Dragonite cores are similar to the ARM926 and
	ARM966 cores respectively.  Signed-off-by: Nicolas Pitre <nico@marvell.com>

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : move jtag drivers to src/jtag/drivers Moves JTAG interface drivers to src/jtag/drivers/, Adds
	src/jtag/drivers/Makefile.am.  Builds libocdjtagdrivers.la.  Flattens the rlink driver files into the drivers/ directory, adding
	the 'rlink_' prefix or '.rlink' suffix as appropriate.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* : move nand drivers to src/flash/nand/ Moves NAND drivers to src/flash/nand/.  Adds
	src/flash/nand/Makefile.am.  Builds libocdflashnand.la.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: store a clean copy of DSCR Just store a clean copy of DSCR in the per-CPU struct, so we
	trivially pass a pointer to a recent copy.  This replaces the
	previous "last_dscr" and cleans up most of the related calling
	conventions ... but it doesn't remove the other DSCR copy.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: don't expose RDTR Don't expose the RDTR register through the register cache any more.
	If anyone wants Tcl scripts to be able to use DCC based
	communication with app code in the target, this wouldn't do it.  Bugfix:  don't trust the Tcl-accessible version of DSCR to flag
	whether RDTR needs to be restored when resuming.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove arm11->target Don't need/want arm11->target; we have arm11->arm.target instead.
	Also remove some unused watchpoint stuff.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : fix configure problem when building w/o USB If building OpenOCD without any USB drivers, a warning would appear
	because $build_usb is never set to a sane default.  This fixes it.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : fix 'target init' command registration The command handler registration was put at the top level, rather
	than as a subcommand.  Move it to where it belongs.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* : remove #if BUILD_HTTPD Add httpd_stubs.c to provide no-op implementations of httpd_start()
	and httpd_stop().  Allows these routines to be called unconditionally and ensures the
	libocdserver ABI remains unchanged regardless of whether this
	feature was built-in or not.  Prints a DEBUG message when the stub implementation is included.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* : remove #if logic for openocd_sleep_*lude Adds server_stubs.c to hold these routines, using automake logic to
	ensure it gets included under the right conditions.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : target: factor target_init() into pieces Moves body of target initialization loop into a helper function,
	cleaning up its visual flow in the process.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : flash: factor init to 'flash init' Split flash initialiation into 'flash init', called from 'init'.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : nand: factor init to 'nand init' Split NAND initialization into 'nand init', which gets called from
	the main 'init' command.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7a/Cortex-A8: report watchpoint trigger insn Save and display the address of the instruction which triggered the
	watchpoint.  Because of pipelining, that's well behind the PC value
	when debug entry completes.  (Example in a subroutine that had been
	returned from...) Remove unused A8 stuff, mostly watchpoint hooks from the header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-02  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with startup refactoring work.  keep up with server_init() introduction.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: core DPM support for watchpoints This is a NOP unless the underlying core exposes two new methods,
	and neither of the two cores using this (ARM11xx, Cortex-A8) do so
	yet.  This patch only updates those cores so they pass a flag saying
	whether or not to update breakpoint and watchpoint status before
	resuming; and removing some now-needless anti-segfault code from
	ARM11.  Cortex-A8 didn't have that code ... yes, it segfaulted when
	setting watchpoints.  NOTE:  this uses a slightly different strategy for setting/clearing
	breakpoints than the ARM7/ARM9/etc code uses.  It leaves them alone
	unless it's *got* to change something, to speed halt/resume cycles
	(including single stepping).  ALSO NOTE:  this under-delivers for Cortex-A8, where regions with
	size up to 2 GBytes can be watched ... it handles watchpoints which
	ARM11 can also handle (size 1/2/4 bytes).  Should get fixed later.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : Tcl and doc: update to match new 'arm mcr ...' etc Make them match the C code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with latest changes to command handling Keep up with Jim Tcl interpreter creation cleanup.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove previous mcr()/mrc() methods We don't need this code, now that the DPM code handles it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: implement mrc()/mcr() as DPM ops Instead of having separate ARM11 and Cortex-A8 implementations of
	this code, have one shared implementation which just builds on the
	existing "run instruction via R0" support.  This enables followup patches to remove that now-unused code from
	those two drivers.  (Patches to move the "mrc" and "mcr" code into
	"struct arm" are due too ... MIPS and other cores do not support
	those ARM-specific concepts.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-A: stop using CP15 ops The ARMv7-A code uses read_cp15() to access fault registers.
	Instead, use DPM operations directly, passing in the relevant MRC
	instructions.  This eliminates per-operation overhead (though it'll be hard to
	observe, this is uncommon) and helps eliminate read_cp15().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-30  yvind Harboe <oyvind.harboe@zylin.com>

	* : main: invoke jtag_interface_quit() explicitly There is no particular reason to invoke jtag_interface_quit() on the
	atexit() handler, it just makes the code more obtuse and stops other
	legitimate usage of atexit().  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-30  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: restore_context() cleanup Clean up two aspects to this routine:  bad naming, since it doesn't
	restore the context, just the banked registers; and excess
	indentation for the bulk of the code.  Also make some of its call sites stash the function's return code;
	someday they should use it for error checking.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : remove interp global variable! Finish removing references to the 'interp' global variable from the
	command module, encapsulating all reference via command_context.  Eliminates use of the global entirely, so it can be removed.
	Hurrah!

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : do not extern 'interp' from command.c Adds 'interp' field to command_context, chasing the few remaining
	references to the global variable outside of the command module.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : jtag: avoid using interp global variable Adds 'interp' field to jtag_tap_event_action structure to avoid
	using the global variable of same name.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : make syntax errors respond with 'usage' The 'help' text will become more verbose, so its entire text will be
	far more than desired when you only borked your syntax.  The usage
	still allows the commands to be looked up for more help.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : improve command_done() API and docs command_done() does not need to return an error, but it needed
	Doxygen comment.  Provide some for copy_command_context as well.  Note: this audit revealed some potential bugs with the command
	context implementation.  There was a reason that commands were added
	at the end of the list.  Shallow copying of command_context means
	that the list is shared between them.  And commands added at the
	top-level before the pre-existing commands will not be available in
	the shared context as they were before.  Yikes! Fortunately, this does not seem to occur in general use, as
	'add_help_text' gets registered in startup.tcl and claims the first
	slot in my own test cases.  Thus, it seems that we have been masking
	the issue for now, but it shows the need for further architectural
	improvement in the core command module.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : allow deferal of init Adds 'noinit' command to prevent OpenOCD from running 'init' at the
	end up startup, allowing it to be given from telnet or TCL.  This
	provides the old behavior by default, and users can add this command
	to their scripts to get the new behavior.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : improve gdb_init() sequence Rework gdb_init to create flexible APIs (gdb_target_add_{one,all})
	and static helper (gdb_target_start) for starting GDB services.
	Eliminates duplicated code and provides general mechanisms for
	adding GDB services.  The 'init' command is updated to call the new
	API, and later patches can decouple its policy of adding all targets
	therein.  Provides the new capability to use both piped and TCP servers when
	multiple targets are defined.  The first target fills the pipe, and
	others will be started on TCP ports (unless disabled, i.e.
	gdb_port=0).

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: clean up full_context() (#2) Streamline the loop by continuing as soon as we know there's no work
	to be done; this lets us un-indent almost everything.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: debug entry uses new register mapping Use the new mapping interfaces in the debug entry path.  SPSR and
	the banked registers now have smaller and faster accessors ... use
	them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Marek Vasut <marek.vasut@gmail.com>

	* : XScale: initial PXA3xx support [dbrownell@users.sourceforge.net: user's guide; variant param is
	optional] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : bugfix: 'init' changes state, not main() Code other than main() may invoke "init".  When it does so,
	customized handlers may need to run ... so make sure the command
	context state is updated before they do so.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: don't chain "struct arm" commands Those commands presume support for the "classic" set of CPU modes
	(FIQ, supervisor, IRQ, etc) ... which aren't supported by the
	ARMv7-M or ARMv6-M architectures.  They also presume a "struct arm"
	base type, which this code doesn't use.  We haven't cleaned up the register handling enough to be able to
	share any of those "base" methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* : add more stub handlers to testee target Prevent everything from crashing when exercising various commands.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* : split jim_target into multiple handlers The 'target' command group was implemented using its own command
	dispatching, which can be eliminated by using the new chained
	command registration mechanism.  This patch splits the jim_target()
	function into individual handlers, which makes them to be visible to
	the help and usage commands.  These one-trick handlers are much
	easier to understand.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* : improve jtag_tap_configure Splits bulk of the jtag_tap_configure into jtag_tap_configure_event,
	removing three or four levels of indentation in the process.  The
	resulting code was stylistically improved in other ways, but it
	should be functionally identical.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* : begin moving JTAG jim handlers/helpers Moves the tertiary jim handlers and required static helpers to the
	top of tcl.c, defining them in a new registration array that is
	chained in both the top-level context and under the jtag command.
	The top-level commands can be removed at some point in the future to
	reduce clutter.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : remove redundant 'rm' command handler Two 'rm' commands were implemented and registered.  This removes the
	version that would have never been called prior to refactoring the
	command registration.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : include mode information in help text.  Extends the help output to list the valid modes for each commands.
	Fixes a memory leak of the returned command_name() string.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : add command private data setter/accessor Presently, commands registration taks a static handler data pointer.
	This patch adds support for commands that require a dynamic pointer,
	such as those registered in a dynamic context (e.g. subcommands for
	a user-created 'foo.cpu' command).  The command_set_handler_data
	will update a command (group) to use a new context pointer, while
	the CMD_DATA macro allows command handlers to access the value.  Jim
	handlers should find this value in interp->cmdPrivData.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : remove unknown handler Updates command registration to provide top-level handlers for all
	commands, rather than falling back onto the 'unknown' command.
	Instead, that same handler is registered for placeholders, providing
	the same functionality under the root verb command name instead.
	This permits users to implement their own 'unknown' function, and it
	resolves some mind-bending breakage related to function object
	lookup while recursing.  Changes 'ocd_bounce' to call 'ocd_command' and 'ocd_help' from the
	wrapper directly, rather than bouncing through their wrappers. This
	prevents endless recursion caused by the above changes, whereby the
	'command' wrapper's type check would blow the stack to hell and
	gone.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : add 'command type' introspective handler Adds the 'command' group handler, with the 'type' command producing
	a string that tells whether the given command is 'native' (for
	Jim-based command handlers), 'simple' (for simple built-in
	commands), 'group' for command group placeholders, and 'unknown' if
	not found in the command registration tables (e.g. core built-ins
	functions).

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fix dbgtap JTAG_DEBUG There is no DEBUG() macro; don't call one!  Always at least *parse*
	debug code, to help prevent such errors.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove unused TARGET_EVENT_OLD_* symbols Just two *_OLD_* symbols left...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* : omap3530.cfg: use new "reset-assert" event Replaces previous "reset-assert-pre" workaround.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* : target: groundwork for "reset-assert" event This defines a "reset-assert" event and a supporting utility
	routine, and documents both how targets should implement it and how
	config scripts should use it.  Core-specific updates are needed to
	make this work.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : fix regression causing duplicated output The command refactoring caused subcommand handlers to produce
	duplicate output when run.  The problem was introduced by failing to
	ensure all such invocations went through a top-level "catcher"
	script, prefixing the command name with the 'ocd_' prefix and
	consuming its results.  The fix is to ensure such a top-level "catcher" script gets created
	for each top-level command, regardless of whether it has a handler.
	Indeed, this patch removes all command registrations for
	sub-commands, which would not have worked in the new registration
	scheme anyway.  For now, dispatch of subcommands continues to be handled by the new
	'unknown' command handler, which gets fixed here to strip the 'ocd_'
	prefix if searching for the top-level command name fails initially.
	Some Jim commands may be registered with this prefix, and that
	situation seems to require the current fallback approach.
	Otherwise, that prefix could be stripped unconditionally and the
	logic made a little simpler.  The same problem must be handled by
	the 'help' command handler too, so its lookup process works as
	intended.  Overall, the command dispatching remains more complicated than
	desired, but this patch fixes the immediate regressions.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : update minidummy interface driver command handling Changes the interface definition field reference from
	register_commands to commands, which allows the module to compile.

2009-11-27  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with changes to log_init() fn's and return value for log_init() changed to void.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : ARM NAND I/O header documentation update.  Fixed the header file to properly specify the doxygen documentation
	for the items defined in it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : ARM NAND I/O refactor code copying.  Created a function for copying code to the working area on a target.
	The NAND write and read functions are updated to include use of this
	function.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Dean Glazeski <dnglaze@gmail.com>

	* : NAND Flash documentation update.  Updated doxygen comments for different interface structures for the
	NAND interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* : update bug reporting information The Berlios bug-tracker is disabled, bug reports go to the list.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* : fix typos in source files Correct some spelling errors in source comments and printed output.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-26  Eric Wetzel <thewetzel@gmail.com>

	* : fix 'flash protect' and 'flash erase_sector' Command upgrading introduced two off-by-one bugs in the flash
	commands.  This patch fixes the 'flash {protect,erase_sector}'
	commands to check that they have been passed the correct number of
	arguments.  Ammended during commit to fix help text for 'erase_address' too.

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : target: target_get_name() --> target_type_name() There are two names that may matter on a per-target basis.  One is a
	per-instance name (for example, "at91sam7s.cpu").  The other is the
	name of its type (for example, "arm7tdmi"), which is shared among
	multiple targets.  Currently target_get_name() returns the type name, which is
	misleading and is rarely appropriate for target diagnostics.  Rename
	that as target_type_name().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: minor armv4/armv5 cleanup Lines of 300+ characters are still bad; debug tweaks.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/9: shrink run_algorithm_inner() lines 300+ characters is unreasonable.  So is half that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : update NEWS with recent developments Mention changes to flash bank command syntax, 'nand verify' command,
	command error handling and reporting, and help/usage command
	upgrades.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : support OPENOCD_DEBUG_LEVEL environment setting Detect the OPENOCD_DEBUG_LEVEL setting in log_init(), allowing the
	very early startup phases to be debugged.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : update command handler documentation Adds sections on command registration and chaining, giving an
	overview to developers that want to use these features.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : improve command handling examples Removes hello and foo commands from top-level registration.
	Instead, the dummy interface driver and faux flash driver have been
	augmented to register these commands as sub-commands.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : encapsulate and re-use log capture, retval setup Factors log capture while running script commands, eliminating
	duplicated code between script_command and jim_capture.  Factors
	setting a command's Jim "retval" into a new helper as well.  Using these new helpers in the new unknown command handler's fixes
	possible regressions caused by these bits being missing.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : improve usage and help command output Rewrite formatting code in C, removing last remenants of TCL help
	code.  Sinificantly improves the readability by using smarter indent
	and wrap.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : httpd: use register_commands() Updates httpd_start() to use register_commands() for 'readform' and
	'writeform' commands.  Adds server/httpd.h to export the new
	signatures for this function (and httpd_stop), which allows removing
	the obsoleted declarations inside openocd.c.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : refactor command_new to use command_registration Save stack space: use a struct.  Makes it easier to add new
	parameters.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : remove target_type register_command callback Uses chaining of command_registration structures to eliminate all
	target_type register_callback routines.  Exports the command_handler
	registration arrays for those target types that are used by others.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : trace: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : target: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : etm_dummy: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : etb: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : armv7a: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm9tdmi: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm926ejs: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm7_9_common: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm11: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : remove flash_driver->register_callbacks Replace flash_driver callback with pointer to command_registration.
	Eliminates all related routines and allows drivers to omit commands.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : str9xpec: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : str7x: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : stellaris: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : nand: use register_commands() Eliminates 'nand_cmd' global variable.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : lpc3180_nand_controller: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : lpc2000: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : ecos: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : avrf: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : at91sam3: use register_commands()

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : vsllink: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : presto: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : jlink: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : ft2232: use register_commands() Use register_commands() with a command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : arm-jtag-ew: use register_commands() Uses register_commands() with command registration array.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : pld: use static registration instead of callback Remove register_callbacks from pld_device structure, using an array
	of command_registration records instead.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : {,x}svf: use register_commands() Use register_commands() for registering {,x}svf commands.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : log: use register_commands() Use register_commands() for logging callbacks.  Improve help and add
	proper usage.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : openocd: use register_commands() Use register_commands() for top-level version and init command.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : hello: use register_commands() Use new register_commands() with command registration table.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : add public API for locating commands Allow other modules to find a command, primarily for the purpose of
	registering and unregistering subcommands.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : add command registration chaining Adds the ability to chain registration structures.  Modules can
	define a command with the 'chain' and 'num_chain' fields defined in
	their registration table, and the register_commands() function will
	initialize these commands.  If the registration record creates a new
	command, then the chained commands are created under it; otherwise,
	they are created in the same context as the other commands (i.e. the
	parent argument).

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : command: use register_commands for handlers Use register_commands() to register low-level command handlers,
	adding a builtin_command_handlers declaration that is easy to
	understand.  Splits help and usage information into their
	appropriate fields.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : add register_commands for batch registration The register_commands API takes multiple commands in one call,
	allowing modules to declare and pass a much simpler (and more
	explicit) array of command_registration records.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_REGISTER macro Replaces direct calls to register_command() with a macro, to allow
	its parameters to be changed and callers updated in phases.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : improve startup tcl scripts Fix a couple of layering violations missed in the last round.  Add
	missing comment headers.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: hook up DPM This replaces two versions of register access functions.  One was
	commented out, and seemed to have uncertain intent.  The other was
	fairly new, and helped motivate the DPM framework once I observed
	that the ARM11 was doing the very same ops.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: minor cleanup Make various functions static, add some comments, report vector
	catch as a flavor of DBG_REASON_BREAKPOINT, get rid of
	needless/undesirable ARMV4_5_CORE_REG_MODE, etc.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : fix doxygen build Update build rules to skip the PDF unless the TeX has been created.
	Also, fixes a warning regarding pattern rules being a GNU make
	trick.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : jlink: remove superfluous indentation Rewrite logic to remove indentation in jlink_usb_open, in prep for
	further surgery.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : rlink: eliminate spurious indentation Rework rlink_init to use less indentation.  Best viewed with diff
	-w.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : usbprog: use jtag_usb_open Rewrite usbprob_jtag_open to use jtag_usb_open helper.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : add jtag/usb_common.[ch] files Begins to consolidate code used by several USB JTAG interfaces.
	This first patch provides the required build system changes and a
	common jtag_usb_open routine, which will replace the guts for
	probing the busses and devices for possible VID/PID matches.  The
	following patches convert each driver to use it.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: use standard run_algorithm() As with single stepping, the previous stuff was needed because the
	ARM11 code wasn't using the standard ARM base type and register
	access ... but now those mechanisms work, so we can switch out that
	special-purpose glue, in favor of the more thoroughly tested/capable
	"standard" code.  Fixes a bug in the resume() implementation:  it wasn't handling two
	of its arguments correctly, preventing the "flash erase_check"
	algorithm from working.  (This code needs a *subsequent* update for
	correct register handling, though... removing the confusion about
	which "r2", for example, to use.) This should resolve some "FIXME" comments too, for Thumb and
	processor mode support.  It also gets rid of a nasty exit() call;
	servers should only have *clean* shutdown paths.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: partial support for standard ARM register interfaces.  This provides "standard" ARM register support -- with twenty or more
	shadow registers on top of what this code now handles, but properly
	associated with the various core modes -- parallel to the current
	register code.  That is, the current code is stilil managing the
	"current" registers; the new code shadows them.  You can see all the registers with "arm reg", modify the shadows
	like "r8_fiq" or "sp_abt" with "reg", and see them get properly
	written back when you step.  (Just don't do that with any of the
	registers managed by the "old" code ...) It also switches to using more standard code, relying on those
	standard registers, in two places:  (a) the poll status display,
	which now shows core state (ARM/Thumb/...) and mode (Supervisor,
	IRQ, etc); and (b) GDB register access.  So it's not a full migration, there are warts -- every place that
	touches the old register cache is a potential bug -- but it's a
	small more-or-less-comprehensible step that's even somewhat useful.
	Later patches complete the migration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: implement provider for new DPM interface This is a very thin layer over some of the current ARM11 debug TAP
	utilities.  The layer isn't yet hooked up.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : target: cope with *any* error setting a breakpoint It's wrong to map unrecognized failure codes to success.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-23  Jerry Ling <jerry_ling@draytek.com>

	* : mips: fix gaffe when removing dynamic array allocation Classic sizeof() gaffe.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm926ejs: retire cp15 commands, handled by mrc/mcr.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: macro cleanup Make this code look more like the rest of the OpenOCD code.   - Use calloc() directly, not NEW() ... and fix some potential    memory leaks while we're at it.   - Remove FNC_INFO ... it's a NOP that just clutters things,    and it's trivial for developers to add tracing as needed.   - Replace FNC_INFO_NOTIMPLEMENTED with LOG_WARNING calls;    ditto.  And stop having those call sites wrongly succeed!  - Waste less space with the CHECK_RETVAL() macro.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : mips: use const for code sequences This will allow data to be allocated in read only memory instead of
	on the stack. Speeds things up and reduces stack usage.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm926ejs: fix warnings buf_set_u32() operated on an uninitialized stack variable with
	non-byte boundaries, which led to warnings about reading
	uninitialized stack.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: use arm_reg_current() Start using the arm_reg_current() call.  This shrinks and speeds the
	affected code.  It can also prevent some coredumps coming from
	invalid CPSR values ... the ARMV4_5_CORE_REG_MODE() macro returns
	bogus registers if e.g. "Secure Monitor" mode isn't supported by the
	current CPU.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : target: make register flags "bool" Mostly for clarity, but it also saves code and data space.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : flash: dynamically allocate working storage Allocate working memory rather than using stack.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : todo: add tip on how to identify excessive stack usage Use dynamic allocations for working memory rather than stack.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : embedded: reduce stack usage Allocate working structures on stack to avoid issues with path
	lengths + reduce stack usage.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : embedded: save stack and also do not recaluate the crc32_table upon every invocation.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  yvind Harboe <oyvind.harboe@zylin.com>

	* : build: fix breakage in building bin2char bin2char build relied on $(builddir) which is not defined for
	arm-elf X builds at least.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: define two register utilities Define arm_reg_current() ... returning handle to a given register,
	and encapsulating the current mode's register shadowing.  It's got
	one current use, for reporting the current register set to GDB.
	This will let later patches clean up much ARMV4_5_CORE_REG_MODE()
	nastiness, saving a bit of code.  Define and use arm_set_cpsr() ... initially it updates the cached
	CPSR and sets up state used by arm_reg_current(), plus any SPSR
	handle.   (Later: can also set up for T and J bits.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove disabled register hooks Minor cleanup of ARM11 register handling:  remove disabled register
	hooks.  This should all be handled by shared code, and this stuff is
	just clutter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : allow jtag interfaces to lack commands Allow JTAG interface drivers to skip registering an
	register_commands callback when it will just be empty.

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: pass 'struct reg *' to register r/w routines Implementations need to access the register struct they modify; make
	it easier and less error-prone to identify the instance.  (This
	removes over 10% of the ARMV4_5_CORE_REG_MODE nastiness...) Plus some minor fixes noted when making these updates:  ARM7/ARM9
	accessor methods should be static; don't leave CPSR wrongly marked
	"dirty"; note significant XScale omissions in register handling; and
	have armv4_5_build_reg_cache() record its result.  Rename "struct armv4_5_core_reg" as "struct arm_reg"; it's used for
	more than those older architecture generations.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : maintain command lists in sorted order Use insertion sort to the command link lists.  The only practical
	effect of this is to order the output of the new 'help' command.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : provide command context during cmd_init For the startup.tcl code to use built-in commands, the context must
	be associated with the interpreter temporarily.  This will be
	required to add help text.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : factor help script command into parts Creates a helper function, cmd_help, which displays the help string
	for a single command.  Presently, it is called from the loop in
	help.  The routine has been extended to allow indentation of command
	groups, so an improved help command can improve the display of
	information.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : change command_find helper interface Avoid requiring double pointers where a single would suffice.

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* : target.cfg: TAP id for Hilscher netX 500 Based on email from "Martin Kaul <martin.kaul@leuze.de>".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: better context restore The previous version never wrote dirty registers for non-current CPU
	modes ... fix that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : target: create/use register_cache_invalidate() Create a generic register_cache_invalidate(), and use it to replace
	three all-but-identical core-specific routines:  - armv4_5_invalidate_core_regs()  - armv7m_invalidate_core_regs  - mips32_invalidate_core_regs() too.  Make cache->num_regs be unsigned, avoiding various errors.  Net code shrink and simplification.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : document new flash syntax Updates the user documentation with the new syntax for defining
	flash and nand banks.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : add support for naming NAND banks Requires users to name their nand banks, allowing them to be used
	instead of bank numbers in script commands.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : update 'flash bank' usage in scripts Sets $_FLASHNAME to "$_CHIPNAME.flash" and passes it as the first
	argument to 'flash bank'.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : refactor handle_flash_bank_command Move variables to point of first use, reducing their scope.  Add
	driver_name temporary to help arguments be changed later.  Eliminates the useless 'found' variable, changing the code to
	terminate the loop immediate and return its success.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : allow flash/nand banks commands to accept names Add get_flash_bank_by_name (and get_nand_device_by_name) helpers to
	retrieves struct flash_bank * (struct nand_device *) given a driver
	name and an (optional) driver-specific bank index.  These are used to extend flash_command_get_bank_by_num (and
	nand_command_get_device_by_num) to allow all flash (nand) commands
	to reference defined banks by name, not just by number.  To avoid some code duplication, add the flash/common.[ch] files to
	hold functionality common to both types driver.  The first two
	methods are helpers for the above routines to find a bank specified
	by a "name" or "name.index" string.  get_flash_name_index() finds
	the '.index' portion, while flash_driver_name_matches() performs the
	string portion matching.

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: streamline register init Combine register names with other per-register data into a single
	template structure.  This saves space, and makes it easier to change
	how registers get handled (by shrinking the number of places that
	care about cache indices).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Dean Glazeski <dnglaze@gmail.com>

	* : nand_fileio_parse_args parses wrong param for size This changes the size parameter from argv[2] to argv[3], which is
	what it's supposed to be.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-A: use standard ARM core_mode symbols The only way ARMv7-A modes differ from ARMv4/ARMv5 flavors is that
	v7-A is allowed to include "Secure monitor" support.  That's now
	handled by our standard top-level ARM code ... so phase out the
	stuff that's specific to ARMv7-A.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : remove fast command and jim_global_long Removing the fast command eliminates the fast_and_dangerous global,
	which was used only by arm7_9_common as an initializer.  The command
	is not called in the tree; instead, more explicit commands are used.  The jim_global_long function was not used anywhere in the tree.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : change all bool parsers to accept any value This patch changes the behavior of all boolean parsing callers to
	accept any one of "true/enable/on/yes/1" or
	"false/disable/off/no/0".  Since one particular pair will be most appropriate in any given
	situation, the specific macros should continue to be used in order
	to display the most informative error messages possible.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_PARSE_ENABLE macro where appropriate Updates all command parsing of simple "enable" and "disable"
	arguments.  A few case in the tree use a tri-state or extended
	arguments, which cannot use this simple macro.  Simlifies the xscale icache/dcache command handler logic.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : add COMMAND_PARSE_BOOL macro and friends Adds several macros similar to COMMAND_PARSE_NUMBER, but for parsing
	boolean command arguments.  Two flavors are provided to provide
	drop-in compatibility with existing code, allow for the elimination
	of a lot of code bloat while improving the error checking and
	reporting.  COMMAND_PARSE_ON_OFF parses "on"/"off" command parameters.
	COMMAND_PARSE_ENABLE parses "enable"/"disable" command parameters.  Both print the error and return an error out of the calling
	function.

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: xPSR handling updates When we read the CPSR on debug entry, update the CPSR cache in all
	cases, not just when the current processor state is User or System.  Plus minor cleanup of how the (too-many) other registers' cache
	entries get updated.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: simplify ARMv7-A register handling ARMv7-A doesn't need to duplicate all the standard ARM code for
	register handling.   - Switch Cortex-A8 to use the standard register code  - Remove duplicated infrastructure from ARMv7-A  - Have ARMv7-A arch_state() show CPSR, like other ARMs Add comments to show where the Cortex-A8 isn't actually doing the
	right thing for register reads/writes, unless core happens to be in
	the right mode to start with.  (Looks like maybe there may be
	generic confusion between saved/current PSR values in all the ARM
	code ...) Make related ARMv7-A and Cortex-A8 symbols properly static.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add "core_type" field to "struct arm" It's used to flag cores with the "TrustZone" extension, and is used
	in subsequent patches to set up support for the registers shadowed
	by its new secure monitor mode.  The ARM1176 and Cortex-A8 both support this new mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : pass startup_tcl to command_init Removes external linkage from helper module, making the startup code
	a parameter to a new command context's initialization routine.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : move startup.c to libopenocd Moves the creation of startup_tcl.c from src/helper/ to src/.
	Prepares to split the startup.tcl file into its per-module parts.

2009-11-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : jtag-api: get rid of unecessary buf_set_u23() that make code
	obtuse.  Also, this is on the path to increasing the word size for bit
	vectors from 8 to something wider(32? natural host machine width?) Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add arm_mode_name() Add and use arm_mode_name() to map from PSR bits to user meaningful
	names.   It uses a new table which, later, can be used to hold other
	mode-coupled data.  Add definitions for the "Secure Monitor" mode, as seen on some ARM11
	cores (like ARM1176) and on Cortex-A8.  The previous mode name
	scheme didn't understand that mode.  Remove the old mechanism ... there were two copies, caused by
	Cortex-A8 needing to add "Secure Monitor" mode support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : allow documentation to be configured Add --disable-doxygen-html and --enable-doxygen-pdf options to the
	configure script, allowing user to change the defaults.  These
	update the proess of munging the Doxygen configuration file to use
	the settings thusly provided.  Add options in README.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : update command_handler documentation Improve the developer manual and primer sections which talk about
	writing command handlers.  Notably, it documents the new CMD_*
	macros.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : add CMD_NAME variable in command_invocation Update CMD_NAME from its migratory home in CMD_ARGV[-1] to
	cmd->name.  Allows CMD_ARGV++ idiom to be used safely in command
	handlers.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : command_handler: change 'cmd_ctx' to CMD_CTX Convert all command handler 'cmd_ctx' parameter usage with CMD_CTX.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : command_handler: change to 'argc' to CMD_ARGC This patch converts all instances of 'argc' in COMMAND_HANDLER
	routines to use CMD_ARGC.

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : target: simplify register get/set ops No need to indirect from registered integers to pointers.  Just
	stash the pointers directly in the register struct, and don't even
	bother registering.  This is a small code shrink, speeds register access just a smidgeon,
	and gets rid of another rude exit() path.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: revC UART forwarding Name of serial device differs between revB/C.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix bug when running on non-arm CPU Shifting by more than 32 is undefined for 32 bit integers according
	to the C standard. Robust solution is conditional code.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM9TDMI: remove now-needless "struct arm9tdmi" And move the rest of the vector_catch stuff into the C file; it's
	not part of the module interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove some more duplicate includes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: no exit() calls, add missing v7-A init Eventually there should be a v7a init routine, but for now all that
	is inlined here.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : MIPS: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv4/ARMv5: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: don't exit() Get rid of undesirable and needless exit() calls from the Cortex-M3
	support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: register (most) standard ARM commands Have ARM11 register the "standard" ARM commands.  For now, only
	disassembly really works.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: fix autoprobe failure.  Fix bug noted by yvind: terminate the IR length autoscan when the
	IR is too long, or otherwise broken.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : struct fileio: improve member types Add const keyword to file url and cast to free().  Make size an ssize_t and chase all format strings that use it.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : use Jim_CmdProc in jim_register The jim_register command just needed to use the type defined by
	jim.h.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : make command line options const The getopt_long call allows a const struct option, so mark ours
	const too.

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: don't include "log.h" from "armv4_5.h" No point in multiple includes, and that file doesn't use its
	functions any more.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: no LOG_WARNING() for taps without IDCODE Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : "types.h" doxygen fix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : move ARRAY_SIZE macro to types.h The ARRAY_SIZE macro was defined in several target files, so move it
	to types.h.  This patch also removes two other identical macros: DIM (from
	jtag.h) and asizeof (from arm11.h).

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : remove TAP_SCAN_BYTES macro Use DIV_ROUND_UP(n, 8) instead of TAP_SCAN_BYTES macro.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : move container_of to types.h The container_of macro is useful as a general solution.  It belongs
	in types.h, rather than target.h where it was introduced.  Requires
	the offsetof macro, which comes from <stddef.h> (moved as well).

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : flash_command_get_bank_by_num: make COMMAND_HELPER Use COMMAND_HELPER macro to declare flash_command_get_bank_by_num.
	This is required for COMMAND_PARSE_NUMBER macro.

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* : Add 'nand verify' command Add the 'nand verify' command to perform a dump and fake-write
	simultaneously, checking the read bits against those generated by
	the write process.  Appropriate user documentation for this command
	has been added to the user guide as well.  The algorithm presently makes a relatively naive comparison.  Some
	chips that use ECC may not verify correctly using this
	implementation, but the new documentation provides details about
	this limitation.

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* : Use nand_fileio_* in write/dump commands.  This patch eliminates duplicated code in the the NAND 'dump' and
	'write' by using the new static helper functions.  These changes also fix a possible memory leak in nand dump command,
	in the case that the dump file failed to open.  Overall, the changes should be functionally equivalent, but the
	resulting code will be easier to improve and extend further.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : binarybuffer: add API documentation Adds Doxygen documentation for a number of the binarybuffer APIs,
	including "unexpected" behavior exposed during review on the list.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve buf_set_buf helper Use void * and unsigned types for buffer and their sizes.  Allows it
	to be used with more than uint8_t * without casts.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve buf_cpy helper Use memcpy for bulk of copy, improve final byte handling.  Improve
	types by using void * for buffers and unsigned for size.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve str_to_buf and buf_to_str helpers Improve types: use void * and unsigned.  Move all variables to point
	of first use.  Move radix guessing logic to new str_radix_guess
	helper.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : binarybuffer: fix whitespace related issues Add inter-operator whitespace.  Improve existing documentation.

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: no implicit #includes of "register.h" Same deal:  "register.h" got needlessly included all over the place
	because of being in a few widely included headers.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Also, don't need that extra "types.h" inclusion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: don't implicitly include "algorithm.h" Most files in the tree seem to have ended up including this, and
	*quite* needlessly ... only code implementing or using downloadable
	algorithms actually needs these declarations.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Also: "algorithm.h" doesn't need to include "types.h" again; it
	already comes from a different header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: use now-generic memory utils Now the ARM11 cores can use the renamed arm_checksum_memory() and
	arm_blank_check_memory() routines ... do so.  Sanity checked with "flash erase_check" of both NOR banks on an
	OMAP2420 ... the algorithm code dumped four lines of of "poll"
	status after each of almost 520 blocks (yes, *very* annoying) but
	gave plausible results after producing that spam.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: memory utils aren't ARM7/ARM9 dependent The arm7_9_checksum_memory() and arm7_9_blank_check_memory()
	routines are not actually specific to the ARM7 and ARM9 core
	generations ... they can work for any core which can run algorithms
	using basic ARM (not Thumb) instructions.  Rename them; move the declarations to a more generic site; likewise
	move the code (and tidy it a bit in the process).  NOTE:  the blank_check() method falsely returned a success status
	(0) on one error path, when the algorithm failed.  Fixed this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : arm-jtag-ew,jlink: switch to COMMAND_HANDLER These drivers were overlooked during the recent upgrade.  Convert
	them, moving their registration routines to eliminate their
	declarations.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : remove unused arm_jtag_buf_to_* helpers Removes unused arm_jtag_buf_* helpers from arm_jtag.[ch].  These
	could reappear if patches are provided to conver the tree to use
	them, but this code should not be in the master tree until that
	series is ready.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : struct scan_field_s -> struct scan_field Remove obsolete suffix from struct scan_field.  Somehow, these
	definitions did not get updated but did not cause any errors.

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* : lpc2900.h -- remove from Makefile.am too Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* : remove annoying $URL$ startup message It's completely unused; the obnoxious "DANGER!!!" comments don't
	even explain what it was doing (shorthand SVN magic).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : add openocd.h for top-level declarations Create src/openocd.h to hold declarations previously made internally
	by src/main.c and src/server/server.c.  This ensures all functions
	are verified to be in-sync at compile time (rather than at link),
	making it easier to track down bugs.

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: ETM + ETB support Kick in ETM (and ETB) support for ARM11.  Tested on OMAP 2420, so
	update that configuration.  (That's an ARM1136ejs, ETB, OpenGL
	ES1.1, C55x DSP, etc.) Also update the other ARM11 ETM + ETB targets in the tree to set up
	these modules.  (Not tested.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : iMX2* + ETB targets: hook up ETM and ETB ARM9 cores with an ETB will have a matching ETM.  Hook them both up
	by default.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: simplify ETM initialization code paths Return NULL from etm_build_reg_cache() not ERROR_OK; and share code
	on that fault path.  Let ETM code handle any tracking of its cache -- not callers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove unused "bitfield" infrastructure We have too many different registers, and too many version and
	context dependent interpretations, for this type of bitfield
	management to be scalable.  (Anyone who really wants bitfield interpretation *can* do that in
	Tcl code...) There are ... quite a few copies of the same ARM dummy registers.
	There should eventually be one copy; this many is craziness.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/9: rm arm7_9_get_arch_pointers() Remove the last external user of arm7_9_get_arch_pointers(), and
	that annoying downcast utility.  Add an is_arm7_9() predicate.  Stop returning specious success codes on various failure paths in
	the ARM7/ARM9 commands which used that downcast utility.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : command_t -> struct command Remove misleading typedef and redundant suffix from struct command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : remove rlink structure typedefs Remove useless typedefs from the rlink driver.  Improve whitespace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_device_t -> struct nand_device Remove misleading typedef and redundant suffix from struct
	nand_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : reg_t -> struct reg Remove misleading typedef and redundant suffix from struct reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : improve mips32_pracc_context Use struct mips32_pracc_context instead of a typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_common_t -> struct arm Remove misleading typedef and just use struct arm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etb_t -> struct etb Remove misleading typedef and redundant suffix from struct etb.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_elf_t -> struct image_elf Remove misleading typedef and redundant suffix from struct
	image_elf.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_m3_fp_comparator_t -> struct cortex_m3_fp_comparator Remove misleading typedef and redundant suffix from struct
	cortex_m3_fp_comparator.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8_brp_t -> struct cortex_a8_brp Remove misleading typedef and redundant suffix from struct
	cortex_a8_brp.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xscale_trace_t -> struct xscale_trace Remove misleading typedef and redundant suffix from struct
	xscale_trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : target_event_action_t -> struct target_event_action Remove misleading typedef and redundant suffix from struct
	target_event_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm9tdmi_vector_t -> struct arm9tdmi_vector Remove misleading typedef and redundant suffix from struct
	arm9tdmi_vector.  Renames enum arm9tdmi_vector as enum arm9tdmi_vector_bit.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xscale_common_t -> struct xscale_common Remove misleading typedef and redundant suffix from struct
	xscale_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : trace_point_t -> struct trace_point Remove misleading typedef and redundant suffix from struct
	trace_point.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : target_timer_callback_t -> struct target_timer_callback Remove misleading typedef and redundant suffix from struct
	target_timer_callback.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : working_area_t -> struct working_area Remove misleading typedef and redundant suffix from struct
	working_area.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : reg_cache_t -> struct reg_cache Remove misleading typedef and redundant suffix from struct
	reg_cache.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : oocd_trace_t -> struct oocd_trace Remove misleading typedef and redundant suffix from struct
	oocd_trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mips_ejtag_t -> struct mips_ejtag Remove misleading typedef and redundant suffix from struct
	mips_ejtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mips32_common_t -> struct mips32_common Remove misleading typedef and redundant suffix from struct
	mips32_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_mot_t -> struct image_mot Remove misleading typedef and redundant suffix from struct
	image_mot.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_ihex_t -> struct image_ihex Remove misleading typedef and redundant suffix from struct
	image_ihex.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_section_t -> struct image_section Remove misleading typedef and redundant suffix from struct
	image_section.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etm_capture_driver_t -> struct etm_capture_driver Remove misleading typedef and redundant suffix from struct
	etm_capture_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etb_reg_t -> struct etb_reg Remove misleading typedef and redundant suffix from struct etb_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_m3_common_t -> struct cortex_m3_common Remove misleading typedef and redundant suffix from struct
	cortex_m3_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : watchpoint_t -> struct watchpoint Remove misleading typedef and redundant suffix from struct
	watchpoint.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mcu_jtag_t -> struct mcu_jtag Remove misleading typedef and redundant suffix from struct mcu_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7m_algorithm_t -> struct armv7m_algorithm Remove misleading typedef and redundant suffix from struct
	armv7m_algorithm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7a_core_reg_t -> struct armv7a_core_reg Remove misleading typedef and redundant suffix from struct
	armv7a_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7a_common_t -> struct armv7a_common Remove misleading typedef and redundant suffix from struct
	armv7a_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_cache_common_t -> struct armv4_5_cache_common Remove misleading typedef and redundant suffix from struct
	armv4_5_cache_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_core_reg_t -> struct armv4_5_core_reg Remove misleading typedef and redundant suffix from struct
	armv4_5_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_jtag_t -> struct arm_jtag Remove misleading typedef and redundant suffix from struct arm_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_load_store_instr_t -> struct arm_load_store_instr Remove misleading typedef and redundant suffix from struct
	arm_load_store_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_b_bl_bx_blx_instr_t -> struct arm_b_bl_bx_blx_instr Remove misleading typedef and redundant suffix from struct
	arm_b_bl_bx_blx_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : swjdp_reg_t -> struct swjdp_reg Remove misleading typedef and redundant suffix from struct
	swjdp_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm966e_common_t -> struct arm966e_common Remove misleading typedef and redundant suffix from struct
	arm966e_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm920t_tlb_entry_t -> struct arm920t_tlb_entry Remove misleading typedef and redundant suffix from struct
	arm920t_tlb_entry.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm7tdmi_common_t -> struct arm7tdmi_common Remove misleading typedef and redundant suffix from struct
	arm7tdmi_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm720t_common_t -> struct arm720t_common Remove misleading typedef and redundant suffix from struct
	arm720t_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_reg_state_t -> struct arm11_reg_state Remove misleading typedef and redundant suffix from struct
	arm11_reg_state.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_reg_defs_t -> struct arm11_reg_defs Remove misleading typedef and redundant suffix from struct
	arm11_reg_defs.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mem_param_t -> struct mem_param Remove misleading typedef and redundant suffix from struct
	mem_param.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_register_history_t -> struct arm11_register_history Remove misleading typedef and redundant suffix from struct
	arm11_register_history.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pld_device_t -> struct pld_device Remove misleading typedef and redundant suffix from struct
	pld_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xilinx_bit_file_t -> struct xilinx_bit_file Remove misleading typedef and redundant suffix from struct
	xilinx_bit_file.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : connection_t -> struct connection Remove misleading typedef and redundant suffix from struct
	connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : tcl_connection_t -> struct tcl_connection Remove misleading typedef and redundant suffix from struct
	tcl_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : telnet_service_t -> struct telnet_service Remove misleading typedef and redundant suffix from struct
	telnet_service.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : gdb_connection_t -> struct gdb_connection Remove misleading typedef and redundant suffix from struct
	gdb_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : aduc702x_flash_bank_t -> struct aduc702x_flash_bank Remove misleading typedef and redundant suffix from struct
	aduc702x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pic32mx_mem_layout_t -> struct pic32mx_mem_layout Remove misleading typedef and redundant suffix from struct
	pic32mx_mem_layout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_block_t -> struct nand_block Remove misleading typedef and redundant suffix from struct
	nand_block.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : str9x_flash_bank_t -> struct str9x_flash_bank Remove misleading typedef and redundant suffix from struct
	str9x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : str7x_flash_bank_t -> struct str7x_flash_bank Remove misleading typedef and redundant suffix from struct
	str7x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stm32x_flash_bank_t -> struct stm32x_flash_bank Remove misleading typedef and redundant suffix from struct
	stm32x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stellaris_flash_bank_t -> struct stellaris_flash_bank Remove misleading typedef and redundant suffix from struct
	stellaris_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pic32mx_flash_bank_t -> struct pic32mx_flash_bank Remove misleading typedef and redundant suffix from struct
	pic32mx_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : ocl_priv_t -> struct ocl_priv Remove misleading typedef and redundant suffix from struct ocl_priv.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_manufacturer_t -> struct nand_manufacturer Remove misleading typedef and redundant suffix from struct
	nand_manufacturer.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_flash_controller_t -> struct nand_flash_controller Remove misleading typedef and redundant suffix from struct
	nand_flash_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mflash_bank_t -> struct mflash_bank Remove misleading typedef and redundant suffix from struct
	mflash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mflash_gpio_drv_t -> struct mflash_gpio_drv Remove misleading typedef and redundant suffix from struct
	mflash_gpio_drv.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : lpc3180_nand_controller_t -> struct lpc3180_nand_controller Remove misleading typedef and redundant suffix from struct
	lpc3180_nand_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : lpc288x_flash_bank_t -> struct lpc288x_flash_bank Remove misleading typedef and redundant suffix from struct
	lpc288x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : flash_driver_t -> struct flash_driver Remove misleading typedef and redundant suffix from struct
	flash_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : faux_flash_bank_t -> struct faux_flash_bank Remove misleading typedef and redundant suffix from struct
	faux_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_fixup_t -> struct cfi_fixup Remove misleading typedef and redundant suffix from struct
	cfi_fixup.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_spansion_pri_ext_t -> struct cfi_spansion_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_spansion_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_intel_pri_ext_t -> struct cfi_intel_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_intel_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : avrf_flash_bank_t -> struct avrf_flash_bank Remove misleading typedef and redundant suffix from struct
	avrf_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : at91sam7_flash_bank_t -> struct at91sam7_flash_bank Remove misleading typedef and redundant suffix from struct
	at91sam7_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jtag_command_container_t -> union jtag_command_container Remove misleading typedef from union jtag_container.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : end_state_command_t -> struct end_state_command Remove misleading typedef from struct end_state_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stableclocks_command_t -> struct stableclocks_command Remove misleading typedef from struct stableclocks_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pathmove_command_t -> struct pathmove_command Remove misleading typedef from struct pathmove_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cmd_queue_page_t -> struct cmd_queue_page Remove misleading typedef from struct cmd_queue_page.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : more vsllink typedef cleanup Remove useless typedef for struct insert_insignification_operation.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : presto_t -> struct presto Remove useless typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jlink_jtag_t -> struct jlink Remove misleading typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pending_scan_result_t -> struct pending_scan_result Remove misleading typedef from struct struct pending_scan_result.
	Future patches need to remove these duplicated types and code.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : use struct jtag_tap_event_action Remove useless typedef and redundant suffix from
	jtag_tap_event_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jtag_interface_t -> struct jtag_interface Remove useless typedef and redundant suffix from struct
	jtag_interface.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : bitq_interface_t -> struct biq_interface Remove useless typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : scan_field_t -> struct scan_field Remove useless structure typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : fileio_t -> struct fileio Remove useless structure typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : remove accidental artifact Somehow I managed to slip a temporary build file into the tree.
	Remove it and update the .gitignore file so it doesn't happen again.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : add src/hello.c to augment new command tutorial The hello module provides the 'hello' command, printing a greetings
	to the command console.  It can grow to serve as pedagogical example
	of services that OpenOCD developers should use: a runnable style
	guide.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : command_handler_t: make args parameter const This patch prevents command handlers from modifying the strings
	passed in the 'args' array.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : command_handler_t: make argc unsigned The number of command arguments will always be 0 or more, so use the
	right type in handlers.  This has a cascading effect up through the
	layers, but the new COMMAND_HANDLER macros prevented total chaos.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : use CALL_COMMAND_HANDLER instead of direct calls By using CALL_COMMAND_HANDLER, parameters can be reordered, added,
	or even removed in inherited signatures, without requiring
	revisiting all of the various call sites.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : nand: add NAND_DEVICE_COMMAND_HANDLER macro Abstracts the extended NAND command handling to allow the function
	signature to be controlled by __COMMAND_HANDLER.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add FLASH_BANK_COMMAND_HANDLER macro The FLASH_BANK_COMMAND_HANDLER provides an extended command handler
	using the __COMMAND_HANDLER macro, whereby changing that macro is
	sufficient to update flash handlers with the new signature.  It also
	enforces uniform style and scope when implementing this handler.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : arm_adi,armv7[am]: use COMMAND_HELPER for helpers Rewrites the dap_* command helpers to use the COMMAND_HELPER
	paradigm.  Uses CALL_COMMAND_HELPER to hide inherited calling
	conventions.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_HANDLER macro to define all commands

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add COMMAND_HANDLER and COMMAND_HELPER macros The COMMAND_HANDLER and COMMAND_HELPER macros allow commands to be
	defined in a manner that decouples them from the exact order and
	type of their parameters.  Once converted, incremental changes to
	the command handler type can be addressed in incremental patches
	that do not need to touch the entire tree.  These macros' implementation, __COMMAND_HANDLER, is used to define
	the new command_handler_t type, and additional patches will use it
	to derive new macros to define extended command types (e.g. flash,
	nand, pld).  The CALL_COMMAND_HANDLER provides a means of calling
	helpers or nested handlers from withing a command handler.  This patch uses C99 varadic macro expansion.  Please report
	compilers that cannot handle this code.

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: fix indent The "remove (forward) declarations" patch goofed indentation on the
	"cortexa8_target" struct; fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-12  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: start support for ETMv2+ ARM11 and newer cores include updated ETM modules.  Recognize their
	version codes and some key config differences.  Sanity checked on an
	OMAP2, with an ETM11RV r0p1 (ETMv3.1).  This still handles only scan chain 6, with at most 128 registers.
	Newer cores (mostly, Cortex) will need to use the DAP instead.  Note that the newer ETM modules don't quite fit the quirky config
	model of the older ones ... having more port widths is easy, but the
	modes aren't the same.  That still needs to change.  Fix a curious bug ... how did the register cache NOT get saved?? Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-12  Jonas Horberg <jhorberg@sauer-danfoss.com>

	* : parport: add support for the jtag_khz command.  Add the khz and speed_div functions to the parport interface driver.
	Add the parport_toggling_time function that tells the parport driver
	how long (in nanoseconds) it takes for the hardware to toggle TCK.  [dbrownell@users.sourceforge.net: tweak doc for clarity, mention
	multimeter, and whitespace fixes] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: use new toplevel ETM handle Make ETM itself use the new toplevel ETM handle, instead of the
	to-be-removed lower level one.  As of this patch, nothing should be
	using the old ARM7/ARM9-specific handle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: update arm[79]tdmi_examine() Make ARM7 and ARM9 cores use the new toplevel ETM handle to trigger
	ETM setup, not the to-be-removed lower level one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : fix 'jtag interface' behavior Without this patch, running "openocd -c 'jtag interface'" segfaults.
	Now, it returns the string "undefined" when the interface is unset.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : add help regardless of callback Add help for commands regardless of whether a handler is involved.
	With this, all sorts of new commands can be found in 'help' text.
	Hopefully, all of them have been documented....  Sadly, the lsort function appears to handle nested lists poorly,
	such that sub-commands do not group with their parents.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : add command_name helper The command_name function returns a malloced string for a given
	command and its parents.  This can be used to display a message to
	the user, but it is used internally to handle registration and
	syntax errors.  This helps permit arbitrary command nesting.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : remove obsolete doxygen comments Documenting command handler parameters is redundant and pointless.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8: remove declarations, use static keyword

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : change argv to args in command handlers Subsequent patches expect all command handlers to use a uniform
	parameter naming scheme.  In the entire tree, these two files used
	standard 'argv' instead of our non-standard 'args'.  This patch opts
	to reduces the noise required to unify the command handlers, using
	dominant 'args' form.  A future patch may be used to convert us back to the standard argv,
	but that requires coordination with all developers to minimize
	disruptions.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : command.c: make private routines static This patch also improves the signature of run_command function.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : time_support: improve use of types Update timeval_add_time to use long int; implement timeval_add with
	it.  Update timeval_ms to check gettimeofday return value, return
	int64_t.

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM cleanup Various cleanups of ETM related code.   - Saner error return paths  - Simplify arm7_9 init ... no need for extra zeroing!  - Shrink some lines  - Tweak some diagnostics  - Use shorter name for ETM struct type.   - Don't exit() and similar.  The diagnostics look forward to having this ETM code
	work with more than just ARM7/ARM9.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720: bugfix The "ARM720 uses the new inheritance/nesting scheme" patch wrongly
	scrubbed a calloc() from arm720t_target_create().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : target.cfg: (re)move some bogus reset_config lines General rule, this is all board-specific and doesn't belong in
	target config files.  Some of these were just cosmetic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Michael Bruck <mbruck@digenius.de>

	* : arm11: add etmr/etmw registers to access ETM via DBGTAP scan
	chain First cut of these commands. yvind tinkered a bit with the number
	parsing to bring it up to speed + rebased it.  Ready for testing.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : telo.cfg: fix search paths Add the missing "target/" prefix for scripts in the target folder.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM920: implement basic MMU ops mmu() works; virt2phys() fails and logs an error.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : Target: fix bad error messages And shrink a few too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  yvind Harboe <oyvind.harboe@zylin.com>

	* : tcl: HostOs now picks up eCos as well during compile time Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : command.c: make commands static Removes useless declarations, moving the handler functions to appear
	before their use in the (much bigger) command registriation
	function.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : jtag: remove useless declarations Contrary to my previous assessment, some opportunities to remove
	forward declarations were overlooked.  Remove them by moving the
	definitions of the command registration and interface structure to
	the end of files.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : {pic32m,stm32}x.c: remove useless declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/<various>.c: remove useless declarations Remove useless forward declarations.  Moves flash structure
	definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/at91sam[37].c: remove useless declarations Remove useless forward declarations.  Moves command registration to
	end of file.  Moves flash structure definitions to end of files.  Changes a few references to global flash structure to local refs.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/*nand*.c: remove useless declarations Remove useless forward declarations.  Moves command registration to
	end of files.  Moves flash structure definition to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : Revert "target: add target->type->has_mmu fn" This patch introduced a bug preventing flash writes from working on
	Cortex-M3 targets like the STM32.  Moreover, it's the wrong approach
	for handling no-MMU targets.  The right way to handle no-MMU targets is to provide accessors for
	physical addresses, and use them everywhere; and any code which
	tries to work with virtual-to-physical mappings should use a
	identity mapping (which can be defaulted).  And ... we can tell if a target has an MMU by seeing if it's got an
	mmu() method.  No such methood means no MMU.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: Flash/NAND doc tweaks Rename the "Drivers, Options, and Commands" sections to be just
	"Driver List" matching the earlier reference.  Add an example of
	parallel CFI flash.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : target.h: remove extern keyword and wrap Removes 'extern' keyword from function prototypes and wraps long
	lines.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : src/flash: remove 'extern' and wrap headers Removes 'extern' keywords from function prototypes in the flash
	headers.  Wraps long lines to fit into 80 columns.  Adds multiple inclusion protection for s3c2xx_nand.h.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : src/helper: wrap and clean headers.  Remove all useless 'extern' keywords from function prototypes.
	Wraps long lines for readability.

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : EmbeddedICE: minor cleanups Add comments (Doxygen and normal), remove unused code, shrink some
	overlong lines.  Get rid of a forward decl.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* : Add private header for ARM11 internals.  Reduces confusion about location of associated routines and reduces
	clutter in the arm11 header.  Removes extra whitespace around the lines touched by these changes.

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: minor simulator cleanup Make several functions be static.  Shrink some of the overlong
	lines.  Use pure tab indents in some places that mixed in spaces.
	This gives a minor object code shrink (about 2% on amd64).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* : target.cfg: remove "-work-area-virt 0" The semantics of "-work-area-virt 0" (or phys) changed with the
	patch to require specifying physical or virtrual work area
	addresses.  Specifying zero was previously a NOP.  Now it means that
	address zero is valid.  This patch addresses three related issues:  - MMU-less processors should never specify work-area-virt;    remove those specifications.  Such processors include    ARM7TDMI, Cortex-M3, and ARM966.   - MMU-equipped processors *can* specify work-area-virt...     but zero won't be appropriate, except in mischievous    contexts (which hide null pointer exceptions).     Remove those specs from those processors too.  If any of    those mappings is valid, someone will need to submit a    patch adding it ... along with a comment saying what OS    provides the mapping, and in which context.  Example,    say "works with Linux 2.6.30+, in kernel mode".  (Note    that ARM Linux doesn't map kernel memory to zero ...)  - Clarify docs on that "-virt" and other work area stuff.  Seems to me work-area-virt is quite problematic; not every operating
	system provides such static mappings; if they do, they're not in
	every MMU context...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit a9abfa7d06dbcfded97b7fb41f50d3581c24fbae Author: David
	Brownell <dbrownell@users.sourceforge.net> Date:   Fri Nov 6
	14:57:21 2009 -0800

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* : Simplify nand indentation.  Removes check covered by new nand_command_get_device_by_num helper.
	Reverses logic of probe check to further reduce indentation.

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* : Fix arm11 vcr command parsing.

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: other code uses the new inheritance/nesting scheme Remove most remaining uses of target->arch_info from ARM
	infrastructure, where it hasn't already been updated.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7TDMI uses the new inheritance/nesting scheme Use target_to_arm7_9(), replacing needless pointer traversals.  Also:  remove now-useless contents of arm7tdmi struct; it's almost
	ready to be removed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale uses the new inheritance/nesting scheme Use target_to_xscale(), replacing needless pointer traversals and
	simplifying a bunch of code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM966 uses the new inheritance/nesting scheme Use target_to_arm966(), replacing needless pointer traversals.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : FA526 uses the new inheritance/nesting scheme Replace needless pointer traversals, simplify.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: use the new inheritance/nesting scheme Use new target_to_cm3() and target_to_armv7m() inlines, instead of a
	series of x->arch_info conversions.  Remove arch_info, since nothing
	uses it.  Also fix an omission:  the Cortex-M3 commands didn't verify that
	they were operating on that kind of target.  Add comment about the
	ARMv7M version of that omission.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7TDMI: remove forward decls The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also shrink a few overly-long lines with function declarations or
	definitions;  get rid of arm7tdmi_register_commands(), it's not
	needed (just delegated); minor whitespace declutter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : FA526: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM966: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also remove needless arm966e_init_target(), in favor of the arm9tdmi
	routine to which it delegates its work.  This saved over 100 bytes of code on x86_32.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM920: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  Add a short header comment.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  This saved almost 900 bytes of code on x86_32; it seems the compiler
	can leverage its knowledge that these functions are not called from
	the outside world...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve str9x config command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve stm32x.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve pic32mx.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve lpc3180_nand_controller.c parsing.  This fixes a memory leak in lpc3180_nand_device_command by
	reordering the malloc to occur after all parsing has completed.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve lpc288x.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve cfi.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve orion_nand.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve at91sam7.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve nand.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Add Flash/NAND bank command argument helpers.  This eliminates redundant code for parsing and retreiving the bank
	specified from a script command argument.  This patch was written to
	replace existing functionality; however, the parsing logic can be
	updated later to allow flash commands to accept bank names as well
	as their numbers.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve etm command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm_adi_v5 command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve xscale command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm966e command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm920t command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm7_9_common command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve armv7a command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve xscale command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Update all server port command to use new helper.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve target.c command argument parsing.  Passes cmd_ctx into parse_load_image_command_args for reporting the
	parsing errors therein.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve debug_level command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Add stringify macros in src/helper/types.h.

2009-10-27  yvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: check if target is halted before executing mrc/mcr
	commands.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: check args to mrc/mcr.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  yvind Harboe <oyvind.harboe@zylin.com>

	* : TODO: Wrote up list of remaining tasks for target->type->mrc/mcr Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  yvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a8: add mrc mcr interface.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : watchpoint_add() cleanup Fail watchpoint_add() if it's the same address but the parameters
	are different ... don't just assume having the same address means
	the same watchpoint!  (Note that overlapping watchpoints aren't
	detected...) Handle unrecognized return codes more sanely; don't exit()! And
	describe command params right.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: minor cleanup There's no reason to read which interrupts are enabled from the
	NVIC; that state isn't used.  Plus, it's highly dynamic since
	firmware can change it at any time; remove the support for those
	state records.  Remove duplicate definition of DWT_CTRL address; shrink a line.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7M: add docs, remove exports Add Doxygen for the exported ARMv7-M interfaces.  Make the non-exported stuff static.  Remove functions and data which
	are now observably unused.  Add comment about a small speedup that the run_algorithm() logic
	could use.  Shrink a few too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  yvind Harboe <oyvind.harboe@zylin.com>

	* : Make default implementation of mdw/mmw phys return error 'not
	implemented'

2009-10-30  yvind Harboe <oyvind.harboe@zylin.com>

	* : debug interface: get rid of unused pre_debug fn Removing unused code makes it much less mysterius.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232: cleanup Previous patch somehow made GCC lose some of its cookies; work
	around, zero-init that struct.  Clean up code from the previous patch.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : PXA255: support Intel "Lubbock" platform Config for Intel's "Lubbock" PXA255 development board.  Even more so
	than the PXA255 itself, this is obsolete.  AFAIK this was the first
	generally available development platform for PXA255.  Intel stopped
	providing these after other devel boards became available.  One interesting thing about this board from the OpenOCD perspective
	is probably its flash configuration.  Each bank is 32 bits wide,
	built from two 16-bit StrataFlash chips wired in parallel.  This
	doubles throughput ... it reads/writes 32 bits in the time a single
	chip takes to write just 16 bits.  This conf mostly works, given XScale bugfixes, but has some issues
	(notably: no access to the on-board SDRAM) flagged by FIXMEs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Version 0.3.0 Remove -dev tag, remove -rc tag.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Doc: fix broken link Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Other files: stop referring to ChangeLog too The ChangeLog idiom is redundant given any decent SCM.  Time to
	phase it out here.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Tweak release docs Contrast releases to git snapshot tarballs.  Mention that releases
	have some quality-improvement focus, with special non-"dev" version
	IDs.  Explain more about version IDs, using "openocd -v" to see
	them, etc; Make release milestone info be less specific about timing, and
	presume we have both a merge window and an RC stage.  Rework the release process information to match reality a bit more
	closely.  Reference the version.sh script (in one place the wrong
	script was referenced).  Bugfix branches get special treatment,
	while non-bugfix releases are more or less what *defines* being the
	mainline branch.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  yvind Harboe <oyvind.harboe@zylin.com>

	* : configure: fix build problems with eCos Various include files require some other include files to be
	included first. Copied solution from net/if.h.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-03  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: 20 second timeout/megabyte for CRC check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-02  yvind Harboe <oyvind.harboe@zylin.com>

	* : target: require working area for physical/virtual addresses to
	be specified Fixed bug: if virtual address for working memory was not specified
	and MMU was enabled, then address 0 would be used.  Require working address to be specified for both MMU enabled and
	disabled case.  For some completely inexplicable reason this fixes the regression in
	svn 2646 for flash write in arm926ejs target. The logs showed that
	MMU was disabled in the case below:
	https://lists.berlios.de/pipermail/openocd-development/2009-November/011882.htmlSigned-off-by: yvind Harboe <oyvind.harboe@zylin.com>

2009-11-01  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: more init info, autoprobing, etc Mention the autoprobing as a tool that may be useful when figuring
	out how to set up; and add a section showing how to use that
	mechanism (with an example).  Strengthen the differences between config and run stage
	descriptions; add a section for the latter.  Mention Dragonite.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-01  Freddie Chopin <freddie_chopin@op.pl>

	* : remove "-ircapture 0x1 -irmask 0x1" from stm32.cfg Gets rid of the runtime warning "stm32.bs: nonstandard IR mask" [dbrownell@users.sourceforge.net: line lengths, note issue, section
	ref] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-29  Freddie Chopin <freddie_chopin@op.pl>

	* : target.cfg: use $_TARGETNAME for flash This gets rid of runtime warnings from the use of numbers.  STM32
	and LPC2103 were tested.  Other LPC updates are the same, and so are
	safe.  The CFI updates match other tested changes now in the tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-30  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM926: fix arm926ejs_mmu() reading from bad pointer I'm suspecting this code can never have worked, since the original
	commit (svn #335) in early 2008.  Fix is just copy/paste from another (working) function.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-29  Michael Roth <mroth@nessie.de>

	* : SVF: fix checking bit pattern against length The code works like follow (N = bit_len):         N       -1      %4      2<<     -1      ~ (binary)         --------------------------------------------------         1       0       0       2       1       1111 1110         2       1       1       4       3       1111 1100         3       2       2       8       7       1111 1000         4       3       3       16      15      1111 0000         5       4       0       2       1       1111 1110         6       5       1       4       3       1111 1100         7       6       2       8       7       1111 1000         8       7       3       16      15      1111 0000         ...     ...     ...     ...     ...     ...  Addresses a bug reported by FangfangLi <ffli@syntest.com.cn>.  [dbrownell@users.sourceforge.net: fix spelling bug too] Signed-off-by: Michael Roth <mroth@nessie.de> Cc: FangfangLi
	<ffli@syntest.com.cn> Signed-off-by: David Brownell
	<dbrownell@users.sourceforge.net>

2009-10-29  David Brownell <dbrownell@users.sourceforge.net>

	* : XSVF: bugfix handling state paths Implement XSVF support for detailed state path transitions, by
	collecting sequences of XSTATE transitions into paths and then
	calling pathmove().  It seems that the Xilinx tools want to force state-by-state
	transitions instead of relying on the standardized SVF paths.  Like
	maybe there are XSVF tools not implementing SVF paths, which are all
	that we support using svf_statemove().  So from IRPAUSE, instead of just issuing "XSTATE DRPAUSE" they will
	issue XSTATES for each intermediate state: first IREXIT2, then
	IRUPDATE, DRSELECT, DRCAPTURE, DREXIT1, and finally DRPAUSE.  This
	works now.  Handling of paths that go *through* reset is a trifle dodgey, but it
	should be safe.  Tested-by: Wookey <wookey@wookware.org> Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-28  Zachary T Welch <zw@superlucidity.net>

	* : The openocd 0.3.0-rc0 release.  Remove '-dev' version tag: 0.3.0-rc0-dev -> 0.3.0-rc0

2009-10-28  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM926: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Only
	the Feroceon code builds on this, so only routines it reuses should
	be public..  Make most remaining functions static, and fix some of
	the line-too-long issues.  The forward decls are just code clutter; move their references
	later, after the normal declarations.  Turns out we don't need even
	one forward declaration in this file.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Add script to test the release process.  Runs the release.sh script in a freshly cloned repository, charting
	one hypothetical future of OpenOCD's lineage.

2009-10-20  Zachary T Welch <zw@superlucidity.net>

	* : Factor version munging capabilities out of release.sh.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Add git2cl from repo.or.cz as a submodule in tools/git2cl.

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: fix single-step of Thumb unconditional branch Only type 1 branch instruction has a condition code, not type 2.
	Currently they're both tagged with ARM_B which doesn't allow for the
	distinction.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Oleg Seiljus <oleg@signalyzer.com>

	* : Signalyzer: H2 and H4 support This patch includes partial support for these new JTAG adapters.
	More complete support will require updates to the libftdi code, for
	EEPROM access.  [dbrownell@users.sourceforge.net: fix whitespace, linelen, etc ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: fix Thumb mode handling when single-stepping register based
	branch insns Currently, OpenOCD is always caching the PC value without the T bit.
	This means that assignment to the PC register must clear that bit
	and set the processor state to Thumb when it is set.  And when the
	PC register value is transferred to another register or stored into
	memory then the T bit must be restored.  Discussion: It is arguable if OpenOCd should have preserved the
	original PC value which would have greatly simplified this code.
	The processor state could then be obtained simply by getting at bit
	0 of the PC.  This however would require special handling elsewhere
	instead since the T bit is not always relevant (like when PC is used
	with ALU insns or as an index with some addressing modes).  It is
	unclear which way would be simpler in the end.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: call thumb_pass_branch_condition() only for actual branch
	opcodes Calling it first with every opcodes and then testing if the opcode
	was indeed a branch instruction is wasteful and rather strange.  If
	ever thumb_pass_branch_condition() has side effects (say, like
	printing a debugging traces) then the result would be garbage for
	most Thumb instructions which have no condition code.  While at it, let's make the nearby code more readable by reducing
	some of the redundant brace noise and reworking the error handling
	construct.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: "jtag newtap ..." cleanup Get rid of needless variable, improve and shrink diagnostic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : omap3530: target reset/init improvements Now I can issue "reset halt" and have everything act smoothly; the
	vector_catch hardware is obviously not kicking in, but the rest of
	the reset sequence acts sanely.   - TAP "setup" event enables the DAP, not omap3_dbginit    (resolving a chicken/egg bug I noted a while back)  - Remove stuff from omap3_dbginit which should never be    used in event handlers  - Cope better with slow clocking during reset Also, stop hard-wiring the target name: use the input params in the
	standard way, and set up $_TARGETNAME as an output param.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : Fix incorrect line endings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-10-26  Wookey <wookey@wookware.org>

	* : balloon3 board base config This is the very basic board config for the balloon3 board cpu JTAG
	channel.  The rest of the config comprises another 14 .cfg files which I
	suspect openocd doesn't really want all of. I'm still not sure how
	to deal with this. I'll post another mail/patch to discuss.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  yvind Harboe <oyvind.harboe@zylin.com>

	* : Idea for adding watchpoint masks.

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* : minor fixes to TODO list

2009-10-25  yvind Harboe <oyvind.harboe@zylin.com>

	* : check if mmu is enabled before using mmu code path

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: jtag_tap_init() bugfixes Stop allocating three bytes per IR bit, and cope somewhat better
	with IR lengths over 32 bits.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-24  yvind Harboe <oyvind.harboe@zylin.com>

	* : vector_catch and watchpoint TODO items.

2009-10-23  yvind Harboe <oyvind.harboe@zylin.com>

	* : Improve help for arm9 vector_catch.

2009-10-23  yvind Harboe <oyvind.harboe@zylin.com>

	* : mcr/mrc interface work. Implemented for arm926ejs and arm720t.
	mcr/mrc commands added.

2009-10-23  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag: clean up TAP state name handling Some cosmetic cleanup, and switch to a single table mapping between
	state names and symbols (vs two routines which only share that state
	with difficulty).  Get rid of TAP_NUM_STATES, and some related knowledge about how TAP
	numbers are assigned.  Later on, this will help us get rid of more
	such hardwired knowlege.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  Nicolas Pitre <nico@fluxnic.net>

	* : Ferocion: fix corruption of r0 when resuming Thumb mode The wrong variable (pc instead of r0) was used.  Furthermore,
	someone did cover this error by stupidly silencing the compiler
	warning that occurred before a dummy void reference to r0 was added
	to the code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: rename registers, doc tweaks The register names are perversely not documented as zero-indexed, so
	rename them to match that convention.  Also switch to lowercase
	suffixes and infix numbering, matching ETB and EmbeddedICE usage.  Update docs to be a bit more accurate, especially regarding what the
	"trigger" event can cause; and to split the issues into a few more
	paragraphs, for clarity.  Make "configure" helptext point out that "oocd_trace" is prototype
	hardware, not anything "real".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : mww_phys retired. Replaced by generic mww phys in target.c

2009-10-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : retire obsolete mXY_phys commands. Handled by generic memory
	read/modify commands and target read/write physical memory
	callbacks.

2009-10-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : add support for target_read/write_phys_memory callbacks.

2009-10-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : commit 69a6037ce6e76dca4117689208358231dffa0929 Author: yvind
	Harboe <oyvind.harboe@zylin.com> Date:   Wed Oct 21 13:10:32 2009
	+0200

2009-10-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : Retire obsolete and superfluous implementations of virt2phys in
	each target. This is done in a polymorphic implementation in
	target.c

2009-10-21  yvind Harboe <oyvind.harboe@zylin.com>

	* : Defined target_write_memory() to be able to handle implementing
	breakpoints for read only ram(e.g. MMU write protected.

2009-10-20  David Brownell <dbrownell@users.sourceforge.net>

	* : XSVF: use svf_add_statemove() XSVF improvements:  - Layer parts of XSVF directly over SVF, calling
	   svf_add_statemove() instead of expecting jtag_add_statemove() to
	   conform to the SVF/XSVF requirements (which it doesn't).     This should improve XSTATE handling a lot; it removes most users
	   of jtag_add_statemove(), and the comments about how it should
	   really do what svf_add_statemove() does.   - Update XSTATE logic to be a closer match to the XSVF spec.  The
	   main open issue here is (still) that this implementation doesn't
	   know how to build and submit paths from single-state transitions ...
	   but now it will report that error case.   - Update the User's Guide to mention the two utility scripts for    working with XSVF, and to mention the five extension opcodes.  Handling of state transition paths is, overall, still a mess.  I
	think they should all be specified as paths not unlike SVF uses, and
	compiled to the bitstrings later ... so that we can actually make
	sense of the paths.  (And see the extra clocks, detours through RUN,
	etc.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : Added the faux flash driver and target. Used for testing.

2009-10-20  yvind Harboe <oyvind.harboe@zylin.com>

	* : More svn to git version string fixes.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : davinci: add watchdog reset method Lightly tested on dm365.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : SVF/XSVF: comment and whitespace fixes SVF: comment the predefined/default paths; make them static const SVF, XSVF: whitespace fixes, mostly so copyrights display sanely Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* : MinGW: always use "-D__USE_MINGW_ANSI_STDIO" This is unfortunately needed to make stdio work like OpenOCD expects
	-- matching the ANSI-C standard, instead of MS-Windows.  I tested it in both MinGW-W64 on Vista 64 and MinGW-W32 on XP, and I
	don't see any adverse effects to enabling it for all MinGW versions.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Doc: jtag_init must validate scan chain too Same requirement as like init_reset, and for the same reason: we
	need to start with a known and working state.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Ignore openocd.exe for "git status"

2009-10-19  oyvind <oyvind@titan.(none)>

	* : Sync with official Jim Tcl repository.

2009-10-18  Dean Glazeski <dnglaze@gmail.com>

	* : SDRAM and clock configuration for the SAM9-L9260 board from
	Olimex

2009-10-17  David Brownell <dbrownell@users.sourceforge.net>

	* : Ignore two more generated files On Windows the name is "bin2char.exe".  All operating systems now
	have "xscale_handler.h".

2009-10-17  Redirect \"Slash\" NIL <redirect.slash.nil@gmail.com>

	* : jim-eventloop for MinGW-w64 Use JIM_WIDE_MODIFIER for the sscanf format, and apply it for
	MINGW32 as well as other Windows environments.  (Microsoft doesn't
	conform to the C99 standard, and uses "%I64d" not "%lld" for "long
	long".) NB: __MINGW32__ should work on both w32 and w64,.

2009-10-16  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale: better fix for debug_handler.bin Generate a C struct with the data, and use that, instead of an
	assembly language file.  The assembly language causes issues on
	Darwin and MS-Windows, which don't necessarily use GNU AS; or if
	they do, don't necessarily use its ELF syntax.  It's also better in two other ways:  fewer global symbols; and the
	init-time size check gets optimized away at compile time.  (Unless
	it fails, in which case bigger chunks of the file vanish.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* : portability updates Based on some patches from <redirect.slash.nil@gmail.com> for
	preliminary Win64 compilation.  More such updates are needed, but
	they need work.  Compile tested on 64 and 32 bit Linuxes, and
	Cygwin.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  Wookey <wookey@wookware.org>

	* : Fw: [PATCH] OpenRD board configuration Ofrwarded from Ron, who's not subscribed.  ----- Forwarded message from Ron <ron@debian.org> ----- From: Ron <ron@debian.org> Date: Wed, 14 Oct 2009 04:50:17 +1030 To:
	wookey@debian.org Subject: [PATCH] OpenRD board configuration
	X-Spam-Status: No, score=-3.6 required=4.5
	        tests=BAYES_00,RCVD_IN_DNSWL_LOW autolearn=ham version=3.2.5 This piggybacks on the 'sheevaplug' layout which uses the same
	Kirkwood SoC.  Signed-off-by: Ron Lee <ron@debian.org>

2009-10-14  yvind Harboe <oyvind.harboe@zylin.com>

	* : Work in progress on arm11 reset. Assert srst.

2009-10-14  David Brownell <david-b@pacbell.net>

	* : Fix problems building xscale_debug.S

2009-10-13  Lennert Buytenhek <buytenh@wantstofly.org>

	* : fix detection of PLD instructions Signed-off-by: Lennert Buytenhek <buytenh@marvell.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  David Brownell <dbrownell@users.sourceforge.net>

	* : cosmetic cleanup in TMS tables Cleanup comments and layout/whitespace in the TMS tables.  Table
	contents stayed the same (ignoring whitespace).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  Yauheni Kaliuta <y.kaliuta@gmail.com>

	* : Do not replace virt2phys with the default one if it was assigned Signed-off-by: Yauheni Kaliuta <y.kaliuta@gmail.com>

2009-10-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : Missing type for eCos.

2009-10-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : Delete commented out code. Add a bit of error checking.

2009-10-13  yvind Harboe <oyvind.harboe@zylin.com>

	* : Propagate error from assert, deassert and halt on tcl target
	object.

2009-10-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : More error propagation fixes.

2009-10-12  Wookey <wookey@wookware.org>

	* : Xilinx xcr3256.cfg basic config script

2009-10-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : Propagate wDTR/rDTR failure immediately, otherwise it's followed
	up by timeout errors.

2009-10-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : burst writes work fine. clean up junk.

2009-10-12  David Brownell <dbrownell@users.sourceforge.net>

	* : simplify XScale debug handler installation Load the XScale debug handler from the read-only data section
	instead of from a separate file that can get lost or garbaged.  This
	eliminates installation and versioning issues, and also speeds up
	reset handling a bit.  Plus some minor bits of cleanup related to loading that handler:
	comments about just what this handler does, and check fault codes
	while writing it into the mini-icache.  The only behavioral changes should be cleaner failure modes after
	errors during handler loading, and being a bit faster.  NOTE:  presumes GNU assembly syntax, with ".incbin"; and ELF,
	because of the syntax of the ".size" directive.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : Merge commit 'origin/master'

2009-10-12  yvind Harboe <oyvind.harboe@zylin.com>

	* : Supply default reset_config statement to make target scripts
	useful standalone and provide sensible default

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale.c cleanup Declare almost everything as static.  Move stuff to remove most
	forward references.  Remove most forward declarations.  Warn if the
	unimplemented register functions get called.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale minor cleanup Add a header comment referencing useful XScale specs.  Make most
	data static, and the tables readonly.  Scrub extra blank lines.
	Return fault codes from one routine.  Remove a needless NOP methood.  (BUGFIX) When we update R0, mark R0 as dirty/valid ... not R15/PC! Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-10  Wookey <wookey@wookware.org>

	* : Fix reset delays and tinker with ID's

2009-10-09  David Brownell <dbrownell@users.sourceforge.net>

	* : add documentation about reset customization We added two overridable procedures; document them, and the two jtag
	arp_* operations they necessarily expose.  Update the comment about the jtag_init_reset() routine; it's been
	obsolete for as long as it's had SRST support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-09  yvind Harboe <oyvind.harboe@zylin.com>

	* : ARM11 error checking

2009-10-09  yvind Harboe <oyvind.harboe@zylin.com>

	* : Added tip in documentation on how to translate quirky syntax

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : add overridable Tcl "init_reset" This abstracts the "jtag arp_init-reset" call into a method called
	from OpenOCD startup and reset processing.  Platforms which have different requirements for how such hard resets
	must be performed can now override "init_reset" instead of needing
	to rebuild custom hacked versions of the server.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  Rabeeh Khoury <rabeeh@marvell.com>

	* : Function to flash SheevaPlug u-boot sectors This function is used by the SheevaPlug installer to flash the erase
	and re-flash the U-Boot environment in the NAND Flash.

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : prevent abort via polling during jtag_reset Observed:   openocd: core.c:318: jtag_checks: Assertion `jtag_trst == 0'
	  failed.  The issue was that nothing disabled background polling during calls
	from the TCL shell to "jtag_reset 1 1".  Fix by moving the existing
	poll-disable mechanism to the JTAG layer where it belongs, and then
	augmenting it to always pay attention to TRST and SRST.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 4aacf01e194d09fb55dc759fc42ac42c8432c015 Author: yvind
	Harboe <oyvind.harboe@zylin.com> Date:   Thu Oct 8 15:43:51 2009
	+0200

2009-10-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : Add .project to .gitignore

2009-10-08  yvind Harboe <oyvind.harboe@zylin.com>

	* : Update copyright statements. Make it easier to sync with Jim Tcl

2009-10-07  John Rigby <jcrigby@gmail.com>

	* : iMX25 target support Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 03c9e48f88fa8b681b77c6c35d6da0a0e838a7e8 Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Thu Oct 8 00:13:50 2009 +0000

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Force sane SRST and TRST initialization At least some FT2232 based adapters don't necessarily come up in the
	expected state, with SRST and TRST disabled.  Since other adapters
	could suffer the same problem, let's avoid needing to patch every
	driver and just force *all* adapters to initialize those values
	properly at server startup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2824
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove much #ifdeffery around _DEBUG_JTAG_IO_ usage.  Have
	DEBUG_JTAG_IO() always trigger necessary warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2822
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : commit f8c8d8bc72b2a87d2b2e3d583a052d8f0e5d22ea Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Wed Oct 7 16:15:21 2009 +0000

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Note bug in handling of variables through command line
	parameters.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : first stab at imx35 reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@2817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add timeouts and fix syntax error handling of mrc/mcr commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : increase pause before reboot so web interface remains responsive
	when issuing a reboot of zy1000 git-svn-id: svn://svn.berlios.de/openocd/trunk@2813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 1.55 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2810
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 0da2f750a1d437b50b21ac7ee766188a47b37fad Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Tue Oct 6 22:56:52 2009 +0000

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dragonite has the same EICE affliction as feroceon.  From: Nicolas Pitre <nico@fluxnic.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2807
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 39b57471bfd92ef0d9a3aceb69f40c1335f5b62f Author: oharboe
	<oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:   Tue Oct 6
	08:10:57 2009 +0000

2009-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stop using targetnum git-svn-id: svn://svn.berlios.de/openocd/trunk@2804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 64ec7f66a896fc4de6b472cffb6ef5740a76f61d Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Mon Oct 5 23:45:14 2009 +0000

2009-10-05  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 7a57c316196f93c7e31b7d00eb9b52177ae874c6 Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Mon Oct 5 08:23:33 2009 +0000

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add a new JTAG "setup" event; use for better DaVinci ICEpick
	support.  The model is that this fires after scanchain verification, when it's
	safe to call "jtag tapenable $TAPNAME".  So it will fire as part of
	non-error paths of "init" and "reset" command processing.  However
	it will *NOT* trigger during "jtag_reset" processing, which skips
	all scan chain verification, or after verification errors.  ALSO:  - switch DaVinci chips to use this new mechanism  - log TAP activation/deactivation, since their IDCODEs aren't
	 verified - unify "enum jtag_event" scripted event notifications  - remove duplicative JTAG_TAP_EVENT_POST_RESET git-svn-id: svn://svn.berlios.de/openocd/trunk@2800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update the NEWS file to cover more of the user-visible changes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updated reset event handling in omap3530 cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make sure that DSCR_DTR_RX is not full before writing git-svn-id: svn://svn.berlios.de/openocd/trunk@2794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added asser_reset and deassert_reset for cortex_a8 git-svn-id: svn://svn.berlios.de/openocd/trunk@2792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor ETB and ETM bugfixes and doc updates  - ETB     * report _actual_ hardware status, not just expected status     * add a missing diagnostic on a potential ETB setup error     * prefix any diagnostics with "ETB"  - ETM     * make "etm status" show ETM hardware status too, instead of       just traceport status (which previously was fake, sigh)  - Docs     * flesh out "etm tracemode" docs a bit     * clarify "etm status" ... previously it was traceport status     * explain "etm trigger_percent" as a *traceport* option ETM+ETB tracing still isn't behaving, but now I can see that part of
	the reason is that the ETB turns itself off almost immediately after
	being enabled, and before collecting any data.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update release process documentation.  - Improve and clarify the wording of the introduction.  - Add section on version taggging.  - Some other minor corrections.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add numeric version tag support to release script.  The release process itself does not use this support yet, but it
	allows packagers to automate the process of managing their own tags,
	if they patch the source code before releasing binaries.  The
	release processes should be revised to incorporate this feature to
	support -rc packages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add workaround to release script to update source code URL
	keyword.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix release script bugs after experience from 0.2.0: - The NEWS step failed due to an empty commit comment.  - The final release step would have failed, because the steps to
	  switch from the secure to insecure repository (and back again)
	  require both switch and a URL relocation steps git-svn-id: svn://svn.berlios.de/openocd/trunk@2782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add DSCR_DTR_RX_FULL bit define git-svn-id: svn://svn.berlios.de/openocd/trunk@2780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com> reset now works git-svn-id: svn://svn.berlios.de/openocd/trunk@2778
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ARM11 command handling fixes  - Commands were supposed to have been "arm11 memwrite ..."    not "memwrite ..."  - Get rid of obfuscatory macros  - Re-alphabetize  - Add docs for "arm11 vcr" git-svn-id: svn://svn.berlios.de/openocd/trunk@2776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Doc updates:  add section on target software changes, minor
	fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ETB: cleanup needless symbol exports and forward decls.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reentry assert git-svn-id: svn://svn.berlios.de/openocd/trunk@2770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added t/nsrst_assert_width commands git-svn-id: svn://svn.berlios.de/openocd/trunk@2768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : spelling fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add list of JTAG adapter drivers with TAP_RESET statemove bug.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Don't provide invalid OMAP5912 IR capture value/mask attributes git-svn-id: svn://svn.berlios.de/openocd/trunk@2762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Diagnostics tweaks for jtag_examine_chain() failure paths.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Streamline Capture-IR handling and integrity test.  Change the handling of the "-ircapture" and "-irmask" parameters to
	be slightly more sensible, given that the JTAG spec describes what
	is required, and that we already require that conformance in one
	place.  IR scan returns some bitstring with LSBs "01".   - First, provide and use default values that satisfy the IEEE spec.     Existing TAP configs will override the defaults, but those parms    are no longer required.   - Second, warn if any TAP gets set up to violate the JTAG spec.     It's likely a bug, but maybe not; else this should be an error.     Improve the related diagnostics to say which TAP is affected.  And associated minor fixes/cleanups to comments and diagnostics.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Hasselberg <mh@open-engineering.de> target configuration
	files for Toshiba TX09 familiy git-svn-id: svn://svn.berlios.de/openocd/trunk@2756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : When attaching GDB to OpenOCD, the target state is no longer
	affected.  Added gdb_sync feature that allows GDB to sync up to
	target state.  Issue "monitor gdb_sync" and the next stepi, will
	return immediately with updated register values to GDB.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : When setting up an ETM, cache its ETM_CONFIG register.  Then
	only expose the registers which are actually present.  They could be
	missing for two basic reasons:  - This version might not support them at all; e.g. ETMv1.1    doesn't have some control/status registers.  (My sample of    ARM9 boards shows all with ETMv1.3 support, FWIW.)  - The configuration on this chip may not populate as many    registers as possible; e.g. only two data value comparators    instead of eight.  Includes a bugfix in the "etm info" command:  only one of the two
	registers is missing on older silicon, so show the first one before
	bailing.  Update ETM usage docs to explain that those registers need to be
	written to configure what is traced, and that some ETM configs are
	not yet handled.  Also, give some examples of the kinds of
	constrained trace which could be arranged.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Initial ETM cleanups.  Most of these are cosmetic:  - Add a header comment  - Line up the ETM context struct, pack it a bit  - Remove unused context_id (this doesn't support ETMv2 yet)  - Make most functions static  - Remove unused string table and other needless lines of code  - Correct "tracemode" helptext Also provide and use an etm_reg_lookup() to find entries in the ETM
	register cache.  This will help cope with corrected contents of that
	cache, which doesn't include entires for non-existent registers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build issue under win32 (cygwin/msys) from svn r2746 git-svn-id: svn://svn.berlios.de/openocd/trunk@2748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make it easier to erase or protect through to the end of a (NOR)
	flash chip: allow passing "last" as an alias for the number of the
	last sector.  Improve several aspects of error checking while we're at it.  From: Johnny Halfmoon <jhalfmoon@milksnot.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@2746
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove annoying end-of-line whitespace from doc/* files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove annoying end-of-line whitespace from most src/* files;
	omitted src/httpd git-svn-id: svn://svn.berlios.de/openocd/trunk@2742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ensure that DaVinci chips can't start with a too-fast JTAG
	clock.  It can be sped up later, once it's known the PLLs are
	active.  Note that modern tools from TI all use adaptive clocking; and that
	if that's done with OpenOCD, "too fast" is also a non-issue.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Enhancement: stm32 flash protection error message This patch modifies an error message which, in its original state, I
	find somewhat unhelpful. So a small hint was added.  Signed-off-by: Johnny Halfmoon <jhalfmoon at milksnot.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@2738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Debug message updates:  - Shrink messaging during resets, primarily by getting rid of    "nothing happened" noise that hides *useful* information.   - Improve: the "no IDCODE" message by identifying which tap only    supports BYPASS; and the TAP event strings.  Related minor code updates:  - Remove two needless tests when examining the chain:  we know    we have a TAP, and that all TAPs have names.   - Clean up two loops, turning "while"s into "for"s which better    show what's actually being done.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2736
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added  CPUDBG_WCR_BASE define git-svn-id: svn://svn.berlios.de/openocd/trunk@2734
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reduced sleep time after reset git-svn-id: svn://svn.berlios.de/openocd/trunk@2732
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor behavior fixes for the two JTAG reset events (C/internal,
	and Tcl/external):  - Reorder so *both* paths (TCK/TMS or TRST) can enable TAPs with    ICEpick ... first C code flags TAPs that got disabled, then call    any Tcl code that might want to re-enable them.   - Always call the C/internal handlers when JTAG operations can be    issued; previously that wasn't done when TRST was used.  Plus some small cleanups (whitespace, strings, better messaging
	during debug and on some errors) to reset-related code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2730
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move Cortex A8 debug access initialisation from omap3530.cfg to
	cortex_a8.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2728
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tweak TCL reset script ... mostly improving descriptions of the
	various steps, but also calling [target names] only once.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2726
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor fixes to NAND code and docs Erase logic:  - command invocation     + treat "nand erase N" (no offset/length) as "erase whole chip
	    N" + catch a few more bogus parameter cases, like length == 0
	 (sigh) - nand_erase() should be static  - on error     + say which block failed, and if it was a bad block     + don't give up after the first error; try to erase the rest  - on success, say which nand device was erased (name isn't unique) Device list ("nand list"):  - say how many blocks there are  - split summary into two lines  - give example in the docs Doc tweaks:  - Use @option{...} for DaVinci's supported hardware ECC options For the record, I've observed that _sometimes_ erasing bad blocks
	causes failure reports, and that manufacturer bad block markers
	aren't always erasable (even when erasing their blocks doesn't
	trigger an error report).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2724
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com> fix regression in
	jtag_add_pathmove() which broke arm11 in r1825. Other uses of
	jtag_add_pathmove are svn + xsvf + xscale...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2722
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : srst_gates_jtag option. at91sam9260 needs retesting, and
	possibly srst_gates_jtag added to reset_config. Could i.MX27 be a
	case where srst does not pull trst, but really srst gates jtag
	clock? git-svn-id: svn://svn.berlios.de/openocd/trunk@2720
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Doc update:  mention how ARM's WFI instruction affects JTAG
	clocking by gating the core clock, and workarounds.  Most details
	are with the "halt" command, which is one of the first places this
	issue will be noticed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2718
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-16  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use a variable armv7a->debug_base instead of hardedcoded
	OMAP3530_DEBUG_BASE git-svn-id: svn://svn.berlios.de/openocd/trunk@2716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Define debug_base, debug_ap, memory_ap in armv7a_common_t git-svn-id: svn://svn.berlios.de/openocd/trunk@2714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Definy symbolic values for VA to PA address translation
	operations git-svn-id: svn://svn.berlios.de/openocd/trunk@2712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added embedded ice programming while srst is asserted todo item git-svn-id: svn://svn.berlios.de/openocd/trunk@2710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cache invalidation when writing to memory git-svn-id: svn://svn.berlios.de/openocd/trunk@2708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix email address git-svn-id: svn://svn.berlios.de/openocd/trunk@2706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@2704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-13  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More CortexA8 debug register definitions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> document post TAP reset
	event git-svn-id: svn://svn.berlios.de/openocd/trunk@2700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Cleanup some the downloaded
	ARM target algorithm code:  - Provide more complete disassembly of the DCC bulk write code  - Make code blocks "static const", in case GCC doesn't  - Fix some tabbing/layout issues  - Make some arm7_9_common.h flags be "bool" not "int"; and compact    the layout a bit (group most bools together) git-svn-id: svn://svn.berlios.de/openocd/trunk@2698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tap post reset event added. Allows omap3530 to send 100 runtest
	idle tickle's after a TAP_RESET.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> put feroceon target definition at
	the end so to avoid a bunch of useless forward declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : spelling mistake git-svn-id: svn://svn.berlios.de/openocd/trunk@2692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : registering a target event twice caused infinite loop. Same bug
	as in jtag/core.c copy & pasted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alexei Babich <a.babich@rez.ru>  cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style:native git-svn-id: svn://svn.berlios.de/openocd/trunk@2686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alexei Babich <a.babich@rez.ru> fix problems with unecessary
	tailend byte accesses. Use 16 bit access on tailend of a memory read
	if possible.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rolf Meeser <rolfm_9dq@yahoo.de> This patch adds target
	algorithm support for those flash devices that do not support DQ5
	polling. So far they could only be programmed with host algorithm,
	but this was way too slow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Optionally shave time off
	the armv4_5 run_algorithm() code:  let them terminate using software
	breakpoints, avoiding roundtrips to manage hardware ones.  Enable this by using BKPT to terminate execution instead of "branch
	to here" loops.  Then pass zero as the exit address, except when
	running on an ARMv4 core.  ARM7TDMI, ARM9TDMI, and derived cores now
	set a flag saying they're ARMv4.  Use that mechanism in arm_nandwrite(), for about 3% speedup on a
	DaVinci ARM926 core; not huge, but it helps.  Some other algorithms
	could use this too (mostly flavors of flash operation).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Report correct core instruction state for ARMv/A targets git-svn-id: svn://svn.berlios.de/openocd/trunk@2678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Provide an "armv7a
	disassemble" command.  Current omissions include VFP (except as
	coprocessor instructions), Neon, and various Thumb2 opcodes that are
	not available in ARMv7-M processors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-07  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improved handling of instruction set state, helps for debugging
	Thumb state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use "armv4_5 core_state arm" instead of soft_reset_halt, fewer
	side effects git-svn-id: svn://svn.berlios.de/openocd/trunk@2672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Add default fall back
	freqency.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> This patch simply enables the halting
	debug mode.  By enabling this bit, the processor halts when a debug
	event such as breakpoint occurs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> Tidy up the bit-offset operation for
	DSCR register git-svn-id: svn://svn.berlios.de/openocd/trunk@2666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Claffey <dnclaffey@gmail.com> get rid of reset recursion git-svn-id: svn://svn.berlios.de/openocd/trunk@2664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Claffey <dnclaffey@gmail.com> tested with the Atheros
	reference design "PB44" git-svn-id: svn://svn.berlios.de/openocd/trunk@2662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixes the incorrect info msg displayed during stellaris flash
	programming.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Warning fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu> config script for the
	MMnet1001 module from Propox.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Fix typo in help text. It
	has to be 'production_test' instead of 'production' here.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Remove duplicate check for
	flash write status.  Via code review by Steve Grubb
	<sgrubb@redhat.com> Also minor fixes for the message from "fill":  the byte count is
	unsigned, not signed; and more importantly, print the real number of
	bytes written git-svn-id: svn://svn.berlios.de/openocd/trunk@2652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> start phasing out integers
	as target IDs git-svn-id: svn://svn.berlios.de/openocd/trunk@2650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : restore ICE watchpoint registers when the *last* software
	breakpoint is removed git-svn-id: svn://svn.berlios.de/openocd/trunk@2646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> ARM disassembly support for
	about five dozen non-Thumb instructions that were added after
	ARMv5TE was defined:  - ARMv5J "BXJ" (for Java/Jazelle)  - ARMv6 "media" instructions (for OMAP2420, i.MX31, etc) Compile-tested.  This might not set up the simulator right for the
	ARMv6 single step support; only BXJ branches though, and docs to
	support Jazelle branching are non-public (still, sigh).  ARMv6 instructions known to be mis-handled by this disassembler
	include:  UMAAL, LDREX, STREX, CPS, SETEND, RFE, SRS, MCRR2, MRRC2 git-svn-id: svn://svn.berlios.de/openocd/trunk@2644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm11 single stepping wip - at least we know the next PC now git-svn-id: svn://svn.berlios.de/openocd/trunk@2642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : refactor arm simulator to allow arm11 code to use it as well -
	no observable changes otherwise.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> and Holger Hans Peter Freyther
	<zecke@selfish.org>  cortex-a8: Wait for the CPU to be
	halted/started With DCCR we are asking the CPU to halt, we should wait until the
	CPU has halted before proceeding with the operation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> and Holger Hans Peter Freyther
	<zecke@selfish.org> Only dap_ap_select when we are going to do a
	memory access in the fast reg case.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> cortex_a8_exec_opcode is writing the
	ARM instruction into the ITR register but it will only be executed
	when the DSCR[13] bit is set. The documentation is a bit weird as it
	classifies the DSCR as read-only but the pseudo code is writing to
	it as well. This is working on a beagleboard.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> and Holger Hans Peter Freyther
	<zecke@selfish.org> Before executing a new instruction wait for the
	previous instruction to be finished. This comes from the pseudo code
	of the cortex a8 trm.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added missing check on jtag_execute git-svn-id: svn://svn.berlios.de/openocd/trunk@2630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reduce arm11 output noise git-svn-id: svn://svn.berlios.de/openocd/trunk@2628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Clock updates/fixes for the
	Stellaris flash driver:  - Bugfixes:    * internal osc: it's *12* MHz (not 15 MHz) on _current_ chips       + except new Tempest parts where it's 16 MHz (and calibrated!)       + or some old Sandstorm ones, where 15 MHz was valid    * crystal config:       + read and use the crystal config, don't assume 6 MHz       + know when that field is 4 bits vs 5    * an RCC2 register may be overriding the original RCC       + more clock source options       + bigger dividers       + fractional dividers on Tempest (NYET handled)    * there's a 30 KHz osc on newer chips (for deep sleep)    * there's a 32768 Hz osc on newer chips (for hibernation)  - Cosmetic    * say "rev A0" not "vA.0", to match vendor docs    * don't always report master clock as an "estimate":       + give the error bound if it's approximate, like "30%"       + else don't say anything    * fix whitespace and caps in some messages    * these are not AT91SAM chips!! Those clock issues might explain problems sometimes reported when
	writing to Stellaris flash banks; they affect write timings.  That 12-vs-15 MHz issue is problematic; there's no consolidated doc
	showing which chips (and revs!) have which internal oscillator
	speed.  It's clear that only older silicon had the
	faster-and-less-accurate flavor.  What's less clear is which chips
	are "old" like that.  Lightly tested, on a DustDevil part.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Tweak disassembly commands:  For ARMv4/ARMv5:   - better command parameter error checking   - don't require an instruction count; default to one   - recognize thumb function addresses   - make function static   - shorten some too-long lines  For Cortex-M3:   - don't require an instruction count; default to one With the relevant doc updates.  --- Nyet done:  invoke the thumb2
	disassembler on v4/v5, to better handle branch instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More jtag_add_reset()
	cleanup: Unify the handling of the req_tlr_or_trst parameter.  Basically,
	JTAG TMS+TCK ops ("TLR") is always used ... unless TRST is a safe
	option in this system configuration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Accomodate targets which
	don't support various target-specific reset operations.  Maybe they
	can't; or it's a "not yet" thing.  Note that the assert/deassert operations can't yet trigger for OMAP3
	because resets currently include JTAG reset in all cases, resetting
	the ICEpick and thus disabling the TAP for Cortex-A8.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build warnings - add svn props to recently added files armv7a.[ch] git-svn-id: svn://svn.berlios.de/openocd/trunk@2618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : strange.... the code build and links w/Linux GCC target but
	fails w/arm-elf. The code was clearly broken as it was missing two
	extern's in the .h file...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu> increase reset delay to
	fix regression from 2600 to 2604 git-svn-id: svn://svn.berlios.de/openocd/trunk@2614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audrius Urmanaviius <didele.deze@gmail.com> Latest source
	(R2606) does not compile under Windows+Cygwin - fails with error
	about possibly uninitialized use of variable 'ch'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use cortex_a8 instead of cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@2610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell Subset of Cortex-A8 support from Magnus:  create
	an armv7a file and seed it with DAP access support using the current
	ADIv5 code.  (With tweaks and cleanup from yvind and Dave.) The ARMv7-AR architecture manual is not publicly available (even in
	subset form like the ARMv7-M spec), so it's hard to distinguish
	between the Cortex-A8 implementation and the ARMv7-A architecture.  The register set presumably is architectural, and so it's stored
	here; it's like earlier ARMs, with small additions.  Ditto the
	instruction set, though Thumb2 support is used (extending Thumb
	support from ARMv6 with more 32-bit instructions) and there's this
	ThumbEE thing too.  There is a new "debug monitor" mode, not yet
	fully addressed here, to support debugging in environments (like
	motor control) where halting debug mode is inadvisable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Steve Grubb <sgrubb@redhat.com> fix various and sundry leaks git-svn-id: svn://svn.berlios.de/openocd/trunk@2606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pieter Conradie <Pieter.Conradie@psitek.com> shuffle things
	around to the right spots. Should have been done in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pieter Conradie <Pieter.Conradie@psitek.com> Scripts for Atmel
	AT91SAM7S256 and AT91SAM9260 git-svn-id: svn://svn.berlios.de/openocd/trunk@2602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Ziecik <kosmo@semihalf.com> This patch adds handling blank
	characters between hex digits in SVF file, making OpenOCD compatible
	with files generated by Altera Quatrus II 9.0.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>More Thumb2 disassembly:   ARMv7-M: A5.3.6 Load/store dual or exclusive, table branch GCC will generate the table branch instructions, usually with
	inlined tables that will confuse this disassembler.  LDREX and STREX
	are not issued by GCC without inline assembly.  This means all Thumb2 instructions implemented by Cortex-M3 can now
	be disassembled.  Cortex-A8 cores support more Thumb2 instructions,
	but most of those aren't yet publicly documented.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>Fix some command helptext:  - spell "address" right  - list bp/wp params as optional And make those source lines wrap at sane margins.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell [david-b@pacbell.net]: Simplify dumping of register lists by only printing cached values if
	they are marked as valid.  Most of the time, they are invalid; so
	printing *any* value is just misleading.  Note that for ARM7 and ARM9 most EmbeddedICE registers (except for
	debug status) could be cached most of the time; and their register
	cache isn't maintained properly (many accesses seem to bypass that
	cache code).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add cfg file for Amontec JTAGKey2 jtag interface git-svn-id: svn://svn.berlios.de/openocd/trunk@2592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jonas Horberg [jhorberg@sauer-danfoss.com] Change jtag_rclk
	behaviour so it can be called before the interface init function git-svn-id: svn://svn.berlios.de/openocd/trunk@2590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Add "cortex_m3
	vector_catch" command and docs.  One minor issue with this is that
	the core debug support uses this mechanism, then trashes its state
	over reset.  Users can Work around that (for now) by re-assigning
	the desired config after reset.  Also fixes "target halted due to target-not-halted" goof.  When we
	can't describe the reason using OpenOCD's limited vocabulary, say
	"reason undefined" instead of saying it's not halted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Several of the ARMv7M
	registers are 8 bits or less; don't display them as 32 bits unless
	that's their true size.  (Removes some confusion.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> Split LM3S811 config file into
	target file and board file git-svn-id: svn://svn.berlios.de/openocd/trunk@2584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> Add config file for
	TI-Luminary LM3S1968 chip and EK-LM3S1968 board git-svn-id: svn://svn.berlios.de/openocd/trunk@2582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added note w/reference to discussion on whether or not arm11
	code is broken or not.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Warn about anyone using
	"jtag_speed" commands; that command is obsolete, and will someday be
	removed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema [ferdinand@postema.eu] - fix vector catch issues with certain ARM9 cores - AT91SAM9260 and
	STR9 git-svn-id: svn://svn.berlios.de/openocd/trunk@2576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gary Carlson [gcarlson@carlson-minot.com]: - revert patch from rev1507 as it was causing reset issues with arm9
	cores git-svn-id: svn://svn.berlios.de/openocd/trunk@2574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com>: Fix ARM11 half-word bulk memory read and write.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix NPE in GDB_EVENT_END as logforwarding was not disabled early
	enough git-svn-id: svn://svn.berlios.de/openocd/trunk@2570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More testcase work:        A5.3.11 Data processing (shifted register) The usual kinds of problems; the most noteworthy were that the "S"et
	flags bit was mis-handled in these instructions.  --- This is the
	last patch from a quickie set of tests covering all encodings of the
	instructions with 32-bit opcodes.  There may be some corner cases
	left, plus the instructions that aren't yet handled, but the Thumb2
	disassembler is no longer just "lightly" tested with GCC output ...
	the new code paths have mostly been verified.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More fixes from test cases:        A5.3.8 Load halfword, unallocated memory hints It's mostly the usual sort of bitmasking goofage and getting the
	width specs right.  In one case an older x86 GCC generated bad code
	unless I structred a conditional differently (sigh).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More instruction decoding
	fixes based on test cases, covering ARMv7-M arch manual:  A5.3.1 Data processing (modified immediate)  A5.3.3 Data processing (plain binary immediate)  A5.3.4 Branches and miscellaneous control and other (immediate) encodings referenced there.  Several of these
	just tweak the new syntax ("Unified" ARM/Thumb: UAL) but there were
	a few bugs too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Andreas Fritiofson <andreas.fritiofson@gmail.com> I noticed
	there are a few checks for (rt == 0xf) even though that case is
	handled with an early return at the top of the function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> thumb2 disassembly for Load
	byte, memory hints git-svn-id: svn://svn.berlios.de/openocd/trunk@2560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Stefano Voulaz <s.voulaz@projecktstudio.com> first cut
	samsung_s3c2450 git-svn-id: svn://svn.berlios.de/openocd/trunk@2556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Clean up treatment of registers in ARMv7-M and Cortex-M3.   - At the arch level:     * Just list registers and names; don't impose core-specific       policy about how they are accessed.      * Each register has a symbol.      * Remove the register mode field (irrelevant to debugger)  - At the core/implementation level:     * Just map the registers to their relevant access methods;       don't require the arch level to say how that should work       (cores other than Cortex-M3 could do it differently).      * Don't use undefined bits from register 20.      * Use register IDs that are part of the ARMv7-M interface.  In short, there's now a real distinction between the arch and core
	layers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Revert parts of the previous ARMv7-M register patch.  It turns out
	that part of the issue is a documentation problem for the Cortex-M3
	r1 parts. So for the rest, simpler fixes are possible (in followup
	patch).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : aduc flash problems have been resolved git-svn-id: svn://svn.berlios.de/openocd/trunk@2550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added item to come up with slick new 32 bit jtag_add_xxx() API git-svn-id: svn://svn.berlios.de/openocd/trunk@2548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : microscopic white space fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Magnus Lundin <lundin@mlu.mine.nu>, Oyvind Harboe
	<oyvind.harboe@zylin.com>, David Brownell <david-b@pacbell.net>: Move the dap command handler implementations to arm_adi_v5.c,
	leaving just thin wrappers in armv7m.c.  There should be no change
	in functionality here.  (From Magnus.) Minor style cleanup:  whitespace, line length, etc.  Update spec
	references to use docs which are currently available.  (From Dave.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More 32-bit Thumb2 instruction decoding:         A5.3.7 Load word git-svn-id: svn://svn.berlios.de/openocd/trunk@2542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More 32-bit instruction decoding:         A5.3.11 Data processing (shifted register) git-svn-id: svn://svn.berlios.de/openocd/trunk@2540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More instructions decoded:         A5.3.14 Multiply, and multiply accumulate         A5.3.15 Long multiply, long multiply accumulate, divide The EABI requires *adjacent* register pairs, but the long multiply
	ops can use any pair of registers; interesting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Print old-style Thumb NOP instructions as such.  (GCC uses "mov r8,
	r8" instead of the architected NOP which is new in Thumb2.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make the Thumb2 disassembler handle more 32-bit instructions:   A5.3.3 Data processing (plain binary immediate) These use mostly twelve bit literals, but there are also bitfield
	and saturated add primitives.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make the Thumb2 disassembler handle a bunch of 32-bit instructions:   A5.3.4 Branches and miscellaneous control Note that this shifts some responsabililty out of helper functions,
	making the code and layout simpler for 32-bit decoders:  they only
	need to know how to format the instruction and its parameters.  Also, technical note:  with this patch, Thumb1 decoders could now
	call the Thumb2 decoder if they wanted to get nicer treatment of the
	exiting 32-bit B/BLX instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Initial support for disassembling Thumb2 code.  This works only for
	Cortex-M3 cores so far.  Eventually other cores will also need
	Thumb2 support ... but they don't yet support any kind of
	disassembly.   - Update the 16-bit Thumb decoder:      * Understand CPS, REV*, SETEND, {U,S}XT{B,H} opcodes added        by ARMv6.  (It already seems to treat CPY as MOV.)      * Understand CB, CBNZ, WFI, IT, and other opcodes added by        in Thumb2.   - A new Thumb2 instruction decode routine is provided.       * This has a different signature:  pass the target, not the        instruction, so it can fetch a second halfword when needed.         The instruction size is likewise returned to the caller.       * 32-bit instructions are recognized but not yet decoded.   - Start using the current "UAL" syntax in some cases.  "SWI" is    renamed as "SVC"; "LDMIA" as "LDM"; "STMIA" as "STM".   - Define a new "cortex_m3 disassemble addr count" command to give    access to this disassembly.  Sanity checked against "objdump -d" output; a bunch of the new
	instructions checked out fine.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire Eclipse settings, charset will be set elsewhere.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> mention udev, and correct
	D2XX speed mentions git-svn-id: svn://svn.berlios.de/openocd/trunk@2526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 1.54 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2523
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Bump minor version and add tag: Bump minor package version
	number: 0.2.0 -> 0.3.0 Add '-in-development' version tag: 0.3.0 ->
	0.3.0-in-development git-svn-id: svn://svn.berlios.de/openocd/trunk@2521
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve the release script before 0.2.0: 1) Only archive NEWS file on major and minor relesae, not bug-fixes.  2) Switch back to correct development branch during final release
	step.  3) Add do_svn_switch helper to ensure package variables are
	reloaded.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make the parport-ppdev option enabled by default.  This may
	require giving --disable-parport-ppdev to configure on some
	platform(s).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> document my experiment with
	MinGW cross build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Magnus Lundin  Thc cortex_m3_poll function does not identify
	that a target is running unless we transition from RESET.  This patch correctly identifies a running target.  Patch made a tad more palatable by David Brownell
	<david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Mention how parallel clock
	voting implementations of RTCK work, and reference TI's free VHDL
	code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wrote up workaround for xscale/debug_handler.bin bug git-svn-id: svn://svn.berlios.de/openocd/trunk@2506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> split EK board support out
	from the target CPU support .  git-svn-id: svn://svn.berlios.de/openocd/trunk@2504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add section to provide some documentation for cross-compiling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add comments to top-level files to "excuse" their Doxygen
	markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix formatting of xscale bug entry(learning every day) git-svn-id: svn://svn.berlios.de/openocd/trunk@2498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo in comment git-svn-id: svn://svn.berlios.de/openocd/trunk@2496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : i.MX27 reset problems fixed & update remaining reset problems
	notes git-svn-id: svn://svn.berlios.de/openocd/trunk@2494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : srst pulls trst according to Freescale docs for i.mx27 git-svn-id: svn://svn.berlios.de/openocd/trunk@2492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use reference to mailing list for known arm926ejs bugs rather
	fill The List with lots of details git-svn-id: svn://svn.berlios.de/openocd/trunk@2490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix return value for "reset" and "runtest" command. Found by
	code inspection.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more arm926ejs bugs git-svn-id: svn://svn.berlios.de/openocd/trunk@2486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Update docs to say that
	"arm7_9 dbgrq enable" is the default on ARM9 cores, and update the
	DaVinci config files so they no longer explicitly specify it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build when using a cross compiler - do not try and run any
	host tools - add missing types.h when platform does not contain elf.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : a bit more debug output for translation of invalid mode numbers git-svn-id: svn://svn.berlios.de/openocd/trunk@2480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix regression in "step" command introduced in 2190 git-svn-id: svn://svn.berlios.de/openocd/trunk@2478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Release Script documentation to reflect current
	implementation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add NEWS file for the 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu>: Updates to private TAP state tables in amtjtagaccel interface
	driver.  The first change is the neccesary one to correct a long-standing bug
	that caused the IDCODE to be shifted by one bit too many.  This was
	caused by an incorrect path from state RESET to state DRSHIFT.  The value of those 2 bytes were 0x8a and 0x04. This means that the
	bitstream to do this transition is 0b 00100 01010 (send LSB first).
	This will bring you from the reset state to the shift state;
	however, you enter the shift-state twice, which explains why the
	ID-CODE that will be read next will be shifted 1 bit.  The fix
	changes these to 0x05 and 0x00.  This will send the bitstream 0b
	00101 (send LSB first).  This will bring the TAP controller from the
	RESET state to the DRSHIFT state directly, without entering the
	DRSHIFT state twice.  After checking the whole table, two other transitions were found
	that could be optimized (5 bits in stead of 10 bits).  Summary off all changes:   From   To       Old values  Old Bitstream  New values  New
	  Bitstream  Remarks ----   -------  ----------  -------------
	  ----------  -------------  ------- RESET  DRSHIFT  0x8a 0x04
	  0b00100 01010  0x05 0x00   0b00101        1,2 IDLE   DRSHIFT  0x85
	  0x08   0b01000 00101  0x04 0x00   0b00100        2 IDLE   IRSHIFT
	0x8b 0x08   0b01000 01011  0x06 0x00   0b00110        2 [1] Fixes the IDCODE bug [2] Optimization git-svn-id: svn://svn.berlios.de/openocd/trunk@2472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 10ms timeout check on cp15 read/write git-svn-id: svn://svn.berlios.de/openocd/trunk@2470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix maintainer-clean target in doc directory.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added known problem w/line number's being off in syntax errors
	for target reset events git-svn-id: svn://svn.berlios.de/openocd/trunk@2466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : human readable error message upon invalid arguments git-svn-id: svn://svn.berlios.de/openocd/trunk@2464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Major update to release process documentation: - Provide overview of OpenOCD versioning schema.  - Outline responsibilities and authority of the release manager.  - Explain the need for flexibility in the release schedule.  - Add and refine the release process steps.  - Include tutorials for using new release script.  - Many more improvements, too numerous to list.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> With this patch, OpenOCD can
	talk to my Analog Device Eval-ADuC7060 eval board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2459
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add AUTHORS for 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2457
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove vim editor commands from TCL files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2455
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Commit first draft of release process documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2453
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.53 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2451
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More minor improvements to README to help polish the 0.2.0 release: - Add note about Ubuntu 8.04 (in lieu of starting a README.Linux
	file).  - Fix introductory paragraph to Bulding OpenOCD - Remove some vestigial texinfo markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Restore some whitespace that got clobbered by over-aggressive
	whitepace eradication patches a while back.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing copyright header to target_type.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update TODO list to relect 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add stm32 connectivity line tapid to stm32.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2440
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove at91sam3.h from flash.c; use extern like other drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Provide some useful information in README file, rather than
	punting.  Add some text to introduce the project to new users.  Move packaging, configuration, and compilation of OpenOCD out of the
	User's Guide and into README, where it can be used by users before
	configuring and compiling the documentation.  Improve notes about required Subversion repository build steps.  Add
	reference to the standard GNU INSTALL file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove cygwin build warnings in at91sam3.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove executable bits from at91sam3 configuration files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add svn:eol-style properties missed in last commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Add "jtag names" command, mirroring "target names" but returning TAP
	names instead of target names.  This starts letting TAPs be
	manipulated in scripts ... much like what works now for targets.  It's a bit limited just yet, since "jtag cget $TAPNAME" doesn't
	expose all TAP attributes.  "$TARGETNAME cget" is more functional.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix doxygen 'undocumented parameter' warnings in membuf.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix doxygen warning in jtag.h caused by a changed parameter
	name.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix @file documentation blocks in new interfaces source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix logger.pl script to avoid spurious empty line in some cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor bugfix ... previous version was tested *with* ICEpick active.
	The "-disable" can swap with "-enable"; but not with an empty
	string.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Improve the PXA255 target config:  move all that board-specific
	setup to the pxa255_sst board.cfg, to which it evidently belongs
	(it's the only PXA255 board now included).  Provide the PXA255 JTAG id from Intel docs, and add a comment about
	how this chip is now EOL'd (last orders taken).  Note that I still can't get my old PXA255 board to work.  There's
	something broken in the reset sequence, which is preventing the TAP
	from coming up at all.  Old mailing list posts suggest this is a
	longstanding bug...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor fixup to the User's Guide, primarily related to the handful of
	commands defined in "startup.tcl"; "help" was not previously
	documented.  Also, be more consistent about "Config Command" definitions (and to
	be explicit about that doc convention).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> various missing commands git-svn-id: svn://svn.berlios.de/openocd/trunk@2412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : A bit more log detail about connections comming and going git-svn-id: svn://svn.berlios.de/openocd/trunk@2410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add Breakpoint/Watchpoint unique ID to help debug hardware debug
	register leakage git-svn-id: svn://svn.berlios.de/openocd/trunk@2408
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Switch to strotk() grr....  git-svn-id: svn://svn.berlios.de/openocd/trunk@2406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Add a short chapter on
	boundary scan support, which currently just documents the SVF and
	XSVF commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2404
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oleksandr Tymoshenko <gonzo@bluezbox.com> simple watchpoint
	support for MIPS32/EJTAG (no value comparation yet).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Fix formatting bug in
	at91sam7 doc added with the at91sam3 support; and some formatting
	issues with sam7 and stm32 keyword params.  Tweak at91sam3 docs.  Remove ninth nibble from flash bank addresses,
	clarify "at91sam3 show" variants and that the flash bank layout is
	not needed as a parameter (unlike with sam7); formatting fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace at end of lines, step 2.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace that occurs before ')'.  - Replace '[ \t]*[)]' with ')'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[<>]' whitespace - Replace '\(\w\)\([<>]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '+' whitespace - Replace '\(\w\)\(+\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '==' whitespace - Replace '\(\w\)\(==\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'switch(' with 'switch ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'if(' with 'if ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix end-of-line style properties on newly added files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add quick target - full cygwin builds take a long long long
	time, this shortens the edit/build/debug cycle git-svn-id: svn://svn.berlios.de/openocd/trunk@2382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace at end of lines, step 2.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace '){' with ') {'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace that occurs after '('.  - Replace '([ \t]*' with '('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[|]' whitespace - Replace ')\([|]\)(' with ') \1 ('.  - Replace ')\([|]\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\([|]\)(' with '\1 \2 ('.  - Replace '\(\w\)\([|]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '=' whitespace - Replace ')\(=\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '<<' whitespace - Replace ')\(<<\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(<<\)(' with '\1 \2 ('.  - Replace '\(\w\)\(<<\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '<=' whitespace - Replace '\(\w\)\(<=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '&&' whitespace - Replace ')\(&&\)(' with ') \1 ('.  - Replace '\(\w\)\(&&\)(' with '\1 \2 ('.  - Replace '\(\w\)\(&&\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[+]=' whitespace - Replace '\(\w\)\([+]=\)(' with '\1 \2 ('.  - Replace '\(\w\)\([+]=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '-=' whitespace - Replace '\(\w\)\(-=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(-=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'for(' with 'for ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'while(' with 'while ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update w/missing eCos definitions after latest round of compiler
	formatting warnings fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: This should be my last significant update of the User's Guide for
	this release.  Mostly it's a rework of the config file chapter's
	presentation of board and target config files.   - Give the new path for scripts!  - Move board-config material out of the target-config section  - Add more board-config info, notably for reset-init events  - Link out of the board-config section to NAND, NOR, and Reset
	 chapters - Emphasize target input vs. output naming conventions  - Other textual improvements Plus some other updates, like adding my copyright (now that I've
	basically rewritten much of this).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Make the Hitex
	STM32-PerformanceStick board config behave better: source the STM32
	target config instead of using a private clone git-svn-id: svn://svn.berlios.de/openocd/trunk@2352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix break caused by r2208 when using --pipe option - issue is gdb stdin buffer gets full before we redirect openocd
	output git-svn-id: svn://svn.berlios.de/openocd/trunk@2350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oleksandr Tymoshenko <gonzo@bluezbox.com>: Resume command works only if resume address is provided.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2348
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2346
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2336
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2334
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2330
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2328
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2326
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 Type updates, include inttypes.h - it is catagorically
	required git-svn-id: svn://svn.berlios.de/openocd/trunk@2296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove editor preferences from source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Paulius Zaleckas <paulius.zaleckas@gmail.com>: This is minimal patch to support FA526 ARMv4 compatible core.  Since
	it is very similar to ARM920T I tried to reuse as much code as
	possible.  CPU and board configs will follow soon.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix jtag_add_callback() args. The first argument is nothing
	special, it's just another generic argument.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : less warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oyvind Harboe <oyvind.harboe@zylin.com>: Ecos uses sys/types.h not stdint.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Style Guide documentation to explain basic type rules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u64' to 'uint64_t' - Replace '\([^_]\)u64' with '\1uint64_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u32' to 'uint32_t' in src/flash.  - Replace '\([^_]\)u32' with '\1uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u32' to 'uint32_t' in src/target/arm* - Replace '\([^_]\)u32' with '\1uint32_t'.  - Replace '^u32' with 'uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u8' to 'uint8_t' - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u8' to 'uint8_t' in src/target - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Clean up the PLD files:  - Get rid of some extraneous whitespace  - Make various functions static  - Wrap overlong lines git-svn-id: svn://svn.berlios.de/openocd/trunk@2272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Take a whack at providing some texinfo style docs.  Mostly it's just
	basic "how 2 write sane dox" stuff.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2270
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : dummy driver now works under eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2268
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix for a goofy "board" config ... reuse target/pxa270.cfg instead
	of using a private copy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2266
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Let jtag_call_event_callbacks() behave when the callback removes
	itself.  Oddly, this crashed on x86_32 but not x86_64.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2264
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix compilation for Ubuntu 9.04 on x86-64 when using
	--enable-httpd.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2262
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ensure range errors are reported only when errno indicates one
	occurred.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2260
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add argument parsing errors in command.h, use in parse_type
	routines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2258
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Convert core parse_type implementations to check for underflow
	errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2256
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update parse_type macro definitions to allow re-use with signed
	types.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2254
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix a bug preventing ICEpick "enable that TAP" code from working:
	the "runtest" command wrongly finished with a JTAG reset, discarding
	the work the TAP enable handler just finished!  Instead, JTAG should
	stay in RUN/IDLE state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2252
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Tighten error handling on TAP enable/disable paths a bit:  - Don't enable/disable unless it's necessary.  Those event    handlers could have nasty side effects...   - Don't *succeed* enables/disables if there was no code which    could have implemented that action.  This prevents bugs like    wrongly acting as if the scan chain changed.   - Minor whitespace cleanup in enable/disable command code.  The big problem is still the lack of code to verify scan chains were
	actually updated as requested; this adds a comment on that.  I
	suspect the best we can do near term will be to verify IDCODE.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2250
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Distributing FTDI's "ftd2xx" library with OpenOCD violates the
	OpenOCD license (GNU GPLv2 with no exceptions).  Make that clear where that build option is presented, and don't
	describe the FTDI libraries as an option for any packager.  (It's
	fine for personal use, of course.) Plus some related clarifications:  libftdi version 0.16 for the new
	FT2232H chips (for RTCK and high speed USB); the Amontec drivers are
	just ftd2xx variants.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2248
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Doc update:  say "jtag newtap ... -disable" records the state after
	exiting the RESET state, matching the only implementation we're
	working with so far (TI ICEpick-C).  Matching code updates.  Now we can be sure that the "enabled" flag
	value is correct after JTAG resets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2246
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor jtag cleanup:  - remove hidden assumption about JTAG event numbering  - move function declarations to a header  - some end'o'line whitespace  - use "calloc" not "malloc + memset" git-svn-id: svn://svn.berlios.de/openocd/trunk@2244
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Add another board ... OMAP2420 "H4" board.  This won't be very
	widely used with OpenOCD, but with mainline support in both U-Boot
	and Linux it at least makes for a more complete set (and another
	testcase).  This is incomplete support in several respects.  The ARM11 support
	is not very deep yet; most registers aren't available, and the ETM
	can't be hooked up.  Plus, there's no script for OMAP-specific stuff
	like setting up the SDRAM controller.  Eventually the same NAND
	controller driver should work with OMAP2 and OMAP3.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2242
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: OpenOCD doesn't actually *need* to be keeping all TCP ports active
	... creating security issues in some network configs.  Instead, let config file specify e.g. "tcl_port 0" (or gdb_port,
	telnet_port) to disable that particular remote access method.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2240
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_profile_command argument parsing: - Use parse_uint to ensure timeout value parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2238
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup and improve handle_wp_command and handle_rwp_command: - Simplify argument parsing logic using switch statement.  - Use parse_u32 to ensure all values parse properly.  - Return syntax error when mode argument fails to parse.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2236
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_verify_image_command_internal command argument
	handling: - Use parse_u32 to ensure address parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2234
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_load_image_command argument parsing: - Use parse_u32 to ensure base/min/max addresses parse properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_md_command argument handling: - Use parse_u32 and parse_uint for address and count, respectively.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2230
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup and improve handle_halt_command: - Make argument check use parse_uint to ensure value parses
	properly.  - Move variable declarations to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2228
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use parse_uint in handle_reg_command to ensure reg number parses
	properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2226
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Currently the "debug_level 3" command tracing ignores commands that
	could return values to TCL scripts (by plugging in to a slightly
	lower level of the interpreter stack).  Fix that by abstracting the tracing command and starting to make
	some of those previously-untraced commands use this new mechanism.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2224
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Partial fix to the "long IR length" problems.   - Current code could handle up to 32 bit IR lengths with    full functionality, if it didn't just reject may of them    out of hand.  So only reject clear errors, where the IR    mask (or capture instruction) needs more than IrLen bits.   - Longer IR lengths can only be handled in BYPASS mode    for now.  Example:  TI's DSPs use 38-bit IR lengths.     So we can't issue their IDCODE instructions...  A more complete fix would be able to issue longer instructions; or
	minimally, would fail cleanly for the non-BYPASS case.  Note that this *could* make some currently broken scripts fail,
	since the previous code accepted garbage values so long as they
	didn't use more than 16 bits.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2222
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Further cleanup to MIPS target read/write memory function: - Move the mips32_..._read_mem calls to top-level of read_mem
	function.  - Change: Only perform mips_m4k_read_mem conversion when retval ==
	   ERROR_OK.  - Prevents pointless conversions of bogus read values after
	failures.  - Eliminate retval variable from mips_m4k_write_mem; return
	directly.  - Move declaration of retval variable to point of first use.  - Remove the now redundant switch statements testing size:   - argument sanitizing already covers these cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix unitialized use of cur_speed in handle_jtag_khz_command: - Use the default KHz speed setting, in case interface is not
	initialized.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2218
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_runtest_command: - Use parse_uint helper to ensure argument is parsed properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2216
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_irscan_command: - Use parse_u32 helper to ensure scan values are parsed properly.  - Clear the fields buffer to ensure partial cleanup occur correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2214
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use parse_uint helper to replace strtoul call in
	jtag_tap_by_string.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2212
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and improve amt_jtagaccel_handle_parport_port_command: - Show the port number to the user when asking for it or setting it.  - Print an error if the amt_jtagaccel_port has already been set.  - Use parse_u16 helper to ensure amt_jtagaccel_port string parses
	correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2210
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and improve handle_debug_level_comamnd: - Bug fix: Return a syntax error if more than one argument is given.  - Bug fix: Use new parse_uint helper ensure debug_level parses
	correctly.  - Change: Display the debug_level after it has been set.  - Simplify bounds checking of debug_level.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2208
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add new parse_uinttype wrappers for strtoul in
	src/helper/command.[ch].  - Used to improve command argument parsing of unsigned integers
	values.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Rework the "Simple Configuration Files" chapter so it's more of a
	quick-start "how to set up your project" tutorial:  - Say how to hook up the JTAG adapter.  This will help new    users, and in any case is worth spelling out somewhere.   - Streamline the previous rather haphazard presentation,    filling in some missing holes along the way:      * Suggest "project directory" structure      * Introduce new term, "user config" file (openocd.cfg)      * Talk about more options for openocd.cfg contents      * ... and about creating new config files      * Add new topic, project-specific utilities (+examples)  - Remove too-short, yet duplicative, chapter 19 Nudge packagers a bit more strongly to send patches (including
	config files) upstream.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug introduced during r1962 - Original patch submitted by David Claffey [dnclaffey@gmail.com].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix ordering of arguments to fwrite() git-svn-id: svn://svn.berlios.de/openocd/trunk@2197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factor target_timer_callbacks_check_time into pieces: - Add target_timer_callback_periodic_restart and
	target_call_timer_callback.  - Clean up and simplify logic that determines whether to call each
	callback.  - Move variable declarations to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and fix target handle_rwp_command routine: - Return syntax error unless exactly one argument is passed.  - Move variable declaration to point of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify handle_resume_command: - Eliminate redundant calls to target_resume with addr temp
	variable.  - Place variables at location of first use.  - Fix minor whitespace issues.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move jtag_get_flush_queue_count near jtag_execute_queue (fix its
	docs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Group JTAG reset configuration and accessor APIs together in
	header file.  Remove unused reset_line_mode enumerated type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Out-of-line jtag_tap_next_enabled and simplify its logic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : disable polling continuous polling during reset git-svn-id: svn://svn.berlios.de/openocd/trunk@2183
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix texi/pdf issue created in svn r2039 git-svn-id: svn://svn.berlios.de/openocd/trunk@2181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Tweak the csb337 code so that it doesn't enable alignment traps when
	it completes the "reset init" sequence.  It turns out that the
	current CFI code reliably triggers such traps.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2179
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve use of automake conditionals for FTDI-based JTAG
	drivers: - Remove once-used XXX_FTD2XX symbols; replace with XXX_DRIVER
	symbols.  - Enabled when either libftdi or FTD2xx driver should be built.  - Eliminates redundant DRIVERSFILE assignment in JTAG automake
	input.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2177
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rename jtag_driver.c as driver.c to remove duplicate name
	component.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset to eol native for now. guess-rev.sh was broken by eol
	native, but it was a red herring that these two files were affected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate the core jtag interface pointer: - Add new jtag_config_khz to increase encapsulation of jtag->khz
	call.  - Add new jtag_get_speed_readable to encapsulate of jtag->speed_div
	call.  - Make definition of jtag static in core.c, remove extern from
	tcl.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Continue encapsulation of JTAG event callback sub-API: - Move jtag_event_callbacks struct to core.c; it's an implementation
	detail.  - Move jtag_*_event_callbacks next to the definition of the new
	function type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Expose jtag_unregister_event_callback with related API
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2167
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Properly encapsulate core hasKHZ variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2165
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing static keywords to a few variables in JTAG core
	module.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2163
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate jtag_reset_config using accessors: - Update handle_reset_config_command in tcl.c to use new helpers.  - Replace direct accesses in JTAG interface and target drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2161
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add get and set accessors for jtag_speed: - Setter calls the interface driver callback to improve core
	encapsulation.  - Use getter in standard JTAG interface drivers and ZY1000
	minidriver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate the jtag_trst and jtag_srst variables: - Add accessor functions to return their value.  - Use new SRST accessor in cortex_m3.c and mips_m4k.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2157
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove superfluous extern of jtag_event_strings from jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2155
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed native line end style - breaks cygwin git-svn-id: svn://svn.berlios.de/openocd/trunk@2153
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove accidental duplicate of hasKHz; fixes pre-init speed
	setup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2151
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Split main jtag.c file into two layers: - src/jtag/core.c: contains the low-level JTAG TAP and scanning
	routines.  - src/jtag/tcl.c: contains high-level JTAG TCL commands that use the
	core.  - Remove static keywords from routines in core.c, extern from tcl.c:   - jtag, jtag_interface global variables   - jtag_{examine,validate}_chain and jtag_tap_{init,free} functions - Added myself to the copyright header in both of these files.  - Used 'svn cp' to add files, so versioning was preserved for both.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2149
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move Doxygen documentation for IR/DR scan routines to header
	file.  - Move plain IR scan declaration closer to the other IR scan
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2147
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove non-existant jtag_tap_by_position API declaration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2145
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup jtag_tap_by_abs_position: - Remove unused orig_n local variable.  - Merge variable declaration with first use.  - Update code to use current style guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2143
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and fix bug in jtag_tap_by_string: - Bug fix: Use unsigned type and strtoul when parsing for position
	number.  - Simplify logic by returning directly when a tap is found by name.  - Reduce scope: declare temporary variables with first use.  - Bring code up to current style guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2141
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup jtag_tap_count_enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2139
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reduce scope or eliminate temporary variables in
	jtag_add_statemove: - Change types of tms_bits and tms_count to unsigned, eliminates a
	cast.  - Use moves[] only if needed; a single move can use goal_state
	directly.  - Declare loop induction variable inside its control statement.  - Remove retval in favor of direct returns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2137
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Revert changes from r2134 that snuck into the commit.  Mea
	culpa.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2135
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix eol-style on guess-rev.sh git-svn-id: svn://svn.berlios.de/openocd/trunk@2133
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch wrote a fix for configure problems under Cygwin.
	ltmain.sh is added to svn ignore git-svn-id: svn://svn.berlios.de/openocd/trunk@2131
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factor interface list to its own command: - Add handle_interface_list_command, used by
	handle_interface_command.  - Display output of new list to command console.  - Change first index of displayed drivers to 1; it's only cosmetic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2129
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_sleep: - Add todo for removing keep_alive: is this a layering violation? - Use jtag_set_error instead of accessing jtag_error directly.  - Remove superfluous retval temporary variable and empty return.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2127
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_clocks: - Use jtag_set_error instead of accessing jtag_error directly.  - Improve error language and whitespace.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2125
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_pathmove: - Use jtag_set_error instead of accessing jtag_error directly.  - Eliminate superfluous retval temporary variable.  - Reduce scope of loop induction variable.  - Wrap to fit within 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_plain_dr_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  - Move retval variable to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2121
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_plain_ir_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2119
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_execute_queue: - Add static inline jtag_error_clear helper to return and clear
	jtag_error.  - Use new helper to shrink body of function to two lines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2117
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup handle_runtest_command: - Make command argument require exactly one argument; do not allow
	extras.  - Remove superfluous whitespace at end of function.  - Wrap function arguments to fit in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2115
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Extend handle_jtag_n{s,t}rst_delay_command routines: - Add support to display the reset delays too, like the other
	commands.  - Always show the values, so users can see if they are being
	redundant.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update JTAG reset delay command handlers: - Fixes for error handling:   - Return a syntax error instead of calling exit(-1).    - Return error when more than one argument is provided too.  - Remove useless braces and indent after the if/return statements.  - Wrap function arguments to fit in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2111
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify logic in handle_jtag_speed_command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2109
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> - Don't let disabled TAPs be set as the current target  - Improve "targets" output:     * Remove undesirable "chain position" number; we discourage
	    using them * TAP and Target column updates:        + make them long enough for current usage        + improve labels, removing guesswork        + "TapName" label patches scan_chain output     * Highlight the "current" target     * Display "tap disabled" as a new pseudo-state     * Update docs accordingly git-svn-id: svn://svn.berlios.de/openocd/trunk@2107
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reorder configure script macros: - Check for a compiler before looking for libraries or header files.  - Initialize automake before calling other AM_ macros.  - Disable libtool shared libraries by default.  - Remove checks for unused C++, Fortran, and Java compilers.  - Remove redundant AC_CANONICAL_HOST; called by AC_PROG_LIBTOOL.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2105
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move minidummy source file, as was supposed to happen in last
	commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix reference warning in JTAG primer, add another external
	reference.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Clarify docs for the evb_lm3s811 layout:  works in two modes, not
	just one.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2099
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Rework chapter 12 (CPU configuration) to use @deffn, match the code
	more closely, and present things more clearly.  Includes the *current* list of targets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2097
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire endstate command git-svn-id: svn://svn.berlios.de/openocd/trunk@2095
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix regressions in previous series of cleanp, caused by r2092.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2093
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Improve variable type: change device_count to unsigned.  - Improves jtag_tap_count_enabled() API too (now returns unsigned).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2091
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor TAP ID matching into new helper function.  - Simplifies the main jtag_examine_chain loop logic considerably.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2089
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Add helper to check for the terminating ID during
	jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2087
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor output of accepted/incorrect/expected TAP IDs into static
	helper.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2085
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor JTAG chain examination into static helper function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2083
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Reduce indent: invert logic test for unexpected TAP (no IDs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2081
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Move definition of maximum JTAG chain size closer to its only
	uses.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2079
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up handle_endstate_command(): - Merge declaration of state with first use.  - Unindent and remove unnecessary 'else' block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2077
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove hacks no longer required to build OpenOCD w/eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2074
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused include file: inttypes.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2072
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NextEnabledTap' as 'jtag_tap_next_enabled.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2069
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NumTotalTaps' as 'jtag_tap_count.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2067
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByString' as 'jtag_tap_by_string.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2065
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByPosition' as 'jtag_tap_by_position.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2063
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_all_taps' as '__jtag_all_taps.' - Frees original symbol name to rename the accessor function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2061
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add accessors for reset delays; use them in jim command
	handlers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2059
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_get_flush_queue_count accessor to help future
	factoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2057
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up the core JTAG TAP APIs: - Move jtag_tap_name to same location as other TAP functions; export
	it.  - Factor new jtag_tap_add() from jim_newtap_cmd(); appends TAP to
	global list.  - Move static chain position counter to global; use in
	jtag_NumTotalTaps().  - Use jtag_AllTaps for reading tap list, instead of accessing global
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2055
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing static keywords in JTAG source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2053
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for different TAR autotincrement sizes as per ARM ADI
	spec.  - set TAR size to 12 bits for Cortex-M3.  - Original patch submitted by Magnus Lundin [lundin@mlu.mine.nu].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2051
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Introduce jtag_get_end_state() fn to clarify code a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2049
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : do not modify global end state from jtag_add_xxx() git-svn-id: svn://svn.berlios.de/openocd/trunk@2047
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : no longer use jtag_add_xxx() to set end state to TAP_DRPAUSE git-svn-id: svn://svn.berlios.de/openocd/trunk@2045
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use assert() to catch TAP_INVALID passed to jtag_add_xxx() fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2043
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_add_end_state() now returns the value of the global
	variable and does not modify the global variable if passed
	TAP_INVALID. This patch has no effect on the current code and is
	just to prepare upcoming patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2041
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update the "General Commands" (a.k.a. "random stuff") chapter, and
	associated chunks of other text:  - Switch to @deffn and review everything that's documented  - Improve descriptions of reset events, with reference to    the setup.tcl code which issues them.   - Move one zy1000-specific command to that driver's doc.   - There is no "script" command; remove its doc.  NOTE:  Some things missing from this bit of work are:  1- Reviewing the code to catch various *missing* functions,     mostly from "target.c"  2- Alphabetizing and organizing.  This chapter is a real     grab-bag with no evident focus or structural principle.   3- Hole-filling and bugfixing with respect to messaging/logging.      Example, what principle could possibly justify the tcl command     output going into the server output/log instead of just the     telnet session?  4- Not just for this chapter ... but there should be a section     with descriptions of all the supported image file formats,     so every image command can just reference that section.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2039
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor cleanup of FT2232:   - make Olimex glue warn about Olimex issues instead of JTAGkey
	  issues; - make some data static+const;   - don't export some internal symbols.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2037
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Convert the Interface/Dongle Config chapter's section on drivers to
	use the @deffn syntax, and integrate the presentation of the
	driver-specific commands with the relevant driver.  Alphabetize.  Cross-checked against the code ... several adapters were not listed,
	and a few commands weren't.  (Maintainers for the versaloon and zy1000 drivers would be good
	candidates to add the commands missing from those sections...) git-svn-id: svn://svn.berlios.de/openocd/trunk@2035
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use assert() for obscure check on illegal arguments upon trst
	being asserted while commands are queued git-svn-id: svn://svn.berlios.de/openocd/trunk@2033
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : catchup with jtag refactoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2031
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish JTAG header file modularization; command factoring
	follows.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2029
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move JTAG command APIs into new jtag/commands.h header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2027
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve in-source documentation that was causing Doxygen
	warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2025
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve logger script to expose warnings and errors in the
	output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2023
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add draft of Patching Primer in The Manual; update primer page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2021
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Enable or add doxygen comments to the public JTAG API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2019
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove vestigal tap_transition type from public jtag API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2017
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Expose tap_state_by_name TAP helper available in public API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2015
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Rework the TAP creation documentation.   - Try to use "TAP" not "tap" everywhere; it's an acronym.   - Update the associated "target config files" section:      * reference the "TAP Creation" chapter for details      * simplify:  reference interesting multi-tap config files      * let's not forget CPU configuration (*before* workspace setup)      * streamline it a bit      * move that workspace-vs-mmu issue to a better location  - Clean up TAP creation doc mess      * switch to @deffn      * (re)organize the remaining stuff      * reference the "Config File Guidelines" chapter  - Tweak the "Target Configuration" chapter      * rename as "CPU configuration"; unconfuse vs. target/*.cfg      * bring out that it's not just there for GDB      * move TAP events to the TAP chapter, where they belong
	     (bugfix) git-svn-id: svn://svn.berlios.de/openocd/trunk@2013
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missed accessor for checking the current TMS table.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2011
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make tap_state_by_name available in new JTAG interface API
	header.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2009
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish removing '#ifdef HAVE_JTAG_MINIDRIVER_H' from jtag.h: - Wraps JTAG callback API functions:   - Outlines jtag_add_callback() and jtag_add_callback4().    - Adds interface_ prefix to existing in-tree driver
	  implementation.  - Declare the driver interfaces routines in miniheader.h file.  This patch requires renaming the equivalent macros in out-of-tree
	jtag_minidriver.h implementations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2007
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - change signature for adi_jtag_dp_scan and adi_jtag_dp_scan_u32 to
	use swjdp_common_t *swjdp instead of arm_jtag_t *jtag_info - change SWJDP_IR/DR_APACC to DAP_IR/DR_APACC to conform with
	ARM_ADI docs.  - add swjdp->memaccess_tck field and code for extra tck clocks
	before accessing memory bus - Set default memaccess value to 8 for Cortex-M3.  - Add dap memaccess command.  - document all armv7 dap cmds.  - Original patch submitted by Magnus Lundin [lundin@mlu.mine.nu].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2005
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unecessary #ifdef as file is only built when minidriver
	is enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2003
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more missing eCos types git-svn-id: svn://svn.berlios.de/openocd/trunk@2001
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move interface_jtag_add_scan_check_alloc implementations to
	their respective implementation files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1999
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unused code, TAP_INVALID is never passed to drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1997
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More JTAG interface driver cleanup: - Moves references to global jtag interface to default core
	implementation.  - Missed this reference in the earlier "pointless" patch.  Mea
	culpa.  Important: this has a side-effect.  Previously, the error return
	inside the interface routine short-circuited the remainder of that
	function when 'init' has not been called.  With this patch, the
	command queue will be cleared in the case that 'init' has been
	called.  Since that case indicates a buggy script, this does not
	seem to be a problem.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1995
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More JTAG interface driver cleanup: - Make interface_jtag_execute_queue call new helper function.  - Add default_interface_jtag_execute_queue to wrap jtag interface
	access.  This patch may look useless on its own, but it helps to isolate the
	core JTAG variables from the interface_jtag_* routines, so the later
	can be moved into jtag_driver.c in a pending patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1993
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate JTAG command interfaces for moving to
	jtag_interface.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1991
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Start clean-up of JTAG driver interface: - Factor jtag_add_scan_check to call new jtag_add_scan_check_alloc
	helper.  - Use conditional logic to define two versions of the helper.  - These helpers will be moved to other files in future patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1989
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Whitespace fixes in jtag.c ... mostly end-of-line crap.  Flag
	"jtag_device" command as obsolete in its helptext.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1987
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: This is the missing half of the r1974 patch: OSK5912 board support,
	which was split out from the omap5912 target config.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1985
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate JTAG minidriver functions, plan for new header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1983
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Scrub final vestiges of in_handler from mips target APIs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1981
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warning for a variable that GCC thought might be
	uninitialized(which it can't be).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1979
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Uplevel the arch commands to be a chapter; they really don't fit in
	the "general commands" category.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1977
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Various updates, mostly small/formatting changes:  * Small content tweaks:     - Re-title:  "OpenOCD User's Guide".      - For users, URLS for latest doc and SparkFun forum     - Mention GIT-SVN  * Fix some front-matter goofage, matching texinfo docs:     - "paragraphintent" location matters     - put release version/date description with the copyright  * Fix some other stuff matching texinfo docs:     - no tabs     - tweak some refs and anchors  * whitespace-at-end-o-line fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1975
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Whitespace fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1973
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Final step in isolating target_type_s structure: - Move definition of 'struct target_type_s' into new 'target_type.h'
	file.  - Forward delclaration remains in target.h, with comment pointing to
	new file.  - Replaces #define with #include in source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1971
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : First step in hiding target_type_s from public interface: - Add DEFINE_TARGET_TYPE_S symbol in files that need it defined.  - Forward declare 'struct target_type_s' only, unless that symbol is
	defined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1969
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target breakpoint and watchpoint wrapper: - replaces all calls to
	target->type->{add,remove}_{break,watch}point.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1967
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_step wrapper: - replaces all calls to target->type->step.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1965
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_bulk_write_memory wrapper: - replaces all calls to target->type->bulk_write_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1963
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_run_algorithm wrapper: - replaces all calls to target->type->run_algorithm.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1961
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_read_memory wrapper: - replaces all calls to target->type->read_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1959
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make nvp_target_event static; remove its external declaration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1957
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Peter Denison <openwrt@marshadder.org>: The debugging code in jlink_tap_execute() called when
	_DEBUG_USB_COMMS_ is defined was using the entire cached scan length
	to print the results buffers, and not the correct length of each
	individual buffer.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1955
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate duplicated code in the handle_mw_command memory write
	loop.  - wordsize will always be 1, 2, or 4 due to preceeding switch
	statement.  - move call to keep_alive after successful writes, not upon failures git-svn-id: svn://svn.berlios.de/openocd/trunk@1953
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unused jlink_execute_end_state (unreferenced after
	r1949).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1951
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused JTAG_END_STATE git-svn-id: svn://svn.berlios.de/openocd/trunk@1949
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more reset_config texts git-svn-id: svn://svn.berlios.de/openocd/trunk@1947
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Provide basic documentation on the ARM ETM and ETB trace commands.  Fix minor goofs in registration of the ETM commands; and whitespace
	issues in the proof-of-concept oocd_trace code.  (Plus include a ref
	to Dominic's email saying that it's just proof-of-concept code.) Note that I'm still not sure whether the ETM support works.  But
	documenting how it's expected to work should help sort out which
	behaviors are bugs, which will help get bugs patched.  ZW: whitespace changes were split out of this patch but will follow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1945
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove error_handler_t type definition; it was unused in the
	tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1943
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Provide basic documentation for some of the other flash drivers.   avr ... looks incomplete, may work with one AVR8 microcontroller  ecosflash ... can't find docs  lpc288x ... an NXP part, driver seems lpc2888-specific  ocl ... some arm7/arm9 thing, can't find docs  pic32mx ... looks incomplete, for PIC32MX (MIPS 4K) devices  tms470 ... for TI TMS470 parts Still seems to be mostly arm7tdmi... several of these have no users
	in the current tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1941
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Start converting the architecture-specific commands to @deffn
	format, reviewing against the code.    * armv4_5 disassemble ... now documented; although Jazelle code     is not handled   * It's "armv4_5 core_state" not "core_mode"; although Jazelle
	    state is not handled   * arm7/9 "debug" commands ... now with other arm7_9 commands, no     longer in a separate section   * arm926ejs cp15 ... previous description was broken, it matched     the code for arm920t instead   * Have separate subsections for ARMv4/ARMv5, ARMv6, and ARMv7; the     latter are new   * Move core-specific descriptions into sub-subsections under those     architectures; XScale and ARM11 descriptions are new The new XScale and ARM11 command descriptions surely need
	elaboration and review.  ARM CP15 operation descriptions in general
	seem to be confused and incomplete.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1939
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Start updating the NOR flash coverage to use @deffn syntax, so the
	commands have more consistent presentation and formatting.  This
	reorganizes information and updates its presentation, except where
	the information didn't really match the code.  This patch updates most of the driver specific support, creating one
	new (and alphabetized!) section just for driver-specific data, where
	previously that data was split over up to three sections.  Of note:  - The at91sam7 docs were a bit out of date with respect to the
	 code.   - The "str9xpec" stuff still deserves some work.  For now, it sits    in its own subsection; pretty messy.   - Likewise the "mflash" stuff.  That's a parallel infrastructure,    and is now in a section of its own.   - The "mass_erase" commands for the Cortex M3 chips got turned into    footnotes.  IMO, they should vanish sometime; they're
	   superfluous.   - There are still a bunch of undocumented NOR drivers.  Examples:    avr(8), tms470, pic32mx, more.  Plus there are a handful of minor tweaks to the NAND docs (to help
	make the NOR and NAND presentations be parallel); the "Command
	Index" has been renamed as the "Command and Driver Index"; reference
	TI instead of Luminary Micro in several places.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1937
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix potentialyl unaligned memory accesses in mflash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1935
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Nicolas Pitre <nico@cam.org>         - Silence errors about keep_alive() not being called
	        frequently enough unless a gdb session is active or
	debugging is enabled git-svn-id: svn://svn.berlios.de/openocd/trunk@1933
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Add large bank write/dump
	support in mflash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1931
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Remove unused mflash driver
	'prove' field.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1929
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Change prefix of mflash driver
	routines to mg_.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1927
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for cortino jtag interface git-svn-id: svn://svn.berlios.de/openocd/trunk@1925
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Link new Primer pages into the main list of Primers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1923
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add draft of Autotools Primer to The Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1921
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move TCL script files -- Step 2 of 2: - Move src/tcl to tcl/.  - Update top Makefile.am to use new path name.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1919
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add warning to generated Doxyfile to edit Doxyfile.in.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1917
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@SimonQian.com>, reported by R.Doss: This patch fixes a segfault when TDO was not received in XXR
	command: - allocate space for the value and mask anyway - clear the mask to zero to effectively skip the output comparison
	step git-svn-id: svn://svn.berlios.de/openocd/trunk@1915
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update the "Reset Configuration" information in the User's guide:  - Convert to @deffn syntax  - Move tutorial text from command descriptions into new sections  - Describe several different types of JTAG-visible reset  - Expand descriptions of configuration tweaks for SRST and TRST  - Link to the "reset" command, and vice versa  - Bugfix the "reset_config" description (it didn't match the code) Plus, be more proscriptive:  do it in board config files, except for
	the oddball cases where that won't work. (Current target.cfg files
	seem to have much goofage there; several seem board-specific.) git-svn-id: svn://svn.berlios.de/openocd/trunk@1913
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-25  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Ral Snchez Siles <rsanchezs@infoglobal.es> - cfi flash_address coding style fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1911
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make startup for the various server ports be quiet, unless debugging
	is active:  don't emit needless scarey messages.  Update the
	relevant documentation and its references:  - For these port commands ... cover the default values;    convert to @deffn syntax; include their use outside of    the configuration stage; and alphabetize.  Similar updates to the rest of that small chapter:  - Highlight that there even *IS* a configuration stage, after    which some command functionality is no longer available.   - For GDB commands ... convert to @deffn syntax; alphabetize;    include a missing command (!); add missing helptext (!) for    one non-missing command; update relevant cross-references    and index entries.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1909
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: minor davinci_nand bugfix Fix a bug that joined us at the last minute, when an efficient
	alloca() call got swapped out for a more portable malloc().  Also log one error, to give a clue in case it appears "in the wild".  git-svn-id: svn://svn.berlios.de/openocd/trunk@1907
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org>: Update sheevaplug interface
	script: When the CPU is in the WFI state, the JTAG interface simply doesn't
	respond at all and initial tap examination simply fails.  Let's
	simply do it again when we come around to assert nSRST.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1905
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: NAND support for DaVinci-family drivers, with HW ECC support.
	Declare the NAND chip on the DM355 EVM board.  Currently tested on DM355 for Linux interop using the standard large
	page (2KB) chip in the EVM socket; "hwecc1" and "hwecc4" work fine.
	(Using hwecc4 relies on patches that haven't quite made it through
	the Linux-MTD bottlenecks yet.) Not yet tested:  1-bit on small-page (although it's hard to see how
	that could fail); 4-bit on small page (picky layout issues); the
	"hwecc_infix" mode (primarily for older boot ROMs; testing there is
	blocked on having new bootloader code).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1903
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Properly fix doxygen out-of-tree build process: - move Doxyfile to Doxyfile.in: type 'make Doxyfile' to recreate it - create Doxyfile from Doxyfile.in with make rule:   - use sed substitution of $(srcdir) to location directories - delete all doxygen created files with 'make distclean' - include all required files (including logger.pl) in distribution git-svn-id: svn://svn.berlios.de/openocd/trunk@1901
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Freddie Chopin <freddie_chopin@op.pl>: - add reset delay settings for LPC2103, LPC2124, and LPC2129.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1899
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update main page of doxygen developer documentation: - Rewrite copy to give a better introduction and overview.  - Add subpages: The List, Style Guide, Patch Policies, and Bug
	Reporting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1897
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update user guide documentation: - Remove style guide from user guide; moved to doxygen manual.  - Replace with improved introduction for developers and packagers.  - Move introductory paragraph about the project under the About
	page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1895
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by Magnus Lundin <lundin@mlu.mine.nu>: - Remove FTDI driver tap_set_state call; performed by
	jtag_add_reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1893
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix make docs rule to work with out-of-tree builds.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1891
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by Magnus Lundin <lundin@mlu.mine.nu>: Updates to the J-Link interface driver to support more device
	versions: - Add capability detection:   - if capable, detect protocol version; otherwise, assume v2
	  protocol.  - if capable, detect buffer size; otherwise, assume minimal.  - Disable command result queries for devices using v2 protocol.  - Defined and use JTAG2 command with v2 protocol; JTAG3 is v3
	protocol.  - Add TCL command to allow explicit setting of J-Link protocol
	version.  With approval, I revised the patch to make the following changes: - add static keywords to new jlink-specific variables - factor calculation of major_version to be more readable - remove braces around simple one-line statements in if/else clauses - remove (rather than #if 0) duplicate reset code; it is in SVN - use &function to be clearer when passing function pointers - add symbols for EMU_CMD_GET_CAPS bits; do not hard-code constants! - almost renamed jlink_handle_jlink_hw_jtag_command  (seriously?!?!)   - rewrote that function using a switch statement.    - made version request processing easier to understand and modify - improve alternate endpoint detection:   - make code easier to read by using temporary variables   - eliminate extra level of indentation and redundant logging - use ternary conditional to select JTAG2 or JTAG3 command - reverse version test in jlink_usb_message to reduce indentation   - this had the biggest effect in cleaning up this patch - use C99's ability to declare new/changed variables with less scope - add spaces around binary operators in new/changed code - revert other superfluous whitespace/comment style changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1889
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change doxygen configuration to show code comments in
	documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1887
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Ral Snchez Siles <rsanchezs@infoglobal.es>         - Fix calculation of flash_address for x16 devices used as
	        x8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1885
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: David Brownell <david-b@pacbell.net> Remove un-implemented and dubious "nand copy" command.  Doing this efficiently would mean doing the copying on the target
	CPU, instead of back and forth through JTAG.  If anyone ever needs
	this functionality, that's what they should implement.  Also, update on-line "help" for "nand dump" to display its two
	optional flags; and for "nand write" to display a recently added
	flag.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1883
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by David Brownell <david-b@pacbell.net>: Improve support for the DM355 EVM board, and eventually other boards
	based on DaVinci chips:  - Provide generic "davinci.cfg" to hold utilities that can be
	   reused by different chips in this family.  Start with PINMUX, PSC,
	and PLL setup.   - DM355 chip support updates:  provide a dictionary with
	   chip-specific symbols, load those utilities.   - Create a new dm355evm board file, with a reset-init event handler    which uses those utilities to set up PLLs and clocks, configure
	   the pins, and improve the JTAG speed limit.  Also a minor tweak:  provide a virtual address for the work area,
	matching what the very latest kernels do.  It's probably unwise to
	use OpenOCD while the MMU is active though.  The DRAM isn't yet accessible, but NAND access is mostly ready.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1881
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by David Brownell <david-b@pacbell.net>: Add a "NAND Commands" section to to the TEXI docs, covering the
	basic commands except for those previously discussed as being due
	for removal ("nand copy") or switching to use byte offsets not block
	numbers.  This uses the "@deffn..." syntax for defining commands, as somewhat
	suggested by the TEXI documentation, and adds a new "Command Index".
	We might prefer to merge those indexes for the near term, but I
	think the "@deffn" approch is probably worth switching to.  Updates a few other bits to clarify that "flash" doesn't just mean
	NOR.  And to fix one niggling falsity:  the "reset-init" event *is*
	used, and in fact it's quite important.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1879
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warning. Use %p for pointers git-svn-id: svn://svn.berlios.de/openocd/trunk@1877
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Minor updates for OMAP3
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1875
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>:  This patch adds
	annotations to the key command_*() helper functions, fixng the bugs
	that turned up.  Several of these bugs were from misuse of PRIi64; that's for 64-bit
	integers, NOT for "long long" or "u64" (which work best with %lld).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1873
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Thomas Kindler <mail@t-kindler.de>         - Increase DTC status retry count to avoid problems with STM
	        Primer git-svn-id: svn://svn.berlios.de/openocd/trunk@1871
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Holger Schurig <hs4233@mail.mn-solutions.de>         -Prevent freezing of target when doing a 'shutdown'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1869
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>    -jtag.c, interface_jtag_add_dr_out():         - use pointer 'field' instead of scan->fields[field_count]         - restructure the main loop to clearly separate the two
	          cases: TAP is not bypassed / TAP is bypassed (this is to
	        keep the function similar to interface_jtag_add_dr_scan()) - fix bug where only the first output field has its tap field set         - add asserts to verify that target_tap points to the one
	        not bypassed TAP git-svn-id: svn://svn.berlios.de/openocd/trunk@1867
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_ir_scan():         - use pointer 'field' instead of scan->fields[nth_tap]         - add assertion to ensure that input data has correct size
	        for TAP's IR git-svn-id: svn://svn.berlios.de/openocd/trunk@1865
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: remove unused variable 'nth_tap' from DR scan
	    functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1863
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: consolidate all memory allocations in scan functions
	    in one block, add out_fields pointer to set stage for further
	    changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1861
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - add doxygen comments to scan commands in jtag.c     - move jtag_add_dr_scan next to interface_jtag_add_dr_scan to
	    keep these function pairs together git-svn-id: svn://svn.berlios.de/openocd/trunk@1859
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add initial OpenOCD server documentation (Duane Ellis and
	myself).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1857
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move TCL overview from source tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1855
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move non-arm target overview from source tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1853
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Spencer Oliver <spen@spen-soft.co.uk> use 7 tms out of reset git-svn-id: svn://svn.berlios.de/openocd/trunk@1851
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_plain_dr_scan() by adding
	    a local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1849
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_dr_out() by adding a local
	    variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1847
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_dr_scan() by adding a
	    local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1845
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - move scan_size in interface_jtag_add_ir_scan() into the scope
	    of the inner loop and change it to unsigned git-svn-id: svn://svn.berlios.de/openocd/trunk@1843
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - rename local variable x to num_taps in
	    interface_jtag_add_ir_scan git-svn-id: svn://svn.berlios.de/openocd/trunk@1841
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Wookey <wookey@wookware.org>: add user documentation for echo
	command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1839
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1837
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>  NAND: update ids, "nand
	list" bugfix git-svn-id: svn://svn.berlios.de/openocd/trunk@1835
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use tap_get_tms_path_len() instead of fix # of 7. Not tested if
	this builds, but at least we're looking at a build error instead of
	a runtime error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1833
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use tap_get_tms_path_len() instead of fix # of 7.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1831
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : updated w/jtag_add_end_state() note.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1829
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Enable non-7-cycle state table for FT2232 and JLink git-svn-id: svn://svn.berlios.de/openocd/trunk@1827
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : FT2232 support for non-7-cycle state moves by Dick Hollenbeck
	<dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1825
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change last_comand_pointer to last_command_pointer by Michael
	Bruck <mbruck@digenius.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[7/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[5/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[3/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : PATCHES updates from David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unecessary(and poptentially harmful?) "" around arguments
	passed in to "eval" in command.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1811
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dean Glazeski <dnglaze@gmail.com> fixed bug in checking of
	clocked back data in arm7_9_execute_fast_sys_speed. Not reported.
	There is a chance that this bug hid a deeper problem since it only
	partially disabled the check(mask & value were equal).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> ARM11 cleanup stale
	dependencies with generic arm code; added comments and whitespace
	fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1807
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix logically inverted comment git-svn-id: svn://svn.berlios.de/openocd/trunk@1805
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ETM/ETB documentation from David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1803
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix array2mem/mem2array when used as a "method" on a target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1801
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix naming of at91sam7 driver git-svn-id: svn://svn.berlios.de/openocd/trunk@1799
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Initialize a more variables in jim.c to allow gcc-4.4 to build.
	Fix provided by Benjamin Schmidt <DeMonk@gmx.net>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1797
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix -fno-common/Mac build problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1795
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : revert to 1775. 1790 causes SEGFAULT w/Cygwin.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1793
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add current draft of The List of Pending and Open Tasks.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1791
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Several minor fixes for the new doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1789
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use TAP_INVALID enum instead of -1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1787
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : dump_image now works for addresses not divisible by 4 git-svn-id: svn://svn.berlios.de/openocd/trunk@1785
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : selftest wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1783
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update configure script test for net/if.h to work on MacOS.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1781
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix bootstrap script to support MacOS glibtoolize oddity.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1779
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add JTAG Primer to doxygen manual, contributed by Strontium.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added verify_jtag command git-svn-id: svn://svn.berlios.de/openocd/trunk@1774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : shuffled comments about for jtag_add_dr_out() fn.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : irscan now also works correctly in addition to not crashing :-) git-svn-id: svn://svn.berlios.de/openocd/trunk@1770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 4-bit ECC support for Marvell Kirkwood SOC git-svn-id: svn://svn.berlios.de/openocd/trunk@1768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : move eCos type definition to types.h where it belongs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build issue when HAVE_ELF_H is not defined git-svn-id: svn://svn.berlios.de/openocd/trunk@1764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include project doxygen configuration with distribution
	tarballs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make replacements.h private by including it from config.h
	autoheader.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and reduce #include directives in jim source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove config.h from types.h; all .c files are required to
	include it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update rlink_make_speed_table.pl script to add config.h to its
	output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added jtag_alloc_in_value32 - not used in this commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include assert.h in system.h to promote tree-wide use of
	assertions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : now builds on 64 and 32 bit systems git-svn-id: svn://svn.berlios.de/openocd/trunk@1748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update jim helper files to use proper configure script support: - configure.in: Add AC_TYPE_LONG_LONG_INT to detect 'long long int'
	support.  - configure.in: Add AC_C_CONST to provide equivalent support as
	jim.h.  - jim*.c: include config.h when HAVE_CONFIG_H is defined.  - jim*.{h,c}: use HAVE_LONG_LONG_INT definition from config.h.  - jim.h: Remove hard-coded const and HAVE_LONG_LONG definitions.  - jim.h: -DJIM_NO_CONST has been obsoleted; -Dconst is equivalent.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : USB performance regression fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_dr_scan() from the synchronous version - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_dr_scan_check() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : change jtag_add_callback API to be able to support
	check_value/mask git-svn-id: svn://svn.berlios.de/openocd/trunk@1735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : leave eCos include file issues alone for now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1723
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : used by upcoming commits git-svn-id: svn://svn.berlios.de/openocd/trunk@1721
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Doxyfile configuration for doxygen 1.5.8: - Enable doxygen's C language optimizations.  - Use dot command (from graphviz package) to generate visual graphs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1719
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove redundant config.h from replacements.h, obtained from
	types.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1717
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in other
	target files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1715
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in core target
	files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1713
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in src/flash
	headers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1711
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives from
	src/server.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1709
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives from src/jtag.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1707
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify #include directives in ioutil.c, use new header checks.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1705
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add --enable-malloc-logging configure option and update log.c to
	match.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1703
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish portability support for AC_HEADER_STDBOOL configure
	macro.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1701
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add configure check for sys/types.h; include in our types.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1699
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use AC_HEADER_STDBOOL macro instead of
	AC_CHEACK_HEADERS(stdbool.h).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1697
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Extend autotools build to create shared library libopenocd with
	libtool: - Add libtoolize step too bootstrap script; creates ltmain.sh
	script.  - Add AC_PROG_LIBTOOL to configure.in to add libtool support to
	build.  - Change Makefile.am library rules from static (_a) to libtool
	(_la).  - Install libopenocd.{la,so,a} in $(libdir); update openocd link
	rules.  - Extend MAINTAINERCLEANFILES in top-level Makefile.am to remove
	ltmain.sh.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1695
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Extend configure script to check for environ declaration in
	stdlib.h.  Patch contributed by Martin Thomas <mthomas@rhrk.uni-kl.de>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1693
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Revive tclapi.c from r1650: * Remove superfluous #include directives.  * Fix warnings and API usage to cure its bit rot.  * Build into libhelper library (for now).  Add tclapi.h to export
	tclapi_register_commands().  Register tclapi commands in
	openocd.c:setup_command_handler().  git-svn-id: svn://svn.berlios.de/openocd/trunk@1691
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> whitespace fixes. Testing
	out on one file first...  git-svn-id: svn://svn.berlios.de/openocd/trunk@1689
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> use more const git-svn-id: svn://svn.berlios.de/openocd/trunk@1687
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> ARM11 C99 updates git-svn-id: svn://svn.berlios.de/openocd/trunk@1685
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : plugged bug w/irlen > 32 introduce in 1672 git-svn-id: svn://svn.berlios.de/openocd/trunk@1683
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> DaVinci dm6446 git-svn-id: svn://svn.berlios.de/openocd/trunk@1680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Fischer <fischermi@t-online.de> fix compile problems on
	Mac git-svn-id: svn://svn.berlios.de/openocd/trunk@1678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stm32 profiling wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add flush_count jtag queue profiling feature git-svn-id: svn://svn.berlios.de/openocd/trunk@1674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : in_handler in_check_mask and in_check_value now removed from
	field. Last big patch in the series of JTAG API cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use assert instead of adding code that always runs git-svn-id: svn://svn.berlios.de/openocd/trunk@1670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : first jtag_check_value_mask usage. tested by using "arm7_9
	fast_memory_access enable" & "mdw 0 0x10" git-svn-id: svn://svn.berlios.de/openocd/trunk@1664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix typo from hurrying the last commit.  Nothing to see here.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Re-order and extend header file tests in configure script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix warnings in ioutil.c; improves loadFile inteface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ouch - typo in last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : in_handler removal typo fixed git-svn-id: svn://svn.berlios.de/openocd/trunk@1654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : refactor to be able to remove more in_handler stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@1652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix c99 compile errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove usage of in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag API error handling refactoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix line endings git-svn-id: svn://svn.berlios.de/openocd/trunk@1634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Deleted at9sam7_old driver. Nobody has complained about the new
	one yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : another example of removing in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix most pointer cast alignment warnings in arm11.c; fix u16
	memory reads..  git-svn-id: svn://svn.berlios.de/openocd/trunk@1628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix stm32x and pic32mx flash pointer cast alignment warnings,
	simplify their last word handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment warnings in target/image.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment issues in svf.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment warnings in jim.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> comments & 7 clock TMS reset
	for good measure git-svn-id: svn://svn.berlios.de/openocd/trunk@1618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Small changes that might improve stability.  Implemented new
	jtag sequences tap_get_tms_path and tap_get_tms_path_len git-svn-id: svn://svn.berlios.de/openocd/trunk@1616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> simplifies XSTATE handling,
	and protects against illegal state transitions that might be in an
	SVF file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix enviorn configure test failure message (thanks to Anders
	Montonen).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add autoconf check to determine where environ should be
	declared.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire out_mask - not used anywhere git-svn-id: svn://svn.berlios.de/openocd/trunk@1608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : made warning about keep_alive() not being invoked more helpful git-svn-id: svn://svn.berlios.de/openocd/trunk@1606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gabor Juhos juhosg at openwrt.org  MIPS: fix a shift value in
	the MIPS32_R_INST macro git-svn-id: svn://svn.berlios.de/openocd/trunk@1604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Add minimalist Cortex A8
	file git-svn-id: svn://svn.berlios.de/openocd/trunk@1602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Mariano Alvira <mar@devl.org> fixes warning as error about a
	signed vs. unsigned comparison by casting the local unsigned
	variable as (long long).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix embedded builds git-svn-id: svn://svn.berlios.de/openocd/trunk@1598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix compilation when HAVE_UNISTD_H is not defined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Esden-Tempski <piotr@esden.net> Mac OS X compile fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add configure check for usb.h; required by a USB drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> moved stuff into openocd.c -
	should never have been in main.c in the first place. DLL will now
	build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove superflous spaces from new JTAG table to fix formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com>: move OPENOCD_VERSION to use
	config.h git-svn-id: svn://svn.berlios.de/openocd/trunk@1586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de>: Make ICEbear look like other
	targets git-svn-id: svn://svn.berlios.de/openocd/trunk@1584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : list board's as well as target config files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1581
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add static keywords to core target source file data and
	functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1579
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix signed/unsigned comparison.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1577
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : flash fillX now has a verify stage git-svn-id: svn://svn.berlios.de/openocd/trunk@1575
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de>: sys/select.h must preceed
	windows.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1573
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clear FLASH_SR error flags after flash errors to avoid reset
	befor further flash operations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1571
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More error logging for DAP errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1569
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : comments and debug code git-svn-id: svn://svn.berlios.de/openocd/trunk@1567
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Sten <debian@sansys-electronic.com>: add support for ICEbear
	FDTI-based interface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1565
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove vestigial last_tms variable from jlink driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1563
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix jlink for Debian/Ubuntu (by Ben Dooks
	<ben-openocd@fluff.org>).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1561
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing header files to fix C99 compatibility.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1559
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> and Jeff Williams
	tap_get_tms_path_len() git-svn-id: svn://svn.berlios.de/openocd/trunk@1557
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@1555
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix gw16012 with
	--enable-parport_ppdev git-svn-id: svn://svn.berlios.de/openocd/trunk@1553
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> macros for error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1551
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1549
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added dap baseaddr and dap apid commands git-svn-id: svn://svn.berlios.de/openocd/trunk@1547
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@simonqian.com> patch for error compiling
	vsllink if --enable-verbose-jtag-io is set git-svn-id: svn://svn.berlios.de/openocd/trunk@1545
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1543
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@simonqian.com> AVR wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Deleted depreciated files ( new versions are arm_adi_v5.c/h ) git-svn-id: svn://svn.berlios.de/openocd/trunk@1538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Changed armv7m and cortexm3 to use nev arm_adi_v5 instead of
	cortex_swjdp.  Added support for accessport ROM table
	identification, dap command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Philippe Vachon <philippe@cowpig.ca> 64 bit host fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> wrap _GNU_SOURCE defines git-svn-id: svn://svn.berlios.de/openocd/trunk@1532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : R.Doss <doss@gmx.de> AT91SAM9260 git-svn-id: svn://svn.berlios.de/openocd/trunk@1530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Corrected statement order git-svn-id: svn://svn.berlios.de/openocd/trunk@1528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Break ft2232_execute_quie into smaller functions, follows
	restructure of jlink.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add TAP_SCAN_BYTES macro (1 of
	2) git-svn-id: svn://svn.berlios.de/openocd/trunk@1524
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> Update udev file git-svn-id: svn://svn.berlios.de/openocd/trunk@1522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> update SheevaPlug interface cfg
	file git-svn-id: svn://svn.berlios.de/openocd/trunk@1520
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1518
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stm32.cfg can expect one of 4 id's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> ARM11 various updates + fix
	formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck spotted a typo in help messages git-svn-id: svn://svn.berlios.de/openocd/trunk@1510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> set speed in init git-svn-id: svn://svn.berlios.de/openocd/trunk@1508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> reorder enum tap_state git-svn-id: svn://svn.berlios.de/openocd/trunk@1506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Shrink JLink buffer sizes to specified 2KB courtesy of Jeff
	Williams <jeffw@gadgetworks.com> and Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix use of wrong format conversion for size_t (%zu instead of
	%u) git-svn-id: svn://svn.berlios.de/openocd/trunk@1502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : refactor jlink_execute_queue courtesy of Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> refactor git-svn-id: svn://svn.berlios.de/openocd/trunk@1498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  add --enable-verbose* options git-svn-id: svn://svn.berlios.de/openocd/trunk@1496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nico Coesel <ncoesel@dealogic.nl> MIPS32 speedup patches git-svn-id: svn://svn.berlios.de/openocd/trunk@1494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  factor jlink usb_bulk_*_ex
	functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> improve Linux ftd2xx
	configure-time support git-svn-id: svn://svn.berlios.de/openocd/trunk@1490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove environ warning under win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@1488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  fix unused return value
	warnings (2 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix str9x type-punned pointer git-svn-id: svn://svn.berlios.de/openocd/trunk@1484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>fix unused return value
	warnings (3 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de> add non-CFI
	SST flashs git-svn-id: svn://svn.berlios.de/openocd/trunk@1480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix at91rm9200 warning. Thanks Zach Welch <zw@superlucidity.net> - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix ft2232/presto warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> use ARM4_5_MODE_ANY instead of
	-1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix -Werror warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added functionality to support jtag_khz for the jlink.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add missing initializers in
	nand.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix signed/unsigned
	comparisons git-svn-id: svn://svn.berlios.de/openocd/trunk@1466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  use tap_state_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-18  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The following patches was applied: - openocd-flash-static-keyword-v3.patch - openocd-lpc2000-fix-erase-obo.patch - openocd-jlink-fix-sign-ptr-warn.patch - openocd-wextra-etm.patch - openocd-wextra-jtag.patch - openocd-add-new-tap-symbols-v6.patch Many thanks to  Zach Welch <zw(at)superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Esden-Tempski <piotr@esden.net> Corrected
	olimex_stm32_h103 board config git-svn-id: svn://svn.berlios.de/openocd/trunk@1460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Freddie Chopin <freddie_chopin@op.pl> LPC2378 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improved (for humans) error reporting for flash programming
	errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add openocd coding style to texi git-svn-id: svn://svn.berlios.de/openocd/trunk@1454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Esden-Tempski <piotr@esden.net> added a board file for the
	Olimex STM32-H103 eval board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1450
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org list the new flag in the "nand
	write" help line.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org The ECC data is automatically
	computed and written to the OOB area when the oob_softecc option is
	passed to the "nand write" command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org software ECC computation for NAND
	flash git-svn-id: svn://svn.berlios.de/openocd/trunk@1444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org Allocating a 6-byte memory
	location with malloc() is rather silly when this can be allocated on
	the stack.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> URL references git-svn-id: svn://svn.berlios.de/openocd/trunk@1439
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix keyword expansion git-svn-id: svn://svn.berlios.de/openocd/trunk@1437
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing usbprog config. patch from Uwe Hermann

	https://lists.berlios.de/pipermail/openocd-development/2009-March/005145.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1435
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo's in last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1433
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update str9 and stm32 comstick configs - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1431
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> Add new board configs: Olimex
	LPC-H2148, Keil MCB2140.  Both boards use an LPC2148, no external
	flash or RAM.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1429
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> eal _CPUTAPID entry for the
	LPC2148. I don't know if they're the same for all LPC214x, this
	number is from an Olimex LPC-H2148. The chip on that board is
	LPC2148FBD64.  Also fix a few cosmetic issues and comments in the file and add more
	docs and pointers to the datasheet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1427
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1425
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1423
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com>  adds support to
	i.MX35 processor.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1421
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix incorrect str9comstick cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1419
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hiroshi Ito <ito@mlb.co.jp> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1417
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1415
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with cortex_m3 reset run. Thanks Perry Hung -

	https://lists.berlios.de/pipermail/openocd-development/2009-March/005028.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1413
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1411
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added eol-style props git-svn-id: svn://svn.berlios.de/openocd/trunk@1409
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added -endstate to irscan and drscan to support beagleboard
	(omap3530) git-svn-id: svn://svn.berlios.de/openocd/trunk@1407
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1405
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added VID/PID pair to olimex-jtag-tiny-a the non-a version
	already has the vid pid git-svn-id: svn://svn.berlios.de/openocd/trunk@1403
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-07  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Accept/create both A and Non-A ft2232 based descriptions git-svn-id: svn://svn.berlios.de/openocd/trunk@1401
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audrius Urmanaviius <didele.deze@gmail.com>  cleanup flash
	fill git-svn-id: svn://svn.berlios.de/openocd/trunk@1399
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> making reset+halt on the SheevaPlug
	100% reliable (needs patch in target.c to fix "halt 0").  git-svn-id: svn://svn.berlios.de/openocd/trunk@1397
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1395
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> rename
	description field of the jtag-tiny.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1393
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  SheevaPlug board configuration git-svn-id: svn://svn.berlios.de/openocd/trunk@1391
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org add Feroceon target config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1389
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  support for NAND controllers
	without explicit busy signal git-svn-id: svn://svn.berlios.de/openocd/trunk@1387
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org The code unconditionally writes
	into the oob area all the time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1385
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32x flash driver - add support for stm32105/107 (connectivity
	line) git-svn-id: svn://svn.berlios.de/openocd/trunk@1383
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tinkered a bit with performance for Cortex flash programming.
	Mainly make it easier to profile as a start.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John Woods <johnrw@gmail.com> fix newtap gaffe + rename git-svn-id: svn://svn.berlios.de/openocd/trunk@1378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Holger Schurig <hs4233@mail.mn-solutions.de> incorporate some
	comments from Rick git-svn-id: svn://svn.berlios.de/openocd/trunk@1376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.49 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - guess-rev.sh now works as expected when build_dir is not the same
	as src_dir git-svn-id: svn://svn.berlios.de/openocd/trunk@1372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-10  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use C89/C99/C++ compliant boolean types git-svn-id: svn://svn.berlios.de/openocd/trunk@1370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix native win32 build issues git-svn-id: svn://svn.berlios.de/openocd/trunk@1368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Cable driver helper API courtesy of Dick Hollenbeck
	<dick@softplc.com> - Formatting changes from uncrustify git-svn-id: svn://svn.berlios.de/openocd/trunk@1366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add uncrustify config file and helper script git-svn-id: svn://svn.berlios.de/openocd/trunk@1364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update symbols to match source file git-svn-id: svn://svn.berlios.de/openocd/trunk@1362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : xvsf player fixes by Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Search path fixes for MinGW builds.  Courtesy of Dimitar
	Dimitrov <dinuxbg@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : vsllink support for stable clocks by Simon Qian
	<simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix for incorrect filename in include for at91sam9260 in
	unknown-board-atmel-at91sam9260.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1353
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add --enable-release to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1351
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add axm0432 interface config courtesy of Alan Carvalho de Assis
	<acassis@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1349
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix 'make maintainer-clean' courtesy of Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1345
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix support for ADuC702x flash.  Courtesy of Michael Ashton
	<data@gtf.org> git-svn-id: svn://svn.berlios.de/openocd/trunk@1343
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove unused includes, fixes build issues under FreeBSD git-svn-id: svn://svn.berlios.de/openocd/trunk@1341
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SVF player courtesy of Simon Qian <simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1339
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-17  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix guess-rev.sh where the builtin echo doesn't support -n git-svn-id: svn://svn.berlios.de/openocd/trunk@1337
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - make guess-rev.sh work with msys git-svn-id: svn://svn.berlios.de/openocd/trunk@1333
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing bitq and rlink files to distribution git-svn-id: svn://svn.berlios.de/openocd/trunk@1331
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from 1323 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> imx31pdk.cfg reset
	init event git-svn-id: svn://svn.berlios.de/openocd/trunk@1322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> cfg file to
	initialize the iMX27ADS board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> small fix to move us
	in the right direction.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix mips issues with newer versions of gdb - we simply add more dummy registers git-svn-id: svn://svn.berlios.de/openocd/trunk@1314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allow issuing reset_config on the fly. Faster turnaround times
	in testing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> adds jtag_add_clocks() and
	implements those in the bitbang and ft2232.c.   nearly a full
	rewrite of the xsvf.c. improved some messaging only affected by
	_DEBUG_JTAG_IO_ git-svn-id: svn://svn.berlios.de/openocd/trunk@1308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - a few more docs tweaks git-svn-id: svn://svn.berlios.de/openocd/trunk@1306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com>  SVF to XSVF converter and
	the XSVF dumper take #2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from r1299 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> formatting fix of debug output git-svn-id: svn://svn.berlios.de/openocd/trunk@1300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> pic32mx flash wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add gdb pipe support to native win32 (--pipe option) git-svn-id: svn://svn.berlios.de/openocd/trunk@1294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix missing/incorrect svn file props git-svn-id: svn://svn.berlios.de/openocd/trunk@1292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added another test build configuration git-svn-id: svn://svn.berlios.de/openocd/trunk@1290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Missed the svn add on earlier commit, duh git-svn-id: svn://svn.berlios.de/openocd/trunk@1288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added note to user manual for packagers of OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@1286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Some systems report linux as host, others linux-gnu... grrr git-svn-id: svn://svn.berlios.de/openocd/trunk@1284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : From Lou.openocd012@fixit.nospammail.net git-svn-id: svn://svn.berlios.de/openocd/trunk@1282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added dongle VSLLINK - from Simon Qian git-svn-id: svn://svn.berlios.de/openocd/trunk@1280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : From Dirk Behme - Further docu fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Renamed build.tests to build.test1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Typos found by miceal catudal git-svn-id: svn://svn.berlios.de/openocd/trunk@1274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1269
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com>  Add missing tap-enable and tap-disable events to documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : bumped a LOG_INFO to LOG_DEBUG level to reduce excessive output
	for normal execution git-svn-id: svn://svn.berlios.de/openocd/trunk@1265
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> - This patch adds JTAG state
	tracking to dummy.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1263
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> better comments git-svn-id: svn://svn.berlios.de/openocd/trunk@1261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> convert macros to inline
	fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : check syntax for init/version git-svn-id: svn://svn.berlios.de/openocd/trunk@1257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : houskeeping git-svn-id: svn://svn.berlios.de/openocd/trunk@1255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : work in progress to hook up libmicrohttpd + tcl integration git-svn-id: svn://svn.berlios.de/openocd/trunk@1251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Fix some typos in
	documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@1249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allow setting/reading gdb_port at any time git-svn-id: svn://svn.berlios.de/openocd/trunk@1247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from r1243 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sync up to tap_xxx rename + add with-ioutil for standalone
	openocd implemetnations git-svn-id: svn://svn.berlios.de/openocd/trunk@1243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fast_load profiling tool moved to target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updates and fixes from Kees Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add JTAG tap events for enable/disable git-svn-id: svn://svn.berlios.de/openocd/trunk@1237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change tap_state naming to be consistent with SVF documentation.  Courtesy of Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-12  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Allow -expected-id to be specified multiple times when creating
	a jtag tap git-svn-id: svn://svn.berlios.de/openocd/trunk@1229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added Axiom AXM-0432 to texi - updated missing jtag dongle url's in texi - reformat and remove whitespace from last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - typo with flash bank help command - typo with flash erase_sector in texi git-svn-id: svn://svn.berlios.de/openocd/trunk@1225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More fixes thanks to Kees Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix from Kees Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1221
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-06  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Test of commit email from duane git-svn-id: svn://svn.berlios.de/openocd/trunk@1219
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Karl Beldan <karl.beldan@gmail.com> - The ibcr count for hw
	instruction breakpoint registers was decremented with soft
	breakpoints and breakpoint length error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1215
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.48 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : delete obsolete code git-svn-id: svn://svn.berlios.de/openocd/trunk@1211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix for Hiroshi Ito discovery of mis-aligned memory allocation git-svn-id: svn://svn.berlios.de/openocd/trunk@1205
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - incorrect str9 irmask used in config files git-svn-id: svn://svn.berlios.de/openocd/trunk@1203
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> - now compiles git-svn-id: svn://svn.berlios.de/openocd/trunk@1201
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : "Theodore A. Roth" <taroth@gmail.com> fixes to distcheck git-svn-id: svn://svn.berlios.de/openocd/trunk@1199
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update zy1000 to svn head jtag api git-svn-id: svn://svn.berlios.de/openocd/trunk@1197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-30  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Test checkin from commandline git-svn-id: svn://svn.berlios.de/openocd/trunk@1193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with luminary flash driver and tail bytes git-svn-id: svn://svn.berlios.de/openocd/trunk@1191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32x flash driver: add support for low density devices git-svn-id: svn://svn.berlios.de/openocd/trunk@1189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixes segfault using the targets cmd if multiple targets defined git-svn-id: svn://svn.berlios.de/openocd/trunk@1187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : friendlier error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@1185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add new cortex_m3 maskisr cmd git-svn-id: svn://svn.berlios.de/openocd/trunk@1181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - preserve cortex_m3 C_MASKINTS during resume/step git-svn-id: svn://svn.berlios.de/openocd/trunk@1179
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_get_device() now returns NULL and reports error instead of
	invoking exit() git-svn-id: svn://svn.berlios.de/openocd/trunk@1176
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : big endian fix for GDB. Probably fixes a memory corruption(not
	reported) as well.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1174
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stops multiple calls to examine from allocating the breakpoint
	arrays git-svn-id: svn://svn.berlios.de/openocd/trunk@1171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : big endian software breakpoint bogus error messages fixed git-svn-id: svn://svn.berlios.de/openocd/trunk@1167
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : nios wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1165
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - slight mips32 cleanup/reformat - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes (more or less) random SEGFAULT upon invoking
	script_command().  git-svn-id: svn://svn.berlios.de/openocd/trunk@1156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : broadcast mac address in UDP hello message git-svn-id: svn://svn.berlios.de/openocd/trunk@1152
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : minor cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@1149
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ocd_flash_banks now returns empty list when no flash banks are
	configured instead of failing. Allows more orthogonal
	implementations of tcl code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1147
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ocd_flash_banks now returns empty list when no flash banks are
	configured instead of failing. Allows more orthogonal
	implementations of tcl code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@1142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : s3c6410 chip git-svn-id: svn://svn.berlios.de/openocd/trunk@1140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 926ejs target uses rclk. Cleaned up jtag_khz output a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : disable continous polling while srst is asserted and power
	dropout is detected git-svn-id: svn://svn.berlios.de/openocd/trunk@1134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm7_9_execute_sys_speed error propagation. Found by code
	inspection, no observed problems as such.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1132
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added Tcl escaping to FAQ git-svn-id: svn://svn.berlios.de/openocd/trunk@1130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with jlink/libusb timeout under linux - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> - fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : invoke target_create() once git-svn-id: svn://svn.berlios.de/openocd/trunk@1124
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> imx27 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1122
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> -  fix flash write_bank output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1120
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : no longer used git-svn-id: svn://svn.berlios.de/openocd/trunk@1118
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> switch to new syntax for target
	events git-svn-id: svn://svn.berlios.de/openocd/trunk@1116
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hongtao Zheng single step fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> update syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1111
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hongtao Zheng  - fix a simulation error for "BX PC" git-svn-id: svn://svn.berlios.de/openocd/trunk@1109
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> old" syntax
	target command appears to be broken this patch addresses this issue git-svn-id: svn://svn.berlios.de/openocd/trunk@1107
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hongtao Zheng - add simulation because previous functions could
	not halt for instructions that next pc equal to the current pc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1105
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added option to use ramdisk instead of flash jffs2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix native mingw build if gettimeofday not defined.  - reformat whitespace in startup.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@1101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix working memory location git-svn-id: svn://svn.berlios.de/openocd/trunk@1098
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : only log BUG: (do not return error) in the case of unknown debug
	reason(0xc) git-svn-id: svn://svn.berlios.de/openocd/trunk@1096
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : load and verify are now synonymous to load/verify_image git-svn-id: svn://svn.berlios.de/openocd/trunk@1092
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : produce syntax error git-svn-id: svn://svn.berlios.de/openocd/trunk@1090
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - more help text git-svn-id: svn://svn.berlios.de/openocd/trunk@1088
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : version number keyword expansion handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1086
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove duplicate target git-svn-id: svn://svn.berlios.de/openocd/trunk@1084
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add link in texi docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1081
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove texi warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1079
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sleep command now prints out target debugmsgs w/anything like
	usable performance git-svn-id: svn://svn.berlios.de/openocd/trunk@1076
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - integrated new tcl target command docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1073
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : adding concept of production script git-svn-id: svn://svn.berlios.de/openocd/trunk@1071
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added capture command to capture log output. Useful when wanting
	to capture log output from tcl procedures that invoke openocd
	commands git-svn-id: svn://svn.berlios.de/openocd/trunk@1069
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com> - mflash support git-svn-id: svn://svn.berlios.de/openocd/trunk@1067
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix tcl_port typo in docs - remove build warning from openocd.c - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1065
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :  <donari75@gmail.com> spotted a bug in target_write_u8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1063
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - fix error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1061
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - more error handling fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1059
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : clarified jtag_ntrst_delay option git-svn-id: svn://svn.berlios.de/openocd/trunk@1056
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : testing of syntax error in reset and at startup git-svn-id: svn://svn.berlios.de/openocd/trunk@1054
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added warning to use GDB 6.7 or newer git-svn-id: svn://svn.berlios.de/openocd/trunk@1052
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> two patches add a mips_m4k target
	option (ejtag_reset) to cause a reset command to use the EJTAG
	Peripheral and System Reset in addition to srst.  This is for
	targets like the wrt54gl which do not connect the srst to a system
	reset (I believe it just goes to a GPIO).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1050
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@1048
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SEGFAULT gaffe in dummy register handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1046
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix crash when connecting GDB to powered down target git-svn-id: svn://svn.berlios.de/openocd/trunk@1044
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixed gaffes in reset script handling + improved error messages
	a bit. The file and line # of the syntax error in a reset script is
	now printed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1042
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :  Fix problems with DCC downloads routine crashing silently.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1040
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> openocd-usb.cfg added git-svn-id: svn://svn.berlios.de/openocd/trunk@1038
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : enumeration of threads for testing purposes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1035
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added busy sleep (for testing purposes) git-svn-id: svn://svn.berlios.de/openocd/trunk@1033
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Richard Missenden exit now works during startup script git-svn-id: svn://svn.berlios.de/openocd/trunk@1031
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> adds support for DMA mode access
	as supported by EJTAG 1.0/2.0 processors git-svn-id: svn://svn.berlios.de/openocd/trunk@1029
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reduce patch problems by moving $xxx expansion into seperate fn git-svn-id: svn://svn.berlios.de/openocd/trunk@1027
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Frederik Kriewitz <frederik at kriewitz.eu> Segmentation fault
	fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1025
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Georg Acher <acher@in.tum.de> - arm11 wip. run algorithm + small
	init bugfix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1023
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : basic smoketest on lm3s3748.elf git-svn-id: svn://svn.berlios.de/openocd/trunk@1020
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : better keep_alive() handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1018
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Georg Acher <acher@in.tum.de> corrected TDO sampling git-svn-id: svn://svn.berlios.de/openocd/trunk@1016
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : GDB alive fixes for verify_image git-svn-id: svn://svn.berlios.de/openocd/trunk@1014
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe: disable interrupts reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@1012
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - at91sam7.c remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1010
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :  I do not know why this is necessary, but it fixes strange effects                        (step/resume cause a NMI after reset) on
	                       LM3S6918 -- Michael Schwingen git-svn-id: svn://svn.berlios.de/openocd/trunk@1008
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1006
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update docs for aduc702x flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@996
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix noise in gdb console when single stepping. Remove printing
	of log before processing halted event.  git-svn-id: svn://svn.berlios.de/openocd/trunk@994
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :  "marcel" <M.W.Wijlaars@tue.nl>, I have the ADuC702x flashdriver working again (see attachment). It
	adds the option to erase and write the ADuC702x flash git-svn-id: svn://svn.berlios.de/openocd/trunk@992
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Removed some obsolete stuff + Pushing things in the direction of
	openocd.texi git-svn-id: svn://svn.berlios.de/openocd/trunk@990
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : put instructions on how to report bugs onto the users radar git-svn-id: svn://svn.berlios.de/openocd/trunk@988
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : follow up to keep_alive() fix. process target events before
	returning from reset procedure.  git-svn-id: svn://svn.berlios.de/openocd/trunk@986
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis: target_process_reset is now implemented in tcl.
	This allows better control from target configuration scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@984
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo fixed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@982
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis, added clock command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@980
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : s3c2440 OpenMoko target script git-svn-id: svn://svn.berlios.de/openocd/trunk@978
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Removed target->reset_mode, no longer used git-svn-id: svn://svn.berlios.de/openocd/trunk@976
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired, nothing came of it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@974
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : comment about slow RTCK git-svn-id: svn://svn.berlios.de/openocd/trunk@972
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added 1000ms timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@970
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : RCLK is not supported, return error instead of crashing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@968
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed bug in arm11 examine code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@966
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sync with Jim Tcl repository.  git-svn-id: svn://svn.berlios.de/openocd/trunk@964
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : duan ellis target tcl work in progress   converts a number of 'simple string lookup tables' into NVP
	  tables.  These NVP tables will be used by various commands coming
	in the next patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@962
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - clear any existing breakpoints/watchpoints when restarting in gdb
	extended remote mode git-svn-id: svn://svn.berlios.de/openocd/trunk@960
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix win32 build issues from previous jim patch git-svn-id: svn://svn.berlios.de/openocd/trunk@958
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added gdb timeout handling + error propagation git-svn-id: svn://svn.berlios.de/openocd/trunk@956
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lm3s3748 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@954
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sharpen error propagation a wee bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@952
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Daniel Gimpelevich fix reset halt on feroceon git-svn-id: svn://svn.berlios.de/openocd/trunk@950
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : duane ellis: fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@948
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed warning git-svn-id: svn://svn.berlios.de/openocd/trunk@946
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : make target_wait_state() usable from other places, made
	LOG_USER() output LOG_DEBUG() output. Avoids flooding logs in
	certain cases and OpenOCD will output error message if the halt
	fails.  git-svn-id: svn://svn.berlios.de/openocd/trunk@944
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : search and replace usleep(1000) with alive_sleep(1) to avoid GDB
	timeouts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@942
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added some alive_sleep()'s git-svn-id: svn://svn.berlios.de/openocd/trunk@940
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added alive_sleep() function to let GDB alive packets be sent git-svn-id: svn://svn.berlios.de/openocd/trunk@938
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : duane ellis: (A) a new concept called "Name Value Pair" or NVP,
	in simple terms: Think: "String" and "Value". There can be many
	strings - all related to a single value, for examle: "T", "t", "y",
	"1", "yes", all can represent "truth", the reverse mapping is more
	simplistic - the first matching number wins.  (B) a new "getopt" like feature for Jim - that simplifies argument
	parsing in complex functions, normally this would be used in
	conjunction with either an NVP table of options, or a more simpler
	Enumeration  table.  In contrast to the GNU "getopt" package, this
	is more of a "object model or code oriented" solution then a pure
	data structure used by GNU getopt, or the main stream Tcl/Tk option
	processing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@936
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix comment w.r.t. start address for RAM git-svn-id: svn://svn.berlios.de/openocd/trunk@934
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed a couple of exit()'s from error handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@932
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Daniel Gimpelevich <daniel@gimpelevich.san-francisco.ca.us> one
	more parport device git-svn-id: svn://svn.berlios.de/openocd/trunk@930
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more error propagation git-svn-id: svn://svn.berlios.de/openocd/trunk@928
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : openocd.texi is the authoratitive source for documentation. Wiki
	is dead.  git-svn-id: svn://svn.berlios.de/openocd/trunk@926
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : deleted superfluous sam7s256 which was identical to sam7x256 git-svn-id: svn://svn.berlios.de/openocd/trunk@924
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed obsolete command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@922
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm7/9 breakpoint cleanup. arm7_9 sw/hw commands retired.
	openocd.texi is alerady updated.  git-svn-id: svn://svn.berlios.de/openocd/trunk@920
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : documentation wip for upcoming patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@918
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : force lpc2148 target into ARM state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@916
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added global gdb breakpoint override configuration command git-svn-id: svn://svn.berlios.de/openocd/trunk@914
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clear all dangling breakpoints upon GDB connection.  git-svn-id: svn://svn.berlios.de/openocd/trunk@912
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : return halted signal if step/continue fails git-svn-id: svn://svn.berlios.de/openocd/trunk@910
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix output from jtag_khz when only jtag_speed has been invoked git-svn-id: svn://svn.berlios.de/openocd/trunk@908
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : propagate error code in case of "reset" failing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@906
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix error message git-svn-id: svn://svn.berlios.de/openocd/trunk@904
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build issues under win32 (mingw) git-svn-id: svn://svn.berlios.de/openocd/trunk@902
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : default reset in help text - run git-svn-id: svn://svn.berlios.de/openocd/trunk@900
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Kuehling <dvdkhlng@gmx.de> - added jim-eventloop.c git-svn-id: svn://svn.berlios.de/openocd/trunk@898
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct BUILD_ECOSBOARD definition is server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@896
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for previously added file git-svn-id: svn://svn.berlios.de/openocd/trunk@894
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : GDB monitor commands now also get halted state upon e.g. "reset
	halt".  git-svn-id: svn://svn.berlios.de/openocd/trunk@892
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis: fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@890
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : define resetting the target into the halted or running state as
	an atomic operation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@888
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : TAP_TLR won't work in a pathmove sequence. OpenOCD shouldn't and
	doesn't need to support this.  git-svn-id: svn://svn.berlios.de/openocd/trunk@886
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wait up to 1 second for halted state upon reset init/halt.  git-svn-id: svn://svn.berlios.de/openocd/trunk@884
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : warning output upon connection problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@882
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added run_and_halt_time to deprecated/removed functions section git-svn-id: svn://svn.berlios.de/openocd/trunk@880
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe mea culpa git-svn-id: svn://svn.berlios.de/openocd/trunk@878
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : working notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@876
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - merged mips target into svn trunk git-svn-id: svn://svn.berlios.de/openocd/trunk@874
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added yours sincerely for files where I feel that I've made
	non-trivial contributions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@872
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more error message cleanup. invalid args & syntax errors both
	now print arguments of command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@870
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire daemon_startup git-svn-id: svn://svn.berlios.de/openocd/trunk@868
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Better handling of OpenOCD command invocation result/context.  git-svn-id: svn://svn.berlios.de/openocd/trunk@866
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - comment about dummy ack '+' char from gdb git-svn-id: svn://svn.berlios.de/openocd/trunk@864
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@862
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : handle end of line comments to improve compatibility with event
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@860
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug with stm32 high density write protection git-svn-id: svn://svn.berlios.de/openocd/trunk@858
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Spen: startup.tcl cross compile support git-svn-id: svn://svn.berlios.de/openocd/trunk@856
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : very slightly improved error message for not being able to find
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@854
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Allows config scripts to override handling of 'R'(restart) GDB
	packet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@852
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update jtag_speed/khz docs a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@850
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : cross compile fix git-svn-id: svn://svn.berlios.de/openocd/trunk@848
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> stm32 peripherals scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@846
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : BUG: prefix to timeout for gdb keep alive packets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@844
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> - script commands for stm32 git-svn-id: svn://svn.berlios.de/openocd/trunk@842
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com>  improve error message in Jim when sourcing a file fails.
	Previously it did not tell you the CWD Jim was using as its
	reference point.  (Helpful when script filenames are a relative
	path) git-svn-id: svn://svn.berlios.de/openocd/trunk@840
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : throw exception upon syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@838
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : clarify error message w.r.t. not being able to set breakpoint git-svn-id: svn://svn.berlios.de/openocd/trunk@836
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : This allows overriding builtin openocd commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@834
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : "reset" without arguments now execute a "reset run".  the reset mode argument to the target command is deprecated(ignored
	w/error message).  git-svn-id: svn://svn.berlios.de/openocd/trunk@832
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix incorrectly registered function openocd_array2mem - removed unused variables - reformatted lpc288x.[ch] - fixed helper/Makefile.am dependencies - add correct svn props to added files git-svn-id: svn://svn.berlios.de/openocd/trunk@829
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : keep_alive() fix for reset warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@827
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> more interface files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@825
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added missing "reset+load" sequence.  git-svn-id: svn://svn.berlios.de/openocd/trunk@823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin ckhardin at gmail.com   Instead of stashing the
	context in a global variable, just use the "context" associated with
	the interp structure being passed around And fixed the message referring to mem2array in the array2mem
	function git-svn-id: svn://svn.berlios.de/openocd/trunk@821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin ckhardin at gmail.com There isn't a real value to the cfg_cmd_ctx since everything should
	be run thru the initial context created at start.  git-svn-id: svn://svn.berlios.de/openocd/trunk@819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reverted resume_target to old behaviour git-svn-id: svn://svn.berlios.de/openocd/trunk@817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes to \ and / handling for OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print out jim error message stack trace in expected order(look
	at any C++ or Java debugger for instance).  git-svn-id: svn://svn.berlios.de/openocd/trunk@813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print syntax for command upon syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@811
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : feeble beginnings for tcl api rules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> This evaluates the file at the correct level for the interpreter and
	the sets and all the globals are then done as expected.  added a const to find_file function to avoid typecasting git-svn-id: svn://svn.berlios.de/openocd/trunk@806
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> fix to tcl puts git-svn-id: svn://svn.berlios.de/openocd/trunk@802
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove requirement for file2c.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : testing/*.tcl sample & test code git-svn-id: svn://svn.berlios.de/openocd/trunk@798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - configure check added for tclsh - startup.c manually added to clean deps git-svn-id: svn://svn.berlios.de/openocd/trunk@796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin ckhardin at gmail.com This address the >32 bit problem with drscan also added a check for
	bypass in the execute since this will manifest itself as a memory
	corruption when this check helps to debug the problem alot easier git-svn-id: svn://svn.berlios.de/openocd/trunk@794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : work in progress to improve help git-svn-id: svn://svn.berlios.de/openocd/trunk@792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : .cfg files are now executed as Jim Tcl. Commands that terminate
	script w/error message.  git-svn-id: svn://svn.berlios.de/openocd/trunk@790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : working notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> Add semantics to support memwrite(32,16,8) with an array2mem command
	Move the global up in bits2bytes.tcl so the set puts the value in
	the global context.  Add memwrite procs to memory.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix quoting problem when handling OpenOCD commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : very slight cleanup of flash banks handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - adding missing install entry for luminary-libftdi.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added luminary libftdi interface config git-svn-id: svn://svn.berlios.de/openocd/trunk@778
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added flash_banks low level command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tcl regression fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed target_process_events as only used in
	handle_resume_command and events will be called anyway by poll git-svn-id: svn://svn.berlios.de/openocd/trunk@772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - apply correct formatting to openocd.c - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more tcl cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - command_run_line will only search once for the command, and
	execute if found git-svn-id: svn://svn.berlios.de/openocd/trunk@766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix duplicate log entry git-svn-id: svn://svn.berlios.de/openocd/trunk@762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed build issues with win32 - fixed build warnings for last commit - set svn props for last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix a few compilation problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oopss. Forgot to list Duane Ellis <openocd@duaneellis.com> as
	the author of changes in 755.  git-svn-id: svn://svn.berlios.de/openocd/trunk@756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added search for libdl - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added event scripts for str73x and str75x targets git-svn-id: svn://svn.berlios.de/openocd/trunk@751
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed line endings with commands.tcl - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@749
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix to peek command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@747
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo git-svn-id: svn://svn.berlios.de/openocd/trunk@745
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added support for Tcl config scripts on the command line(use
	.tcl extension).  git-svn-id: svn://svn.berlios.de/openocd/trunk@743
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ARM11 update. OpenOCD supports starting without being able to
	talk to the hardware.  git-svn-id: svn://svn.berlios.de/openocd/trunk@741
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jim Tcl support added git-svn-id: svn://svn.berlios.de/openocd/trunk@739
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@737
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update docs for new target_script events git-svn-id: svn://svn.berlios.de/openocd/trunk@735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : hooks to enable experimentation with scripting language support.
	Reduces patch size, but has no effect on OpenOCD otherwise.  git-svn-id: svn://svn.berlios.de/openocd/trunk@733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Anders more target lib scripts contributed by git-svn-id: svn://svn.berlios.de/openocd/trunk@731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Anders: fixes an issue with large block nand flash address
	where the beginning of the OOB area is always selected instead of
	the beginning of a page when needed git-svn-id: svn://svn.berlios.de/openocd/trunk@729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix reset_halt issue with certain arm cores - address not set in
	embedded ice reg - Thanks Jonas Hrberg git-svn-id: svn://svn.berlios.de/openocd/trunk@727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix compile errors when _DEBUG_INSTRUCTION_EXECUTION_ is defined - Thanks Simon Qian git-svn-id: svn://svn.berlios.de/openocd/trunk@725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: - lower jtag speeds (higher divisor) was used, TDI was not changed
	on falling TCK edge as it should - reset signal was release upon any TMS transition, making it
	impossible to use reset halt - added khz() and speed_div() functions git-svn-id: svn://svn.berlios.de/openocd/trunk@716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Spen spotted a bug in warning for missing srst_pulls_trst git-svn-id: svn://svn.berlios.de/openocd/trunk@714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added target and event script for the eir-sam7se512 target git-svn-id: svn://svn.berlios.de/openocd/trunk@712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : GDB timeout fix. If a script takes a long time and does not
	produce any output, ping between every command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - probe incorrect for high density stm32 flash git-svn-id: svn://svn.berlios.de/openocd/trunk@708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32 erase will use mass_erase if all banks selected git-svn-id: svn://svn.berlios.de/openocd/trunk@706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - erase bank using bank erase rather than each sector - Thanks Fredrik Hederstierna git-svn-id: svn://svn.berlios.de/openocd/trunk@704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: fix logging syntax error + formatting & removing
	obsolete comments.  git-svn-id: svn://svn.berlios.de/openocd/trunk@702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - luminary, stm32 and str7 flash driver error cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fredrik Hederstierna: fix leak + clean up return codes git-svn-id: svn://svn.berlios.de/openocd/trunk@698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added checksum_memory and blank_check_memory for xscale git-svn-id: svn://svn.berlios.de/openocd/trunk@696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - moved flash erase_check target code to target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed typo in wp command git-svn-id: svn://svn.berlios.de/openocd/trunk@692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added check for max. value of jtag_speed in ft2232_khz.  git-svn-id: svn://svn.berlios.de/openocd/trunk@690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : found out why str912 reset halt failed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected error with stm32 page calculation git-svn-id: svn://svn.berlios.de/openocd/trunk@686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - comment out usb_set_altinterface, because it is not working under
	Mac OS X.  And not needed for Windows. Hopefully it will not break a
	Linux build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added stellaris flash mass_erase command git-svn-id: svn://svn.berlios.de/openocd/trunk@682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - swap processing of reset handling. First srst and than trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected copy/paste type and renamed jlink_usb_read_result to
	jlink_usb_read_emu_result git-svn-id: svn://svn.berlios.de/openocd/trunk@678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - jlink jlink_execute_queue returns result - added jlink_get_version_info function - reformatted spaces to tabs git-svn-id: svn://svn.berlios.de/openocd/trunk@676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for newer high density stm32 parts git-svn-id: svn://svn.berlios.de/openocd/trunk@674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove error message on shutdown git-svn-id: svn://svn.berlios.de/openocd/trunk@672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : moved srst_pulls_trst check into arm7_9_common.c. Not tested
	yet, if it is broken it should "only" print bogus warnings or not
	print a warning when it should have.  git-svn-id: svn://svn.berlios.de/openocd/trunk@670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reverted change in 658 and simply removed the busted warning for
	now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print out an error if srst_pulls_trst is not specified for e.g.
	at91fr40008. Could possibly show bogus false positives in log
	without any other side effects.  git-svn-id: svn://svn.berlios.de/openocd/trunk@666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix mode output when illegal arm mode is detected. Now prints
	illegal mode for index -1.  git-svn-id: svn://svn.berlios.de/openocd/trunk@664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : updated guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added smoketest result for r657 - some corrections for the reset config of at91r40008 git-svn-id: svn://svn.berlios.de/openocd/trunk@660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added jlink support, based on Jrgen Stuber patch git-svn-id: svn://svn.berlios.de/openocd/trunk@658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-11  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch from uwe hermann, thanks for the hint.  git-svn-id: svn://svn.berlios.de/openocd/trunk@656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected rounding in ft2232_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - smoketest for r651 git-svn-id: svn://svn.berlios.de/openocd/trunk@652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Fischer spotted a problem in the reset routines for
	srst_pulls_trst. It is a bit of a mystery why this was only visible
	w/LPC2148.  Embedded ICE registers are now set up after SRST pulls TRST.  git-svn-id: svn://svn.berlios.de/openocd/trunk@650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print available memory in log_level 3 git-svn-id: svn://svn.berlios.de/openocd/trunk@648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg plugged a leak found w/Valgrind.  git-svn-id: svn://svn.berlios.de/openocd/trunk@646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg found tiny memory leak git-svn-id: svn://svn.berlios.de/openocd/trunk@644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The target library is now the authorotative source of config
	examples git-svn-id: svn://svn.berlios.de/openocd/trunk@642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed xsvf_add_statemove() git-svn-id: svn://svn.berlios.de/openocd/trunk@640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added info about libftdi support under win32 git-svn-id: svn://svn.berlios.de/openocd/trunk@638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tim Hudson worked on English language.  git-svn-id: svn://svn.berlios.de/openocd/trunk@636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : now compiles again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added new device to luminary flash driver - only use SYSRESETREQ on affected luminary parts git-svn-id: svn://svn.berlios.de/openocd/trunk@630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar's added support for printing jtag_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg added a new rule for target scripts. Flash +
	verify must succeed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add cortex_m3 variant luminary to fix reset issue with asserting
	SRST -

	https://lists.berlios.de/pipermail/openocd-development/2008-April/002022.html for detailsgit-svn-id: svn://svn.berlios.de/openocd/trunk@624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - luminary flash now loader polls when finished git-svn-id: svn://svn.berlios.de/openocd/trunk@622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - incorrect ram size for lm3s811 target script git-svn-id: svn://svn.berlios.de/openocd/trunk@620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip instructions for building Cortex toolchain git-svn-id: svn://svn.berlios.de/openocd/trunk@618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Close dangling file handle git-svn-id: svn://svn.berlios.de/openocd/trunk@616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar's new test cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy's on chip flash loader git-svn-id: svn://svn.berlios.de/openocd/trunk@612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo in openocd.texi git-svn-id: svn://svn.berlios.de/openocd/trunk@608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tim Hudson: removed setting jtag_speed directly (which should
	not be done).  git-svn-id: svn://svn.berlios.de/openocd/trunk@606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added fast option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip on reporting bugs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added stm32 stick and luminary eval boards interface configs - corrected target lm3s6965.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - set erase flag on sector git-svn-id: svn://svn.berlios.de/openocd/trunk@598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update docs for flash write_image command - remove info on flash auto_erase, added to removed commands section git-svn-id: svn://svn.berlios.de/openocd/trunk@596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added test results for r592 git-svn-id: svn://svn.berlios.de/openocd/trunk@594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Flash auto-erase is disabled by default git-svn-id: svn://svn.berlios.de/openocd/trunk@592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre fixed regression.  git-svn-id: svn://svn.berlios.de/openocd/trunk@590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix for gaffe in  555 that stopped JTAG chain examine + validate
	from running.  git-svn-id: svn://svn.berlios.de/openocd/trunk@588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct stm32stick config script git-svn-id: svn://svn.berlios.de/openocd/trunk@586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg added some missing scripts from the install git-svn-id: svn://svn.berlios.de/openocd/trunk@584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - sw_bkpts fails if the target is not halted. The side effect is
	that sw_bkpts also fails if the target is an unknown state(i.e.  not
	examined yet).  - feroceon embedded ICE registers are now set up after TRST has been
	deasserted(not tested, but it was broken as is anyway).  git-svn-id: svn://svn.berlios.de/openocd/trunk@582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : target read/write is no longer attempted for target_xxx()
	functions when the target has not been examined(fails w/error).  git-svn-id: svn://svn.berlios.de/openocd/trunk@580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired fast_memory_access. It's always fast now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : moved out stuff that wasn't already moved from openocd.pdf to
	the target library.  git-svn-id: svn://svn.berlios.de/openocd/trunk@576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : TRST is asserted *before* target->type->assert_reset() is
	invoked. Removed old code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : A dummy driver to test codepath w/no contact w/target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allows launching OpenOCD w/telnet+gdb server w/the target
	powered down.  git-svn-id: svn://svn.berlios.de/openocd/trunk@570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : found two more gaffes for reset wip git-svn-id: svn://svn.berlios.de/openocd/trunk@568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reset wip. Just adding hooks. This is just to reduce the size of
	the actual change, no change in behaviour.  git-svn-id: svn://svn.berlios.de/openocd/trunk@566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Wip - split target setup and target examination git-svn-id: svn://svn.berlios.de/openocd/trunk@564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improved XScale performance for embedded hosted OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stop using variable sized arrays. That's something that belongs
	to C++ and not C.  git-svn-id: svn://svn.berlios.de/openocd/trunk@560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - single core context used, removed debug context as thought
	unnecessary.  - DCRDR now used to access special core registers - info is
	currently omitted from the cortex_m3 TRM ARM have told me this is
	the preferred access method and the docs will be updated soon.  - now checks for User Thread Mode and Thread mode when halted.  - removed repeated function declarations from command.c - cortex_m3_prepare_reset_halt removed, updated
	cortex_m3_assert_reset to suit git-svn-id: svn://svn.berlios.de/openocd/trunk@558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : target lib wip git-svn-id: svn://svn.berlios.de/openocd/trunk@556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added "init" command. "init" and "reset" at end of startup script
	  is equivalent to daemon_startup(still supported).  - print warning if srst and trst change state at the same time when
	srst_and_trst is seperate - reset now performs a trst, examines and validates the jtag chain
	before targets assert reset - if startup fails to examine and validate the jtag chain, try a
	reset before trying again git-svn-id: svn://svn.berlios.de/openocd/trunk@552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edwin Olson found bug & tested fix for flash write_image for
	stellaris.  git-svn-id: svn://svn.berlios.de/openocd/trunk@550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added a couple of LOG_ERROR() messages to improve logfile.  git-svn-id: svn://svn.berlios.de/openocd/trunk@548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The endstate now reports the endstate of the queue instead of
	reading endstate variable internal to the driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - only if "reset halt" or "reset init" are issued will the reset
	vector be set up - If communication fails during assert between assert/deassert and
	during assert, warnings are printed. The warning suggests using
	srst_only if the clock locks up as that would allow the reset vector
	to be set up before asserting reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : avoid patch trouble by isolating troublesome line...  git-svn-id: svn://svn.berlios.de/openocd/trunk@542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - the reset mode parameter is now DEPRECATED. It is implemented as
	an optional parameter with default reset_init. This is to streamline
	things w.r.t. the target library.  git-svn-id: svn://svn.berlios.de/openocd/trunk@540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added query of reset speed git-svn-id: svn://svn.berlios.de/openocd/trunk@538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Work on fixing erase check. Many implementations are plain broken.
	Wrote a default flash erase check fn which uses CFI's target
	algorithm w/fallback to memory reads.  - "flash info" no longer prints erase status as it is stale.  - "flash erase_check" now prints erase status. erase check can take
	a *long* time. Work in progress - arm7/9 with seperate srst & trst now supports reset init/halt
	after a power outage. arm7/9 no longer makes any assumptions about
	state of target when reset is asserted.  - fixes for srst & trst capable arm7/9 with reset init/halt - prepare_reset_halt retired. This code needs to be inside
	assert_reset anyway - haven't been able to get stm32 write algorithm to work. Fallback
	flash write does work. Haven't found a version of openocd trunk
	where this works.  - added target_free_all_working_areas_restore() which can let be of
	restoring backups. This is needed when asserting reset as the target
	must be assumed to be an unknown state.  Added some comments to
	working areas API - str9 reset script fixes - some guidelines - fixed dangling callbacks upon reset timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix flash info - now reports erased state properly git-svn-id: svn://svn.berlios.de/openocd/trunk@534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : optional count argument to mwX git-svn-id: svn://svn.berlios.de/openocd/trunk@532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Do not assert trst in srst_only case even if srst_pulls_trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Removed exit()'s. A reset is usually enough to work around
	these, reducing cycle times to get config scripts right.  git-svn-id: svn://svn.berlios.de/openocd/trunk@528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg: added needed delays git-svn-id: svn://svn.berlios.de/openocd/trunk@526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : hooks for multithreading. Disable nagle git-svn-id: svn://svn.berlios.de/openocd/trunk@524
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - gdb server was incorrectly sending null terminator on
	qXfer:features:read: packet - armv7m now sends correct gdb register packet git-svn-id: svn://svn.berlios.de/openocd/trunk@522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - changed jtag_add_reset errors to warnings - removed extra jtag reset warnings from arm7_9 and cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@520
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-21  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added new test results git-svn-id: svn://svn.berlios.de/openocd/trunk@518
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added profile command. It was added to simplify evaluation by
	testers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: fixed warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added jtag_khz for use with target library git-svn-id: svn://svn.berlios.de/openocd/trunk@512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print ms in debug_level 3 logs. Seconds is not enough.  git-svn-id: svn://svn.berlios.de/openocd/trunk@510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : marked infinite loop in code w/TODO and fixed warning.  git-svn-id: svn://svn.berlios.de/openocd/trunk@508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : xscale now passes w/bitbang in 505 git-svn-id: svn://svn.berlios.de/openocd/trunk@506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : This moves common code into functions so as to make it clear
	that all the jtag_add_xxx() are indeed intended to do the same
	thing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more info about latest working version git-svn-id: svn://svn.berlios.de/openocd/trunk@502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tinkered a bit with testing matrix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : With the recent changes the TRST needs to happen for every
	reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - retired unused jtag events. The code was incorrect - hopefully clarified the difference between TRST and TMS reset.  - added DEBUG() statements w.r.t. state changes - TRST released and moving out of TAP_TLR are completely different
	events. Only TRST released has a DEBUG() statement git-svn-id: svn://svn.berlios.de/openocd/trunk@496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire unused code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed jtag_add_reset(). It no longer causes jtag_execute_queue()
	  to fail for two of it's return codes. A little bit weird, but
	  compatible with existing codebase.  - tightend up error handling. Since the jtag_xxx() is a queue that
	  is either executed as things are added(hw queue) or a software
	  queue, then errors can only be caught during jtag_execute_queue().
	  No error code is therefore returned from the queuing fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : backed out changes from 483.  git-svn-id: svn://svn.berlios.de/openocd/trunk@490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more target scripts wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: the attached patch refines PRESTO support and
	makes it work with libftdi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed a problem with big endian XScale and GDB register packets.  - hmm..... did I screw up? Was XScale and not gdb_server busted
	  here? My thinking was that OpenOCD has a canonical internal
	  representation of registers that match GDB's expectations git-svn-id: svn://svn.berlios.de/openocd/trunk@484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixed various error handling when looking for memory leaks - Fixed memory leak in gdb_server.c - pushed "Error:" statements up into fn's that know something about
	what went wrong - load_image now fails if target_write_memory() fails - only issue an asynchronous halt() upon connect of GDB. Synchronous
	  halt/reset doesn't really work as what's required to initialize the
	  target might involve a special monitor sequence for the target in
	question - syntax error handling improved(fewer exit()'s) git-svn-id: svn://svn.berlios.de/openocd/trunk@482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added stm32.cfg to install list git-svn-id: svn://svn.berlios.de/openocd/trunk@480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add stm32 target script git-svn-id: svn://svn.berlios.de/openocd/trunk@478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo.  git-svn-id: svn://svn.berlios.de/openocd/trunk@476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Asynchronous output information from e.g. a halt is now
	displayed again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - The elf loader incorrectly assumed that the program header always
	follows the ELF header. (Thanks Michael Bruck) git-svn-id: svn://svn.berlios.de/openocd/trunk@472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg, fix arm926ejs_examine_debug_reason return value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : minor corrections for target scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy, the patch fixes an issue with PRESTO & FTD2XX
	under Linux.  git-svn-id: svn://svn.berlios.de/openocd/trunk@466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wi-9c target scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added str912/str710_program.script - added test infos from r459 git-svn-id: svn://svn.berlios.de/openocd/trunk@462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cosmetic fixes from Uwe Hermann git-svn-id: svn://svn.berlios.de/openocd/trunk@460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired git-svn-id: svn://svn.berlios.de/openocd/trunk@458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tms is never referenced, confusing old code left behind
	probably.  git-svn-id: svn://svn.berlios.de/openocd/trunk@456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: faster alloc_printf() git-svn-id: svn://svn.berlios.de/openocd/trunk@454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: - force simulate_reset_on_next_halt when target state is initially
	detected - print out method of debug entry - fix VCR activation (didn't work before) git-svn-id: svn://svn.berlios.de/openocd/trunk@452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : make debug code w.r.t. incorrect args for bypass stricter.  git-svn-id: svn://svn.berlios.de/openocd/trunk@450
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - This speeds up dcc arm7_9 bulk write a little bit and exercises
	the jtag_add_dr_out() codepath - added a check to jtag_add_pathmove() for legal path transitions - tweaked jtag.h docs a little bit - made some jtag bypass tests _DEBUG_JTAG_IO_ git-svn-id: svn://svn.berlios.de/openocd/trunk@448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: memory leak in at91sam7 flash driver, possible
	incorrect pointer conversion in gpnvm command handling,
	uninitialized buffer issue in handle_flash_info_command in flash.c,
	some formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : telnet_port can now be invoked multiple times git-svn-id: svn://svn.berlios.de/openocd/trunk@444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixed GDB timeout crash - regression introduced back when
	log_add/remove_callback was added.  git-svn-id: svn://svn.berlios.de/openocd/trunk@442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: fix warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@440
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn prop svn:eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added fill_malloc test. Not quite sure what to do here yet, but
	it would be good to have something...  git-svn-id: svn://svn.berlios.de/openocd/trunk@436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : some comments from Dominic git-svn-id: svn://svn.berlios.de/openocd/trunk@434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn prop svn:eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed FSF address. Uwe Hermann.  git-svn-id: svn://svn.berlios.de/openocd/trunk@430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wrote up explaining why tests are done on committed code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - contrib directory added - libdcc added as example for dcc comms with openocd target_request
	debugmsgs git-svn-id: svn://svn.berlios.de/openocd/trunk@426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix memory corruption regression introduced in 335 git-svn-id: svn://svn.berlios.de/openocd/trunk@424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added example for testing the JTAG speed with a FT2232 device git-svn-id: svn://svn.berlios.de/openocd/trunk@422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated svn:eol-style prop to native for AT91R40008 (Thanks to
	Spen for the hint) git-svn-id: svn://svn.berlios.de/openocd/trunk@420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated svn:eol-style prop to native git-svn-id: svn://svn.berlios.de/openocd/trunk@418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : improve DCC bulk write performance by using jtag_add_shift() +
	tweaked embedded ICE communication.  git-svn-id: svn://svn.berlios.de/openocd/trunk@416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Now uses jtag_add_shift() via embeddedice_write_reg_inner().  git-svn-id: svn://svn.berlios.de/openocd/trunk@414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : log_remove_callback git-svn-id: svn://svn.berlios.de/openocd/trunk@412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added str912 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added test result for str710, and test description git-svn-id: svn://svn.berlios.de/openocd/trunk@408
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added STR710 example which I used for Eclipse debug testing git-svn-id: svn://svn.berlios.de/openocd/trunk@406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added an #error in case anybody tries to compile that broken
	code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@404
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug with emulated cortex_m3 dcc channel git-svn-id: svn://svn.berlios.de/openocd/trunk@402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tweaked logging output.  TODO is retired(hopelessly out of date).  git-svn-id: svn://svn.berlios.de/openocd/trunk@400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy fix: the guess-rev.sh scripts to retrieve SVN
	revision returns the result including new line causing PKGBLDREV
	macro to not work git-svn-id: svn://svn.berlios.de/openocd/trunk@398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann: Small cosmetic fixes in the license header to make
	them all look the same, fix some typos, update README.  git-svn-id: svn://svn.berlios.de/openocd/trunk@396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann: mproves the manpage text a bit and adds the missing
	-s and -c options.  git-svn-id: svn://svn.berlios.de/openocd/trunk@394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : formatting fixes from Pavel Chromy git-svn-id: svn://svn.berlios.de/openocd/trunk@392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - image.c and fileio.c now uses logging to propagate error strings.   More precise, less code.  - removed unused code in fileio.c - Windows should now find debug_handler.bin git-svn-id: svn://svn.berlios.de/openocd/trunk@390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : do not write single chars to log file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Summary: passing of variable argument list reduced, strings sent
	to logging are now formatted just once - more efficient.  As a
	result, ugly string malloc+strcpy are not needed anymore.  git-svn-id: svn://svn.berlios.de/openocd/trunk@386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: - fix indentation of multi-level commands - make help command work with multi-level commands git-svn-id: svn://svn.berlios.de/openocd/trunk@384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed newline gaffe in OUTPUT() git-svn-id: svn://svn.berlios.de/openocd/trunk@382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy spotted a leak git-svn-id: svn://svn.berlios.de/openocd/trunk@380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : numerous fixes from  Uwe Hermann git-svn-id: svn://svn.berlios.de/openocd/trunk@378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy - cleanup error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy cleaned up checks for halted, error messages, etc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix from Pavel Chromy this patch fixes an issue in jtag_init - shall not reset jtag to
	NULL.  This causes jtag interface (USB device) not to be closed
	properly if jtag chain validation fails.  Once the underlaying jtag interface is initialized, jtag pointer
	shall be left untouched, even in case of an error, so that proper
	cleanup can be done, see exit_handler in openocd.c git-svn-id: svn://svn.berlios.de/openocd/trunk@372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : code to be used in upcoming minidriver work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix copyright.  git-svn-id: svn://svn.berlios.de/openocd/trunk@368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lingering change for eCos flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added TARGET_REQ_DEBUGCHAR target_request debugmsg. This   provides a better impeadance match for debug output char fn's,
	  e.g. eCos.  - Line endings are now added at the caller site of command_print*().
	  command_print() still adds a line ending - echo of commands in scripts are now available via debug_level
	  instead of forced echo - Added a USER_SAMELINE() for printing without a lineend.  git-svn-id: svn://svn.berlios.de/openocd/trunk@364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix line-endings git-svn-id: svn://svn.berlios.de/openocd/trunk@362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann fixed some warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo in ep93xx jtag driver to allow OpenOCD compilation on ARM
	(thanks to Uwe Hermann for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre listed some more devices.  git-svn-id: svn://svn.berlios.de/openocd/trunk@356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - code reformat (Thanks Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : oopss.. another jtag minidriver reset gaffe.  git-svn-id: svn://svn.berlios.de/openocd/trunk@352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Next step in the JTAG minidriver. This should be fairly close to
	the final thing, but I'm not calling it "done" quite yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@348
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy - multiple log listeners - added OUTPUT() to replace printf - fix formatting git-svn-id: svn://svn.berlios.de/openocd/trunk@346
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy style fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fix target library path problem w/Windows git-svn-id: svn://svn.berlios.de/openocd/trunk@342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : committed bugfix from Michael Bruck git-svn-id: svn://svn.berlios.de/openocd/trunk@340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - using ERROR_COMMAND_SYNTAX_ERROR to print syntax in a couple of
	places - some more flash cleanup of checking halted state - moved output handler into options.c - very slightly tweaked server.c to make it a bit more compatible
	with eCos - retired arch_state. Not quite sure how I managed to leave that out
	last time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck spotted an omission in svn 322 git-svn-id: svn://svn.berlios.de/openocd/trunk@336
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : move options handling to separate file to better support
	embedded implementations of OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@334
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed target->type->poll() return value - added arch_state to show status of currently selected target - simplified target->type->arch_state() api.  - clean up telnet output a bit - fixed GDB output for arch_state - removed a couple of unecessary exit()'s - cleaned up error propagation a bit in a few places git-svn-id: svn://svn.berlios.de/openocd/trunk@332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : debug_level 3 now prints seconds since start of openocd git-svn-id: svn://svn.berlios.de/openocd/trunk@330
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sharpend JTAG docs w.r.t. hw fifo implementations and retired
	jtag_cancel_queue() which is inheritely incompatible with a hw fifo
	concept.  git-svn-id: svn://svn.berlios.de/openocd/trunk@328
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : cosmetic fixes to debug output + phasing out printf() in favour
	of logging system. From Pavel Chromy <chromy@asix.cz> git-svn-id: svn://svn.berlios.de/openocd/trunk@326
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix for feroceon CP15 register access (thanks to Niolas Pitre for
	this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added a test document as a starting point - corrected URL information for the repro git-svn-id: svn://svn.berlios.de/openocd/trunk@322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to remove count and time information from log_printf
	in case of debug_level is not set to LOG_DEBUG git-svn-id: svn://svn.berlios.de/openocd/trunk@320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix read/write size for small unaligned accesses (thanks Michael
	Bruck) git-svn-id: svn://svn.berlios.de/openocd/trunk@318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to make single-stepping more resilient (thanks to
	Nicolas Pitre for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug when using full paths to config files. Thanks Ted Roth git-svn-id: svn://svn.berlios.de/openocd/trunk@314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add search paths via new arg -s (-search). Thanks Ted Roth - updated docs for new command git-svn-id: svn://svn.berlios.de/openocd/trunk@312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixed bug in pathmove for XScale - added virtual address to working_area.  - Improved error messages in a number of places - Added ERROR_COMMAND_SYNTAX_ERROR that commands can return to have
	syntax printed - Added help for some config commands - Added verification of sw breakpoints with ERROR() message - Removed a couple of exit()'s and replaced with error message - cosmetic fix to armv4_5.c, easier to read - added polymorphic(with default) virt2phys and mmu enable query
	function to target.h - added virt2phys command that uses target->type->virt2phys() fn
	Thanks to yvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fix problems with stuck telnet sessions. Thanks to yvind Harboe
	for this patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - arg list now correctly released on error. Thanks yvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed a raft of unecessary exit() calls. Issuing a reset will
	solve these ails.  - now uses jtag_state_pathmove() instead of making assumptions about
	implementation of jtag_statemove().  - fixed a couple of bugs in timeout handling - removed megabytes of log output when communication is failing.  - sleep is now 300ms as documented instead of 3000ms - fixed error path of bulk write - debug_handler can now be issued during normal operation + has help
	text.  Thanks yvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added a "User:" debug level. These are messages that are intended
	for the user and are part of normal operation.  - Faster DEBUG/INFO() when they are disabled - target_read/write_buffer() now uses 16 and 32 bit access for
	single word aligned requests. Other requests are serviced as quickly
	as possible.  - *much* faster read/write GDB packets, removing timeout problems.  - GDB read/write packets w/single word aligned 32/16 bit access now
	use 32/16 bit word access.  - working area can now be changed on the fly. Provides a way to move
	working area about as MMU is enabled/disabled.  - cleaned up error messages for verify_image.  Thanks yvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - solve lots of problems with stuck GDB connections, making it
	impossible to connect to GDB, handle timeout of acknowledgement,
	etc.  - "monitor halt/resume" now works correctly - "monitor sleep 10000" no longer makes the GDB protocol lock up.
	There is an error message and the protocol recovers nicely
	afterwards.  - it's now possible to connect to a target which needs a reset
	before halt works.  - handle failed memory access more gracefully. Connection is now
	closed instead of OpenOCD quitting.  - *much* improved handling of 2 second timeout on memory read
	packets. Especially important w/mouseover evaluation of  variables
	in Eclipse.  - fixed memory leak upon failed memory packet reply.  - 'O' packets w/progress info is no longer sent out randomly.  - faster packet reply code.  - Thanks to yvind Harboe for this patch git-svn-id: svn://svn.berlios.de/openocd/trunk@300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with telnet prompt while gdb running git-svn-id: svn://svn.berlios.de/openocd/trunk@298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix programming issue with lpc2101/2 git-svn-id: svn://svn.berlios.de/openocd/trunk@296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added check for revA silicon in stm32 flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add autoprobe support to flash info command - auto_erase can now be called from script/config file git-svn-id: svn://svn.berlios.de/openocd/trunk@292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - telnet prompt behaves correctly for new synchronous
	halt/resume/reset commands - removed unused variables in tms470.c git-svn-id: svn://svn.berlios.de/openocd/trunk@290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32 flash driver now checks for correct target git-svn-id: svn://svn.berlios.de/openocd/trunk@288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to change pathmove handling

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000678.html(thanks to yvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added synchronous reset patch, Thanks yvind Harboe - added target_init_reset which calls target_process_reset after all
	drivers have been initialised git-svn-id: svn://svn.berlios.de/openocd/trunk@284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-06  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to solve problem with AT91SAM9260 (dirty register)
	(thanks to yvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added patch to stop SEGFAULT with missing jtag config lines.
	Thanks yvind Harboe

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000731.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-27  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added autoprobe functionality - corrected blocksize handling from GDB "info mem" command (thanks
	to yvind and Spen for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to check some malloc problems.  (thanks to yvind
	Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to fix crash in load_image on corrupt elf file or out
	of memory.  (thanks to yvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added example config and startup-script for a XScale IXP42x system git-svn-id: svn://svn.berlios.de/openocd/trunk@272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Synced code with branch git-svn-id: svn://svn.berlios.de/openocd/trunk@270
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Eleminated leading tabs/white space git-svn-id: svn://svn.berlios.de/openocd/trunk@267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated docs for cfi command, added missing ft2232_layout names git-svn-id: svn://svn.berlios.de/openocd/trunk@261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for cortex_m3 target_request debugmsgs - target request handler disabled by default until a target has been
	registered git-svn-id: svn://svn.berlios.de/openocd/trunk@259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed 'make distcheck' (thanks to Theodore A. Roth for this patch git-svn-id: svn://svn.berlios.de/openocd/trunk@257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - use correct SCAN_N check value (disabled by default) - add yvind Harboe to list of AUTHORS (thanks a lot to yvind for
	his hard work) git-svn-id: svn://svn.berlios.de/openocd/trunk@255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix gdb packet retransmission omission git-svn-id: svn://svn.berlios.de/openocd/trunk@253
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added faster gdb packet handling (thanks to oyvind harboe for the
	patch) - code reformat git-svn-id: svn://svn.berlios.de/openocd/trunk@251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - rename flash_init and flash_erase to flash_init_drivers and
	flash_erase_address_range - stops conflicts with redboot. Thanks
	yvind Harboe - gdb connection not dropped if we fail to allocate memory in query
	packets git-svn-id: svn://svn.berlios.de/openocd/trunk@249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for extended gdb packet R (restart), requires gdb to
	be started with target extended-remote git-svn-id: svn://svn.berlios.de/openocd/trunk@247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-21  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected working_area of LPC2129 script - added LPC2148 script - corrected size of the working_area of the LPC2294 script git-svn-id: svn://svn.berlios.de/openocd/trunk@245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed flash write_image - binary compare function has been moved
	to verify_image command - minor code reformat and cleanup - updated docs to include new commands git-svn-id: svn://svn.berlios.de/openocd/trunk@243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch by yvind Harboe to Intel Hex Start Segment Address
	Record (Type 3) - added support to parse Motorola Record Count (S5) git-svn-id: svn://svn.berlios.de/openocd/trunk@241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - only some cosmetic changes, convert \r\n to unix git-svn-id: svn://svn.berlios.de/openocd/trunk@239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to corrected argument of image_open in
	handle_flash_write_image_command (thanks to oyvind Harboe for the
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed some compiler warnings - added patch to fix problem in cfi_intel_write_block. In case of   cfi_info->write_algorithm is not NULL, target_code_size was not
	  set.  (thanks to oyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@235
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - initialize num_sectors and sectors in handle_flash_bank_command.
	(thanks to oyvind Harboe for this hint) git-svn-id: svn://svn.berlios.de/openocd/trunk@233
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added the patch CFI-BE-Fixes-Blockwrite-Support.diff (thanks to
	Carsten Schlote for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@231
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Sorry, I have forgotten to add a description for the last
	version, where I have added the clear_malloc and fill_malloc
	functionality. But the default is the original malloc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch from Dominic to unlock the ATMEL flash in
	cfi_read_atmel_pri_ext - set cfi_info->write_algorithm and cfi_info->erase_check_algorithm
	  to NULL to get "flash erase_check" command working git-svn-id: svn://svn.berlios.de/openocd/trunk@227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Stripped trailing spaces (patch preparation) git-svn-id: svn://svn.berlios.de/openocd/trunk@225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added PKGLIBDIR define to C options. Allows to store   native code fragments at a central place git-svn-id: svn://svn.berlios.de/openocd/trunk@223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Changed openocd version info creation to be more useful.  - Now displays subversion revision and svn URL git-svn-id: svn://svn.berlios.de/openocd/trunk@220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-05  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Merged rev 215 changes from /branches/xscale-ixp-be into trunk: - Obvious fixes to big endian type conversion macros - Fixed obvious typos for byte masks git-svn-id: svn://svn.berlios.de/openocd/trunk@217
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-11-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Hitex STM32 Performance Stick - added str9 and stm32 scripts to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected str91x bank1 programming issues - str91x protect_check fixed - bank number now correctly given to str91x flash_config command git-svn-id: svn://svn.berlios.de/openocd/trunk@211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - cleaned up str7, str9 and stm32 flash drivers - str7 flash driver now checks correct busy bits depending on device - str9 flash driver now disables ITCM order as per st programming
	manual - added str7 disable_jtag command - added gdb_detach command - updated arm966e cp15 support - fix crash on mingw build when enabling target_request debugmsgs git-svn-id: svn://svn.berlios.de/openocd/trunk@209
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-10  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixed display of sector sizes in flash.c - Clean up, remove unused variables and code in armv7, cortex_m3 and
	stellaris code - Move restore_context from cortex_m3 to armv7m - Updated halt handling for cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Patch by Michael Schwingen that  - adds support for the Altium universal JTAG cable  - adds support for "wiggler2" cable (basically a wiggler with added
	 LED, documentation coming soon) - adds LED support. The LED is turned on during data transfer -
	 works fine on Altium and wiggler2.  - adds PORT_EXIT pattern that is written to port when exiting, in
	 order to turn off power on cables that get their power from parallel
	 port data lines - move port writes (with the system-specific ifdefs) to one central
	function - increased image cache size to 2KB (might require more adaptive
	cache handling, e.g. LRU) git-svn-id: svn://svn.berlios.de/openocd/trunk@204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-21  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correctly initialize start address for XScale trace buffer decodes
	in fill-once mode git-svn-id: svn://svn.berlios.de/openocd/trunk@202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-20  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Support for AT91SAM7xx512 chips git-svn-id: svn://svn.berlios.de/openocd/trunk@200
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed "xscale dump_trace_buffer" to "xscale dump_trace" and
	added code for it git-svn-id: svn://svn.berlios.de/openocd/trunk@198
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed several bugs in flash writing code (thanks to Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@196
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reworked presto.c to allow use of either FTD2XX or libftdi
	(libftdi not functional yet). Configure option changed from
	--enable-presto to --enable-presto_ftd2xx and
	--enable-presto_libftdi - completed trace point support for use with ARM7/9 DCC - completed debug message output with support for HEX dumps (1, 2 or
	4 byte quantities) - fixed bug in delete_debug_msg_receiver (thanks to Pavel Chromy) - fixed bug in image_add_section (thanks to Pavel Chromy) - at91sam7 sector erase reworked (thanks to Pavel Chromy) - merge consecutive sections during flash image write to work around
	possible section alignment issues with LPC2000 targets git-svn-id: svn://svn.berlios.de/openocd/trunk@194
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - bumped version information git-svn-id: svn://svn.berlios.de/openocd/trunk@192
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed M5960 USB JTAG to "flyswatter" - make ep93xx and at91rm9200 bitbang JTAG interfaces dependant on
	ARM host (thanks to Vincent Palatin) - various whitespace fixes - removed various warnings - add support for Debian GNU/kFreeBSD (thanks to Uwe Hermann) - fix OpenOCD compilation for various platforms (thanks to Uwe
	Hermann and Vincent Palatin) - switched order of JTAG chain examination and validation (examine
	first, then multiple validation tries even if examination failed) - added target_request subsystem to handle requests from the target
	(debug messages and tracepoints implemented, future enhancements
	might include semihosting, all ARM7/9 only for now) - added support for GDB vFlashXXX packets (thanks to Pavel Chromy) - added support for receiving data via ARM7/9 DCC - reworked flash writing. the 'flash write' command is now
	deprecated and replaced by 'flash write_binary' (old syntax and
	behaviour) and 'flash write_image' (write image files (bin, hex,
	elf, s19) to a target).  - added support for AMD/ST/SST 29F400B non-cfi flashes git-svn-id: svn://svn.berlios.de/openocd/trunk@190
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - cleaned up cycle counting in ETM analysis - fixed broken OpenOCD version string git-svn-id: svn://svn.berlios.de/openocd/trunk@188
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - calculate cycles since last executed instruction when
	cycle-accurate tracing is enabled - increase memory pseudo-image cache size to 1024 byte for improved
	trace analysis performance - added OpenOCD+trace as an ETM capture driver example
	implementation - new usbprog driver (thanks to Benedikt Sauter) git-svn-id: svn://svn.berlios.de/openocd/trunk@186
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected stm32x_handle_options_write_command, incorrect options
	printed - added prepare_reset_halt handler for cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@184
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - documentation fixes (thanks to Uwe Hermann) - bootstrapping changes to accomodate packaging (thanks to Uwe
	Hermann) git-svn-id: svn://svn.berlios.de/openocd/trunk@182
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Asix Presto JTAG interface (thanks to Pavel
	Chromy and Asix for making this addition possible) - added support for usbprog (thanks to Benedikt Sauter) - make OpenOCD listen for WM_QUIT messages on windows (thanks to
	Pavel Chromy) - register at_exit handler to do necessary unregistering (thanks to
	Pavel Chromy) - added dummy ETM capture driver to allow ETM to be registered
	without a capture driver git-svn-id: svn://svn.berlios.de/openocd/trunk@180
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - ST STM32x cortex support added - ST STM32x flash support added - cleaned up armv7m and cortex-m3 support, removed luminary specific
	code - cortex-m3 16bit read/write added (required for STM32x flash
	programming) git-svn-id: svn://svn.berlios.de/openocd/trunk@177
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - str9xpec driver was using stricmp, changed to strcmp for posix
	compatibility git-svn-id: svn://svn.berlios.de/openocd/trunk@175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for pseudo image type "mem", currently only used for
	etm analysis: "etm image <target#> <dummy base address> mem" git-svn-id: svn://svn.berlios.de/openocd/trunk@173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added stellaris.[ch] missing from Cortex-M3 merge git-svn-id: svn://svn.berlios.de/openocd/trunk@171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added manpage for OpenOCD (thanks to Uwe Hermann) - fixed bug in ARM926EJ-S cache handling that caused cache linefills
	to be disabled after first debug entry - added support for auto image type detection (thanks to Vincent
	Palatin) - further work on ETM trace decoding (tested with a ETB interface
	using an ETM in normal 16-bit port mode, still experimental) git-svn-id: svn://svn.berlios.de/openocd/trunk@169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reworked image handling to support multiple sections (tested with
	ihex file containing gaps) This checkin is still experimental, not
	recommended for general use git-svn-id: svn://svn.berlios.de/openocd/trunk@159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing image handling files git-svn-id: svn://svn.berlios.de/openocd/trunk@156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : -- corrected embedded ice definitions -- changed arm966e to use
	standard arm9_7 reset handling git-svn-id: svn://svn.berlios.de/openocd/trunk@146
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Hitex comstick.  git-svn-id: svn://svn.berlios.de/openocd/trunk@144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for error handlers to JTAG scan commands
	(jtag_[plain_][ir|dr]_scan) - catch apparently broken JTAG IR scan after ARM926EJ-S CP15
	operations - added "arm7_9 dump_etb" command git-svn-id: svn://svn.berlios.de/openocd/trunk@142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allow multiple USB vendor and product ids when searching for
	connected FT2232 based JTAG interfaces (thanks to Werner Almesberger
	for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-11  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - disabled excessive debug output in jtag.h - output all of EmbeddedICE version register in error message - update OpenOCD's idea of the current core mode, and immediately
	change core mode, on CPSR changes - added support for CFI cmdset 0002 (patch by Andrew Dyer, thanks a
	lot) - enhanced CFI cmdset 0002 support to Atmel AT49 flashes (thanks to
	Joerg Krein for providing test hardware) git-svn-id: svn://svn.berlios.de/openocd/trunk@138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added "arm9tdmi vector_catch ['all'|'none'|'vec1 [vec2 [...]]']"
	command - added missing arm926ej-s cp15 patch (thanks Vincent Palatin) git-svn-id: svn://svn.berlios.de/openocd/trunk@136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed arm926 cp15 command bug (thanks to Vincent Palatin for this
	patch) - fixed compiler warnings throughout the code (thanks to Vincent
	Palatin for this patch) - added support for accessing ETB (embedded trace buffer) registers git-svn-id: svn://svn.berlios.de/openocd/trunk@134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reworked file i/o. every fileaccess (target, flash, nand, in
	future configuration, too) should now go through the fileio
	subsystem - added support for reading IHEX files (through fileio) - load/dump_binary renamed to the more generic load/dump_image
	<file> <address> ['bin'|'ihex'] - added NAND framework (preliminary) - added support for the LPC3180 SLC and MLC NAND controllers
	(preliminary) - fix initialization for parport - gw16012 fixes/cleanups - added EmbeddedICE version 7 (preliminary, reported on two LPC23xx
	devices so far) - added 'arm7_9 etm <target#>' configuration command to enable
	access to the ETM registers git-svn-id: svn://svn.berlios.de/openocd/trunk@132
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-02-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing parentheses around macro parameters (thanks to
	Matthias Bauch for noticing this bug and providing a fix) git-svn-id: svn://svn.berlios.de/openocd/trunk@130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - disabled use of single-step bit for EmbeddedICE version 6 cores git-svn-id: svn://svn.berlios.de/openocd/trunk@128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added support for ARM926EJ-S based cores - Added contributors to AUTHORS file - Added link to Joern Kaipf's OOCD-Link git-svn-id: svn://svn.berlios.de/openocd/trunk@126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for ST flashlink cable git-svn-id: svn://svn.berlios.de/openocd/trunk@123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - checked in missing configure.in changes for GW16012 support git-svn-id: svn://svn.berlios.de/openocd/trunk@117
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for the oocd-link
	(http://www.joernonline.de/dw/doku.php?id=en:projects:oocdlink) - fixed breakpoint handling (this changes the target_t interface) git-svn-id: svn://svn.berlios.de/openocd/trunk@113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - several small fixes (thanks to Magnus Lundin and Spencer Oliver) - added support for using Luminary Micro development board
	'evb_lm3s811' as a JTAG interface (thanks to Magnus Lundin) git-svn-id: svn://svn.berlios.de/openocd/trunk@106
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allow FT2232 devices to be opened by serial number instead of
	device description ('ft2232_serial <serial>' command) - redirect output from target event scripts (currently only reset)
	to the daemon output (INFO:) - some minor fixes and enhancements git-svn-id: svn://svn.berlios.de/openocd/trunk@103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed regression in gdb_server.c (Thanks to Michael Fischer for
	finding these bugs) git-svn-id: svn://svn.berlios.de/openocd/trunk@101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allow writes to second flash bank on STR71x devices (cleaned up
	sector list building) - cleaned up str7x flash erase and protect code (use two accesses to
	erase sectors in both banks) git-svn-id: svn://svn.berlios.de/openocd/trunk@98
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - free working area used to store flash write buffer git-svn-id: svn://svn.berlios.de/openocd/trunk@96
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-04  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added debug output for D/I FSR and FAR (arm920t) - fixed bug that caused CPSR to be corrupted in Thumb mode git-svn-id: svn://svn.berlios.de/openocd/trunk@93
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added missing AT91RM9200 files - bumped OpenOCD version date git-svn-id: svn://svn.berlios.de/openocd/trunk@91
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-20  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - made bp command more verbose - fixed bug that could result in register corruption on arm920t
	targets git-svn-id: svn://svn.berlios.de/openocd/trunk@89
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed jtag_interface_t.support_statemove to
	jtag_interface_t.support_pathmove (it is used to indicate
	jtag_add_pathmove support) - fixed small bug in str7x.c that printed an address instead of the
	target number in an error message - added support for Olimex ARM-USB-OCD. The new ft2232 layout is
	called "olimex-jtag" git-svn-id: svn://svn.berlios.de/openocd/trunk@87
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated configuration examples, installation instructions and
	README (including list of supported JTAG interfaces) git-svn-id: svn://svn.berlios.de/openocd/trunk@85
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-11  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for FreeBSD ppi (parallel port access similar to
	/dev/parport on linux) (thanks to Darius for this patch) - unified 'ftd2xx' and 'ftdi2232' into a single interface 'ft2232'.
	The library used to access the hardware is choosen during configure
	with --enable-ft2232_ftd2xx or --enable-ft2232-libftdi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@83
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-06  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed a minor problem with the GDB server that could drop the
	first packet (non-fatal) - fixed some small memory leaks (thanks to Spencer Oliver) - verify chip- and buswidth of cfi flash configurations - added support for ARM966E based systems (tested only with ST micro
	STR9, thanks to Spencer Oliver) git-svn-id: svn://svn.berlios.de/openocd/trunk@81
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-07-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added configurable delays after reset lines get deasserted. useful
	if reset circuitry keeps lines asserted for too long.  - additional debug output when opening the parallel port - fixed counting of available arm7/9 watchpoint units - 'flash write' now displays elapsed time git-svn-id: svn://svn.berlios.de/openocd/trunk@79
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed bug in Thumb sw breakpoint handling (thanks to Spen for this
	patch) - fixed handling of services linked list (thanks to Spen for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@76
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added "version" command (patch from John Hartman, thanks) - fixed bug in telnet history handling (patch from John Hartman,
	thanks) - OpenOCD version has been changed from SVN revision number to
	date/time git-svn-id: svn://svn.berlios.de/openocd/trunk@74
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - keep additional information for decoded instructions git-svn-id: svn://svn.berlios.de/openocd/trunk@69
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed some spelling errors (thanks to Andrew Dyer) git-svn-id: svn://svn.berlios.de/openocd/trunk@67
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

